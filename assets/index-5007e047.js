var m1=Object.defineProperty;var y1=(t,e,n)=>e in t?m1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gv=(t,e,n)=>(y1(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RP={exports:{}},Ic={},DP={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),v1=Symbol.for("react.portal"),C1=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),x1=Symbol.for("react.memo"),I1=Symbol.for("react.lazy"),mv=Symbol.iterator;function R1(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var wP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MP=Object.assign,VP={};function _o(t,e,n){this.props=t,this.context=e,this.refs=VP,this.updater=n||wP}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AP(){}AP.prototype=_o.prototype;function Zp(t,e,n){this.props=t,this.context=e,this.refs=VP,this.updater=n||wP}var _p=Zp.prototype=new AP;_p.constructor=Zp;MP(_p,_o.prototype);_p.isPureReactComponent=!0;var yv=Array.isArray,LP=Object.prototype.hasOwnProperty,eg={current:null},BP={key:!0,ref:!0,__self:!0,__source:!0};function jP(t,e,n){var r,i={},s=null,m=null;if(e!=null)for(r in e.ref!==void 0&&(m=e.ref),e.key!==void 0&&(s=""+e.key),e)LP.call(e,r)&&!BP.hasOwnProperty(r)&&(i[r]=e[r]);var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){for(var y=Array(g),P=0;P<g;P++)y[P]=arguments[P+2];i.children=y}if(t&&t.defaultProps)for(r in g=t.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:Ja,type:t,key:s,ref:m,props:i,_owner:eg.current}}function D1(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function w1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vv=/\/+/g;function id(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w1(""+t.key):e.toString(36)}function nu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var m=!1;if(t===null)m=!0;else switch(s){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case Ja:case v1:m=!0}}if(m)return m=t,i=i(m),t=r===""?"."+id(m,0):r,yv(i)?(n="",t!=null&&(n=t.replace(vv,"$&/")+"/"),nu(i,e,n,"",function(P){return P})):i!=null&&(tg(i)&&(i=D1(i,n+(!i.key||m&&m.key===i.key?"":(""+i.key).replace(vv,"$&/")+"/")+t)),e.push(i)),1;if(m=0,r=r===""?".":r+":",yv(t))for(var g=0;g<t.length;g++){s=t[g];var y=r+id(s,g);m+=nu(s,e,n,y,i)}else if(y=R1(t),typeof y=="function")for(t=y.call(t),g=0;!(s=t.next()).done;)s=s.value,y=r+id(s,g++),m+=nu(s,e,n,y,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return m}function Rl(t,e,n){if(t==null)return t;var r=[],i=0;return nu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function M1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},ru={transition:null},V1={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:ru,ReactCurrentOwner:eg};we.Children={map:Rl,forEach:function(t,e,n){Rl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rl(t,function(){e++}),e},toArray:function(t){return Rl(t,function(e){return e})||[]},only:function(t){if(!tg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=_o;we.Fragment=C1;we.Profiler=P1;we.PureComponent=Zp;we.StrictMode=E1;we.Suspense=T1;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=MP({},t.props),i=t.key,s=t.ref,m=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,m=eg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var g=t.type.defaultProps;for(y in e)LP.call(e,y)&&!BP.hasOwnProperty(y)&&(r[y]=e[y]===void 0&&g!==void 0?g[y]:e[y])}var y=arguments.length-2;if(y===1)r.children=n;else if(1<y){g=Array(y);for(var P=0;P<y;P++)g[P]=arguments[P+2];r.children=g}return{$$typeof:Ja,type:t.type,key:i,ref:s,props:r,_owner:m}};we.createContext=function(t){return t={$$typeof:O1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b1,_context:t},t.Consumer=t};we.createElement=jP;we.createFactory=function(t){var e=jP.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:S1,render:t}};we.isValidElement=tg;we.lazy=function(t){return{$$typeof:I1,_payload:{_status:-1,_result:t},_init:M1}};we.memo=function(t,e){return{$$typeof:x1,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=ru.transition;ru.transition={};try{t()}finally{ru.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return qt.current.useCallback(t,e)};we.useContext=function(t){return qt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};we.useEffect=function(t,e){return qt.current.useEffect(t,e)};we.useId=function(){return qt.current.useId()};we.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return qt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};we.useRef=function(t){return qt.current.useRef(t)};we.useState=function(t){return qt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return qt.current.useTransition()};we.version="18.2.0";DP.exports=we;var X=DP.exports;const ei=IP(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=X,L1=Symbol.for("react.element"),B1=Symbol.for("react.fragment"),j1=Object.prototype.hasOwnProperty,N1=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F1={key:!0,ref:!0,__self:!0,__source:!0};function NP(t,e,n){var r,i={},s=null,m=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(m=e.ref);for(r in e)j1.call(e,r)&&!F1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:L1,type:t,key:s,ref:m,props:i,_owner:N1.current}}Ic.Fragment=B1;Ic.jsx=NP;Ic.jsxs=NP;RP.exports=Ic;var K=RP.exports,yh={},FP={exports:{}},an={},UP={exports:{}},QP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,U){var N=L.length;L.push(U);e:for(;0<N;){var W=N-1>>>1,z=L[W];if(0<i(z,U))L[W]=U,L[N]=z,N=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],N=L.pop();if(N!==U){L[0]=N;e:for(var W=0,z=L.length,Q=z>>>1;W<Q;){var $=2*(W+1)-1,Y=L[$],q=$+1,se=L[q];if(0>i(Y,N))q<z&&0>i(se,Y)?(L[W]=se,L[q]=N,W=q):(L[W]=Y,L[$]=N,W=$);else if(q<z&&0>i(se,N))L[W]=se,L[q]=N,W=q;else break e}}return U}function i(L,U){var N=L.sortIndex-U.sortIndex;return N!==0?N:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var m=Date,g=m.now();t.unstable_now=function(){return m.now()-g}}var y=[],P=[],T=1,x=null,C=3,E=!1,v=!1,u=!1,c=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(L){for(var U=n(P);U!==null;){if(U.callback===null)r(P);else if(U.startTime<=L)r(P),U.sortIndex=U.expirationTime,e(y,U);else break;U=n(P)}}function d(L){if(u=!1,a(L),!v)if(n(y)!==null)v=!0,D(h);else{var U=n(P);U!==null&&M(d,U.startTime-L)}}function h(L,U){v=!1,u&&(u=!1,p(O),O=-1),E=!0;var N=C;try{for(a(U),x=n(y);x!==null&&(!(x.expirationTime>U)||L&&!w());){var W=x.callback;if(typeof W=="function"){x.callback=null,C=x.priorityLevel;var z=W(x.expirationTime<=U);U=t.unstable_now(),typeof z=="function"?x.callback=z:x===n(y)&&r(y),a(U)}else r(y);x=n(y)}if(x!==null)var Q=!0;else{var $=n(P);$!==null&&M(d,$.startTime-U),Q=!1}return Q}finally{x=null,C=N,E=!1}}var f=!1,l=null,O=-1,V=5,A=-1;function w(){return!(t.unstable_now()-A<V)}function S(){if(l!==null){var L=t.unstable_now();A=L;var U=!0;try{U=l(!0,L)}finally{U?R():(f=!1,l=null)}}else f=!1}var R;if(typeof o=="function")R=function(){o(S)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,b=I.port2;I.port1.onmessage=S,R=function(){b.postMessage(null)}}else R=function(){c(S,0)};function D(L){l=L,f||(f=!0,R())}function M(L,U){O=c(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||E||(v=!0,D(h))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(y)},t.unstable_next=function(L){switch(C){case 1:case 2:case 3:var U=3;break;default:U=C}var N=C;C=U;try{return L()}finally{C=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var N=C;C=L;try{return U()}finally{C=N}},t.unstable_scheduleCallback=function(L,U,N){var W=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?W+N:W):N=W,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=N+z,L={id:T++,callback:U,priorityLevel:L,startTime:N,expirationTime:z,sortIndex:-1},N>W?(L.sortIndex=N,e(P,L),n(y)===null&&L===n(P)&&(u?(p(O),O=-1):u=!0,M(d,N-W))):(L.sortIndex=z,e(y,L),v||E||(v=!0,D(h))),L},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(L){var U=C;return function(){var N=C;C=U;try{return L.apply(this,arguments)}finally{C=N}}}})(QP);UP.exports=QP;var U1=UP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP=X,nn=U1;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zP=new Set,la={};function Ui(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(la[t]=e,t=0;t<e.length;t++)zP.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vh=Object.prototype.hasOwnProperty,Q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Ev={};function W1(t){return vh.call(Ev,t)?!0:vh.call(Cv,t)?!1:Q1.test(t)?Ev[t]=!0:(Cv[t]=!0,!1)}function z1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H1(t,e,n,r){if(e===null||typeof e>"u"||z1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,s,m){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=m}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ng=/[\-:]([a-z])/g;function rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ng,rg);xt[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ng,rg);xt[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ng,rg);xt[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H1(e,n,i,r)&&(n=null),r||i===null?W1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=WP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),oo=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),HP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),KP=Symbol.for("react.offscreen"),Pv=Symbol.iterator;function Is(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,od;function js(t){if(od===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);od=e&&e[1]||""}return`
`+od+t}var sd=!1;function ad(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(P){var r=P}Reflect.construct(t,[],e)}else{try{e.call()}catch(P){r=P}t.call(e.prototype)}else{try{throw Error()}catch(P){r=P}t()}}catch(P){if(P&&r&&typeof P.stack=="string"){for(var i=P.stack.split(`
`),s=r.stack.split(`
`),m=i.length-1,g=s.length-1;1<=m&&0<=g&&i[m]!==s[g];)g--;for(;1<=m&&0<=g;m--,g--)if(i[m]!==s[g]){if(m!==1||g!==1)do if(m--,g--,0>g||i[m]!==s[g]){var y=`
`+i[m].replace(" at new "," at ");return t.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",t.displayName)),y}while(1<=m&&0<=g);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?js(t):""}function $1(t){switch(t.tag){case 5:return js(t.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 2:case 15:return t=ad(t.type,!1),t;case 11:return t=ad(t.type.render,!1),t;case 1:return t=ad(t.type,!0),t;default:return""}}function bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case oo:return"Portal";case Ch:return"Profiler";case og:return"StrictMode";case Eh:return"Suspense";case Ph:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $P:return(t.displayName||"Context")+".Consumer";case HP:return(t._context.displayName||"Context")+".Provider";case sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ag:return e=t.displayName||null,e!==null?e:bh(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return bh(t(e))}catch{}}return null}function K1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bh(e);case 8:return e===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function q1(t){var e=qP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(m){r=""+m,s.call(this,m)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(m){r=""+m},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wl(t){t._valueTracker||(t._valueTracker=q1(t))}function GP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oh(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JP(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function Sh(t,e){JP(t,e);var n=Gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,n):e.hasOwnProperty("defaultValue")&&Th(t,e.type,Gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Th(t,e,n){(e!=="number"||bu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ns=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Ns(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gr(n)}}function YP(t,e){var n=Gr(e.value),r=Gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ml,kP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G1=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(t){G1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qs[e]=qs[t]})});function ZP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qs.hasOwnProperty(t)&&qs[t]?(""+e).trim():e+"px"}function _P(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ZP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var J1=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(t,e){if(e){if(J1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mh=null,bo=null,Oo=null;function xv(t){if(t=ka(t)){if(typeof Mh!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Vc(e),Mh(t.stateNode,t.type,e))}}function eb(t){bo?Oo?Oo.push(t):Oo=[t]:bo=t}function tb(){if(bo){var t=bo,e=Oo;if(Oo=bo=null,xv(t),e)for(t=0;t<e.length;t++)xv(e[t])}}function nb(t,e){return t(e)}function rb(){}var ld=!1;function ib(t,e,n){if(ld)return t(e,n);ld=!0;try{return nb(t,e,n)}finally{ld=!1,(bo!==null||Oo!==null)&&(rb(),tb())}}function ca(t,e){var n=t.stateNode;if(n===null)return null;var r=Vc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Vh=!1;if(ir)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Vh=!1}function Y1(t,e,n,r,i,s,m,g,y){var P=Array.prototype.slice.call(arguments,3);try{e.apply(n,P)}catch(T){this.onError(T)}}var Gs=!1,Ou=null,Su=!1,Ah=null,X1={onError:function(t){Gs=!0,Ou=t}};function k1(t,e,n,r,i,s,m,g,y){Gs=!1,Ou=null,Y1.apply(X1,arguments)}function Z1(t,e,n,r,i,s,m,g,y){if(k1.apply(this,arguments),Gs){if(Gs){var P=Ou;Gs=!1,Ou=null}else throw Error(ee(198));Su||(Su=!0,Ah=P)}}function Qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ob(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Iv(t){if(Qi(t)!==t)throw Error(ee(188))}function _1(t){var e=t.alternate;if(!e){if(e=Qi(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Iv(i),t;if(s===r)return Iv(i),e;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var m=!1,g=i.child;g;){if(g===n){m=!0,n=i,r=s;break}if(g===r){m=!0,r=i,n=s;break}g=g.sibling}if(!m){for(g=s.child;g;){if(g===n){m=!0,n=s,r=i;break}if(g===r){m=!0,r=s,n=i;break}g=g.sibling}if(!m)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function sb(t){return t=_1(t),t!==null?ab(t):null}function ab(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ab(t);if(e!==null)return e;t=t.sibling}return null}var lb=nn.unstable_scheduleCallback,Rv=nn.unstable_cancelCallback,eR=nn.unstable_shouldYield,tR=nn.unstable_requestPaint,ot=nn.unstable_now,nR=nn.unstable_getCurrentPriorityLevel,ug=nn.unstable_ImmediatePriority,ub=nn.unstable_UserBlockingPriority,Tu=nn.unstable_NormalPriority,rR=nn.unstable_LowPriority,cb=nn.unstable_IdlePriority,Rc=null,Un=null;function iR(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Rc,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:aR,oR=Math.log,sR=Math.LN2;function aR(t){return t>>>=0,t===0?32:31-(oR(t)/sR|0)|0}var Vl=64,Al=4194304;function Fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,m=n&268435455;if(m!==0){var g=m&~i;g!==0?r=Fs(g):(s&=m,s!==0&&(r=Fs(s)))}else m=n&~i,m!==0?r=Fs(m):s!==0&&(r=Fs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),i=1<<n,r|=t[n],e&=~i;return r}function lR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var m=31-Rn(s),g=1<<m,y=i[m];y===-1?(!(g&n)||g&r)&&(i[m]=lR(g,e)):y<=e&&(t.expiredLanes|=g),s&=~g}}function Lh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fb(){var t=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),t}function ud(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function cR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function db(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hb,fg,pb,gb,mb,Bh=!1,Ll=[],Mr=null,Vr=null,Ar=null,fa=new Map,da=new Map,Pr=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dv(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(e.pointerId)}}function Ds(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ka(e),e!==null&&fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dR(t,e,n,r,i){switch(e){case"focusin":return Mr=Ds(Mr,t,e,n,r,i),!0;case"dragenter":return Vr=Ds(Vr,t,e,n,r,i),!0;case"mouseover":return Ar=Ds(Ar,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fa.set(s,Ds(fa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,da.set(s,Ds(da.get(s)||null,t,e,n,r,i)),!0}return!1}function yb(t){var e=gi(t.target);if(e!==null){var n=Qi(e);if(n!==null){if(e=n.tag,e===13){if(e=ob(n),e!==null){t.blockedOn=e,mb(t.priority,function(){pb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wh=r,n.target.dispatchEvent(r),wh=null}else return e=ka(n),e!==null&&fg(e),t.blockedOn=n,!1;e.shift()}return!0}function wv(t,e,n){iu(t)&&n.delete(e)}function hR(){Bh=!1,Mr!==null&&iu(Mr)&&(Mr=null),Vr!==null&&iu(Vr)&&(Vr=null),Ar!==null&&iu(Ar)&&(Ar=null),fa.forEach(wv),da.forEach(wv)}function ws(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,hR)))}function ha(t){function e(i){return ws(i,t)}if(0<Ll.length){ws(Ll[0],t);for(var n=1;n<Ll.length;n++){var r=Ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&ws(Mr,t),Vr!==null&&ws(Vr,t),Ar!==null&&ws(Ar,t),fa.forEach(e),da.forEach(e),n=0;n<Pr.length;n++)r=Pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pr.length&&(n=Pr[0],n.blockedOn===null);)yb(n),n.blockedOn===null&&Pr.shift()}var So=pr.ReactCurrentBatchConfig,Iu=!0;function pR(t,e,n,r){var i=Ne,s=So.transition;So.transition=null;try{Ne=1,dg(t,e,n,r)}finally{Ne=i,So.transition=s}}function gR(t,e,n,r){var i=Ne,s=So.transition;So.transition=null;try{Ne=4,dg(t,e,n,r)}finally{Ne=i,So.transition=s}}function dg(t,e,n,r){if(Iu){var i=jh(t,e,n,r);if(i===null)Cd(t,e,r,Ru,n),Dv(t,r);else if(dR(i,t,e,n,r))r.stopPropagation();else if(Dv(t,r),e&4&&-1<fR.indexOf(t)){for(;i!==null;){var s=ka(i);if(s!==null&&hb(s),s=jh(t,e,n,r),s===null&&Cd(t,e,r,Ru,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cd(t,e,r,null,n)}}var Ru=null;function jh(t,e,n,r){if(Ru=null,t=lg(r),t=gi(t),t!==null)if(e=Qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ob(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function vb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nR()){case ug:return 1;case ub:return 4;case Tu:case rR:return 16;case cb:return 536870912;default:return 16}default:return 16}}var Rr=null,hg=null,ou=null;function Cb(){if(ou)return ou;var t,e=hg,n=e.length,r,i="value"in Rr?Rr.value:Rr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var m=n-t;for(r=1;r<=m&&e[n-r]===i[s-r];r++);return ou=i.slice(t,1<r?1-r:void 0)}function su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function Mv(){return!1}function ln(t){function e(n,r,i,s,m){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=m,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(n=t[g],this[g]=n?n(s):s[g]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:Mv,this.isPropagationStopped=Mv,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=ln(es),Xa=et({},es,{view:0,detail:0}),mR=ln(Xa),cd,fd,Ms,Dc=et({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(cd=t.screenX-Ms.screenX,fd=t.screenY-Ms.screenY):fd=cd=0,Ms=t),cd)},movementY:function(t){return"movementY"in t?t.movementY:fd}}),Vv=ln(Dc),yR=et({},Dc,{dataTransfer:0}),vR=ln(yR),CR=et({},Xa,{relatedTarget:0}),dd=ln(CR),ER=et({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),PR=ln(ER),bR=et({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OR=ln(bR),SR=et({},es,{data:0}),Av=ln(SR),TR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IR[t])?!!e[t]:!1}function gg(){return RR}var DR=et({},Xa,{key:function(t){if(t.key){var e=TR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gg,charCode:function(t){return t.type==="keypress"?su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wR=ln(DR),MR=et({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=ln(MR),VR=et({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gg}),AR=ln(VR),LR=et({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),BR=ln(LR),jR=et({},Dc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NR=ln(jR),FR=[9,13,27,32],mg=ir&&"CompositionEvent"in window,Js=null;ir&&"documentMode"in document&&(Js=document.documentMode);var UR=ir&&"TextEvent"in window&&!Js,Eb=ir&&(!mg||Js&&8<Js&&11>=Js),Bv=String.fromCharCode(32),jv=!1;function Pb(t,e){switch(t){case"keyup":return FR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function QR(t,e){switch(t){case"compositionend":return bb(e);case"keypress":return e.which!==32?null:(jv=!0,Bv);case"textInput":return t=e.data,t===Bv&&jv?null:t;default:return null}}function WR(t,e){if(ao)return t==="compositionend"||!mg&&Pb(t,e)?(t=Cb(),ou=hg=Rr=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Eb&&e.locale!=="ko"?null:e.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zR[t.type]:e==="textarea"}function Ob(t,e,n,r){eb(r),e=Du(e,"onChange"),0<e.length&&(n=new pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ys=null,pa=null;function HR(t){Lb(t,0)}function wc(t){var e=co(t);if(GP(e))return t}function $R(t,e){if(t==="change")return e}var Sb=!1;if(ir){var hd;if(ir){var pd="oninput"in document;if(!pd){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),pd=typeof Fv.oninput=="function"}hd=pd}else hd=!1;Sb=hd&&(!document.documentMode||9<document.documentMode)}function Uv(){Ys&&(Ys.detachEvent("onpropertychange",Tb),pa=Ys=null)}function Tb(t){if(t.propertyName==="value"&&wc(pa)){var e=[];Ob(e,pa,t,lg(t)),ib(HR,e)}}function KR(t,e,n){t==="focusin"?(Uv(),Ys=e,pa=n,Ys.attachEvent("onpropertychange",Tb)):t==="focusout"&&Uv()}function qR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wc(pa)}function GR(t,e){if(t==="click")return wc(e)}function JR(t,e){if(t==="input"||t==="change")return wc(e)}function YR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:YR;function ga(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vh.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function Qv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wv(t,e){var n=Qv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qv(n)}}function xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ib(){for(var t=window,e=bu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bu(t.document)}return e}function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XR(t){var e=Ib(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xb(n.ownerDocument.documentElement,n)){if(r!==null&&yg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wv(n,s);var m=Wv(n,r);i&&m&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(m.node,m.offset)):(e.setEnd(m.node,m.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kR=ir&&"documentMode"in document&&11>=document.documentMode,lo=null,Nh=null,Xs=null,Fh=!1;function zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fh||lo==null||lo!==bu(r)||(r=lo,"selectionStart"in r&&yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xs&&ga(Xs,r)||(Xs=r,r=Du(Nh,"onSelect"),0<r.length&&(e=new pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},gd={},Rb={};ir&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Mc(t){if(gd[t])return gd[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rb)return gd[t]=e[n];return t}var Db=Mc("animationend"),wb=Mc("animationiteration"),Mb=Mc("animationstart"),Vb=Mc("transitionend"),Ab=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){Ab.set(t,e),Ui(e,[t])}for(var md=0;md<Hv.length;md++){var yd=Hv[md],ZR=yd.toLowerCase(),_R=yd[0].toUpperCase()+yd.slice(1);ti(ZR,"on"+_R)}ti(Db,"onAnimationEnd");ti(wb,"onAnimationIteration");ti(Mb,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(Vb,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function $v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Z1(r,e,void 0,t),t.currentTarget=null}function Lb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var m=r.length-1;0<=m;m--){var g=r[m],y=g.instance,P=g.currentTarget;if(g=g.listener,y!==s&&i.isPropagationStopped())break e;$v(i,g,P),s=y}else for(m=0;m<r.length;m++){if(g=r[m],y=g.instance,P=g.currentTarget,g=g.listener,y!==s&&i.isPropagationStopped())break e;$v(i,g,P),s=y}}}if(Su)throw t=Ah,Su=!1,Ah=null,t}function He(t,e){var n=e[Hh];n===void 0&&(n=e[Hh]=new Set);var r=t+"__bubble";n.has(r)||(Bb(e,t,2,!1),n.add(r))}function vd(t,e,n){var r=0;e&&(r|=4),Bb(n,t,r,e)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[Nl]){t[Nl]=!0,zP.forEach(function(n){n!=="selectionchange"&&(eD.has(n)||vd(n,!1,t),vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nl]||(e[Nl]=!0,vd("selectionchange",!1,e))}}function Bb(t,e,n,r){switch(vb(e)){case 1:var i=pR;break;case 4:i=gR;break;default:i=dg}n=i.bind(null,e,n,t),i=void 0,!Vh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(m===4)for(m=r.return;m!==null;){var y=m.tag;if((y===3||y===4)&&(y=m.stateNode.containerInfo,y===i||y.nodeType===8&&y.parentNode===i))return;m=m.return}for(;g!==null;){if(m=gi(g),m===null)return;if(y=m.tag,y===5||y===6){r=s=m;continue e}g=g.parentNode}}r=r.return}ib(function(){var P=s,T=lg(n),x=[];e:{var C=Ab.get(t);if(C!==void 0){var E=pg,v=t;switch(t){case"keypress":if(su(n)===0)break e;case"keydown":case"keyup":E=wR;break;case"focusin":v="focus",E=dd;break;case"focusout":v="blur",E=dd;break;case"beforeblur":case"afterblur":E=dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=vR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=AR;break;case Db:case wb:case Mb:E=PR;break;case Vb:E=BR;break;case"scroll":E=mR;break;case"wheel":E=NR;break;case"copy":case"cut":case"paste":E=OR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Lv}var u=(e&4)!==0,c=!u&&t==="scroll",p=u?C!==null?C+"Capture":null:C;u=[];for(var o=P,a;o!==null;){a=o;var d=a.stateNode;if(a.tag===5&&d!==null&&(a=d,p!==null&&(d=ca(o,p),d!=null&&u.push(ya(o,d,a)))),c)break;o=o.return}0<u.length&&(C=new E(C,v,null,n,T),x.push({event:C,listeners:u}))}}if(!(e&7)){e:{if(C=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",C&&n!==wh&&(v=n.relatedTarget||n.fromElement)&&(gi(v)||v[or]))break e;if((E||C)&&(C=T.window===T?T:(C=T.ownerDocument)?C.defaultView||C.parentWindow:window,E?(v=n.relatedTarget||n.toElement,E=P,v=v?gi(v):null,v!==null&&(c=Qi(v),v!==c||v.tag!==5&&v.tag!==6)&&(v=null)):(E=null,v=P),E!==v)){if(u=Vv,d="onMouseLeave",p="onMouseEnter",o="mouse",(t==="pointerout"||t==="pointerover")&&(u=Lv,d="onPointerLeave",p="onPointerEnter",o="pointer"),c=E==null?C:co(E),a=v==null?C:co(v),C=new u(d,o+"leave",E,n,T),C.target=c,C.relatedTarget=a,d=null,gi(T)===P&&(u=new u(p,o+"enter",v,n,T),u.target=a,u.relatedTarget=c,d=u),c=d,E&&v)t:{for(u=E,p=v,o=0,a=u;a;a=no(a))o++;for(a=0,d=p;d;d=no(d))a++;for(;0<o-a;)u=no(u),o--;for(;0<a-o;)p=no(p),a--;for(;o--;){if(u===p||p!==null&&u===p.alternate)break t;u=no(u),p=no(p)}u=null}else u=null;E!==null&&Kv(x,C,E,u,!1),v!==null&&c!==null&&Kv(x,c,v,u,!0)}}e:{if(C=P?co(P):window,E=C.nodeName&&C.nodeName.toLowerCase(),E==="select"||E==="input"&&C.type==="file")var h=$R;else if(Nv(C))if(Sb)h=JR;else{h=qR;var f=KR}else(E=C.nodeName)&&E.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(h=GR);if(h&&(h=h(t,P))){Ob(x,h,n,T);break e}f&&f(t,C,P),t==="focusout"&&(f=C._wrapperState)&&f.controlled&&C.type==="number"&&Th(C,"number",C.value)}switch(f=P?co(P):window,t){case"focusin":(Nv(f)||f.contentEditable==="true")&&(lo=f,Nh=P,Xs=null);break;case"focusout":Xs=Nh=lo=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,zv(x,n,T);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":zv(x,n,T)}var l;if(mg)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ao?Pb(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Eb&&n.locale!=="ko"&&(ao||O!=="onCompositionStart"?O==="onCompositionEnd"&&ao&&(l=Cb()):(Rr=T,hg="value"in Rr?Rr.value:Rr.textContent,ao=!0)),f=Du(P,O),0<f.length&&(O=new Av(O,t,null,n,T),x.push({event:O,listeners:f}),l?O.data=l:(l=bb(n),l!==null&&(O.data=l)))),(l=UR?QR(t,n):WR(t,n))&&(P=Du(P,"onBeforeInput"),0<P.length&&(T=new Av("onBeforeInput","beforeinput",null,n,T),x.push({event:T,listeners:P}),T.data=l))}Lb(x,e)})}function ya(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ca(t,n),s!=null&&r.unshift(ya(t,s,i)),s=ca(t,e),s!=null&&r.push(ya(t,s,i))),t=t.return}return r}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kv(t,e,n,r,i){for(var s=e._reactName,m=[];n!==null&&n!==r;){var g=n,y=g.alternate,P=g.stateNode;if(y!==null&&y===r)break;g.tag===5&&P!==null&&(g=P,i?(y=ca(n,s),y!=null&&m.unshift(ya(n,y,g))):i||(y=ca(n,s),y!=null&&m.push(ya(n,y,g)))),n=n.return}m.length!==0&&t.push({event:e,listeners:m})}var tD=/\r\n?/g,nD=/\u0000|\uFFFD/g;function qv(t){return(typeof t=="string"?t:""+t).replace(tD,`
`).replace(nD,"")}function Fl(t,e,n){if(e=qv(e),qv(t)!==e&&n)throw Error(ee(425))}function wu(){}var Uh=null,Qh=null;function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,rD=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,iD=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(oD)}:zh;function oD(t){setTimeout(function(){throw t})}function Ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ha(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ha(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ts=Math.random().toString(36).slice(2),jn="__reactFiber$"+ts,va="__reactProps$"+ts,or="__reactContainer$"+ts,Hh="__reactEvents$"+ts,sD="__reactListeners$"+ts,aD="__reactHandles$"+ts;function gi(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[or]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jv(t);t!==null;){if(n=t[jn])return n;t=Jv(t)}return e}t=n,n=t.parentNode}return null}function ka(t){return t=t[jn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Vc(t){return t[va]||null}var $h=[],fo=-1;function ni(t){return{current:t}}function $e(t){0>fo||(t.current=$h[fo],$h[fo]=null,fo--)}function We(t,e){fo++,$h[fo]=t.current,t.current=e}var Jr={},Ft=ni(Jr),Xt=ni(!1),xi=Jr;function Lo(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function Mu(){$e(Xt),$e(Ft)}function Yv(t,e,n){if(Ft.current!==Jr)throw Error(ee(168));We(Ft,e),We(Xt,n)}function jb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,K1(t)||"Unknown",i));return et({},n,r)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,xi=Ft.current,We(Ft,t),We(Xt,Xt.current),!0}function Xv(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=jb(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,$e(Xt),$e(Ft),We(Ft,t)):$e(Xt),We(Xt,n)}var Xn=null,Ac=!1,Pd=!1;function Nb(t){Xn===null?Xn=[t]:Xn.push(t)}function lD(t){Ac=!0,Nb(t)}function ri(){if(!Pd&&Xn!==null){Pd=!0;var t=0,e=Ne;try{var n=Xn;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xn=null,Ac=!1}catch(i){throw Xn!==null&&(Xn=Xn.slice(t+1)),lb(ug,ri),i}finally{Ne=e,Pd=!1}}return null}var ho=[],po=0,Au=null,Lu=0,fn=[],dn=0,Ii=null,kn=1,Zn="";function fi(t,e){ho[po++]=Lu,ho[po++]=Au,Au=t,Lu=e}function Fb(t,e,n){fn[dn++]=kn,fn[dn++]=Zn,fn[dn++]=Ii,Ii=t;var r=kn;t=Zn;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var s=32-Rn(e)+i;if(30<s){var m=i-i%5;s=(r&(1<<m)-1).toString(32),r>>=m,i-=m,kn=1<<32-Rn(e)+i|n<<i|r,Zn=s+t}else kn=1<<s|n<<i|r,Zn=t}function vg(t){t.return!==null&&(fi(t,1),Fb(t,1,0))}function Cg(t){for(;t===Au;)Au=ho[--po],ho[po]=null,Lu=ho[--po],ho[po]=null;for(;t===Ii;)Ii=fn[--dn],fn[dn]=null,Zn=fn[--dn],fn[dn]=null,kn=fn[--dn],fn[dn]=null}var tn=null,en=null,Je=!1,Tn=null;function Ub(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,en=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:kn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,en=null,!0):!1;default:return!1}}function Kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qh(t){if(Je){var e=en;if(e){var n=e;if(!kv(t,e)){if(Kh(t))throw Error(ee(418));e=Lr(n.nextSibling);var r=tn;e&&kv(t,e)?Ub(r,n):(t.flags=t.flags&-4097|2,Je=!1,tn=t)}}else{if(Kh(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Je=!1,tn=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ul(t){if(t!==tn)return!1;if(!Je)return Zv(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wh(t.type,t.memoizedProps)),e&&(e=en)){if(Kh(t))throw Qb(),Error(ee(418));for(;e;)Ub(t,e),e=Lr(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=tn?Lr(t.stateNode.nextSibling):null;return!0}function Qb(){for(var t=en;t;)t=Lr(t.nextSibling)}function Bo(){en=tn=null,Je=!1}function Eg(t){Tn===null?Tn=[t]:Tn.push(t)}var uD=pr.ReactCurrentBatchConfig;function On(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bu=ni(null),ju=null,go=null,Pg=null;function bg(){Pg=go=ju=null}function Og(t){var e=Bu.current;$e(Bu),t._currentValue=e}function Gh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){ju=t,Pg=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Pg!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(ju===null)throw Error(ee(308));go=t,ju.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var mi=null;function Sg(t){mi===null?mi=[t]:mi.push(t)}function Wb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sg(e)):(n.next=i.next,i.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sr(t,n)}return i=r.interleaved,i===null?(e.next=e,Sg(r)):(e.next=i.next,i.next=e),r.interleaved=e,sr(t,n)}function au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cg(t,n)}}function _v(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=m:s=s.next=m,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nu(t,e,n,r){var i=t.updateQueue;Er=!1;var s=i.firstBaseUpdate,m=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var y=g,P=y.next;y.next=null,m===null?s=P:m.next=P,m=y;var T=t.alternate;T!==null&&(T=T.updateQueue,g=T.lastBaseUpdate,g!==m&&(g===null?T.firstBaseUpdate=P:g.next=P,T.lastBaseUpdate=y))}if(s!==null){var x=i.baseState;m=0,T=P=y=null,g=s;do{var C=g.lane,E=g.eventTime;if((r&C)===C){T!==null&&(T=T.next={eventTime:E,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var v=t,u=g;switch(C=e,E=n,u.tag){case 1:if(v=u.payload,typeof v=="function"){x=v.call(E,x,C);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=u.payload,C=typeof v=="function"?v.call(E,x,C):v,C==null)break e;x=et({},x,C);break e;case 2:Er=!0}}g.callback!==null&&g.lane!==0&&(t.flags|=64,C=i.effects,C===null?i.effects=[g]:C.push(g))}else E={eventTime:E,lane:C,tag:g.tag,payload:g.payload,callback:g.callback,next:null},T===null?(P=T=E,y=x):T=T.next=E,m|=C;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;C=g,g=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(1);if(T===null&&(y=x),i.baseState=y,i.firstBaseUpdate=P,i.lastBaseUpdate=T,e=i.shared.interleaved,e!==null){i=e;do m|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Di|=m,t.lanes=m,t.memoizedState=x}}function eC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Hb=new WP.Component().refs;function Jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lc={isMounted:function(t){return(t=t._reactInternals)?Qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Nr(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Br(t,s,i),e!==null&&(Dn(e,t,i,r),au(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Nr(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Br(t,s,i),e!==null&&(Dn(e,t,i,r),au(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Nr(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Br(t,i,r),e!==null&&(Dn(e,t,r,n),au(e,t,r))}};function tC(t,e,n,r,i,s,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,m):e.prototype&&e.prototype.isPureReactComponent?!ga(n,r)||!ga(i,s):!0}function $b(t,e,n){var r=!1,i=Jr,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=kt(e)?xi:Ft.current,r=e.contextTypes,s=(r=r!=null)?Lo(t,i):Jr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function Yh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Hb,Tg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=kt(e)?xi:Ft.current,i.context=Lo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lc.enqueueReplaceState(i,i.state,null),Nu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(m){var g=i.refs;g===Hb&&(g=i.refs={}),m===null?delete g[s]:g[s]=m},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Ql(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rC(t){var e=t._init;return e(t._payload)}function Kb(t){function e(p,o){if(t){var a=p.deletions;a===null?(p.deletions=[o],p.flags|=16):a.push(o)}}function n(p,o){if(!t)return null;for(;o!==null;)e(p,o),o=o.sibling;return null}function r(p,o){for(p=new Map;o!==null;)o.key!==null?p.set(o.key,o):p.set(o.index,o),o=o.sibling;return p}function i(p,o){return p=Fr(p,o),p.index=0,p.sibling=null,p}function s(p,o,a){return p.index=a,t?(a=p.alternate,a!==null?(a=a.index,a<o?(p.flags|=2,o):a):(p.flags|=2,o)):(p.flags|=1048576,o)}function m(p){return t&&p.alternate===null&&(p.flags|=2),p}function g(p,o,a,d){return o===null||o.tag!==6?(o=Rd(a,p.mode,d),o.return=p,o):(o=i(o,a),o.return=p,o)}function y(p,o,a,d){var h=a.type;return h===so?T(p,o,a.props.children,d,a.key):o!==null&&(o.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===Cr&&rC(h)===o.type)?(d=i(o,a.props),d.ref=Vs(p,o,a),d.return=p,d):(d=hu(a.type,a.key,a.props,null,p.mode,d),d.ref=Vs(p,o,a),d.return=p,d)}function P(p,o,a,d){return o===null||o.tag!==4||o.stateNode.containerInfo!==a.containerInfo||o.stateNode.implementation!==a.implementation?(o=Dd(a,p.mode,d),o.return=p,o):(o=i(o,a.children||[]),o.return=p,o)}function T(p,o,a,d,h){return o===null||o.tag!==7?(o=bi(a,p.mode,d,h),o.return=p,o):(o=i(o,a),o.return=p,o)}function x(p,o,a){if(typeof o=="string"&&o!==""||typeof o=="number")return o=Rd(""+o,p.mode,a),o.return=p,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case Dl:return a=hu(o.type,o.key,o.props,null,p.mode,a),a.ref=Vs(p,null,o),a.return=p,a;case oo:return o=Dd(o,p.mode,a),o.return=p,o;case Cr:var d=o._init;return x(p,d(o._payload),a)}if(Ns(o)||Is(o))return o=bi(o,p.mode,a,null),o.return=p,o;Ql(p,o)}return null}function C(p,o,a,d){var h=o!==null?o.key:null;if(typeof a=="string"&&a!==""||typeof a=="number")return h!==null?null:g(p,o,""+a,d);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Dl:return a.key===h?y(p,o,a,d):null;case oo:return a.key===h?P(p,o,a,d):null;case Cr:return h=a._init,C(p,o,h(a._payload),d)}if(Ns(a)||Is(a))return h!==null?null:T(p,o,a,d,null);Ql(p,a)}return null}function E(p,o,a,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return p=p.get(a)||null,g(o,p,""+d,h);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Dl:return p=p.get(d.key===null?a:d.key)||null,y(o,p,d,h);case oo:return p=p.get(d.key===null?a:d.key)||null,P(o,p,d,h);case Cr:var f=d._init;return E(p,o,a,f(d._payload),h)}if(Ns(d)||Is(d))return p=p.get(a)||null,T(o,p,d,h,null);Ql(o,d)}return null}function v(p,o,a,d){for(var h=null,f=null,l=o,O=o=0,V=null;l!==null&&O<a.length;O++){l.index>O?(V=l,l=null):V=l.sibling;var A=C(p,l,a[O],d);if(A===null){l===null&&(l=V);break}t&&l&&A.alternate===null&&e(p,l),o=s(A,o,O),f===null?h=A:f.sibling=A,f=A,l=V}if(O===a.length)return n(p,l),Je&&fi(p,O),h;if(l===null){for(;O<a.length;O++)l=x(p,a[O],d),l!==null&&(o=s(l,o,O),f===null?h=l:f.sibling=l,f=l);return Je&&fi(p,O),h}for(l=r(p,l);O<a.length;O++)V=E(l,p,O,a[O],d),V!==null&&(t&&V.alternate!==null&&l.delete(V.key===null?O:V.key),o=s(V,o,O),f===null?h=V:f.sibling=V,f=V);return t&&l.forEach(function(w){return e(p,w)}),Je&&fi(p,O),h}function u(p,o,a,d){var h=Is(a);if(typeof h!="function")throw Error(ee(150));if(a=h.call(a),a==null)throw Error(ee(151));for(var f=h=null,l=o,O=o=0,V=null,A=a.next();l!==null&&!A.done;O++,A=a.next()){l.index>O?(V=l,l=null):V=l.sibling;var w=C(p,l,A.value,d);if(w===null){l===null&&(l=V);break}t&&l&&w.alternate===null&&e(p,l),o=s(w,o,O),f===null?h=w:f.sibling=w,f=w,l=V}if(A.done)return n(p,l),Je&&fi(p,O),h;if(l===null){for(;!A.done;O++,A=a.next())A=x(p,A.value,d),A!==null&&(o=s(A,o,O),f===null?h=A:f.sibling=A,f=A);return Je&&fi(p,O),h}for(l=r(p,l);!A.done;O++,A=a.next())A=E(l,p,O,A.value,d),A!==null&&(t&&A.alternate!==null&&l.delete(A.key===null?O:A.key),o=s(A,o,O),f===null?h=A:f.sibling=A,f=A);return t&&l.forEach(function(S){return e(p,S)}),Je&&fi(p,O),h}function c(p,o,a,d){if(typeof a=="object"&&a!==null&&a.type===so&&a.key===null&&(a=a.props.children),typeof a=="object"&&a!==null){switch(a.$$typeof){case Dl:e:{for(var h=a.key,f=o;f!==null;){if(f.key===h){if(h=a.type,h===so){if(f.tag===7){n(p,f.sibling),o=i(f,a.props.children),o.return=p,p=o;break e}}else if(f.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===Cr&&rC(h)===f.type){n(p,f.sibling),o=i(f,a.props),o.ref=Vs(p,f,a),o.return=p,p=o;break e}n(p,f);break}else e(p,f);f=f.sibling}a.type===so?(o=bi(a.props.children,p.mode,d,a.key),o.return=p,p=o):(d=hu(a.type,a.key,a.props,null,p.mode,d),d.ref=Vs(p,o,a),d.return=p,p=d)}return m(p);case oo:e:{for(f=a.key;o!==null;){if(o.key===f)if(o.tag===4&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(p,o.sibling),o=i(o,a.children||[]),o.return=p,p=o;break e}else{n(p,o);break}else e(p,o);o=o.sibling}o=Dd(a,p.mode,d),o.return=p,p=o}return m(p);case Cr:return f=a._init,c(p,o,f(a._payload),d)}if(Ns(a))return v(p,o,a,d);if(Is(a))return u(p,o,a,d);Ql(p,a)}return typeof a=="string"&&a!==""||typeof a=="number"?(a=""+a,o!==null&&o.tag===6?(n(p,o.sibling),o=i(o,a),o.return=p,p=o):(n(p,o),o=Rd(a,p.mode,d),o.return=p,p=o),m(p)):n(p,o)}return c}var jo=Kb(!0),qb=Kb(!1),Za={},Qn=ni(Za),Ca=ni(Za),Ea=ni(Za);function yi(t){if(t===Za)throw Error(ee(174));return t}function xg(t,e){switch(We(Ea,e),We(Ca,t),We(Qn,Za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ih(e,t)}$e(Qn),We(Qn,e)}function No(){$e(Qn),$e(Ca),$e(Ea)}function Gb(t){yi(Ea.current);var e=yi(Qn.current),n=Ih(e,t.type);e!==n&&(We(Ca,t),We(Qn,n))}function Ig(t){Ca.current===t&&($e(Qn),$e(Ca))}var Ze=ni(0);function Fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bd=[];function Rg(){for(var t=0;t<bd.length;t++)bd[t]._workInProgressVersionPrimary=null;bd.length=0}var lu=pr.ReactCurrentDispatcher,Od=pr.ReactCurrentBatchConfig,Ri=0,_e=null,ft=null,vt=null,Uu=!1,ks=!1,Pa=0,cD=0;function Rt(){throw Error(ee(321))}function Dg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function wg(t,e,n,r,i,s){if(Ri=s,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lu.current=t===null||t.memoizedState===null?pD:gD,t=n(r,i),ks){s=0;do{if(ks=!1,Pa=0,25<=s)throw Error(ee(301));s+=1,vt=ft=null,e.updateQueue=null,lu.current=mD,t=n(r,i)}while(ks)}if(lu.current=Qu,e=ft!==null&&ft.next!==null,Ri=0,vt=ft=_e=null,Uu=!1,e)throw Error(ee(300));return t}function Mg(){var t=Pa!==0;return Pa=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?_e.memoizedState=vt=t:vt=vt.next=t,vt}function vn(){if(ft===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?_e.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(ee(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?_e.memoizedState=vt=t:vt=vt.next=t}return vt}function ba(t,e){return typeof e=="function"?e(t):e}function Sd(t){var e=vn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var m=i.next;i.next=s.next,s.next=m}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var g=m=null,y=null,P=s;do{var T=P.lane;if((Ri&T)===T)y!==null&&(y=y.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),r=P.hasEagerState?P.eagerState:t(r,P.action);else{var x={lane:T,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};y===null?(g=y=x,m=r):y=y.next=x,_e.lanes|=T,Di|=T}P=P.next}while(P!==null&&P!==s);y===null?m=r:y.next=g,wn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=m,e.baseQueue=y,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_e.lanes|=s,Di|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=vn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var m=i=i.next;do s=t(s,m.action),m=m.next;while(m!==i);wn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Jb(){}function Yb(t,e){var n=_e,r=vn(),i=e(),s=!wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,Vg(Zb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Oa(9,kb.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(ee(349));Ri&30||Xb(n,e,i)}return i}function Xb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kb(t,e,n,r){e.value=n,e.getSnapshot=r,_b(e)&&eO(t)}function Zb(t,e,n){return n(function(){_b(e)&&eO(t)})}function _b(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function eO(t){var e=sr(t,1);e!==null&&Dn(e,t,1,-1)}function iC(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},e.queue=t,t=t.dispatch=hD.bind(null,_e,t),[e.memoizedState,t]}function Oa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tO(){return vn().memoizedState}function uu(t,e,n,r){var i=Bn();_e.flags|=t,i.memoizedState=Oa(1|e,n,void 0,r===void 0?null:r)}function Bc(t,e,n,r){var i=vn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var m=ft.memoizedState;if(s=m.destroy,r!==null&&Dg(r,m.deps)){i.memoizedState=Oa(e,n,s,r);return}}_e.flags|=t,i.memoizedState=Oa(1|e,n,s,r)}function oC(t,e){return uu(8390656,8,t,e)}function Vg(t,e){return Bc(2048,8,t,e)}function nO(t,e){return Bc(4,2,t,e)}function rO(t,e){return Bc(4,4,t,e)}function iO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oO(t,e,n){return n=n!=null?n.concat([t]):null,Bc(4,4,iO.bind(null,e,t),n)}function Ag(){}function sO(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aO(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lO(t,e,n){return Ri&21?(wn(n,e)||(n=fb(),_e.lanes|=n,Di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function fD(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Od.transition;Od.transition={};try{t(!1),e()}finally{Ne=n,Od.transition=r}}function uO(){return vn().memoizedState}function dD(t,e,n){var r=Nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cO(t))fO(e,n);else if(n=Wb(t,e,n,r),n!==null){var i=Kt();Dn(n,t,r,i),dO(n,e,r)}}function hD(t,e,n){var r=Nr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cO(t))fO(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var m=e.lastRenderedState,g=s(m,n);if(i.hasEagerState=!0,i.eagerState=g,wn(g,m)){var y=e.interleaved;y===null?(i.next=i,Sg(e)):(i.next=y.next,y.next=i),e.interleaved=i;return}}catch{}finally{}n=Wb(t,e,i,r),n!==null&&(i=Kt(),Dn(n,t,r,i),dO(n,e,r))}}function cO(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function fO(t,e){ks=Uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cg(t,n)}}var Qu={readContext:yn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},pD={readContext:yn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:oC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4194308,4,iO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dD.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:iC,useDebugValue:Ag,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=iC(!1),e=t[0];return t=fD.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=Bn();if(Je){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Ct===null)throw Error(ee(349));Ri&30||Xb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,oC(Zb.bind(null,r,s,t),[t]),r.flags|=2048,Oa(9,kb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bn(),e=Ct.identifierPrefix;if(Je){var n=Zn,r=kn;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gD={readContext:yn,useCallback:sO,useContext:yn,useEffect:Vg,useImperativeHandle:oO,useInsertionEffect:nO,useLayoutEffect:rO,useMemo:aO,useReducer:Sd,useRef:tO,useState:function(){return Sd(ba)},useDebugValue:Ag,useDeferredValue:function(t){var e=vn();return lO(e,ft.memoizedState,t)},useTransition:function(){var t=Sd(ba)[0],e=vn().memoizedState;return[t,e]},useMutableSource:Jb,useSyncExternalStore:Yb,useId:uO,unstable_isNewReconciler:!1},mD={readContext:yn,useCallback:sO,useContext:yn,useEffect:Vg,useImperativeHandle:oO,useInsertionEffect:nO,useLayoutEffect:rO,useMemo:aO,useReducer:Td,useRef:tO,useState:function(){return Td(ba)},useDebugValue:Ag,useDeferredValue:function(t){var e=vn();return ft===null?e.memoizedState=t:lO(e,ft.memoizedState,t)},useTransition:function(){var t=Td(ba)[0],e=vn().memoizedState;return[t,e]},useMutableSource:Jb,useSyncExternalStore:Yb,useId:uO,unstable_isNewReconciler:!1};function Fo(t,e){try{var n="",r=e;do n+=$1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yD=typeof WeakMap=="function"?WeakMap:Map;function hO(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zu||(zu=!0,sp=r),Xh(t,e)},n}function pO(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xh(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var m=e.stack;this.componentDidCatch(e.value,{componentStack:m!==null?m:""})}),n}function sC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MD.bind(null,t,e,n),e.then(t,t))}function aC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var vD=pr.ReactCurrentOwner,Yt=!1;function Ht(t,e,n,r){e.child=t===null?qb(e,null,n,r):jo(e,t.child,n,r)}function uC(t,e,n,r,i){n=n.render;var s=e.ref;return To(e,i),r=wg(t,e,n,r,s,i),n=Mg(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Je&&n&&vg(e),e.flags|=1,Ht(t,e,r,i),e.child)}function cC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gO(t,e,s,r,i)):(t=hu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var m=s.memoizedProps;if(n=n.compare,n=n!==null?n:ga,n(m,r)&&t.ref===e.ref)return ar(t,e,i)}return e.flags|=1,t=Fr(s,r),t.ref=e.ref,t.return=e,e.child=t}function gO(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ga(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,ar(t,e,i)}return kh(t,e,n,r,i)}function mO(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(yo,_t),_t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(yo,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,We(yo,_t),_t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,We(yo,_t),_t|=r;return Ht(t,e,i,n),e.child}function yO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kh(t,e,n,r,i){var s=kt(n)?xi:Ft.current;return s=Lo(e,s),To(e,i),n=wg(t,e,n,r,s,i),r=Mg(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Je&&r&&vg(e),e.flags|=1,Ht(t,e,n,i),e.child)}function fC(t,e,n,r,i){if(kt(n)){var s=!0;Vu(e)}else s=!1;if(To(e,i),e.stateNode===null)cu(t,e),$b(e,n,r),Yh(e,n,r,i),r=!0;else if(t===null){var m=e.stateNode,g=e.memoizedProps;m.props=g;var y=m.context,P=n.contextType;typeof P=="object"&&P!==null?P=yn(P):(P=kt(n)?xi:Ft.current,P=Lo(e,P));var T=n.getDerivedStateFromProps,x=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function";x||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(g!==r||y!==P)&&nC(e,m,r,P),Er=!1;var C=e.memoizedState;m.state=C,Nu(e,r,m,i),y=e.memoizedState,g!==r||C!==y||Xt.current||Er?(typeof T=="function"&&(Jh(e,n,T,r),y=e.memoizedState),(g=Er||tC(e,n,g,r,C,y,P))?(x||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(e.flags|=4194308)):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=y),m.props=r,m.state=y,m.context=P,r=g):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{m=e.stateNode,zb(t,e),g=e.memoizedProps,P=e.type===e.elementType?g:On(e.type,g),m.props=P,x=e.pendingProps,C=m.context,y=n.contextType,typeof y=="object"&&y!==null?y=yn(y):(y=kt(n)?xi:Ft.current,y=Lo(e,y));var E=n.getDerivedStateFromProps;(T=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(g!==x||C!==y)&&nC(e,m,r,y),Er=!1,C=e.memoizedState,m.state=C,Nu(e,r,m,i);var v=e.memoizedState;g!==x||C!==v||Xt.current||Er?(typeof E=="function"&&(Jh(e,n,E,r),v=e.memoizedState),(P=Er||tC(e,n,P,r,C,v,y)||!1)?(T||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,v,y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,v,y)),typeof m.componentDidUpdate=="function"&&(e.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof m.componentDidUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),m.props=r,m.state=v,m.context=y,r=P):(typeof m.componentDidUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),r=!1)}return Zh(t,e,n,r,s,i)}function Zh(t,e,n,r,i,s){yO(t,e);var m=(e.flags&128)!==0;if(!r&&!m)return i&&Xv(e,n,!1),ar(t,e,s);r=e.stateNode,vD.current=e;var g=m&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&m?(e.child=jo(e,t.child,null,s),e.child=jo(e,null,g,s)):Ht(t,e,g,s),e.memoizedState=r.state,i&&Xv(e,n,!0),e.child}function vO(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),xg(t,e.containerInfo)}function dC(t,e,n,r,i){return Bo(),Eg(i),e.flags|=256,Ht(t,e,n,r),e.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function ep(t){return{baseLanes:t,cachePool:null,transitions:null}}function CO(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,m=(e.flags&128)!==0,g;if((g=m)||(g=t!==null&&t.memoizedState===null?!1:(i&2)!==0),g?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(Ze,i&1),t===null)return qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(m=r.children,t=r.fallback,s?(r=e.mode,s=e.child,m={mode:"hidden",children:m},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=m):s=Fc(m,r,0,null),t=bi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ep(n),e.memoizedState=_h,t):Lg(e,m));if(i=t.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return CD(t,e,m,r,g,i,n);if(s){s=r.fallback,m=e.mode,i=t.child,g=i.sibling;var y={mode:"hidden",children:r.children};return!(m&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=y,e.deletions=null):(r=Fr(i,y),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?s=Fr(g,s):(s=bi(s,m,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,m=t.child.memoizedState,m=m===null?ep(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},s.memoizedState=m,s.childLanes=t.childLanes&~n,e.memoizedState=_h,r}return s=t.child,t=s.sibling,r=Fr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lg(t,e){return e=Fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wl(t,e,n,r){return r!==null&&Eg(r),jo(e,t.child,null,n),t=Lg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CD(t,e,n,r,i,s,m){if(n)return e.flags&256?(e.flags&=-257,r=xd(Error(ee(422))),Wl(t,e,m,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fc({mode:"visible",children:r.children},i,0,null),s=bi(s,i,m,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&jo(e,t.child,null,m),e.child.memoizedState=ep(m),e.memoizedState=_h,s);if(!(e.mode&1))return Wl(t,e,m,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,s=Error(ee(419)),r=xd(s,r,void 0),Wl(t,e,m,r)}if(g=(m&t.childLanes)!==0,Yt||g){if(r=Ct,r!==null){switch(m&-m){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|m)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sr(t,i),Dn(r,t,i,-1))}return Qg(),r=xd(Error(ee(421))),Wl(t,e,m,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=Lr(i.nextSibling),tn=e,Je=!0,Tn=null,t!==null&&(fn[dn++]=kn,fn[dn++]=Zn,fn[dn++]=Ii,kn=t.id,Zn=t.overflow,Ii=e),e=Lg(e,r.children),e.flags|=4096,e)}function hC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gh(t.return,e,n)}function Id(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EO(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hC(t,n,e);else if(t.tag===19)hC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Id(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Id(e,!0,n,null,s);break;case"together":Id(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ED(t,e,n){switch(e.tag){case 3:vO(e),Bo();break;case 5:Gb(e);break;case 1:kt(e.type)&&Vu(e);break;case 4:xg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(Bu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?CO(t,e,n):(We(Ze,Ze.current&1),t=ar(t,e,n),t!==null?t.sibling:null);We(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,mO(t,e,n)}return ar(t,e,n)}var PO,tp,bO,OO;PO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tp=function(){};bO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(Qn.current);var s=null;switch(n){case"input":i=Oh(t,i),r=Oh(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=xh(t,i),r=xh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wu)}Rh(n,r);var m;n=null;for(P in i)if(!r.hasOwnProperty(P)&&i.hasOwnProperty(P)&&i[P]!=null)if(P==="style"){var g=i[P];for(m in g)g.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(la.hasOwnProperty(P)?s||(s=[]):(s=s||[]).push(P,null));for(P in r){var y=r[P];if(g=i!=null?i[P]:void 0,r.hasOwnProperty(P)&&y!==g&&(y!=null||g!=null))if(P==="style")if(g){for(m in g)!g.hasOwnProperty(m)||y&&y.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in y)y.hasOwnProperty(m)&&g[m]!==y[m]&&(n||(n={}),n[m]=y[m])}else n||(s||(s=[]),s.push(P,n)),n=y;else P==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(s=s||[]).push(P,y)):P==="children"?typeof y!="string"&&typeof y!="number"||(s=s||[]).push(P,""+y):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(la.hasOwnProperty(P)?(y!=null&&P==="onScroll"&&He("scroll",t),s||g===y||(s=[])):(s=s||[]).push(P,y))}n&&(s=s||[]).push("style",n);var P=s;(e.updateQueue=P)&&(e.flags|=4)}};OO=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PD(t,e,n){var r=e.pendingProps;switch(Cg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return kt(e.type)&&Mu(),Dt(e),null;case 3:return r=e.stateNode,No(),$e(Xt),$e(Ft),Rg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ul(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(up(Tn),Tn=null))),tp(t,e),Dt(e),null;case 5:Ig(e);var i=yi(Ea.current);if(n=e.type,t!==null&&e.stateNode!=null)bO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Dt(e),null}if(t=yi(Qn.current),Ul(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[va]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Us.length;i++)He(Us[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":bv(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Sv(r,s),He("invalid",r)}Rh(n,s),i=null;for(var m in s)if(s.hasOwnProperty(m)){var g=s[m];m==="children"?typeof g=="string"?r.textContent!==g&&(s.suppressHydrationWarning!==!0&&Fl(r.textContent,g,t),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(s.suppressHydrationWarning!==!0&&Fl(r.textContent,g,t),i=["children",""+g]):la.hasOwnProperty(m)&&g!=null&&m==="onScroll"&&He("scroll",r)}switch(n){case"input":wl(r),Ov(r,s,!0);break;case"textarea":wl(r),Tv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{m=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=m.createElement(n,{is:r.is}):(t=m.createElement(n),n==="select"&&(m=t,r.multiple?m.multiple=!0:r.size&&(m.size=r.size))):t=m.createElementNS(t,n),t[jn]=e,t[va]=r,PO(t,e,!1,!1),e.stateNode=t;e:{switch(m=Dh(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Us.length;i++)He(Us[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":bv(t,r),i=Oh(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),He("invalid",t);break;case"textarea":Sv(t,r),i=xh(t,r),He("invalid",t);break;default:i=r}Rh(n,i),g=i;for(s in g)if(g.hasOwnProperty(s)){var y=g[s];s==="style"?_P(t,y):s==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&kP(t,y)):s==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&ua(t,y):typeof y=="number"&&ua(t,""+y):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(la.hasOwnProperty(s)?y!=null&&s==="onScroll"&&He("scroll",t):y!=null&&ig(t,s,y,m))}switch(n){case"input":wl(t),Ov(t,r,!1);break;case"textarea":wl(t),Tv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Po(t,!!r.multiple,s,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)OO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=yi(Ea.current),yi(Qn.current),Ul(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Fl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Dt(e),null;case 13:if($e(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&en!==null&&e.mode&1&&!(e.flags&128))Qb(),Bo(),e.flags|=98560,s=!1;else if(s=Ul(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[jn]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Tn!==null&&(up(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?ht===0&&(ht=3):Qg())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return No(),tp(t,e),t===null&&ma(e.stateNode.containerInfo),Dt(e),null;case 10:return Og(e.type._context),Dt(e),null;case 17:return kt(e.type)&&Mu(),Dt(e),null;case 19:if($e(Ze),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,m=s.rendering,m===null)if(r)As(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(m=Fu(t),m!==null){for(e.flags|=128,As(s,!1),r=m.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,m=s.alternate,m===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,t=m.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Uo&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fu(m),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Je)return Dt(e),null}else 2*ot()-s.renderingStartTime>Uo&&n!==1073741824&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304);s.isBackwards?(m.sibling=e.child,e.child=m):(n=s.last,n!==null?n.sibling=m:e.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Ze.current,We(Ze,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Ug(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_t&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function bD(t,e){switch(Cg(e),e.tag){case 1:return kt(e.type)&&Mu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),$e(Xt),$e(Ft),Rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ig(e),null;case 13:if($e(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ze),null;case 4:return No(),null;case 10:return Og(e.type._context),null;case 22:case 23:return Ug(),null;case 24:return null;default:return null}}var zl=!1,At=!1,OD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function np(t,e,n){try{n()}catch(r){nt(t,e,r)}}var pC=!1;function SD(t,e){if(Uh=Iu,t=Ib(),yg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var m=0,g=-1,y=-1,P=0,T=0,x=t,C=null;t:for(;;){for(var E;x!==n||i!==0&&x.nodeType!==3||(g=m+i),x!==s||r!==0&&x.nodeType!==3||(y=m+r),x.nodeType===3&&(m+=x.nodeValue.length),(E=x.firstChild)!==null;)C=x,x=E;for(;;){if(x===t)break t;if(C===n&&++P===i&&(g=m),C===s&&++T===r&&(y=m),(E=x.nextSibling)!==null)break;x=C,C=x.parentNode}x=E}n=g===-1||y===-1?null:{start:g,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qh={focusedElem:t,selectionRange:n},Iu=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var u=v.memoizedProps,c=v.memoizedState,p=e.stateNode,o=p.getSnapshotBeforeUpdate(e.elementType===e.type?u:On(e.type,u),c);p.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var a=e.stateNode.containerInfo;a.nodeType===1?a.textContent="":a.nodeType===9&&a.documentElement&&a.removeChild(a.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(d){nt(e,e.return,d)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=pC,pC=!1,v}function Zs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&np(e,n,s)}i=i.next}while(i!==r)}}function jc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SO(t){var e=t.alternate;e!==null&&(t.alternate=null,SO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[va],delete e[Hh],delete e[sD],delete e[aD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TO(t){return t.tag===5||t.tag===3||t.tag===4}function gC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}var bt=null,Sn=!1;function yr(t,e,n){for(n=n.child;n!==null;)xO(t,e,n),n=n.sibling}function xO(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Rc,n)}catch{}switch(n.tag){case 5:At||mo(n,e);case 6:var r=bt,i=Sn;bt=null,yr(t,e,n),bt=r,Sn=i,bt!==null&&(Sn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Sn?(t=bt,n=n.stateNode,t.nodeType===8?Ed(t.parentNode,n):t.nodeType===1&&Ed(t,n),ha(t)):Ed(bt,n.stateNode));break;case 4:r=bt,i=Sn,bt=n.stateNode.containerInfo,Sn=!0,yr(t,e,n),bt=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,m=s.destroy;s=s.tag,m!==void 0&&(s&2||s&4)&&np(n,e,m),i=i.next}while(i!==r)}yr(t,e,n);break;case 1:if(!At&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){nt(n,e,g)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,yr(t,e,n),At=r):yr(t,e,n);break;default:yr(t,e,n)}}function mC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OD),e.forEach(function(r){var i=AD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,m=e,g=m;e:for(;g!==null;){switch(g.tag){case 5:bt=g.stateNode,Sn=!1;break e;case 3:bt=g.stateNode.containerInfo,Sn=!0;break e;case 4:bt=g.stateNode.containerInfo,Sn=!0;break e}g=g.return}if(bt===null)throw Error(ee(160));xO(s,m,i),bt=null,Sn=!1;var y=i.alternate;y!==null&&(y.return=null),i.return=null}catch(P){nt(i,e,P)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IO(e,t),e=e.sibling}function IO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Ln(t),r&4){try{Zs(3,t,t.return),jc(3,t)}catch(u){nt(t,t.return,u)}try{Zs(5,t,t.return)}catch(u){nt(t,t.return,u)}}break;case 1:bn(e,t),Ln(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(bn(e,t),Ln(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var i=t.stateNode;try{ua(i,"")}catch(u){nt(t,t.return,u)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,m=n!==null?n.memoizedProps:s,g=t.type,y=t.updateQueue;if(t.updateQueue=null,y!==null)try{g==="input"&&s.type==="radio"&&s.name!=null&&JP(i,s),Dh(g,m);var P=Dh(g,s);for(m=0;m<y.length;m+=2){var T=y[m],x=y[m+1];T==="style"?_P(i,x):T==="dangerouslySetInnerHTML"?kP(i,x):T==="children"?ua(i,x):ig(i,T,x,P)}switch(g){case"input":Sh(i,s);break;case"textarea":YP(i,s);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Po(i,!!s.multiple,E,!1):C!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[va]=s}catch(u){nt(t,t.return,u)}}break;case 6:if(bn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(u){nt(t,t.return,u)}}break;case 3:if(bn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(e.containerInfo)}catch(u){nt(t,t.return,u)}break;case 4:bn(e,t),Ln(t);break;case 13:bn(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ng=ot())),r&4&&mC(t);break;case 22:if(T=n!==null&&n.memoizedState!==null,t.mode&1?(At=(P=At)||T,bn(e,t),At=P):bn(e,t),Ln(t),r&8192){if(P=t.memoizedState!==null,(t.stateNode.isHidden=P)&&!T&&t.mode&1)for(ue=t,T=t.child;T!==null;){for(x=ue=T;ue!==null;){switch(C=ue,E=C.child,C.tag){case 0:case 11:case 14:case 15:Zs(4,C,C.return);break;case 1:mo(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){r=C,n=C.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(u){nt(r,n,u)}}break;case 5:mo(C,C.return);break;case 22:if(C.memoizedState!==null){vC(x);continue}}E!==null?(E.return=C,ue=E):vC(x)}T=T.sibling}e:for(T=null,x=t;;){if(x.tag===5){if(T===null){T=x;try{i=x.stateNode,P?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(g=x.stateNode,y=x.memoizedProps.style,m=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=ZP("display",m))}catch(u){nt(t,t.return,u)}}}else if(x.tag===6){if(T===null)try{x.stateNode.nodeValue=P?"":x.memoizedProps}catch(u){nt(t,t.return,u)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;T===x&&(T=null),x=x.return}T===x&&(T=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:bn(e,t),Ln(t),r&4&&mC(t);break;case 21:break;default:bn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TO(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ua(i,""),r.flags&=-33);var s=gC(t);op(t,s,i);break;case 3:case 4:var m=r.stateNode.containerInfo,g=gC(t);ip(t,g,m);break;default:throw Error(ee(161))}}catch(y){nt(t,t.return,y)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TD(t,e,n){ue=t,RO(t)}function RO(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var m=i.memoizedState!==null||zl;if(!m){var g=i.alternate,y=g!==null&&g.memoizedState!==null||At;g=zl;var P=At;if(zl=m,(At=y)&&!P)for(ue=i;ue!==null;)m=ue,y=m.child,m.tag===22&&m.memoizedState!==null?CC(i):y!==null?(y.return=m,ue=y):CC(i);for(;s!==null;)ue=s,RO(s),s=s.sibling;ue=i,zl=g,At=P}yC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):yC(t)}}function yC(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||jc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&eC(e,s,r);break;case 3:var m=e.updateQueue;if(m!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}eC(e,m,n)}break;case 5:var g=e.stateNode;if(n===null&&e.flags&4){n=g;var y=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var P=e.alternate;if(P!==null){var T=P.memoizedState;if(T!==null){var x=T.dehydrated;x!==null&&ha(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}At||e.flags&512&&rp(e)}catch(C){nt(e,e.return,C)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function vC(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function CC(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jc(4,e)}catch(y){nt(e,n,y)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(y){nt(e,i,y)}}var s=e.return;try{rp(e)}catch(y){nt(e,s,y)}break;case 5:var m=e.return;try{rp(e)}catch(y){nt(e,m,y)}}}catch(y){nt(e,e.return,y)}if(e===t){ue=null;break}var g=e.sibling;if(g!==null){g.return=e.return,ue=g;break}ue=e.return}}var xD=Math.ceil,Wu=pr.ReactCurrentDispatcher,Bg=pr.ReactCurrentOwner,gn=pr.ReactCurrentBatchConfig,Ve=0,Ct=null,lt=null,St=0,_t=0,yo=ni(0),ht=0,Sa=null,Di=0,Nc=0,jg=0,_s=null,Jt=null,Ng=0,Uo=1/0,Yn=null,zu=!1,sp=null,jr=null,Hl=!1,Dr=null,Hu=0,ea=0,ap=null,fu=-1,du=0;function Kt(){return Ve&6?ot():fu!==-1?fu:fu=ot()}function Nr(t){return t.mode&1?Ve&2&&St!==0?St&-St:uD.transition!==null?(du===0&&(du=fb()),du):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:vb(t.type)),t):1}function Dn(t,e,n,r){if(50<ea)throw ea=0,ap=null,Error(ee(185));Ya(t,n,r),(!(Ve&2)||t!==Ct)&&(t===Ct&&(!(Ve&2)&&(Nc|=n),ht===4&&br(t,St)),Zt(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Uo=ot()+500,Ac&&ri()))}function Zt(t,e){var n=t.callbackNode;uR(t,e);var r=xu(t,t===Ct?St:0);if(r===0)n!==null&&Rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rv(n),e===1)t.tag===0?lD(EC.bind(null,t)):Nb(EC.bind(null,t)),iD(function(){!(Ve&6)&&ri()}),n=null;else{switch(db(r)){case 1:n=ug;break;case 4:n=ub;break;case 16:n=Tu;break;case 536870912:n=cb;break;default:n=Tu}n=jO(n,DO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DO(t,e){if(fu=-1,du=0,Ve&6)throw Error(ee(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=xu(t,t===Ct?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$u(t,r);else{e=r;var i=Ve;Ve|=2;var s=MO();(Ct!==t||St!==e)&&(Yn=null,Uo=ot()+500,Pi(t,e));do try{DD();break}catch(g){wO(t,g)}while(1);bg(),Wu.current=s,Ve=i,lt!==null?e=0:(Ct=null,St=0,e=ht)}if(e!==0){if(e===2&&(i=Lh(t),i!==0&&(r=i,e=lp(t,i))),e===1)throw n=Sa,Pi(t,0),br(t,r),Zt(t,ot()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!ID(i)&&(e=$u(t,r),e===2&&(s=Lh(t),s!==0&&(r=s,e=lp(t,s))),e===1))throw n=Sa,Pi(t,0),br(t,r),Zt(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:di(t,Jt,Yn);break;case 3:if(br(t,r),(r&130023424)===r&&(e=Ng+500-ot(),10<e)){if(xu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zh(di.bind(null,t,Jt,Yn),e);break}di(t,Jt,Yn);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var m=31-Rn(r);s=1<<m,m=e[m],m>i&&(i=m),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xD(r/1960))-r,10<r){t.timeoutHandle=zh(di.bind(null,t,Jt,Yn),r);break}di(t,Jt,Yn);break;case 5:di(t,Jt,Yn);break;default:throw Error(ee(329))}}}return Zt(t,ot()),t.callbackNode===n?DO.bind(null,t):null}function lp(t,e){var n=_s;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=$u(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&up(e)),t}function up(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function ID(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~jg,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function EC(t){if(Ve&6)throw Error(ee(327));xo();var e=xu(t,0);if(!(e&1))return Zt(t,ot()),null;var n=$u(t,e);if(t.tag!==0&&n===2){var r=Lh(t);r!==0&&(e=r,n=lp(t,r))}if(n===1)throw n=Sa,Pi(t,0),br(t,e),Zt(t,ot()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Jt,Yn),Zt(t,ot()),null}function Fg(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Uo=ot()+500,Ac&&ri())}}function wi(t){Dr!==null&&Dr.tag===0&&!(Ve&6)&&xo();var e=Ve;Ve|=1;var n=gn.transition,r=Ne;try{if(gn.transition=null,Ne=1,t)return t()}finally{Ne=r,gn.transition=n,Ve=e,!(Ve&6)&&ri()}}function Ug(){_t=yo.current,$e(yo)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rD(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mu();break;case 3:No(),$e(Xt),$e(Ft),Rg();break;case 5:Ig(r);break;case 4:No();break;case 13:$e(Ze);break;case 19:$e(Ze);break;case 10:Og(r.type._context);break;case 22:case 23:Ug()}n=n.return}if(Ct=t,lt=t=Fr(t.current,null),St=_t=e,ht=0,Sa=null,jg=Nc=Di=0,Jt=_s=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var m=s.next;s.next=i,r.next=m}n.pending=r}mi=null}return t}function wO(t,e){do{var n=lt;try{if(bg(),lu.current=Qu,Uu){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uu=!1}if(Ri=0,vt=ft=_e=null,ks=!1,Pa=0,Bg.current=null,n===null||n.return===null){ht=1,Sa=e,lt=null;break}e:{var s=t,m=n.return,g=n,y=e;if(e=St,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var P=y,T=g,x=T.tag;if(!(T.mode&1)&&(x===0||x===11||x===15)){var C=T.alternate;C?(T.updateQueue=C.updateQueue,T.memoizedState=C.memoizedState,T.lanes=C.lanes):(T.updateQueue=null,T.memoizedState=null)}var E=aC(m);if(E!==null){E.flags&=-257,lC(E,m,g,s,e),E.mode&1&&sC(s,P,e),e=E,y=P;var v=e.updateQueue;if(v===null){var u=new Set;u.add(y),e.updateQueue=u}else v.add(y);break e}else{if(!(e&1)){sC(s,P,e),Qg();break e}y=Error(ee(426))}}else if(Je&&g.mode&1){var c=aC(m);if(c!==null){!(c.flags&65536)&&(c.flags|=256),lC(c,m,g,s,e),Eg(Fo(y,g));break e}}s=y=Fo(y,g),ht!==4&&(ht=2),_s===null?_s=[s]:_s.push(s),s=m;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=hO(s,y,e);_v(s,p);break e;case 1:g=y;var o=s.type,a=s.stateNode;if(!(s.flags&128)&&(typeof o.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(jr===null||!jr.has(a)))){s.flags|=65536,e&=-e,s.lanes|=e;var d=pO(s,g,e);_v(s,d);break e}}s=s.return}while(s!==null)}AO(n)}catch(h){e=h,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(1)}function MO(){var t=Wu.current;return Wu.current=Qu,t===null?Qu:t}function Qg(){(ht===0||ht===3||ht===2)&&(ht=4),Ct===null||!(Di&268435455)&&!(Nc&268435455)||br(Ct,St)}function $u(t,e){var n=Ve;Ve|=2;var r=MO();(Ct!==t||St!==e)&&(Yn=null,Pi(t,e));do try{RD();break}catch(i){wO(t,i)}while(1);if(bg(),Ve=n,Wu.current=r,lt!==null)throw Error(ee(261));return Ct=null,St=0,ht}function RD(){for(;lt!==null;)VO(lt)}function DD(){for(;lt!==null&&!eR();)VO(lt)}function VO(t){var e=BO(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?AO(t):lt=e,Bg.current=null}function AO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bD(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,lt=null;return}}else if(n=PD(n,e,_t),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ht===0&&(ht=5)}function di(t,e,n){var r=Ne,i=gn.transition;try{gn.transition=null,Ne=1,wD(t,e,n,r)}finally{gn.transition=i,Ne=r}return null}function wD(t,e,n,r){do xo();while(Dr!==null);if(Ve&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cR(t,s),t===Ct&&(lt=Ct=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,jO(Tu,function(){return xo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var m=Ne;Ne=1;var g=Ve;Ve|=4,Bg.current=null,SD(t,n),IO(n,t),XR(Qh),Iu=!!Uh,Qh=Uh=null,t.current=n,TD(n),tR(),Ve=g,Ne=m,gn.transition=s}else t.current=n;if(Hl&&(Hl=!1,Dr=t,Hu=i),s=t.pendingLanes,s===0&&(jr=null),iR(n.stateNode),Zt(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,t=sp,sp=null,t;return Hu&1&&t.tag!==0&&xo(),s=t.pendingLanes,s&1?t===ap?ea++:(ea=0,ap=t):ea=0,ri(),null}function xo(){if(Dr!==null){var t=db(Hu),e=gn.transition,n=Ne;try{if(gn.transition=null,Ne=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,Hu=0,Ve&6)throw Error(ee(331));var i=Ve;for(Ve|=4,ue=t.current;ue!==null;){var s=ue,m=s.child;if(ue.flags&16){var g=s.deletions;if(g!==null){for(var y=0;y<g.length;y++){var P=g[y];for(ue=P;ue!==null;){var T=ue;switch(T.tag){case 0:case 11:case 15:Zs(8,T,s)}var x=T.child;if(x!==null)x.return=T,ue=x;else for(;ue!==null;){T=ue;var C=T.sibling,E=T.return;if(SO(T),T===P){ue=null;break}if(C!==null){C.return=E,ue=C;break}ue=E}}}var v=s.alternate;if(v!==null){var u=v.child;if(u!==null){v.child=null;do{var c=u.sibling;u.sibling=null,u=c}while(u!==null)}}ue=s}}if(s.subtreeFlags&2064&&m!==null)m.return=s,ue=m;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zs(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,ue=p;break e}ue=s.return}}var o=t.current;for(ue=o;ue!==null;){m=ue;var a=m.child;if(m.subtreeFlags&2064&&a!==null)a.return=m,ue=a;else e:for(m=o;ue!==null;){if(g=ue,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:jc(9,g)}}catch(h){nt(g,g.return,h)}if(g===m){ue=null;break e}var d=g.sibling;if(d!==null){d.return=g.return,ue=d;break e}ue=g.return}}if(Ve=i,ri(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Rc,t)}catch{}r=!0}return r}finally{Ne=n,gn.transition=e}}return!1}function PC(t,e,n){e=Fo(n,e),e=hO(t,e,1),t=Br(t,e,1),e=Kt(),t!==null&&(Ya(t,1,e),Zt(t,e))}function nt(t,e,n){if(t.tag===3)PC(t,t,n);else for(;e!==null;){if(e.tag===3){PC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=Fo(n,t),t=pO(e,t,1),e=Br(e,t,1),t=Kt(),e!==null&&(Ya(e,1,t),Zt(e,t));break}}e=e.return}}function MD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(St&n)===n&&(ht===4||ht===3&&(St&130023424)===St&&500>ot()-Ng?Pi(t,0):jg|=n),Zt(t,e)}function LO(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=Kt();t=sr(t,e),t!==null&&(Ya(t,e,n),Zt(t,n))}function VD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LO(t,n)}function AD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),LO(t,n)}var BO;BO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,ED(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Je&&e.flags&1048576&&Fb(e,Lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cu(t,e),t=e.pendingProps;var i=Lo(e,Ft.current);To(e,n),i=wg(null,e,r,t,i,n);var s=Mg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,Vu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tg(e),i.updater=Lc,e.stateNode=i,i._reactInternals=e,Yh(e,r,t,n),e=Zh(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&vg(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BD(r),t=On(r,t),i){case 0:e=kh(null,e,r,t,n);break e;case 1:e=fC(null,e,r,t,n);break e;case 11:e=uC(null,e,r,t,n);break e;case 14:e=cC(null,e,r,On(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),kh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),fC(t,e,r,i,n);case 3:e:{if(vO(e),t===null)throw Error(ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zb(t,e),Nu(e,r,null,n);var m=e.memoizedState;if(r=m.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fo(Error(ee(423)),e),e=dC(t,e,r,n,i);break e}else if(r!==i){i=Fo(Error(ee(424)),e),e=dC(t,e,r,n,i);break e}else for(en=Lr(e.stateNode.containerInfo.firstChild),tn=e,Je=!0,Tn=null,n=qb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===i){e=ar(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return Gb(e),t===null&&qh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,m=i.children,Wh(r,i)?m=null:s!==null&&Wh(r,s)&&(e.flags|=32),yO(t,e),Ht(t,e,m,n),e.child;case 6:return t===null&&qh(e),null;case 13:return CO(t,e,n);case 4:return xg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),uC(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,m=i.value,We(Bu,r._currentValue),r._currentValue=m,s!==null)if(wn(s.value,m)){if(s.children===i.children&&!Xt.current){e=ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var g=s.dependencies;if(g!==null){m=s.child;for(var y=g.firstContext;y!==null;){if(y.context===r){if(s.tag===1){y=nr(-1,n&-n),y.tag=2;var P=s.updateQueue;if(P!==null){P=P.shared;var T=P.pending;T===null?y.next=y:(y.next=T.next,T.next=y),P.pending=y}}s.lanes|=n,y=s.alternate,y!==null&&(y.lanes|=n),Gh(s.return,n,e),g.lanes|=n;break}y=y.next}}else if(s.tag===10)m=s.type===e.type?null:s.child;else if(s.tag===18){if(m=s.return,m===null)throw Error(ee(341));m.lanes|=n,g=m.alternate,g!==null&&(g.lanes|=n),Gh(m,n,e),m=s.sibling}else m=s.child;if(m!==null)m.return=s;else for(m=s;m!==null;){if(m===e){m=null;break}if(s=m.sibling,s!==null){s.return=m.return,m=s;break}m=m.return}s=m}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),i=yn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),cC(t,e,r,i,n);case 15:return gO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),cu(t,e),e.tag=1,kt(r)?(t=!0,Vu(e)):t=!1,To(e,n),$b(e,r,i),Yh(e,r,i,n),Zh(null,e,r,!0,t,n);case 19:return EO(t,e,n);case 22:return mO(t,e,n)}throw Error(ee(156,e.tag))};function jO(t,e){return lb(t,e)}function LD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new LD(t,e,n,r)}function Wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BD(t){if(typeof t=="function")return Wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sg)return 11;if(t===ag)return 14}return 2}function Fr(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hu(t,e,n,r,i,s){var m=2;if(r=t,typeof t=="function")Wg(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case so:return bi(n.children,i,s,e);case og:m=8,i|=8;break;case Ch:return t=pn(12,n,e,i|2),t.elementType=Ch,t.lanes=s,t;case Eh:return t=pn(13,n,e,i),t.elementType=Eh,t.lanes=s,t;case Ph:return t=pn(19,n,e,i),t.elementType=Ph,t.lanes=s,t;case KP:return Fc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HP:m=10;break e;case $P:m=9;break e;case sg:m=11;break e;case ag:m=14;break e;case Cr:m=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=pn(m,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bi(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function Fc(t,e,n,r){return t=pn(22,t,r,e),t.elementType=KP,t.lanes=n,t.stateNode={isHidden:!1},t}function Rd(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function Dd(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zg(t,e,n,r,i,s,m,g,y){return t=new jD(t,e,n,g,y),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(s),t}function ND(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NO(t){if(!t)return Jr;t=t._reactInternals;e:{if(Qi(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(kt(n))return jb(t,n,e)}return e}function FO(t,e,n,r,i,s,m,g,y){return t=zg(n,r,!0,t,i,s,m,g,y),t.context=NO(null),n=t.current,r=Kt(),i=Nr(n),s=nr(r,i),s.callback=e??null,Br(n,s,i),t.current.lanes=i,Ya(t,i,r),Zt(t,r),t}function Uc(t,e,n,r){var i=e.current,s=Kt(),m=Nr(i);return n=NO(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,m),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(i,e,m),t!==null&&(Dn(t,i,m,s),au(t,i,m)),m}function Ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hg(t,e){bC(t,e),(t=t.alternate)&&bC(t,e)}function FD(){return null}var UO=typeof reportError=="function"?reportError:function(t){console.error(t)};function $g(t){this._internalRoot=t}Qc.prototype.render=$g.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Uc(t,e,null,null)};Qc.prototype.unmount=$g.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wi(function(){Uc(null,t,null,null)}),e[or]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=gb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pr.length&&e!==0&&e<Pr[n].priority;n++);Pr.splice(n,0,t),n===0&&yb(t)}};function Kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OC(){}function UD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var P=Ku(m);s.call(P)}}var m=FO(e,r,t,0,null,!1,!1,"",OC);return t._reactRootContainer=m,t[or]=m.current,ma(t.nodeType===8?t.parentNode:t),wi(),m}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var P=Ku(y);g.call(P)}}var y=zg(t,0,!1,null,null,!1,!1,"",OC);return t._reactRootContainer=y,t[or]=y.current,ma(t.nodeType===8?t.parentNode:t),wi(function(){Uc(e,y,n,r)}),y}function zc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var m=s;if(typeof i=="function"){var g=i;i=function(){var y=Ku(m);g.call(y)}}Uc(e,m,t,i)}else m=UD(n,e,t,i,r);return Ku(m)}hb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fs(e.pendingLanes);n!==0&&(cg(e,n|1),Zt(e,ot()),!(Ve&6)&&(Uo=ot()+500,ri()))}break;case 13:wi(function(){var r=sr(t,1);if(r!==null){var i=Kt();Dn(r,t,1,i)}}),Hg(t,1)}};fg=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=Kt();Dn(e,t,134217728,n)}Hg(t,134217728)}};pb=function(t){if(t.tag===13){var e=Nr(t),n=sr(t,e);if(n!==null){var r=Kt();Dn(n,t,e,r)}Hg(t,e)}};gb=function(){return Ne};mb=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Mh=function(t,e,n){switch(e){case"input":if(Sh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vc(r);if(!i)throw Error(ee(90));GP(r),Sh(r,i)}}}break;case"textarea":YP(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};nb=Fg;rb=wi;var QD={usingClientEntryPoint:!1,Events:[ka,co,Vc,eb,tb,Fg]},Ls={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WD={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sb(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||FD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Rc=$l.inject(WD),Un=$l}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QD;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(e))throw Error(ee(200));return ND(t,e,null,n)};an.createRoot=function(t,e){if(!Kg(t))throw Error(ee(299));var n=!1,r="",i=UO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zg(t,1,!1,null,null,n,!1,r,i),t[or]=e.current,ma(t.nodeType===8?t.parentNode:t),new $g(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=sb(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return wi(t)};an.hydrate=function(t,e,n){if(!Wc(e))throw Error(ee(200));return zc(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!Kg(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",m=UO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),e=FO(e,null,t,1,n??null,i,!1,s,m),t[or]=e.current,ma(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qc(e)};an.render=function(t,e,n){if(!Wc(e))throw Error(ee(200));return zc(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(ee(40));return t._reactRootContainer?(wi(function(){zc(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};an.unstable_batchedUpdates=Fg;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wc(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return zc(t,e,n,!1,r)};an.version="18.2.0-next-9e3b772b8-20220608";function QO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QO)}catch(t){console.error(t)}}QO(),FP.exports=an;var qg=FP.exports,SC=qg;yh.createRoot=SC.createRoot,yh.hydrateRoot=SC.hydrateRoot;/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}var wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wr||(wr={}));const TC="popstate";function zD(t){t===void 0&&(t={});function e(i,s){let{pathname:m="/",search:g="",hash:y=""}=Wi(i.location.hash.substr(1));return cp("",{pathname:m,search:g,hash:y},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let m=i.document.querySelector("base"),g="";if(m&&m.getAttribute("href")){let y=i.location.href,P=y.indexOf("#");g=P===-1?y:y.slice(0,P)}return g+"#"+(typeof s=="string"?s:qu(s))}function r(i,s){Hc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return $D(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HD(){return Math.random().toString(36).substr(2,8)}function xC(t,e){return{usr:t.state,key:t.key,idx:e}}function cp(t,e,n,r){return n===void 0&&(n=null),Ta({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:n,key:e&&e.key||r||HD()})}function qu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $D(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,m=i.history,g=wr.Pop,y=null,P=T();P==null&&(P=0,m.replaceState(Ta({},m.state,{idx:P}),""));function T(){return(m.state||{idx:null}).idx}function x(){g=wr.Pop;let c=T(),p=c==null?null:c-P;P=c,y&&y({action:g,location:u.location,delta:p})}function C(c,p){g=wr.Push;let o=cp(u.location,c,p);n&&n(o,c),P=T()+1;let a=xC(o,P),d=u.createHref(o);try{m.pushState(a,"",d)}catch{i.location.assign(d)}s&&y&&y({action:g,location:u.location,delta:1})}function E(c,p){g=wr.Replace;let o=cp(u.location,c,p);n&&n(o,c),P=T();let a=xC(o,P),d=u.createHref(o);m.replaceState(a,"",d),s&&y&&y({action:g,location:u.location,delta:0})}function v(c){let p=i.location.origin!=="null"?i.location.origin:i.location.href,o=typeof c=="string"?c:qu(c);return ut(p,"No window.location.(origin|href) available to create URL for href: "+o),new URL(o,p)}let u={get action(){return g},get location(){return t(i,m)},listen(c){if(y)throw new Error("A history only accepts one active listener");return i.addEventListener(TC,x),y=c,()=>{i.removeEventListener(TC,x),y=null}},createHref(c){return e(i,c)},createURL:v,encodeLocation(c){let p=v(c);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:C,replace:E,go(c){return m.go(c)}};return u}var IC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IC||(IC={}));function KD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Wi(e):e,i=Gg(r.pathname||"/",n);if(i==null)return null;let s=WO(t);qD(s);let m=null;for(let g=0;m==null&&g<s.length;++g)m=tw(s[g],iw(i));return m}function WO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,m,g)=>{let y={relativePath:g===void 0?s.path||"":g,caseSensitive:s.caseSensitive===!0,childrenIndex:m,route:s};y.relativePath.startsWith("/")&&(ut(y.relativePath.startsWith(r),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(r.length));let P=Ur([r,y.relativePath]),T=n.concat(y);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+P+'".')),WO(s.children,e,T,P)),!(s.path==null&&!s.index)&&e.push({path:P,score:_D(P,s.index),routesMeta:T})};return t.forEach((s,m)=>{var g;if(s.path===""||!((g=s.path)!=null&&g.includes("?")))i(s,m);else for(let y of zO(s.path))i(s,m,y)}),e}function zO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let m=zO(r.join("/")),g=[];return g.push(...m.map(y=>y===""?s:[s,y].join("/"))),i&&g.push(...m),g.map(y=>t.startsWith("/")&&y===""?"/":y)}function qD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ew(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GD=/^:\w+$/,JD=3,YD=2,XD=1,kD=10,ZD=-2,RC=t=>t==="*";function _D(t,e){let n=t.split("/"),r=n.length;return n.some(RC)&&(r+=ZD),e&&(r+=YD),n.filter(i=>!RC(i)).reduce((i,s)=>i+(GD.test(s)?JD:s===""?XD:kD),r)}function ew(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tw(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let m=0;m<n.length;++m){let g=n[m],y=m===n.length-1,P=i==="/"?e:e.slice(i.length)||"/",T=nw({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},P);if(!T)return null;Object.assign(r,T.params);let x=g.route;s.push({params:r,pathname:Ur([i,T.pathname]),pathnameBase:lw(Ur([i,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(i=Ur([i,T.pathnameBase]))}return s}function nw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],m=s.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((P,T,x)=>{if(T==="*"){let C=g[x]||"";m=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}return P[T]=ow(g[x]||"",T),P},{}),pathname:s,pathnameBase:m,pattern:t}}function rw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(m,g)=>(r.push(g),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iw(t){try{return decodeURI(t)}catch(e){return Hc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ow(t,e){try{return decodeURIComponent(t)}catch(n){return Hc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Gg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:aw(n,e):e,search:uw(r),hash:cw(i)}}function aw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $O(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wi(t):(i=Ta({},t),ut(!i.pathname||!i.pathname.includes("?"),wd("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),wd("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),wd("#","search","hash",i)));let s=t===""||i.pathname==="",m=s?"/":i.pathname,g;if(r||m==null)g=n;else{let x=e.length-1;if(m.startsWith("..")){let C=m.split("/");for(;C[0]==="..";)C.shift(),x-=1;i.pathname=C.join("/")}g=x>=0?e[x]:"/"}let y=sw(i,g),P=m&&m!=="/"&&m.endsWith("/"),T=(s||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(P||T)&&(y.pathname+="/"),y}const Ur=t=>t.join("/").replace(/\/\/+/g,"/"),lw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KO=["post","put","patch","delete"];new Set(KO);const dw=["get",...KO];new Set(dw);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gu.apply(this,arguments)}const qO=X.createContext(null),GO=X.createContext(null),zi=X.createContext(null),$c=X.createContext(null),Hi=X.createContext({outlet:null,matches:[],isDataRoute:!1}),JO=X.createContext(null);function hw(t,e){let{relative:n}=e===void 0?{}:e;_a()||ut(!1);let{basename:r,navigator:i}=X.useContext(zi),{hash:s,pathname:m,search:g}=Jg(t,{relative:n}),y=m;return r!=="/"&&(y=m==="/"?r:Ur([r,m])),i.createHref({pathname:y,search:g,hash:s})}function _a(){return X.useContext($c)!=null}function el(){return _a()||ut(!1),X.useContext($c).location}function YO(t){X.useContext(zi).static||X.useLayoutEffect(t)}function ns(){let{isDataRoute:t}=X.useContext(Hi);return t?xw():pw()}function pw(){_a()||ut(!1);let{basename:t,navigator:e}=X.useContext(zi),{matches:n}=X.useContext(Hi),{pathname:r}=el(),i=JSON.stringify(HO(n).map(g=>g.pathnameBase)),s=X.useRef(!1);return YO(()=>{s.current=!0}),X.useCallback(function(g,y){if(y===void 0&&(y={}),!s.current)return;if(typeof g=="number"){e.go(g);return}let P=$O(g,JSON.parse(i),r,y.relative==="path");t!=="/"&&(P.pathname=P.pathname==="/"?t:Ur([t,P.pathname])),(y.replace?e.replace:e.push)(P,y.state,y)},[t,e,i,r])}function Jg(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(Hi),{pathname:i}=el(),s=JSON.stringify(HO(r).map(m=>m.pathnameBase));return X.useMemo(()=>$O(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function gw(t,e){return mw(t,e)}function mw(t,e,n){_a()||ut(!1);let{navigator:r}=X.useContext(zi),{matches:i}=X.useContext(Hi),s=i[i.length-1],m=s?s.params:{};s&&s.pathname;let g=s?s.pathnameBase:"/";s&&s.route;let y=el(),P;if(e){var T;let u=typeof e=="string"?Wi(e):e;g==="/"||(T=u.pathname)!=null&&T.startsWith(g)||ut(!1),P=u}else P=y;let x=P.pathname||"/",C=g==="/"?x:x.slice(g.length)||"/",E=KD(t,{pathname:C}),v=Pw(E&&E.map(u=>Object.assign({},u,{params:Object.assign({},m,u.params),pathname:Ur([g,r.encodeLocation?r.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?g:Ur([g,r.encodeLocation?r.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),i,n);return e&&v?X.createElement($c.Provider,{value:{location:Gu({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:wr.Pop}},v):v}function yw(){let t=Tw(),e=fw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}const vw=X.createElement(yw,null);class Cw extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(Hi.Provider,{value:this.props.routeContext},X.createElement(JO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ew(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(qO);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(Hi.Provider,{value:e},r)}function Pw(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,m=(r=n)==null?void 0:r.errors;if(m!=null){let g=s.findIndex(y=>y.route.id&&(m==null?void 0:m[y.route.id]));g>=0||ut(!1),s=s.slice(0,Math.min(s.length,g+1))}return s.reduceRight((g,y,P)=>{let T=y.route.id?m==null?void 0:m[y.route.id]:null,x=null;n&&(x=y.route.errorElement||vw);let C=e.concat(s.slice(0,P+1)),E=()=>{let v;return T?v=x:y.route.Component?v=X.createElement(y.route.Component,null):y.route.element?v=y.route.element:v=g,X.createElement(Ew,{match:y,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:v})};return n&&(y.route.ErrorBoundary||y.route.errorElement||P===0)?X.createElement(Cw,{location:n.location,revalidation:n.revalidation,component:x,error:T,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}var fp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(fp||(fp={}));var xa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(xa||(xa={}));function bw(t){let e=X.useContext(qO);return e||ut(!1),e}function Ow(t){let e=X.useContext(GO);return e||ut(!1),e}function Sw(t){let e=X.useContext(Hi);return e||ut(!1),e}function XO(t){let e=Sw(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function Tw(){var t;let e=X.useContext(JO),n=Ow(xa.UseRouteError),r=XO(xa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function xw(){let{router:t}=bw(fp.UseNavigateStable),e=XO(xa.UseNavigateStable),n=X.useRef(!1);return YO(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gu({fromRouteId:e},s)))},[t,e])}function Jn(t){ut(!1)}function Iw(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wr.Pop,navigator:s,static:m=!1}=t;_a()&&ut(!1);let g=e.replace(/^\/*/,"/"),y=X.useMemo(()=>({basename:g,navigator:s,static:m}),[g,s,m]);typeof r=="string"&&(r=Wi(r));let{pathname:P="/",search:T="",hash:x="",state:C=null,key:E="default"}=r,v=X.useMemo(()=>{let u=Gg(P,g);return u==null?null:{location:{pathname:u,search:T,hash:x,state:C,key:E},navigationType:i}},[g,P,T,x,C,E,i]);return v==null?null:X.createElement(zi.Provider,{value:y},X.createElement($c.Provider,{children:n,value:v}))}function Rw(t){let{children:e,location:n}=t;return gw(dp(e),n)}var DC;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(DC||(DC={}));new Promise(()=>{});function dp(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,dp(r.props.children,s));return}r.type!==Jn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let m={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=dp(r.props.children,s)),n.push(m)}),n}/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function kO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ww(t,e){return t.button===0&&(!e||e==="_self")&&!Dw(t)}const Mw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Vw=["aria-current","caseSensitive","className","end","style","to","children"];function Aw(t){let{basename:e,children:n,window:r}=t,i=X.useRef();i.current==null&&(i.current=zD({window:r,v5Compat:!0}));let s=i.current,[m,g]=X.useState({action:s.action,location:s.location});return X.useLayoutEffect(()=>s.listen(g),[s]),X.createElement(Iw,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:s})}const Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jw=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:m,state:g,target:y,to:P,preventScrollReset:T}=e,x=kO(e,Mw),{basename:C}=X.useContext(zi),E,v=!1;if(typeof P=="string"&&Bw.test(P)&&(E=P,Lw))try{let o=new URL(window.location.href),a=P.startsWith("//")?new URL(o.protocol+P):new URL(P),d=Gg(a.pathname,C);a.origin===o.origin&&d!=null?P=d+a.search+a.hash:v=!0}catch{}let u=hw(P,{relative:i}),c=Nw(P,{replace:m,state:g,target:y,preventScrollReset:T,relative:i});function p(o){r&&r(o),o.defaultPrevented||c(o)}return X.createElement("a",Ju({},x,{href:E||u,onClick:v||s?r:p,ref:n,target:y}))}),Yg=X.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:m=!1,style:g,to:y,children:P}=e,T=kO(e,Vw),x=Jg(y,{relative:T.relative}),C=el(),E=X.useContext(GO),{navigator:v}=X.useContext(zi),u=v.encodeLocation?v.encodeLocation(x).pathname:x.pathname,c=C.pathname,p=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(c=c.toLowerCase(),p=p?p.toLowerCase():null,u=u.toLowerCase());let o=c===u||!m&&c.startsWith(u)&&c.charAt(u.length)==="/",a=p!=null&&(p===u||!m&&p.startsWith(u)&&p.charAt(u.length)==="/"),d=o?r:void 0,h;typeof s=="function"?h=s({isActive:o,isPending:a}):h=[s,o?"active":null,a?"pending":null].filter(Boolean).join(" ");let f=typeof g=="function"?g({isActive:o,isPending:a}):g;return X.createElement(jw,Ju({},T,{"aria-current":d,className:h,ref:n,style:f,to:y}),typeof P=="function"?P({isActive:o,isPending:a}):P)});var wC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(wC||(wC={}));var MC;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MC||(MC={}));function Nw(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:m}=e===void 0?{}:e,g=ns(),y=el(),P=Jg(t,{relative:m});return X.useCallback(T=>{if(ww(T,n)){T.preventDefault();let x=r!==void 0?r:qu(y)===qu(P);g(t,{replace:x,state:i,preventScrollReset:s,relative:m})}},[y,g,P,r,i,n,t,s,m])}var ZO={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=Symbol.for("react.element"),kg=Symbol.for("react.portal"),Kc=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),Jc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),Fw=Symbol.for("react.server_context"),Xc=Symbol.for("react.forward_ref"),kc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),_c=Symbol.for("react.memo"),ef=Symbol.for("react.lazy"),Uw=Symbol.for("react.offscreen"),_O;_O=Symbol.for("react.module.reference");function Cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Xg:switch(t=t.type,t){case Kc:case Gc:case qc:case kc:case Zc:return t;default:switch(t=t&&t.$$typeof,t){case Fw:case Yc:case Xc:case ef:case _c:case Jc:return t;default:return e}}case kg:return e}}}Fe.ContextConsumer=Yc;Fe.ContextProvider=Jc;Fe.Element=Xg;Fe.ForwardRef=Xc;Fe.Fragment=Kc;Fe.Lazy=ef;Fe.Memo=_c;Fe.Portal=kg;Fe.Profiler=Gc;Fe.StrictMode=qc;Fe.Suspense=kc;Fe.SuspenseList=Zc;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return Cn(t)===Yc};Fe.isContextProvider=function(t){return Cn(t)===Jc};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xg};Fe.isForwardRef=function(t){return Cn(t)===Xc};Fe.isFragment=function(t){return Cn(t)===Kc};Fe.isLazy=function(t){return Cn(t)===ef};Fe.isMemo=function(t){return Cn(t)===_c};Fe.isPortal=function(t){return Cn(t)===kg};Fe.isProfiler=function(t){return Cn(t)===Gc};Fe.isStrictMode=function(t){return Cn(t)===qc};Fe.isSuspense=function(t){return Cn(t)===kc};Fe.isSuspenseList=function(t){return Cn(t)===Zc};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kc||t===Gc||t===qc||t===kc||t===Zc||t===Uw||typeof t=="object"&&t!==null&&(t.$$typeof===ef||t.$$typeof===_c||t.$$typeof===Jc||t.$$typeof===Yc||t.$$typeof===Xc||t.$$typeof===_O||t.getModuleId!==void 0)};Fe.typeOf=Cn;ZO.exports=Fe;var e0=ZO.exports;function Qw(t){function e(z,Q,$,Y,q){for(var se=0,Z=0,Oe=0,ve=0,Ce,me,ze=0,Xe=0,Ie,tt=Ie=Ce=0,Re=0,ke=0,En=0,qe=0,Vn=$.length,cn=Vn-1,ct,ye="",Qe="",Gn="",Wt="",zt;Re<Vn;){if(me=$.charCodeAt(Re),Re===cn&&Z+ve+Oe+se!==0&&(Z!==0&&(me=Z===47?10:47),ve=Oe=se=0,Vn++,cn++),Z+ve+Oe+se===0){if(Re===cn&&(0<ke&&(ye=ye.replace(C,"")),0<ye.trim().length)){switch(me){case 32:case 9:case 59:case 13:case 10:break;default:ye+=$.charAt(Re)}me=59}switch(me){case 123:for(ye=ye.trim(),Ce=ye.charCodeAt(0),Ie=1,qe=++Re;Re<Vn;){switch(me=$.charCodeAt(Re)){case 123:Ie++;break;case 125:Ie--;break;case 47:switch(me=$.charCodeAt(Re+1)){case 42:case 47:e:{for(tt=Re+1;tt<cn;++tt)switch($.charCodeAt(tt)){case 47:if(me===42&&$.charCodeAt(tt-1)===42&&Re+2!==tt){Re=tt+1;break e}break;case 10:if(me===47){Re=tt+1;break e}}Re=tt}}break;case 91:me++;case 40:me++;case 34:case 39:for(;Re++<cn&&$.charCodeAt(Re)!==me;);}if(Ie===0)break;Re++}switch(Ie=$.substring(qe,Re),Ce===0&&(Ce=(ye=ye.replace(x,"").trim()).charCodeAt(0)),Ce){case 64:switch(0<ke&&(ye=ye.replace(C,"")),me=ye.charCodeAt(1),me){case 100:case 109:case 115:case 45:ke=Q;break;default:ke=D}if(Ie=e(Q,ke,Ie,me,q+1),qe=Ie.length,0<L&&(ke=n(D,ye,En),zt=g(3,Ie,ke,Q,R,S,qe,me,q,Y),ye=ke.join(""),zt!==void 0&&(qe=(Ie=zt.trim()).length)===0&&(me=0,Ie="")),0<qe)switch(me){case 115:ye=ye.replace(f,m);case 100:case 109:case 45:Ie=ye+"{"+Ie+"}";break;case 107:ye=ye.replace(o,"$1 $2"),Ie=ye+"{"+Ie+"}",Ie=b===1||b===2&&s("@"+Ie,3)?"@-webkit-"+Ie+"@"+Ie:"@"+Ie;break;default:Ie=ye+Ie,Y===112&&(Ie=(Qe+=Ie,""))}else Ie="";break;default:Ie=e(Q,n(Q,ye,En),Ie,Y,q+1)}Gn+=Ie,Ie=En=ke=tt=Ce=0,ye="",me=$.charCodeAt(++Re);break;case 125:case 59:if(ye=(0<ke?ye.replace(C,""):ye).trim(),1<(qe=ye.length))switch(tt===0&&(Ce=ye.charCodeAt(0),Ce===45||96<Ce&&123>Ce)&&(qe=(ye=ye.replace(" ",":")).length),0<L&&(zt=g(1,ye,Q,z,R,S,Qe.length,Y,q,Y))!==void 0&&(qe=(ye=zt.trim()).length)===0&&(ye="\0\0"),Ce=ye.charCodeAt(0),me=ye.charCodeAt(1),Ce){case 0:break;case 64:if(me===105||me===99){Wt+=ye+$.charAt(Re);break}default:ye.charCodeAt(qe-1)!==58&&(Qe+=i(ye,Ce,me,ye.charCodeAt(2)))}En=ke=tt=Ce=0,ye="",me=$.charCodeAt(++Re)}}switch(me){case 13:case 10:Z===47?Z=0:1+Ce===0&&Y!==107&&0<ye.length&&(ke=1,ye+="\0"),0<L*N&&g(0,ye,Q,z,R,S,Qe.length,Y,q,Y),S=1,R++;break;case 59:case 125:if(Z+ve+Oe+se===0){S++;break}default:switch(S++,ct=$.charAt(Re),me){case 9:case 32:if(ve+se+Z===0)switch(ze){case 44:case 58:case 9:case 32:ct="";break;default:me!==32&&(ct=" ")}break;case 0:ct="\\0";break;case 12:ct="\\f";break;case 11:ct="\\v";break;case 38:ve+Z+se===0&&(ke=En=1,ct="\f"+ct);break;case 108:if(ve+Z+se+I===0&&0<tt)switch(Re-tt){case 2:ze===112&&$.charCodeAt(Re-3)===58&&(I=ze);case 8:Xe===111&&(I=Xe)}break;case 58:ve+Z+se===0&&(tt=Re);break;case 44:Z+Oe+ve+se===0&&(ke=1,ct+="\r");break;case 34:case 39:Z===0&&(ve=ve===me?0:ve===0?me:ve);break;case 91:ve+Z+Oe===0&&se++;break;case 93:ve+Z+Oe===0&&se--;break;case 41:ve+Z+se===0&&Oe--;break;case 40:if(ve+Z+se===0){if(Ce===0)switch(2*ze+3*Xe){case 533:break;default:Ce=1}Oe++}break;case 64:Z+Oe+ve+se+tt+Ie===0&&(Ie=1);break;case 42:case 47:if(!(0<ve+se+Oe))switch(Z){case 0:switch(2*me+3*$.charCodeAt(Re+1)){case 235:Z=47;break;case 220:qe=Re,Z=42}break;case 42:me===47&&ze===42&&qe+2!==Re&&($.charCodeAt(qe+2)===33&&(Qe+=$.substring(qe,Re+1)),ct="",Z=0)}}Z===0&&(ye+=ct)}Xe=ze,ze=me,Re++}if(qe=Qe.length,0<qe){if(ke=Q,0<L&&(zt=g(2,Qe,ke,z,R,S,qe,Y,q,Y),zt!==void 0&&(Qe=zt).length===0))return Wt+Qe+Gn;if(Qe=ke.join(",")+"{"+Qe+"}",b*I!==0){switch(b!==2||s(Qe,2)||(I=0),I){case 111:Qe=Qe.replace(d,":-moz-$1")+Qe;break;case 112:Qe=Qe.replace(a,"::-webkit-input-$1")+Qe.replace(a,"::-moz-$1")+Qe.replace(a,":-ms-input-$1")+Qe}I=0}}return Wt+Qe+Gn}function n(z,Q,$){var Y=Q.trim().split(c);Q=Y;var q=Y.length,se=z.length;switch(se){case 0:case 1:var Z=0;for(z=se===0?"":z[0]+" ";Z<q;++Z)Q[Z]=r(z,Q[Z],$).trim();break;default:var Oe=Z=0;for(Q=[];Z<q;++Z)for(var ve=0;ve<se;++ve)Q[Oe++]=r(z[ve]+" ",Y[Z],$).trim()}return Q}function r(z,Q,$){var Y=Q.charCodeAt(0);switch(33>Y&&(Y=(Q=Q.trim()).charCodeAt(0)),Y){case 38:return Q.replace(p,"$1"+z.trim());case 58:return z.trim()+Q.replace(p,"$1"+z.trim());default:if(0<1*$&&0<Q.indexOf("\f"))return Q.replace(p,(z.charCodeAt(0)===58?"":"$1")+z.trim())}return z+Q}function i(z,Q,$,Y){var q=z+";",se=2*Q+3*$+4*Y;if(se===944){z=q.indexOf(":",9)+1;var Z=q.substring(z,q.length-1).trim();return Z=q.substring(0,z).trim()+Z+";",b===1||b===2&&s(Z,1)?"-webkit-"+Z+Z:Z}if(b===0||b===2&&!s(q,1))return q;switch(se){case 1015:return q.charCodeAt(10)===97?"-webkit-"+q+q:q;case 951:return q.charCodeAt(3)===116?"-webkit-"+q+q:q;case 963:return q.charCodeAt(5)===110?"-webkit-"+q+q:q;case 1009:if(q.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+q+q;case 978:return"-webkit-"+q+"-moz-"+q+q;case 1019:case 983:return"-webkit-"+q+"-moz-"+q+"-ms-"+q+q;case 883:if(q.charCodeAt(8)===45)return"-webkit-"+q+q;if(0<q.indexOf("image-set(",11))return q.replace(w,"$1-webkit-$2")+q;break;case 932:if(q.charCodeAt(4)===45)switch(q.charCodeAt(5)){case 103:return"-webkit-box-"+q.replace("-grow","")+"-webkit-"+q+"-ms-"+q.replace("grow","positive")+q;case 115:return"-webkit-"+q+"-ms-"+q.replace("shrink","negative")+q;case 98:return"-webkit-"+q+"-ms-"+q.replace("basis","preferred-size")+q}return"-webkit-"+q+"-ms-"+q+q;case 964:return"-webkit-"+q+"-ms-flex-"+q+q;case 1023:if(q.charCodeAt(8)!==99)break;return Z=q.substring(q.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Z+"-webkit-"+q+"-ms-flex-pack"+Z+q;case 1005:return v.test(q)?q.replace(E,":-webkit-")+q.replace(E,":-moz-")+q:q;case 1e3:switch(Z=q.substring(13).trim(),Q=Z.indexOf("-")+1,Z.charCodeAt(0)+Z.charCodeAt(Q)){case 226:Z=q.replace(h,"tb");break;case 232:Z=q.replace(h,"tb-rl");break;case 220:Z=q.replace(h,"lr");break;default:return q}return"-webkit-"+q+"-ms-"+Z+q;case 1017:if(q.indexOf("sticky",9)===-1)break;case 975:switch(Q=(q=z).length-10,Z=(q.charCodeAt(Q)===33?q.substring(0,Q):q).substring(z.indexOf(":",7)+1).trim(),se=Z.charCodeAt(0)+(Z.charCodeAt(7)|0)){case 203:if(111>Z.charCodeAt(8))break;case 115:q=q.replace(Z,"-webkit-"+Z)+";"+q;break;case 207:case 102:q=q.replace(Z,"-webkit-"+(102<se?"inline-":"")+"box")+";"+q.replace(Z,"-webkit-"+Z)+";"+q.replace(Z,"-ms-"+Z+"box")+";"+q}return q+";";case 938:if(q.charCodeAt(5)===45)switch(q.charCodeAt(6)){case 105:return Z=q.replace("-items",""),"-webkit-"+q+"-webkit-box-"+Z+"-ms-flex-"+Z+q;case 115:return"-webkit-"+q+"-ms-flex-item-"+q.replace(O,"")+q;default:return"-webkit-"+q+"-ms-flex-line-pack"+q.replace("align-content","").replace(O,"")+q}break;case 973:case 989:if(q.charCodeAt(3)!==45||q.charCodeAt(4)===122)break;case 931:case 953:if(A.test(z)===!0)return(Z=z.substring(z.indexOf(":")+1)).charCodeAt(0)===115?i(z.replace("stretch","fill-available"),Q,$,Y).replace(":fill-available",":stretch"):q.replace(Z,"-webkit-"+Z)+q.replace(Z,"-moz-"+Z.replace("fill-",""))+q;break;case 962:if(q="-webkit-"+q+(q.charCodeAt(5)===102?"-ms-"+q:"")+q,$+Y===211&&q.charCodeAt(13)===105&&0<q.indexOf("transform",10))return q.substring(0,q.indexOf(";",27)+1).replace(u,"$1-webkit-$2")+q}return q}function s(z,Q){var $=z.indexOf(Q===1?":":"{"),Y=z.substring(0,Q!==3?$:10);return $=z.substring($+1,z.length-1),U(Q!==2?Y:Y.replace(V,"$1"),$,Q)}function m(z,Q){var $=i(Q,Q.charCodeAt(0),Q.charCodeAt(1),Q.charCodeAt(2));return $!==Q+";"?$.replace(l," or ($1)").substring(4):"("+Q+")"}function g(z,Q,$,Y,q,se,Z,Oe,ve,Ce){for(var me=0,ze=Q,Xe;me<L;++me)switch(Xe=M[me].call(T,z,ze,$,Y,q,se,Z,Oe,ve,Ce)){case void 0:case!1:case!0:case null:break;default:ze=Xe}if(ze!==Q)return ze}function y(z){switch(z){case void 0:case null:L=M.length=0;break;default:if(typeof z=="function")M[L++]=z;else if(typeof z=="object")for(var Q=0,$=z.length;Q<$;++Q)y(z[Q]);else N=!!z|0}return y}function P(z){return z=z.prefix,z!==void 0&&(U=null,z?typeof z!="function"?b=1:(b=2,U=z):b=0),P}function T(z,Q){var $=z;if(33>$.charCodeAt(0)&&($=$.trim()),W=$,$=[W],0<L){var Y=g(-1,Q,$,$,R,S,0,0,0,0);Y!==void 0&&typeof Y=="string"&&(Q=Y)}var q=e(D,$,Q,0,0);return 0<L&&(Y=g(-2,q,$,$,R,S,q.length,0,0,0),Y!==void 0&&(q=Y)),W="",I=0,S=R=1,q}var x=/^\0+/g,C=/[\0\r\f]/g,E=/: */g,v=/zoo|gra/,u=/([,: ])(transform)/g,c=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,o=/@(k\w+)\s*(\S*)\s*/,a=/::(place)/g,d=/:(read-only)/g,h=/[svh]\w+-[tblr]{2}/,f=/\(\s*(.*)\s*\)/g,l=/([\s\S]*?);/g,O=/-self|flex-/g,V=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,w=/([^-])(image-set\()/,S=1,R=1,I=0,b=1,D=[],M=[],L=0,U=null,N=0,W="";return T.use=y,T.set=P,t!==void 0&&P(t),T}var Ww={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function zw(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Hw=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VC=zw(function(t){return Hw.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),t0={exports:{}},Ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt=typeof Symbol=="function"&&Symbol.for,Zg=Pt?Symbol.for("react.element"):60103,_g=Pt?Symbol.for("react.portal"):60106,tf=Pt?Symbol.for("react.fragment"):60107,nf=Pt?Symbol.for("react.strict_mode"):60108,rf=Pt?Symbol.for("react.profiler"):60114,of=Pt?Symbol.for("react.provider"):60109,sf=Pt?Symbol.for("react.context"):60110,em=Pt?Symbol.for("react.async_mode"):60111,af=Pt?Symbol.for("react.concurrent_mode"):60111,lf=Pt?Symbol.for("react.forward_ref"):60112,uf=Pt?Symbol.for("react.suspense"):60113,$w=Pt?Symbol.for("react.suspense_list"):60120,cf=Pt?Symbol.for("react.memo"):60115,ff=Pt?Symbol.for("react.lazy"):60116,Kw=Pt?Symbol.for("react.block"):60121,qw=Pt?Symbol.for("react.fundamental"):60117,Gw=Pt?Symbol.for("react.responder"):60118,Jw=Pt?Symbol.for("react.scope"):60119;function un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zg:switch(t=t.type,t){case em:case af:case tf:case rf:case nf:case uf:return t;default:switch(t=t&&t.$$typeof,t){case sf:case lf:case ff:case cf:case of:return t;default:return e}}case _g:return e}}}function n0(t){return un(t)===af}Ue.AsyncMode=em;Ue.ConcurrentMode=af;Ue.ContextConsumer=sf;Ue.ContextProvider=of;Ue.Element=Zg;Ue.ForwardRef=lf;Ue.Fragment=tf;Ue.Lazy=ff;Ue.Memo=cf;Ue.Portal=_g;Ue.Profiler=rf;Ue.StrictMode=nf;Ue.Suspense=uf;Ue.isAsyncMode=function(t){return n0(t)||un(t)===em};Ue.isConcurrentMode=n0;Ue.isContextConsumer=function(t){return un(t)===sf};Ue.isContextProvider=function(t){return un(t)===of};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zg};Ue.isForwardRef=function(t){return un(t)===lf};Ue.isFragment=function(t){return un(t)===tf};Ue.isLazy=function(t){return un(t)===ff};Ue.isMemo=function(t){return un(t)===cf};Ue.isPortal=function(t){return un(t)===_g};Ue.isProfiler=function(t){return un(t)===rf};Ue.isStrictMode=function(t){return un(t)===nf};Ue.isSuspense=function(t){return un(t)===uf};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tf||t===af||t===rf||t===nf||t===uf||t===$w||typeof t=="object"&&t!==null&&(t.$$typeof===ff||t.$$typeof===cf||t.$$typeof===of||t.$$typeof===sf||t.$$typeof===lf||t.$$typeof===qw||t.$$typeof===Gw||t.$$typeof===Jw||t.$$typeof===Kw)};Ue.typeOf=un;t0.exports=Ue;var Yw=t0.exports,tm=Yw,Xw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nm={};nm[tm.ForwardRef]=Zw;nm[tm.Memo]=r0;function AC(t){return tm.isMemo(t)?r0:nm[t.$$typeof]||Xw}var _w=Object.defineProperty,eM=Object.getOwnPropertyNames,LC=Object.getOwnPropertySymbols,tM=Object.getOwnPropertyDescriptor,nM=Object.getPrototypeOf,BC=Object.prototype;function i0(t,e,n){if(typeof e!="string"){if(BC){var r=nM(e);r&&r!==BC&&i0(t,r,n)}var i=eM(e);LC&&(i=i.concat(LC(e)));for(var s=AC(t),m=AC(e),g=0;g<i.length;++g){var y=i[g];if(!kw[y]&&!(n&&n[y])&&!(m&&m[y])&&!(s&&s[y])){var P=tM(e,y);try{_w(t,y,P)}catch{}}}}return t}var rM=i0;const iM=IP(rM);function Fn(){return(Fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var jC=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},hp=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!e0.typeOf(t)},Yu=Object.freeze([]),Qr=Object.freeze({});function Ia(t){return typeof t=="function"}function NC(t){return t.displayName||t.name||"Component"}function rm(t){return t&&typeof t.styledComponentId=="string"}var Qo=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",im=typeof window<"u"&&"HTMLElement"in window,oM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),sM={};function tl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var aM=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,m=s;n>=m;)(m<<=1)<0&&tl(16,""+n);this.groupSizes=new Uint32Array(m),this.groupSizes.set(i),this.length=m;for(var g=s;g<m;g++)this.groupSizes[g]=0}for(var y=this.indexOfGroup(n+1),P=0,T=r.length;P<T;P++)this.tag.insertRule(y,r[P])&&(this.groupSizes[n]++,y++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var m=i;m<s;m++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),m=s+i,g=s;g<m;g++)r+=this.tag.getRule(g)+`/*!sc*/
`;return r},t}(),pu=new Map,Xu=new Map,ta=1,Kl=function(t){if(pu.has(t))return pu.get(t);for(;Xu.has(ta);)ta++;var e=ta++;return pu.set(t,e),Xu.set(e,t),e},lM=function(t){return Xu.get(t)},uM=function(t,e){e>=ta&&(ta=e+1),pu.set(t,e),Xu.set(e,t)},cM="style["+Qo+'][data-styled-version="5.3.10"]',fM=new RegExp("^"+Qo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),dM=function(t,e,n){for(var r,i=n.split(","),s=0,m=i.length;s<m;s++)(r=i[s])&&t.registerName(e,r)},hM=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var m=n[i].trim();if(m){var g=m.match(fM);if(g){var y=0|parseInt(g[1],10),P=g[2];y!==0&&(uM(P,y),dM(t,P,g[3]),t.getTag().insertRules(y,r)),r.length=0}else r.push(m)}}},pM=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},o0=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(g){for(var y=g.childNodes,P=y.length;P>=0;P--){var T=y[P];if(T&&T.nodeType===1&&T.hasAttribute(Qo))return T}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Qo,"active"),r.setAttribute("data-styled-version","5.3.10");var m=pM();return m&&r.setAttribute("nonce",m),n.insertBefore(r,s),r},gM=function(){function t(n){var r=this.element=o0(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,m=0,g=s.length;m<g;m++){var y=s[m];if(y.ownerNode===i)return y}tl(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),mM=function(){function t(n){var r=this.element=o0(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),yM=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),FC=im,vM={isServer:!im,useCSSOMInjection:!oM},ku=function(){function t(n,r,i){n===void 0&&(n=Qr),r===void 0&&(r={}),this.options=Fn({},vM,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&im&&FC&&(FC=!1,function(s){for(var m=document.querySelectorAll(cM),g=0,y=m.length;g<y;g++){var P=m[g];P&&P.getAttribute(Qo)!=="active"&&(hM(s,P),P.parentNode&&P.parentNode.removeChild(P))}}(this))}t.registerId=function(n){return Kl(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Fn({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,m=r.target,n=i?new yM(m):s?new gM(m):new mM(m),new aM(n)));var n,r,i,s,m},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(Kl(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(Kl(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(Kl(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",m=0;m<i;m++){var g=lM(m);if(g!==void 0){var y=n.names.get(g),P=r.getGroup(m);if(y&&P&&y.size){var T=Qo+".g"+m+'[id="'+g+'"]',x="";y!==void 0&&y.forEach(function(C){C.length>0&&(x+=C+",")}),s+=""+P+T+'{content:"'+x+`"}/*!sc*/
`}}}return s}(this)},t}(),CM=/(a)(d)/gi,UC=function(t){return String.fromCharCode(t+(t>25?39:97))};function pp(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=UC(e%52)+n;return(UC(e%52)+n).replace(CM,"$1-$2")}var vo=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},s0=function(t){return vo(5381,t)};function a0(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ia(n)&&!rm(n))return!1}return!0}var EM=s0("5.3.10"),PM=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&a0(e),this.componentId=n,this.baseHash=vo(EM,n),this.baseStyle=r,ku.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var m=Mi(this.rules,e,n,r).join(""),g=pp(vo(this.baseHash,m)>>>0);if(!n.hasNameForId(i,g)){var y=r(m,"."+g,void 0,i);n.insertRules(i,g,y)}s.push(g),this.staticRulesId=g}else{for(var P=this.rules.length,T=vo(this.baseHash,r.hash),x="",C=0;C<P;C++){var E=this.rules[C];if(typeof E=="string")x+=E;else if(E){var v=Mi(E,e,n,r),u=Array.isArray(v)?v.join(""):v;T=vo(T,u+C),x+=u}}if(x){var c=pp(T>>>0);if(!n.hasNameForId(i,c)){var p=r(x,"."+c,void 0,i);n.insertRules(i,c,p)}s.push(c)}}return s.join(" ")},t}(),bM=/^\s*\/\/.*$/gm,OM=[":","[",".","#"];function SM(t){var e,n,r,i,s=t===void 0?Qr:t,m=s.options,g=m===void 0?Qr:m,y=s.plugins,P=y===void 0?Yu:y,T=new Qw(g),x=[],C=function(u){function c(p){if(p)try{u(p+"}")}catch{}}return function(p,o,a,d,h,f,l,O,V,A){switch(p){case 1:if(V===0&&o.charCodeAt(0)===64)return u(o+";"),"";break;case 2:if(O===0)return o+"/*|*/";break;case 3:switch(O){case 102:case 112:return u(a[0]+o),"";default:return o+(A===0?"/*|*/":"")}case-2:o.split("/*|*/}").forEach(c)}}}(function(u){x.push(u)}),E=function(u,c,p){return c===0&&OM.indexOf(p[n.length])!==-1||p.match(i)?u:"."+e};function v(u,c,p,o){o===void 0&&(o="&");var a=u.replace(bM,""),d=c&&p?p+" "+c+" { "+a+" }":a;return e=o,n=c,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),T(p||!c?"":c,d)}return T.use([].concat(P,[function(u,c,p){u===2&&p.length&&p[0].lastIndexOf(n)>0&&(p[0]=p[0].replace(r,E))},C,function(u){if(u===-2){var c=x;return x=[],c}}])),v.hash=P.length?P.reduce(function(u,c){return c.name||tl(15),vo(u,c.name)},5381).toString():"",v}var l0=ei.createContext();l0.Consumer;var u0=ei.createContext(),TM=(u0.Consumer,new ku),gp=SM();function c0(){return X.useContext(l0)||TM}function f0(){return X.useContext(u0)||gp}var d0=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=gp);var m=r.name+s.hash;i.hasNameForId(r.id,m)||i.insertRules(r.id,m,s(r.rules,m,"@keyframes"))},this.toString=function(){return tl(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=gp),this.name+e.hash},t}(),xM=/([A-Z])/,IM=/([A-Z])/g,RM=/^ms-/,DM=function(t){return"-"+t.toLowerCase()};function QC(t){return xM.test(t)?t.replace(IM,DM).replace(RM,"-ms-"):t}var WC=function(t){return t==null||t===!1||t===""};function Mi(t,e,n,r){if(Array.isArray(t)){for(var i,s=[],m=0,g=t.length;m<g;m+=1)(i=Mi(t[m],e,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(WC(t))return"";if(rm(t))return"."+t.styledComponentId;if(Ia(t)){if(typeof(P=t)!="function"||P.prototype&&P.prototype.isReactComponent||!e)return t;var y=t(e);return Mi(y,e,n,r)}var P;return t instanceof d0?n?(t.inject(n,r),t.getName(r)):t:hp(t)?function T(x,C){var E,v,u=[];for(var c in x)x.hasOwnProperty(c)&&!WC(x[c])&&(Array.isArray(x[c])&&x[c].isCss||Ia(x[c])?u.push(QC(c)+":",x[c],";"):hp(x[c])?u.push.apply(u,T(x[c],c)):u.push(QC(c)+": "+(E=c,(v=x[c])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||E in Ww||E.startsWith("--")?String(v).trim():v+"px")+";"));return C?[C+" {"].concat(u,["}"]):u}(t):t.toString()}var zC=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function om(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ia(t)||hp(t)?zC(Mi(jC(Yu,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:zC(Mi(jC(t,n)))}var h0=function(t,e,n){return n===void 0&&(n=Qr),t.theme!==n.theme&&t.theme||e||n.theme},wM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,MM=/(^-|-$)/g;function Md(t){return t.replace(wM,"-").replace(MM,"")}var sm=function(t){return pp(s0(t)>>>0)};function ql(t){return typeof t=="string"&&!0}var mp=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},VM=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function AM(t,e,n){var r=t[n];mp(e)&&mp(r)?p0(r,e):t[n]=e}function p0(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var m=s[i];if(mp(m))for(var g in m)VM(g)&&AM(t,m[g],g)}return t}var am=ei.createContext();am.Consumer;var Vd={};function g0(t,e,n){var r=rm(t),i=!ql(t),s=e.attrs,m=s===void 0?Yu:s,g=e.componentId,y=g===void 0?function(o,a){var d=typeof o!="string"?"sc":Md(o);Vd[d]=(Vd[d]||0)+1;var h=d+"-"+sm("5.3.10"+d+Vd[d]);return a?a+"-"+h:h}(e.displayName,e.parentComponentId):g,P=e.displayName,T=P===void 0?function(o){return ql(o)?"styled."+o:"Styled("+NC(o)+")"}(t):P,x=e.displayName&&e.componentId?Md(e.displayName)+"-"+e.componentId:e.componentId||y,C=r&&t.attrs?Array.prototype.concat(t.attrs,m).filter(Boolean):m,E=e.shouldForwardProp;r&&t.shouldForwardProp&&(E=e.shouldForwardProp?function(o,a,d){return t.shouldForwardProp(o,a,d)&&e.shouldForwardProp(o,a,d)}:t.shouldForwardProp);var v,u=new PM(n,x,r?t.componentStyle:void 0),c=u.isStatic&&m.length===0,p=function(o,a){return function(d,h,f,l){var O=d.attrs,V=d.componentStyle,A=d.defaultProps,w=d.foldedComponentIds,S=d.shouldForwardProp,R=d.styledComponentId,I=d.target,b=function(Y,q,se){Y===void 0&&(Y=Qr);var Z=Fn({},q,{theme:Y}),Oe={};return se.forEach(function(ve){var Ce,me,ze,Xe=ve;for(Ce in Ia(Xe)&&(Xe=Xe(Z)),Xe)Z[Ce]=Oe[Ce]=Ce==="className"?(me=Oe[Ce],ze=Xe[Ce],me&&ze?me+" "+ze:me||ze):Xe[Ce]}),[Z,Oe]}(h0(h,X.useContext(am),A)||Qr,h,O),D=b[0],M=b[1],L=function(Y,q,se,Z){var Oe=c0(),ve=f0(),Ce=q?Y.generateAndInjectStyles(Qr,Oe,ve):Y.generateAndInjectStyles(se,Oe,ve);return Ce}(V,l,D),U=f,N=M.$as||h.$as||M.as||h.as||I,W=ql(N),z=M!==h?Fn({},h,{},M):h,Q={};for(var $ in z)$[0]!=="$"&&$!=="as"&&($==="forwardedAs"?Q.as=z[$]:(S?S($,VC,N):!W||VC($))&&(Q[$]=z[$]));return h.style&&M.style!==h.style&&(Q.style=Fn({},h.style,{},M.style)),Q.className=Array.prototype.concat(w,R,L!==R?L:null,h.className,M.className).filter(Boolean).join(" "),Q.ref=U,X.createElement(N,Q)}(v,o,a,c)};return p.displayName=T,(v=ei.forwardRef(p)).attrs=C,v.componentStyle=u,v.displayName=T,v.shouldForwardProp=E,v.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Yu,v.styledComponentId=x,v.target=r?t.target:t,v.withComponent=function(o){var a=e.componentId,d=function(f,l){if(f==null)return{};var O,V,A={},w=Object.keys(f);for(V=0;V<w.length;V++)O=w[V],l.indexOf(O)>=0||(A[O]=f[O]);return A}(e,["componentId"]),h=a&&a+"-"+(ql(o)?o:Md(NC(o)));return g0(o,Fn({},d,{attrs:C,componentId:h}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(o){this._foldedDefaultProps=r?p0({},t.defaultProps,o):o}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),i&&iM(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var yp=function(t){return function e(n,r,i){if(i===void 0&&(i=Qr),!e0.isValidElementType(r))return tl(1,String(r));var s=function(){return n(r,i,om.apply(void 0,arguments))};return s.withConfig=function(m){return e(n,r,Fn({},i,{},m))},s.attrs=function(m){return e(n,r,Fn({},i,{attrs:Array.prototype.concat(i.attrs,m).filter(Boolean)}))},s}(g0,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){yp[t]=yp(t)});var LM=function(){function t(n,r){this.rules=n,this.componentId=r,this.isStatic=a0(n),ku.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(n,r,i,s){var m=s(Mi(this.rules,r,i,s).join(""),""),g=this.componentId+n;i.insertRules(g,g,m)},e.removeStyles=function(n,r){r.clearRules(this.componentId+n)},e.renderStyles=function(n,r,i,s){n>2&&ku.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,s)},t}();function BM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=om.apply(void 0,[t].concat(n)),s="sc-global-"+sm(JSON.stringify(i)),m=new LM(i,s);function g(P){var T=c0(),x=f0(),C=X.useContext(am),E=X.useRef(T.allocateGSInstance(s)).current;return T.server&&y(E,P,T,C,x),X.useLayoutEffect(function(){if(!T.server)return y(E,P,T,C,x),function(){return m.removeStyles(E,T)}},[E,P,T,C,x]),null}function y(P,T,x,C,E){if(m.isStatic)m.renderStyles(P,sM,x,E);else{var v=Fn({},T,{theme:h0(T,C,g.defaultProps)});m.renderStyles(P,v,x,E)}}return ei.memo(g)}function m0(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=om.apply(void 0,[t].concat(n)).join(""),s=sm(i);return new d0(s,i)}const k=yp;var y0={exports:{}},v0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=X;function jM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NM=typeof Object.is=="function"?Object.is:jM,FM=Wo.useState,UM=Wo.useEffect,QM=Wo.useLayoutEffect,WM=Wo.useDebugValue;function zM(t,e){var n=e(),r=FM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return QM(function(){i.value=n,i.getSnapshot=e,Ad(i)&&s({inst:i})},[t,n,e]),UM(function(){return Ad(i)&&s({inst:i}),t(function(){Ad(i)&&s({inst:i})})},[t]),WM(n),n}function Ad(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NM(t,n)}catch{return!0}}function HM(t,e){return e()}var $M=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HM:zM;v0.useSyncExternalStore=Wo.useSyncExternalStore!==void 0?Wo.useSyncExternalStore:$M;y0.exports=v0;var KM=y0.exports,C0={exports:{}},E0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=X,qM=KM;function GM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var JM=typeof Object.is=="function"?Object.is:GM,YM=qM.useSyncExternalStore,XM=df.useRef,kM=df.useEffect,ZM=df.useMemo,_M=df.useDebugValue;E0.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=XM(null);if(s.current===null){var m={hasValue:!1,value:null};s.current=m}else m=s.current;s=ZM(function(){function y(E){if(!P){if(P=!0,T=E,E=r(E),i!==void 0&&m.hasValue){var v=m.value;if(i(v,E))return x=v}return x=E}if(v=x,JM(T,E))return v;var u=r(E);return i!==void 0&&i(v,u)?v:(T=E,x=u)}var P=!1,T,x,C=n===void 0?null:n;return[function(){return y(e())},C===null?void 0:function(){return y(C())}]},[e,n,r,i]);var g=YM(t,s[0],s[1]);return kM(function(){m.hasValue=!0,m.value=g},[g]),_M(g),g};C0.exports=E0;var eV=C0.exports;function tV(t){t()}let P0=tV;const nV=t=>P0=t,rV=()=>P0,Yr=X.createContext(null);function b0(){return X.useContext(Yr)}const iV=()=>{throw new Error("uSES not initialized!")};let O0=iV;const oV=t=>{O0=t},sV=(t,e)=>t===e;function aV(t=Yr){const e=t===Yr?b0:()=>X.useContext(t);return function(r,i=sV){const{store:s,subscription:m,getServerState:g}=e(),y=O0(m.addNestedSub,s.getState,g||s.getState,r,i);return X.useDebugValue(y),y}}const lV=aV();function uV(){const t=rV();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const HC={notify(){},get:()=>[]};function cV(t,e){let n,r=HC;function i(x){return y(),r.subscribe(x)}function s(){r.notify()}function m(){T.onStateChange&&T.onStateChange()}function g(){return!!n}function y(){n||(n=e?e.addNestedSub(m):t.subscribe(m),r=uV())}function P(){n&&(n(),n=void 0,r.clear(),r=HC)}const T={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:m,isSubscribed:g,trySubscribe:y,tryUnsubscribe:P,getListeners:()=>r};return T}const fV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dV=fV?X.useLayoutEffect:X.useEffect;function hV({store:t,context:e,children:n,serverState:r}){const i=X.useMemo(()=>{const g=cV(t);return{store:t,subscription:g,getServerState:r?()=>r:void 0}},[t,r]),s=X.useMemo(()=>t.getState(),[t]);dV(()=>{const{subscription:g}=i;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),s!==t.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[i,s]);const m=e||Yr;return ei.createElement(m.Provider,{value:i},n)}function S0(t=Yr){const e=t===Yr?b0:()=>X.useContext(t);return function(){const{store:r}=e();return r}}const pV=S0();function gV(t=Yr){const e=t===Yr?pV:S0(t);return function(){return e().dispatch}}const ii=gV();oV(eV.useSyncExternalStoreWithSelector);nV(qg.unstable_batchedUpdates);function xn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Xr(t){return!!t&&!!t[Ge]}function lr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===SV}(t)||Array.isArray(t)||!!t[XC]||!!(!((e=t.constructor)===null||e===void 0)&&e[XC])||lm(t)||um(t))}function Vi(t,e,n){n===void 0&&(n=!1),rs(t)===0?(n?Object.keys:Ro)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function rs(t){var e=t[Ge];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:lm(t)?2:um(t)?3:0}function Io(t,e){return rs(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mV(t,e){return rs(t)===2?t.get(e):t[e]}function T0(t,e,n){var r=rs(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function x0(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function lm(t){return bV&&t instanceof Map}function um(t){return OV&&t instanceof Set}function hi(t){return t.o||t.t}function cm(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=R0(t);delete e[Ge];for(var n=Ro(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function fm(t,e){return e===void 0&&(e=!1),dm(t)||Xr(t)||!lr(t)||(rs(t)>1&&(t.set=t.add=t.clear=t.delete=yV),Object.freeze(t),e&&Vi(t,function(n,r){return fm(r,!0)},!0)),t}function yV(){xn(2)}function dm(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wn(t){var e=Pp[t];return e||xn(18,t),e}function vV(t,e){Pp[t]||(Pp[t]=e)}function vp(){return Ra}function Ld(t,e){e&&(Wn("Patches"),t.u=[],t.s=[],t.v=e)}function Zu(t){Cp(t),t.p.forEach(CV),t.p=null}function Cp(t){t===Ra&&(Ra=t.l)}function $C(t){return Ra={p:[],l:Ra,h:t,m:!0,_:0}}function CV(t){var e=t[Ge];e.i===0||e.i===1?e.j():e.g=!0}function Bd(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Wn("ES5").S(e,t,r),r?(n[Ge].P&&(Zu(e),xn(4)),lr(t)&&(t=_u(e,t),e.l||ec(e,t)),e.u&&Wn("Patches").M(n[Ge].t,t,e.u,e.s)):t=_u(e,n,[]),Zu(e),e.u&&e.v(e.u,e.s),t!==I0?t:void 0}function _u(t,e,n){if(dm(e))return e;var r=e[Ge];if(!r)return Vi(e,function(g,y){return KC(t,r,e,g,y,n)},!0),e;if(r.A!==t)return e;if(!r.P)return ec(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=cm(r.k):r.o,s=i,m=!1;r.i===3&&(s=new Set(i),i.clear(),m=!0),Vi(s,function(g,y){return KC(t,r,i,g,y,n,m)}),ec(t,i,!1),n&&t.u&&Wn("Patches").N(r,n,t.u,t.s)}return r.o}function KC(t,e,n,r,i,s,m){if(Xr(i)){var g=_u(t,i,s&&e&&e.i!==3&&!Io(e.R,r)?s.concat(r):void 0);if(T0(n,r,g),!Xr(g))return;t.m=!1}else m&&n.add(i);if(lr(i)&&!dm(i)){if(!t.h.D&&t._<1)return;_u(t,i),e&&e.A.l||ec(t,i)}}function ec(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&fm(e,n)}function jd(t,e){var n=t[Ge];return(n?hi(n):t)[e]}function qC(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Or(t){t.P||(t.P=!0,t.l&&Or(t.l))}function Nd(t){t.o||(t.o=cm(t.t))}function Ep(t,e,n){var r=lm(e)?Wn("MapSet").F(e,n):um(e)?Wn("MapSet").T(e,n):t.O?function(i,s){var m=Array.isArray(i),g={i:m?1:0,A:s?s.A:vp(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},y=g,P=Da;m&&(y=[g],P=Qs);var T=Proxy.revocable(y,P),x=T.revoke,C=T.proxy;return g.k=C,g.j=x,C}(e,n):Wn("ES5").J(e,n);return(n?n.A:vp()).p.push(r),r}function EV(t){return Xr(t)||xn(22,t),function e(n){if(!lr(n))return n;var r,i=n[Ge],s=rs(n);if(i){if(!i.P&&(i.i<4||!Wn("ES5").K(i)))return i.t;i.I=!0,r=GC(n,s),i.I=!1}else r=GC(n,s);return Vi(r,function(m,g){i&&mV(i.t,m)===g||T0(r,m,e(g))}),s===3?new Set(r):r}(t)}function GC(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return cm(t)}function PV(){function t(s,m){var g=i[s];return g?g.enumerable=m:i[s]=g={configurable:!0,enumerable:m,get:function(){var y=this[Ge];return Da.get(y,s)},set:function(y){var P=this[Ge];Da.set(P,s,y)}},g}function e(s){for(var m=s.length-1;m>=0;m--){var g=s[m][Ge];if(!g.P)switch(g.i){case 5:r(g)&&Or(g);break;case 4:n(g)&&Or(g)}}}function n(s){for(var m=s.t,g=s.k,y=Ro(g),P=y.length-1;P>=0;P--){var T=y[P];if(T!==Ge){var x=m[T];if(x===void 0&&!Io(m,T))return!0;var C=g[T],E=C&&C[Ge];if(E?E.t!==x:!x0(C,x))return!0}}var v=!!m[Ge];return y.length!==Ro(m).length+(v?0:1)}function r(s){var m=s.k;if(m.length!==s.t.length)return!0;var g=Object.getOwnPropertyDescriptor(m,m.length-1);if(g&&!g.get)return!0;for(var y=0;y<m.length;y++)if(!m.hasOwnProperty(y))return!0;return!1}var i={};vV("ES5",{J:function(s,m){var g=Array.isArray(s),y=function(T,x){if(T){for(var C=Array(x.length),E=0;E<x.length;E++)Object.defineProperty(C,""+E,t(E,!0));return C}var v=R0(x);delete v[Ge];for(var u=Ro(v),c=0;c<u.length;c++){var p=u[c];v[p]=t(p,T||!!v[p].enumerable)}return Object.create(Object.getPrototypeOf(x),v)}(g,s),P={i:g?5:4,A:m?m.A:vp(),P:!1,I:!1,R:{},l:m,t:s,k:y,o:null,g:!1,C:!1};return Object.defineProperty(y,Ge,{value:P,writable:!0}),y},S:function(s,m,g){g?Xr(m)&&m[Ge].A===s&&e(s.p):(s.u&&function y(P){if(P&&typeof P=="object"){var T=P[Ge];if(T){var x=T.t,C=T.k,E=T.R,v=T.i;if(v===4)Vi(C,function(a){a!==Ge&&(x[a]!==void 0||Io(x,a)?E[a]||y(C[a]):(E[a]=!0,Or(T)))}),Vi(x,function(a){C[a]!==void 0||Io(C,a)||(E[a]=!1,Or(T))});else if(v===5){if(r(T)&&(Or(T),E.length=!0),C.length<x.length)for(var u=C.length;u<x.length;u++)E[u]=!1;else for(var c=x.length;c<C.length;c++)E[c]=!0;for(var p=Math.min(C.length,x.length),o=0;o<p;o++)C.hasOwnProperty(o)||(E[o]=!0),E[o]===void 0&&y(C[o])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var JC,Ra,hm=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",bV=typeof Map<"u",OV=typeof Set<"u",YC=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",I0=hm?Symbol.for("immer-nothing"):((JC={})["immer-nothing"]=!0,JC),XC=hm?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=hm?Symbol.for("immer-state"):"__$immer_state",SV=""+Object.prototype.constructor,Ro=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,R0=Object.getOwnPropertyDescriptors||function(t){var e={};return Ro(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Pp={},Da={get:function(t,e){if(e===Ge)return t;var n=hi(t);if(!Io(n,e))return function(i,s,m){var g,y=qC(s,m);return y?"value"in y?y.value:(g=y.get)===null||g===void 0?void 0:g.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!lr(r)?r:r===jd(t.t,e)?(Nd(t),t.o[e]=Ep(t.A.h,r,t)):r},has:function(t,e){return e in hi(t)},ownKeys:function(t){return Reflect.ownKeys(hi(t))},set:function(t,e,n){var r=qC(hi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=jd(hi(t),e),s=i==null?void 0:i[Ge];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(x0(n,i)&&(n!==void 0||Io(t.t,e)))return!0;Nd(t),Or(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return jd(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Nd(t),Or(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=hi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){xn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){xn(12)}},Qs={};Vi(Da,function(t,e){Qs[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Qs.deleteProperty=function(t,e){return Qs.set.call(this,t,e,void 0)},Qs.set=function(t,e,n){return Da.set.call(this,t[0],e,n,t[0])};var TV=function(){function t(n){var r=this;this.O=YC,this.D=!0,this.produce=function(i,s,m){if(typeof i=="function"&&typeof s!="function"){var g=s;s=i;var y=r;return function(u){var c=this;u===void 0&&(u=g);for(var p=arguments.length,o=Array(p>1?p-1:0),a=1;a<p;a++)o[a-1]=arguments[a];return y.produce(u,function(d){var h;return(h=s).call.apply(h,[c,d].concat(o))})}}var P;if(typeof s!="function"&&xn(6),m!==void 0&&typeof m!="function"&&xn(7),lr(i)){var T=$C(r),x=Ep(r,i,void 0),C=!0;try{P=s(x),C=!1}finally{C?Zu(T):Cp(T)}return typeof Promise<"u"&&P instanceof Promise?P.then(function(u){return Ld(T,m),Bd(u,T)},function(u){throw Zu(T),u}):(Ld(T,m),Bd(P,T))}if(!i||typeof i!="object"){if((P=s(i))===void 0&&(P=i),P===I0&&(P=void 0),r.D&&fm(P,!0),m){var E=[],v=[];Wn("Patches").M(i,P,E,v),m(E,v)}return P}xn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(P){for(var T=arguments.length,x=Array(T>1?T-1:0),C=1;C<T;C++)x[C-1]=arguments[C];return r.produceWithPatches(P,function(E){return i.apply(void 0,[E].concat(x))})};var m,g,y=r.produce(i,s,function(P,T){m=P,g=T});return typeof Promise<"u"&&y instanceof Promise?y.then(function(P){return[P,m,g]}):[y,m,g]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){lr(n)||xn(8),Xr(n)&&(n=EV(n));var r=$C(this),i=Ep(this,n,void 0);return i[Ge].C=!0,Cp(r),i},e.finishDraft=function(n,r){var i=n&&n[Ge],s=i.A;return Ld(s,r),Bd(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!YC&&xn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var m=Wn("Patches").$;return Xr(n)?m(n,r):this.produce(n,function(g){return m(g,r)})},t}(),rn=new TV,D0=rn.produce;rn.produceWithPatches.bind(rn);rn.setAutoFreeze.bind(rn);rn.setUseProxies.bind(rn);rn.applyPatches.bind(rn);rn.createDraft.bind(rn);rn.finishDraft.bind(rn);function wa(t){return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}function xV(t,e){if(wa(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IV(t){var e=xV(t,"string");return wa(e)==="symbol"?e:String(e)}function RV(t,e,n){return e=IV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){RV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var _C=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Fd=function(){return Math.random().toString(36).substring(7).split("").join(".")},tc={INIT:"@@redux/INIT"+Fd(),REPLACE:"@@redux/REPLACE"+Fd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fd()}};function DV(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function w0(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mt(1));return n(w0)(t,e)}if(typeof t!="function")throw new Error(Mt(2));var i=t,s=e,m=[],g=m,y=!1;function P(){g===m&&(g=m.slice())}function T(){if(y)throw new Error(Mt(3));return s}function x(u){if(typeof u!="function")throw new Error(Mt(4));if(y)throw new Error(Mt(5));var c=!0;return P(),g.push(u),function(){if(c){if(y)throw new Error(Mt(6));c=!1,P();var o=g.indexOf(u);g.splice(o,1),m=null}}}function C(u){if(!DV(u))throw new Error(Mt(7));if(typeof u.type>"u")throw new Error(Mt(8));if(y)throw new Error(Mt(9));try{y=!0,s=i(s,u)}finally{y=!1}for(var c=m=g,p=0;p<c.length;p++){var o=c[p];o()}return u}function E(u){if(typeof u!="function")throw new Error(Mt(10));i=u,C({type:tc.REPLACE})}function v(){var u,c=x;return u={subscribe:function(o){if(typeof o!="object"||o===null)throw new Error(Mt(11));function a(){o.next&&o.next(T())}a();var d=c(a);return{unsubscribe:d}}},u[_C]=function(){return this},u}return C({type:tc.INIT}),r={dispatch:C,subscribe:x,getState:T,replaceReducer:E},r[_C]=v,r}function wV(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:tc.INIT});if(typeof r>"u")throw new Error(Mt(12));if(typeof n(void 0,{type:tc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function M0(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),m;try{wV(n)}catch(g){m=g}return function(y,P){if(y===void 0&&(y={}),m)throw m;for(var T=!1,x={},C=0;C<s.length;C++){var E=s[C],v=n[E],u=y[E],c=v(u,P);if(typeof c>"u")throw P&&P.type,new Error(Mt(14));x[E]=c,T=T||c!==u}return T=T||s.length!==Object.keys(y).length,T?x:y}}function nc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function MV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Mt(15))},m={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},g=e.map(function(y){return y(m)});return s=nc.apply(void 0,g)(i.dispatch),ZC(ZC({},i),{},{dispatch:s})}}}function V0(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(m){return function(g){return typeof g=="function"?g(i,s,t):m(g)}}};return e}var A0=V0();A0.withExtraArgument=V0;const eE=A0;var L0=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VV=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,m;return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(P){return function(T){return y([P,T])}}function y(P){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=P[0]&2?i.return:P[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,P[1])).done)return s;switch(i=0,s&&(P=[P[0]&2,s.value]),P[0]){case 0:case 1:s=P;break;case 4:return n.label++,{value:P[1],done:!1};case 5:n.label++,i=P[1],P=[0];continue;case 7:P=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(P[0]===6||P[0]===2)){n=0;continue}if(P[0]===3&&(!s||P[1]>s[0]&&P[1]<s[3])){n.label=P[1];break}if(P[0]===6&&n.label<s[1]){n.label=s[1],s=P;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(P);break}s[2]&&n.ops.pop(),n.trys.pop();continue}P=e.call(t,n)}catch(T){P=[6,T],i=0}finally{r=s=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},zo=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},AV=Object.defineProperty,LV=Object.defineProperties,BV=Object.getOwnPropertyDescriptors,tE=Object.getOwnPropertySymbols,jV=Object.prototype.hasOwnProperty,NV=Object.prototype.propertyIsEnumerable,nE=function(t,e,n){return e in t?AV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Wr=function(t,e){for(var n in e||(e={}))jV.call(e,n)&&nE(t,n,e[n]);if(tE)for(var r=0,i=tE(e);r<i.length;r++){var n=i[r];NV.call(e,n)&&nE(t,n,e[n])}return t},Ud=function(t,e){return LV(t,BV(e))},FV=function(t,e,n){return new Promise(function(r,i){var s=function(y){try{g(n.next(y))}catch(P){i(P)}},m=function(y){try{g(n.throw(y))}catch(P){i(P)}},g=function(y){return y.done?r(y.value):Promise.resolve(y.value).then(s,m)};g((n=n.apply(t,e)).next())})},UV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nc:nc.apply(null,arguments)};function QV(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var WV=function(t){L0(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,zo([void 0],n[0].concat(this)))):new(e.bind.apply(e,zo([void 0],n.concat(this))))},e}(Array),zV=function(t){L0(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,zo([void 0],n[0].concat(this)))):new(e.bind.apply(e,zo([void 0],n.concat(this))))},e}(Array);function bp(t){return lr(t)?D0(t,function(){}):t}function HV(t){return typeof t=="boolean"}function $V(){return function(e){return KV(e)}}function KV(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new WV;return n&&(HV(n)?r.push(eE):r.push(eE.withExtraArgument(n.extraArgument))),r}var qV=!0;function GV(t){var e=$V(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,m=s===void 0?e():s,g=n.devTools,y=g===void 0?!0:g,P=n.preloadedState,T=P===void 0?void 0:P,x=n.enhancers,C=x===void 0?void 0:x,E;if(typeof i=="function")E=i;else if(QV(i))E=M0(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=m;typeof v=="function"&&(v=v(e));var u=MV.apply(void 0,v),c=nc;y&&(c=UV(Wr({trace:!qV},typeof y=="object"&&y)));var p=new zV(u),o=p;Array.isArray(C)?o=zo([u],C):typeof C=="function"&&(o=C(p));var a=c.apply(void 0,o);return w0(E,T,a)}function zr(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Wr(Wr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function B0(t){var e={},n=[],r,i={addCase:function(s,m){var g=typeof s=="string"?s:s.type;if(g in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[g]=m,i},addMatcher:function(s,m){return n.push({matcher:s,reducer:m}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function JV(t){return typeof t=="function"}function YV(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?B0(e):[e,n,r],s=i[0],m=i[1],g=i[2],y;if(JV(t))y=function(){return bp(t())};else{var P=bp(t);y=function(){return P}}function T(x,C){x===void 0&&(x=y());var E=zo([s[C.type]],m.filter(function(v){var u=v.matcher;return u(C)}).map(function(v){var u=v.reducer;return u}));return E.filter(function(v){return!!v}).length===0&&(E=[g]),E.reduce(function(v,u){if(u)if(Xr(v)){var c=v,p=u(c,C);return p===void 0?v:p}else{if(lr(v))return D0(v,function(o){return u(o,C)});var p=u(v,C);if(p===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return v},x)}return T.getInitialState=y,T}function XV(t,e){return t+"/"+e}function j0(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:bp(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},m={},g={};i.forEach(function(T){var x=r[T],C=XV(e,T),E,v;"reducer"in x?(E=x.reducer,v=x.prepare):E=x,s[T]=E,m[C]=E,g[T]=v?zr(C,v):zr(C)});function y(){var T=typeof t.extraReducers=="function"?B0(t.extraReducers):[t.extraReducers],x=T[0],C=x===void 0?{}:x,E=T[1],v=E===void 0?[]:E,u=T[2],c=u===void 0?void 0:u,p=Wr(Wr({},C),m);return YV(n,function(o){for(var a in p)o.addCase(a,p[a]);for(var d=0,h=v;d<h.length;d++){var f=h[d];o.addMatcher(f.matcher,f.reducer)}c&&o.addDefaultCase(c)})}var P;return{name:e,reducer:function(T,x){return P||(P=y()),P(T,x)},actions:g,caseReducers:s,getInitialState:function(){return P||(P=y()),P.getInitialState()}}}var kV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZV=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=kV[Math.random()*64|0];return e},_V=["name","message","stack","code"],Qd=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),rE=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),eA=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=_V;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=zr(e+"/fulfilled",function(P,T,x,C){return{payload:P,meta:Ud(Wr({},C||{}),{arg:x,requestId:T,requestStatus:"fulfilled"})}}),s=zr(e+"/pending",function(P,T,x){return{payload:void 0,meta:Ud(Wr({},x||{}),{arg:T,requestId:P,requestStatus:"pending"})}}),m=zr(e+"/rejected",function(P,T,x,C,E){return{payload:C,error:(r&&r.serializeError||eA)(P||"Rejected"),meta:Ud(Wr({},E||{}),{arg:x,requestId:T,rejectedWithValue:!!C,requestStatus:"rejected",aborted:(P==null?void 0:P.name)==="AbortError",condition:(P==null?void 0:P.name)==="ConditionError"})}}),g=typeof AbortController<"u"?AbortController:function(){function P(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return P.prototype.abort=function(){},P}();function y(P){return function(T,x,C){var E=r!=null&&r.idGenerator?r.idGenerator(P):ZV(),v=new g,u;function c(o){u=o,v.abort()}var p=function(){return FV(this,null,function(){var o,a,d,h,f,l,O;return VV(this,function(V){switch(V.label){case 0:return V.trys.push([0,4,,5]),h=(o=r==null?void 0:r.condition)==null?void 0:o.call(r,P,{getState:x,extra:C}),nA(h)?[4,h]:[3,2];case 1:h=V.sent(),V.label=2;case 2:if(h===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return f=new Promise(function(A,w){return v.signal.addEventListener("abort",function(){return w({name:"AbortError",message:u||"Aborted"})})}),T(s(E,P,(a=r==null?void 0:r.getPendingMeta)==null?void 0:a.call(r,{requestId:E,arg:P},{getState:x,extra:C}))),[4,Promise.race([f,Promise.resolve(n(P,{dispatch:T,getState:x,extra:C,requestId:E,signal:v.signal,abort:c,rejectWithValue:function(A,w){return new Qd(A,w)},fulfillWithValue:function(A,w){return new rE(A,w)}})).then(function(A){if(A instanceof Qd)throw A;return A instanceof rE?i(A.payload,E,P,A.meta):i(A,E,P)})])];case 3:return d=V.sent(),[3,5];case 4:return l=V.sent(),d=l instanceof Qd?m(null,E,P,l.payload,l.meta):m(l,E,P),[3,5];case 5:return O=r&&!r.dispatchConditionRejection&&m.match(d)&&d.meta.condition,O||T(d),[2,d]}})})}();return Object.assign(p,{abort:c,requestId:E,arg:P,unwrap:function(){return p.then(tA)}})}}return Object.assign(y,{pending:s,rejected:m,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function tA(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function nA(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var pm="listenerMiddleware";zr(pm+"/add");zr(pm+"/removeAll");zr(pm+"/remove");var iE;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);PV();const N0=j0({name:"bg",initialState:{text:"bgLandingPage",breathingAnimation:!1},reducers:{updateBg:(t,e)=>{const n=e.payload;t.text=n},updateBreathing:t=>{t.breathingAnimation=!t.breathingAnimation,console.log(t.breathingAnimation)}}}),{updateBg:$i,updateBreathing:rA}=N0.actions,iA=N0.reducer,oA=k.div`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: white;
  border-radius: 50px;
`,sA=k.button`
  background-color: white;
  color: #797bec;
  width: 30px;
  height: 30px;
  border: none;
  border-radius: 50%;
  cursor: pointer;
`,aA=k.input`
  width: 100%;
  height: 10px;
  margin-left: 10px;
  background: white;
  -webkit-appearance: none;

  &::-webkit-slider-runnable-track {
    background: #b3b4ef;
    border: none;
    height: 3px;
  }

  &::-moz-range-track {
    background: #797bec;
    border: none;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 10px;
    height: 10px;
    background-color: #797bec;
    border-radius: 50%;
    margin-top: -4px;
  }
  &::-moz-range-progress {
    height: 3px;
    color: #797bec;
  }

  &::-webkit-progress-value {
    height: 3px;
    color: #797bec;
  }
`,lA=k.i`
  font-size: 24px;
  color: #797bec;
`,uA=k.input`
  width: 60px;
  height: 10px;
  background: white;
  -webkit-appearance: none;
  &::-webkit-slider-runnable-track {
    background: #b3b4ef;
    border: none;
    height: 3px;
  }

  &::-moz-range-track {
    background: #797bec;
    border: none;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 10px;
    height: 10px;
    background-color: #797bec;
    border-radius: 50%;
    margin-top: -4px;
  }
`,cA=({src:t})=>{const[e,n]=X.useState(!1),[r,i]=X.useState(0),[s,m]=X.useState(0),[g,y]=X.useState(1),[P,T]=X.useState(!1),x=p=>{const o=p.target.parentNode.querySelector("audio");e?o.pause():o.play(),n(!e)},C=p=>{i(p.target.currentTime)},E=p=>{m(p.target.duration)},v=p=>{const o=p.target.value;p.target.parentNode.querySelector("audio").currentTime=o,i(o)},u=p=>{const o=p.target.value;p.target.parentNode.querySelector("audio").volume=o,y(o)},c=p=>{const o=Math.floor(p/60),a=Math.floor(p%60);return`${o}:${a.toString().padStart(2,"0")}`};return K.jsxs(oA,{children:[K.jsx(sA,{onClick:x,children:e?"❚❚":"▶"}),K.jsx("audio",{src:t,onTimeUpdate:C,onDurationChange:E}),K.jsx("span",{style:{color:"#797bec"},children:c(r)}),K.jsx(aA,{type:"range",min:0,max:s,value:r,onChange:v}),K.jsx(lA,{onClick:()=>T(!P),children:"🔊"}),P&&K.jsx(uA,{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:u})]})},fA=k.div`
  padding: 30px;
  width: 23%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  background: rgba(255, 255, 255, 0.6);
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
  border-radius: 25px;
`,Wd=({track:t})=>K.jsxs(fA,{children:[K.jsx("img",{src:t.imgUrl,style:{borderRadius:"18px"},width:250,height:250}),t.artists.map((e,n)=>K.jsx("a",{href:e.artistUrl,target:"_blank",children:e.artistName},n)),K.jsx("a",{href:t.url,target:"_blank",children:t.trackName}),K.jsx(cA,{src:t.previewUrl},t.previewUrl)]}),dA=m0`
  to {
    transform: rotate(360deg);
  }
`,hA=k.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,pA=k.div`
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-left-color: #333;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: ${dA} 0.8s linear infinite;
`,F0=()=>K.jsx(hA,{children:K.jsx(pA,{})}),gA="18d4de0e32314d02b42308e9357cbb2e",mA="b286a9f61c344b79b96eaee2c58c3b68";let zd="";const yA=k.div`
  display: flex;
  justify-content: space-between;
  height: 80%;
`,vA=k.span`
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 25px;
  text-align: center;
  color: #797bec;
`,CA=k.button`
  width: 217px;
  height: 41px;
  background: rgba(255, 255, 255, 0.45);
  border-radius: 50px;
  border: none;
`,EA=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(0),[i,s]=X.useState(!0),m=ii();X.useEffect(()=>{m($i("bgDefault"))},[m]),X.useEffect(()=>{fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{Authorization:"Basic "+btoa(gA+":"+mA),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"client_credentials"})}).then(P=>P.json()).then(P=>{zd=P.access_token,y(zd)}).catch(P=>console.error(P))},[]);const g=P=>{for(let T=P.length-1;T>0;T--){const x=Math.floor(Math.random()*(T+1));[P[T],P[x]]=[P[x],P[T]]}return P},y=P=>{const T=Math.floor(Math.random()*301);fetch(`
      https://api.spotify.com/v1/playlists/2RLZUbbjd13JFFPjsFkIfj/tracks?offset=${T}&limit=100&locale=pl-PL,pl;q=0.9,en-US;q=0.8,en;q=0.7&access_token=`+P).then(x=>x.json()).then(x=>{console.log(x.items);let C=x.items.map(E=>({url:E.track.external_urls.spotify,imgUrl:E.track.album.images[1].url,trackName:E.track.name,artists:E.track.artists.map(v=>({artistName:v.name,artistUrl:v.external_urls.spotify})),previewUrl:E.track.preview_url}));console.log(C),C=g(C),e(C),s(!1)}).catch(x=>console.error(x))};return n>90&&(e([]),r(0),s(!0),y(zd)),K.jsx(K.Fragment,{children:i?K.jsx(F0,{}):K.jsxs(K.Fragment,{children:[K.jsxs(yA,{children:[K.jsx(Wd,{track:t[n]}),K.jsx(Wd,{track:t[n+1]}),K.jsx(Wd,{track:t[n+2]})]}),K.jsx(CA,{onClick:()=>r(n+3),style:{marginTop:"70px"},children:K.jsx(vA,{children:"load next songs"})})]})})},PA="https://api.thecatapi.com/v1/",bA="https://api.thedogapi.com/v1/",OA="https://randomfox.ca/floof",oE="DEMO-API-KEY",SA=k.button`
  background: rgba(255, 255, 255, 0.45);
  color: #797bec;
  border: transparent;
  border-radius: 50px;
  margin: 0 auto;
  cursor: pointer;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 25px;
  text-align: center;
  padding: 5px 40px;
`,TA=k.button`
  background: rgba(255, 255, 255, 0.45);
  color: #797bec;
  border: transparent;
  border-radius: 50px;
  cursor: pointer;
  margin-bottom: 20px;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  line-height: 25px;
  text-align: center;
  padding: 2px 10px;
`,xA=k.button`
  background: rgba(255, 255, 255, 0.45);
  color: #797bec;
  border: transparent;
  border-radius: 50px;
  cursor: pointer;
  margin: 10px;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 25px;
  text-align: center;
  padding: 5px 40px;
`,IA=k.img`
  width: 500px;
  height: 500px;
  background-size: contain;
  background-repeat: no-repeat;
  background: rgba(255, 255, 255, 0.8);
  padding: 20px;
  border-radius: 24px;
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
`,RA=()=>K.jsx(K.Fragment,{children:K.jsx("div",{style:{display:"flex",alignSelf:"center",height:"100%"},children:K.jsx(wA,{})})}),DA=[{animal:"Dog",label:"dog"},{animal:"Cat",label:"cat"},{animal:"Fox",label:"fox"}],wA=()=>{const[t,e]=X.useState(!1),[n,r]=X.useState(""),[i,s]=X.useState("Dog");ii()($i("bgDefault")),X.useEffect(()=>{g("Dog")},[]);const g=y=>{if(console.log(y),y==="Dog"){console.log("step 1");const P=`${bA}images/search?limit=1`;fetch(P,{headers:{"x-api-key":oE}}).then(T=>T.json()).then(T=>{console.log(T),T.map(function(C){r(C.url),s("Dog"),e(!1)})}).catch(function(T){console.log(T)})}else if(y==="Cat"){console.log("step 2");const P=`${PA}images/search?limit=1`;fetch(P,{headers:{"x-api-key":oE}}).then(T=>T.json()).then(T=>{console.log(T),T.map(function(C){r(C.url),s("Cat"),e(!1)})}).catch(function(T){console.log(T)})}else y==="Fox"&&(console.log("step 3"),fetch(OA,{}).then(T=>T.json()).then(T=>{console.log(T),r(T.image),s("Fox"),e(!1)}).catch(function(T){console.log(T)}))};return K.jsx(K.Fragment,{children:K.jsxs("div",{style:{display:"flex",flexDirection:"column-reverse",margin:"0 auto",gap:"15px",alignSelf:"center"},children:[K.jsxs("div",{children:[K.jsx(TA,{onClick:()=>g(i),children:"generate new picture"}),K.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingBottom:"10px"},children:[K.jsx(SA,{onClick:()=>e(y=>!y),children:"animals"}),t&&K.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:DA.map(y=>K.jsx("div",{children:K.jsx(xA,{onClick:()=>g(y.animal),children:y.label})}))})]})]}),K.jsx("div",{style:{display:"flex",justifyContent:"center"},children:K.jsx(IA,{src:n})})]})})},MA=k.div`
  height: 100%;
  display: flex;
  align-items: flex-end;
`,VA=k.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,AA=k.p`
  font-size: 20px;
  color: #797bec;
  position: absolute;
  margin: auto;
`,LA=k.p`
  position: relative;
  text-align: center;
  font-size: 22px;
  color: #ffffff;
`,BA=k.div`
  z-index: 998;
  position: absolute;
  margin: auto;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: 50%;
  width: 140px;
  height: 140px;
  background-color: white;
  display: flex;
  justify-content: center;
  animation: animation 8s 14 normal backwards;
  animation-play-state: ${t=>t.state?"running":"paused"};
  @keyframes animation {
    10%,
    90% {
      transform: scale(1);
    }
    40%,
    60% {
      transform: scale(2);
    }
  }
`,jA=k.div`
  z-index: 999;
  text-align: center;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
`,NA=k.button`
  background-color: white;
  color: #797bec;
  border: none;
  border-radius: 24px;
  cursor: pointer;
  z-index: 999;
  height: 41px;
  width: 217px;
  margin-bottom: 12px;
  font-weigth: 400;
  font-size: 20px;
  font-family: "Outfit", sans-serif;
  background-color: #ffffff84;
  &:hover {
    transition: 0.5s;
    background-color: white;
  }
`;function FA(){const[t,e]=X.useState(!1),[n,r]=X.useState(!1),[i,s]=X.useState("inhale"),[m,g]=X.useState(0),[y,P]=X.useState(!1),[T,x]=X.useState(!1),[C,E]=X.useState(!0);X.useEffect(()=>{if(T&&y&&m<28){const c=setTimeout(()=>{s(p=>p==="inhale"?"exhale":"inhale"),g(p=>p+1)},4e3);return()=>clearTimeout(c)}},[m,y]);const v=ii();X.useEffect(()=>{v($i("bgCircle"))},[v]);const u=()=>{e(!t),r(!n),v(rA()),s(i),P(c=>!c),x(!0),E(!1)};return K.jsx(K.Fragment,{children:K.jsxs(MA,{children:[K.jsx(BA,{state:t,children:K.jsx(VA,{children:T&&K.jsx(AA,{children:i})})}),K.jsxs(jA,{children:[C&&K.jsx(LA,{children:"Let's breath together"}),K.jsx(NA,{onClick:u,children:n?"pause":"start"})]})]})})}const UA=k.div`
  background-image: url("src/assets/feelingbetter esukt.png");
  background-repeat: no-repeat;
  background-position: right;
  background-size: cover;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  font-family: "Outfit", sans-serif;
`,QA=k.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 500px;
  margin-left: 110px;
  color: #797bec;
`,WA=k.div`
  display: flex;
  gap: 30px;
  flex-direction: column;
  margin-top: 240px;
`,zA=k.div`
  position: absolute;
  width: 680px;
  height: 232px;
  left: 144px;
  top: 108px;
  font-family: "Outfit", sans-serif;
  font-style: normal;
  font-weight: 700;
  font-size: 92px;
  line-height: 122px;
  color: #ffffff;
`,Hd=k.div`
  cursor: pointer;
  box-sizing: border-box;
  padding: 10px;
  border: 3px solid #ffffff;
  border-radius: 50px;
  color: white;
  text-align: center;
  &:hover {
    transition: 0.3s ease-in;
    opacity: 0.9;
    transform: scale(103%);
    background-color: white;
    color: #e3b4ab;
  }

  &:active {
    transition: 0.1s ease-in;
    transform: scale(99%);
  }
`,HA=t=>{const e=ns(),n=()=>{t.stepReset(5)};return K.jsx(UA,{children:K.jsxs(QA,{children:[K.jsx(zA,{children:"Are you feeling better?"}),K.jsxs(WA,{children:[K.jsx(Hd,{onClick:()=>e("/home"),children:"Yes, I feel better!"}),K.jsx(Hd,{onClick:n,children:"No, I need to do it again"}),K.jsx(Hd,{onClick:()=>e("/support"),children:"No, I need help"})]})]})})},$A=m0`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,KA=k.div`
  width: 90%;
  height: 70%;
  border: 0;
`,qA=k.div`
  width: 100%;
  height: 100%;

  animation: ${$A} 0.5s ease-in-out;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
`,GA=k.div`
  margin: auto;
  width: 90vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,JA=k.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 20px;
  gap: 1px;
`,sE=k.button`
  background: rgba(255, 255, 255, 0.45);
  border-radius: 50px;
  border: 0;
  width: 30px;
  height: 30px;
  margin-inline: 10px;
  color: #797bec;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 500;
  font-size: 20px;
  line-height: 25px;
  text-align: center;
`,$d=k.button`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 0;
  background-color: ${t=>t.currentStep?"white":"rgba(255, 255, 255, 0.45)"};
  color: #797bec;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 500;
  font-size: 20px;
  line-height: 25px;
  text-align: center;
`,YA=()=>{const[t,e]=X.useState(1),n=ii();X.useEffect(()=>{n($i("bgDefault"))},[n]);const r=()=>{e(1)};return K.jsx(GA,{children:t===4?K.jsx(HA,{stepReset:r}):K.jsxs(K.Fragment,{children:[K.jsx(KA,{children:K.jsxs(qA,{children:[t===1&&K.jsx(EA,{}),t===2&&K.jsx(FA,{}),t===3&&K.jsx(RA,{})]},t)}),K.jsxs(JA,{children:[K.jsx(sE,{onClick:()=>e(t-1),disabled:t===1,children:"<"}),K.jsx($d,{currentStep:t===1,onClick:()=>e(1),children:"1"}),K.jsx($d,{currentStep:t===2,onClick:()=>e(2),children:"2"}),K.jsx($d,{currentStep:t===3,onClick:()=>e(3),children:"3"}),K.jsx(sE,{onClick:()=>e(t+1),children:">"})]})]})})},XA=k.img`
  width: 480px;
`,kA=k.div`
  background-image: url("src/assets/g page.png");
  background-size: auto 100%;
  background-repeat: no-repeat;
  background-position: right;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  font-family: "Outfit", sans-serif;
`,ZA=k.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 500px;
  margin-left: 110px;
  color: #797bec;
`,_A=k.div`
  display: flex;
  gap: 30px;
`,eL=k.div`
  margin-bottom: 80px;
  margin-top: -10px;
`,tL=k.p`
  margin-bottom: 50px;
  padding-inline: 40px;
`,aE=k.div`
  cursor: pointer;
  width: 180px;
  height: 56px;
  border-radius: 50px;
  background: #797bec;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
  text-transform: uppercase;
  font-weight: 700;

  &:hover {
    transition: 0.3s ease-in;
    opacity: 0.9;
    transform: scale(103%);
  }

  &:active {
    transition: 0.1s ease-in;
    transform: scale(99%);
  }
`,nL=()=>{const t=ns(),e=ii();return X.useEffect(()=>{e($i("bgLandingPage"))},[e]),K.jsx(kA,{children:K.jsxs(ZA,{children:[K.jsx(XA,{src:"src/assets/logo.png"}),K.jsx(eL,{children:"let your stress drop"}),K.jsx(tL,{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Modi, facilis officia velit facere libero reprehenderit! Perspiciatis saepe illum repellat labore? Deleniti atque ex qui? Consequatur obcaecati repellat quod tempore perspiciatis."}),K.jsxs(_A,{children:[K.jsx(aE,{onClick:()=>t("/register"),children:"SIGN UP"}),K.jsx(aE,{onClick:()=>t("/login"),children:"SIGN IN"})]})]})})},rL=k.div`
  background-color: ;
  background-size: auto 100%;
  background-repeat: no-repeat;
  background-position: right;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  font-family: "Outfit", sans-serif;
`,iL=k.img`
  width: 250px;
  height: 78.95px;
  left: 140px;
  top: 116px;
`,oL=k.a`
  width: 331px;
  height: 30px;
  left: 922px;
  top: 100px;
  font-family: "Outfit";
  font-style: normal;
  font-size: 12px;
  line-height: 30px;
  display: flex;
  margin-left: 500px;
  align-items: center;
  text-align: center;
  color: #ffffff;
`,sL=k.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 500px;
  margin-left: 110px;
  color: #797bec;
`,aL=k.div`
  display: flex;
  gap: 30px;
`,lL=k.div`
  margin-bottom: 100px;
  margin-top: 100px;
`,uL=k.p`
  margin-bottom: 50px;
  padding-inline: 40px;
`,Kd=k.button`
  cursor: pointer;
  width: 180px;
  height: 56px;
  border-radius: 50px;
  background: #797bec;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
  text-transform: uppercase;
  font-weight: 700;

  &:hover {
    transition: 0.3s ease-in;
    opacity: 0.9;
    transform: scale(103%);
  }

  &:active {
    transition: 0.1s ease-in;
    transform: scale(99%);
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],m=t[n++],g=t[n++],y=((i&7)<<18|(s&63)<<12|(m&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const s=t[n++],m=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|m&63)}}return e.join("")},Q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],m=i+1<t.length,g=m?t[i+1]:0,y=i+2<t.length,P=y?t[i+2]:0,T=s>>2,x=(s&3)<<4|g>>4;let C=(g&15)<<2|P>>6,E=P&63;y||(E=64,m||(C=64)),r.push(n[T],n[x],n[C],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],g=i<t.length?n[t.charAt(i)]:0;++i;const P=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||g==null||P==null||x==null)throw new fL;const C=s<<2|g>>4;if(r.push(C),P!==64){const E=g<<4&240|P>>2;if(r.push(E),x!==64){const v=P<<6&192|x;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dL=function(t){const e=U0(t);return Q0.encodeByteArray(e,!0)},rc=function(t){return dL(t).replace(/\./g,"")},W0=function(t){try{return Q0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=()=>hL().__FIREBASE_DEFAULTS__,gL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W0(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return pL()||gL()||mL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z0=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yL=t=>{const e=z0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vL=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config},H0=t=>{var e;return(e=gm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),g="";return[rc(JSON.stringify(n)),rc(JSON.stringify(m)),g].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function bL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SL(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TL(){try{return typeof indexedDB=="object"}catch{return!1}}function xL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IL,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],m=s?RL(s,r):"Error",g=`${this.serviceName}: ${m} (${i}).`;return new gr(i,g,r)}}function RL(t,e){return t.replace(DL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DL=/\{\$([^}]+)}/g;function wL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],m=e[i];if(lE(s)&&lE(m)){if(!ic(s,m))return!1}else if(s!==m)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ML(t,e){const n=new VL(t,e);return n.subscribe.bind(n)}class VL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qd),i.error===void 0&&(i.error=qd),i.complete===void 0&&(i.complete=qd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jL(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(s);r===g&&m.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const m=this.instances.get(i);return m&&e(m,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BL(t){return t===pi?void 0:t}function jL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const FL={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},UL=Ae.INFO,QL={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=UL,this._logHandler=WL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const zL=(t,e)=>e.some(n=>t instanceof n);let uE,cE;function HL(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $L(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,Op=new WeakMap,K0=new WeakMap,Gd=new WeakMap,ym=new WeakMap;function KL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",m)},s=()=>{n(Hr(t.result)),i()},m=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",m)});return e.then(n=>{n instanceof IDBCursor&&$0.set(n,t)}).catch(()=>{}),ym.set(e,t),e}function qL(t){if(Op.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",m),t.removeEventListener("abort",m)},s=()=>{n(),i()},m=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",m),t.addEventListener("abort",m)});Op.set(t,e)}let Sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GL(t){Sp=t(Sp)}function JL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jd(this),e,...n);return K0.set(r,e.sort?e.sort():[e]),Hr(r)}:$L().includes(t)?function(...e){return t.apply(Jd(this),e),Hr($0.get(this))}:function(...e){return Hr(t.apply(Jd(this),e))}}function YL(t){return typeof t=="function"?JL(t):(t instanceof IDBTransaction&&qL(t),zL(t,HL())?new Proxy(t,Sp):t)}function Hr(t){if(t instanceof IDBRequest)return KL(t);if(Gd.has(t))return Gd.get(t);const e=YL(t);return e!==t&&(Gd.set(t,e),ym.set(e,t)),e}const Jd=t=>ym.get(t);function XL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const m=indexedDB.open(t,e),g=Hr(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Hr(m.result),y.oldVersion,y.newVersion,Hr(m.transaction))}),n&&m.addEventListener("blocked",()=>n()),g.then(y=>{s&&y.addEventListener("close",()=>s()),i&&y.addEventListener("versionchange",()=>i())}).catch(()=>{}),g}const kL=["get","getKey","getAll","getAllKeys","count"],ZL=["put","add","delete","clear"],Yd=new Map;function fE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kL.includes(n)))return;const s=async function(m,...g){const y=this.transaction(m,i?"readwrite":"readonly");let P=y.store;return r&&(P=P.index(g.shift())),(await Promise.all([P[n](...g),i&&y.done]))[0]};return Yd.set(e,s),s}GL(t=>({...t,get:(e,n,r)=>fE(e,n)||t.get(e,n,r),has:(e,n)=>!!fE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",dE="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new mm("@firebase/app"),tB="@firebase/app-compat",nB="@firebase/analytics-compat",rB="@firebase/analytics",iB="@firebase/app-check-compat",oB="@firebase/app-check",sB="@firebase/auth",aB="@firebase/auth-compat",lB="@firebase/database",uB="@firebase/database-compat",cB="@firebase/functions",fB="@firebase/functions-compat",dB="@firebase/installations",hB="@firebase/installations-compat",pB="@firebase/messaging",gB="@firebase/messaging-compat",mB="@firebase/performance",yB="@firebase/performance-compat",vB="@firebase/remote-config",CB="@firebase/remote-config-compat",EB="@firebase/storage",PB="@firebase/storage-compat",bB="@firebase/firestore",OB="@firebase/firestore-compat",SB="firebase",TB="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",xB={[Tp]:"fire-core",[tB]:"fire-core-compat",[rB]:"fire-analytics",[nB]:"fire-analytics-compat",[oB]:"fire-app-check",[iB]:"fire-app-check-compat",[sB]:"fire-auth",[aB]:"fire-auth-compat",[lB]:"fire-rtdb",[uB]:"fire-rtdb-compat",[cB]:"fire-fn",[fB]:"fire-fn-compat",[dB]:"fire-iid",[hB]:"fire-iid-compat",[pB]:"fire-fcm",[gB]:"fire-fcm-compat",[mB]:"fire-perf",[yB]:"fire-perf-compat",[vB]:"fire-rc",[CB]:"fire-rc-compat",[EB]:"fire-gcs",[PB]:"fire-gcs-compat",[bB]:"fire-fst",[OB]:"fire-fst-compat","fire-js":"fire-js",[SB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,Ip=new Map;function IB(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ho(t){const e=t.name;if(Ip.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,t);for(const n of oc.values())IB(n,t);return!0}function vm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$r=new nl("app","Firebase",RB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=TB;function Cm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=vL()),!n)throw $r.create("no-options");const s=oc.get(i);if(s){if(ic(n,s.options)&&ic(r,s.config))return s;throw $r.create("duplicate-app",{appName:i})}const m=new NL(i);for(const y of Ip.values())m.addComponent(y);const g=new DB(n,r,m);return oc.set(i,g),g}function q0(t=xp){const e=oc.get(t);if(!e&&t===xp)return Cm();if(!e)throw $r.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=xB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),m=e.match(/\s|\//);if(s||m){const g=[`Unable to register library "${i}" with version "${e}":`];s&&g.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&m&&g.push("and"),m&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}Ho(new Ai(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="firebase-heartbeat-database",MB=1,Ma="firebase-heartbeat-store";let Xd=null;function G0(){return Xd||(Xd=XL(wB,MB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ma)}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),Xd}async function VB(t){try{return(await G0()).transaction(Ma).objectStore(Ma).get(J0(t))}catch(e){if(e instanceof gr)Li.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function hE(t,e){try{const r=(await G0()).transaction(Ma,"readwrite");return await r.objectStore(Ma).put(e,J0(t)),r.done}catch(n){if(n instanceof gr)Li.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(r.message)}}}function J0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=1024,LB=30*24*60*60*1e3;class BB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=LB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pE(),{heartbeatsToSend:n,unsentEntries:r}=jB(this._heartbeatsCache.heartbeats),i=rc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function pE(){return new Date().toISOString().substring(0,10)}function jB(t,e=AB){const n=[];let r=t.slice();for(const i of t){const s=n.find(m=>m.agent===i.agent);if(s){if(s.dates.push(i.date),gE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TL()?xL().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gE(t){return rc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){Ho(new Ai("platform-logger",e=>new _L(e),"PRIVATE")),Ho(new Ai("heartbeat",e=>new BB(e),"PRIVATE")),Kr(Tp,dE,t),Kr(Tp,dE,"esm2017"),Kr("fire-js","")}FB("");var UB="firebase",QB="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(UB,QB,"app");function Em(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y0(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WB=Y0,X0=new nl("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new mm("@firebase/auth");function zB(t,...e){sc.logLevel<=Ae.WARN&&sc.warn(`Auth (${is}): ${t}`,...e)}function gu(t,...e){sc.logLevel<=Ae.ERROR&&sc.error(`Auth (${is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw Pm(t,...e)}function zn(t,...e){return Pm(t,...e)}function HB(t,e,n){const r=Object.assign(Object.assign({},WB()),{[e]:n});return new nl("auth","Firebase",r).create(e,{appName:t.name})}function Pm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X0.create(t,...e)}function pe(t,e,...n){if(!t)throw Pm(e,...n)}function _n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gu(e),new Error(e)}function ur(t,e){t||_n(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $B(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($B()||bL()||"connection"in navigator)?navigator.onLine:!0}function qB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=PL()||OL()}get(){return KB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new il(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,i={}){return Z0(t,i,async()=>{let s={},m={};r&&(e==="GET"?m=r:s={body:JSON.stringify(r)});const g=rl(Object.assign({key:t.config.apiKey},m)).slice(1),y=await t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),k0.fetch()(_0(t,t.config.apiHost,n,g),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},s))})}async function Z0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GB),e);try{const i=new YB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const m=await s.json();if("needConfirmation"in m)throw Gl(t,"account-exists-with-different-credential",m);if(s.ok&&!("errorMessage"in m))return m;{const g=s.ok?m.errorMessage:m.error.message,[y,P]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(t,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw Gl(t,"email-already-in-use",m);if(y==="USER_DISABLED")throw Gl(t,"user-disabled",m);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(P)throw HB(t,T,P);Mn(t,T)}}catch(i){if(i instanceof gr)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function ol(t,e,n,r,i={}){const s=await qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bm(t.config,i):`${t.config.apiScheme}://${i}`}class YB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),JB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function kB(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZB(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=Om(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,m=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:na(kd(i.auth_time)),issuedAtTime:na(kd(i.iat)),expirationTime:na(kd(i.exp)),signInProvider:m||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kd(t){return Number(t)*1e3}function Om(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const i=W0(n);return i?JSON.parse(i):(gu("Failed to decode base64 JWT payload"),null)}catch(i){return gu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _B(t){const e=Om(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&ej(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ej({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Va(t,kB(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const m=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ij(s.providerUserInfo):[],g=rj(t.providerData,m),y=t.isAnonymous,P=!(t.email&&s.passwordHash)&&!(g!=null&&g.length),T=y?P:!1,x={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:g,metadata:new eS(s.createdAt,s.lastLoginAt),isAnonymous:T};Object.assign(t,x)}async function nj(t){const e=on(t);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ij(t){return t.map(e=>{var{providerId:n}=e,r=Em(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){const n=await Z0(t,{},async()=>{const r=rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,m=_0(t,i,"/v1/token",`key=${s}`),g=await t._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",k0.fetch()(m,{method:"POST",headers:g,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_B(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return pe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,m=new Aa;return r&&(pe(typeof r=="string","internal-error",{appName:e}),m.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),m.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),m.expirationTime=s),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Va(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZB(this,e)}reload(){return nj(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ac(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Va(this,XB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,m,g,y,P,T;const x=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(m=n.photoURL)!==null&&m!==void 0?m:void 0,u=(g=n.tenantId)!==null&&g!==void 0?g:void 0,c=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,p=(P=n.createdAt)!==null&&P!==void 0?P:void 0,o=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:a,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:l}=n;pe(a&&l,e,"internal-error");const O=Aa.fromJSON(this.name,l);pe(typeof a=="string",e,"internal-error"),vr(x,e.name),vr(C,e.name),pe(typeof d=="boolean",e,"internal-error"),pe(typeof h=="boolean",e,"internal-error"),vr(E,e.name),vr(v,e.name),vr(u,e.name),vr(c,e.name),vr(p,e.name),vr(o,e.name);const V=new Oi({uid:a,auth:e,email:C,emailVerified:d,displayName:x,isAnonymous:h,photoURL:v,phoneNumber:E,tenantId:u,stsTokenManager:O,createdAt:p,lastLoginAt:o});return f&&Array.isArray(f)&&(V.providerData=f.map(A=>Object.assign({},A))),c&&(V._redirectEventId=c),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const s=new Oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ac(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function er(t){ur(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tS.type="NONE";const vE=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mu(this.userKey,i.apiKey,s),this.fullPersistenceKey=mu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(er(vE),e,r);const i=(await Promise.all(n.map(async P=>{if(await P._isAvailable())return P}))).filter(P=>P);let s=i[0]||er(vE);const m=mu(r,e.config.apiKey,e.name);let g=null;for(const P of n)try{const T=await P._get(m);if(T){const x=Oi._fromJSON(e,T);P!==s&&(g=x),s=P;break}}catch{}const y=i.filter(P=>P._shouldAllowMigration);return!s._shouldAllowMigration||!y.length?new Do(s,e,r):(s=y[0],g&&await s._set(m,g.toJSON()),await Promise.all(n.map(async P=>{if(P!==s)try{await P._remove(m)}catch{}})),new Do(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(aS(e))return"Webos";if(Sm(e))return"Safari";if((e.includes("chrome/")||rS(e))&&!e.includes("edge/"))return"Chrome";if(oS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nS(t=Ut()){return/firefox\//i.test(t)}function Sm(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rS(t=Ut()){return/crios\//i.test(t)}function iS(t=Ut()){return/iemobile/i.test(t)}function oS(t=Ut()){return/android/i.test(t)}function sS(t=Ut()){return/blackberry/i.test(t)}function aS(t=Ut()){return/webos/i.test(t)}function hf(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sj(t=Ut()){var e;return hf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aj(){return SL()&&document.documentMode===10}function lS(t=Ut()){return hf(t)||oS(t)||aS(t)||sS(t)||/windows phone/i.test(t)||iS(t)}function lj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e=[]){let n;switch(t){case"Browser":n=CE(Ut());break;case"Worker":n=`${CE(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}async function cS(t,e){return qi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}function EE(t){return t!==void 0&&t.enterprise!==void 0}class fS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uj().appendChild(r)})}function cj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fj="https://www.google.com/recaptcha/enterprise.js?render=",dj="recaptcha-enterprise";class hS{constructor(e){this.type=dj,this.auth=Gi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(m,g)=>{cS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const P=new fS(y);return s.tenantId==null?s._agentRecaptchaConfig=P:s._tenantRecaptchaConfigs[s.tenantId]=P,m(P.siteKey)}}).catch(y=>{g(y)})})}function i(s,m,g){const y=window.grecaptcha;EE(y)?y.enterprise.ready(()=>{try{y.enterprise.execute(s,{action:e}).then(P=>{m(P)}).catch(P=>{g(P)})}catch(P){g(P)}}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,m)=>{r(this.auth).then(g=>{if(!n&&EE(window.grecaptcha))i(g,s,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}dS(fj+g).then(()=>{i(g,s,m)}).catch(y=>{m(y)})}}).catch(g=>{m(g)})})}}async function $o(t,e,n,r=!1){const i=new hS(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const m=Object.assign({},e);return r?Object.assign(m,{captchaResp:s}):Object.assign(m,{captchaResponse:s}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((m,g)=>{try{const y=e(s);m(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new hj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=i==null?void 0:i._redirectEventId,y=await this.tryRedirectSignIn(e);(!m||m===g)&&(y!=null&&y.user)&&(i=y.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(m){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?on(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}async initializeRecaptchaConfig(){const e=await cS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new fS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new hS(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),m=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(m,this,"internal-error"),m.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gi(t){return on(t)}class PE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ML(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e){const n=vm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ic(s,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function mj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yj(t,e,n){const r=Gi(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=pS(e),{host:m,port:g}=vj(e),y=g===null?"":`:${g}`;r.config.emulator={url:`${s}//${m}${y}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:m,port:g,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Cj()}function pS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vj(t){const e=pS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bE(r.substr(s.length+1))}}else{const[s,m]=r.split(":");return{host:s,port:bE(m)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Cj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}}async function Ej(t,e){return qi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t,e){return ol(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function Pj(t,e){return qi(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function _d(t,e){return Pj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e){return ol(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function Oj(t,e){return ol(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Tm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new La(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new La(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await $o(e,r,"signInWithPassword");return Zd(e,i)}else return Zd(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await $o(e,r,"signInWithPassword");return Zd(e,s)}else return Promise.reject(i)});case"emailLink":return bj(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Ej(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Oj(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return ol(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="http://localhost";class Bi extends Tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Em(n,["providerId","signInMethod"]);if(!r||!i)return null;const m=new Bi(r,i);return m.idToken=s.idToken||void 0,m.accessToken=s.accessToken||void 0,m.secret=s.secret,m.nonce=s.nonce,m.pendingToken=s.pendingToken||null,m}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:Sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xj(t){const e=Ws(zs(t)).link,n=e?Ws(zs(e)).deep_link_id:null,r=Ws(zs(t)).deep_link_id;return(r?Ws(zs(r)).link:null)||r||n||e||t}class xm{constructor(e){var n,r,i,s,m,g;const y=Ws(zs(e)),P=(n=y.apiKey)!==null&&n!==void 0?n:null,T=(r=y.oobCode)!==null&&r!==void 0?r:null,x=Tj((i=y.mode)!==null&&i!==void 0?i:null);pe(P&&T&&x,"argument-error"),this.apiKey=P,this.operation=x,this.code=T,this.continueUrl=(s=y.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(m=y.languageCode)!==null&&m!==void 0?m:null,this.tenantId=(g=y.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=xj(e);try{return new xm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.providerId=os.PROVIDER_ID}static credential(e,n){return La._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xm.parseLink(n);return pe(r,"argument-error"),La._fromEmailAndCode(e,r.code,r.tenantId)}}os.PROVIDER_ID="password";os.EMAIL_PASSWORD_SIGN_IN_METHOD="password";os.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends sl{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends sl{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends sl{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e){return ol(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Oi._fromIdTokenResponse(e,r,i),m=OE(r);return new ji({user:s,providerId:m,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=OE(r);return new ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function OE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lc(e,n,r,i)}}function mS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(t,s,e,r):s})}async function Ij(t,e,n=!1){const r=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Va(t,mS(r,i,e,t),n);pe(s.idToken,r,"internal-error");const m=Om(s.idToken);pe(m,r,"internal-error");const{sub:g}=m;return pe(t.uid===g,r,"user-mismatch"),ji._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t,e,n=!1){const r="signIn",i=await mS(t,r,e),s=await ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Dj(t,e){return yS(Gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e,n){var r;pe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),pe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e,n){var r;const i=Gi(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const m=await $o(i,s,"getOobCode",!0);n&&th(i,m,n),await _d(i,m)}else n&&th(i,s,n),await _d(i,s).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const g=await $o(i,s,"getOobCode",!0);n&&th(i,g,n),await _d(i,g)}else return Promise.reject(m)})}async function Mj(t,e,n){var r;const i=Gi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let m;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const P=await $o(i,s,"signUpPassword");m=eh(i,P)}else m=eh(i,s).catch(async P=>{if(P.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const T=await $o(i,s,"signUpPassword");return eh(i,T)}else return Promise.reject(P)});const g=await m.catch(P=>Promise.reject(P)),y=await ji._fromIdTokenResponse(i,"signIn",g);return await i._updateCurrentUser(y.user),y}function Vj(t,e,n){return Dj(on(t),os.credential(e,n))}function Aj(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function Lj(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function Bj(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function jj(t){return on(t).signOut()}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){const t=Ut();return Sm(t)||hf(t)}const Fj=1e3,Uj=10;class CS extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Nj()&&lj(),this.fallbackToPolling=lS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((m,g,y)=>{this.notifyListeners(m,y)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const m=this.storage.getItem(r);if(e.newValue!==m)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const m=this.storage.getItem(r);!n&&this.localCache[r]===m||this.notifyListeners(r,m)},s=this.storage.getItem(r);aj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Uj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CS.type="LOCAL";const Qj=CS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ES.type="SESSION";const PS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,m=this.handlersMap[i];if(!(m!=null&&m.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const g=Array.from(m).map(async P=>P(n.origin,s)),y=await Wj(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,m;return new Promise((g,y)=>{const P=Im("",20);i.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);m={messageChannel:i,onMessage(x){const C=x;if(C.data.eventId===P)switch(C.data.status){case"ack":clearTimeout(T),s=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),g(C.data.response);break;default:clearTimeout(T),clearTimeout(s),y(new Error("invalid_response"));break}}},this.handlers.add(m),i.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:P,data:n},[i.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function Hj(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function $j(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qj(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebaseLocalStorageDb",Gj=1,cc="firebaseLocalStorage",SS="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([cc],e?"readwrite":"readonly").objectStore(cc)}function Jj(){const t=indexedDB.deleteDatabase(OS);return new al(t).toPromise()}function Dp(){const t=indexedDB.open(OS,Gj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cc,{keyPath:SS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cc)?e(r):(r.close(),await Jj(),e(await Dp()))})})}async function SE(t,e,n){const r=gf(t,!0).put({[SS]:e,value:n});return new al(r).toPromise()}async function Yj(t,e){const n=gf(t,!1).get(e),r=await new al(n).toPromise();return r===void 0?null:r.value}function TE(t,e){const n=gf(t,!0).delete(e);return new al(n).toPromise()}const Xj=800,kj=3;class TS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(qj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $j(),!this.activeServiceWorker)return;this.sender=new zj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await SE(e,uc,"1"),await TE(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gf(i,!1).getAll();return new al(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TS.type="LOCAL";const Zj=TS;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t,e){return e?er(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends Tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e2(t){return yS(t.auth,new Rm(t),t.bypassAuthState)}function t2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),Rj(n,new Rm(t),t.bypassAuthState)}async function n2(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),Ij(n,new Rm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:m,type:g}=e;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(P){this.reject(P)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return t2;default:Mn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new il(2e3,1e4);class Co extends xS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,r2.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="pendingRedirect",yu=new Map;class o2 extends xS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const r=await s2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(t,e){const n=u2(e),r=l2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function a2(t,e){yu.set(t._key(),e)}function l2(t){return er(t._redirectPersistence)}function u2(t){return mu(i2,t.config.apiKey,t.name)}async function c2(t,e,n=!1){const r=Gi(t),i=_j(r,e),m=await new o2(r,i,n).execute();return m&&!n&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,e)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=10*60*1e3;class d2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m2=/^https?/;async function y2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await p2(t);for(const n of e)try{if(v2(n))return}catch{}Mn(t,"unauthorized-domain")}function v2(t){const e=Rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const m=new URL(t);return m.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===r}if(!m2.test(n))return!1;if(g2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new il(3e4,6e4);function IE(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E2(t){return new Promise((e,n)=>{var r,i,s;function m(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(zn(t,"network-request-failed"))},timeout:C2.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)m();else{const g=cj("iframefcb");return Hn()[g]=()=>{gapi.load?m():n(zn(t,"network-request-failed"))},dS(`https://apis.google.com/js/api.js?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw vu=null,e})}let vu=null;function P2(t){return vu=vu||E2(t),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new il(5e3,15e3),O2="__/auth/iframe",S2="emulator/auth/iframe",T2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bm(e,S2):`https://${t.config.authDomain}/${O2}`,r={apiKey:e.apiKey,appName:t.name,v:is},i=x2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rl(r).slice(1)}`}async function R2(t){const e=await P2(t),n=Hn().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:I2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const m=zn(t,"network-request-failed"),g=Hn().setTimeout(()=>{s(m)},b2.get());function y(){Hn().clearTimeout(g),i(r)}r.ping(y).then(y,()=>{s(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w2=500,M2=600,V2="_blank",A2="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(t,e,n,r=w2,i=M2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y=Object.assign(Object.assign({},D2),{width:r.toString(),height:i.toString(),top:s,left:m}),P=Ut().toLowerCase();n&&(g=rS(P)?V2:n),nS(P)&&(e=e||A2,y.scrollbars="yes");const T=Object.entries(y).reduce((C,[E,v])=>`${C}${E}=${v},`,"");if(sj(P)&&g!=="_self")return B2(e||"",g),new RE(null);const x=window.open(e||"",g,T);pe(x,t,"popup-blocked");try{x.focus()}catch{}return new RE(x)}function B2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="__/auth/handler",N2="emulator/auth/handler",F2=encodeURIComponent("fac");async function DE(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const m={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:i};if(e instanceof gS){e.setDefaultLanguage(t.languageCode),m.providerId=e.providerId||"",wL(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries(s||{}))m[T]=x}if(e instanceof sl){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(m.scopes=T.join(","))}t.tenantId&&(m.tid=t.tenantId);const g=m;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await t._getAppCheckToken(),P=y?`#${F2}=${encodeURIComponent(y)}`:"";return`${U2(t)}?${rl(g).slice(1)}${P}`}function U2({config:t}){return t.emulator?bm(t,N2):`https://${t.authDomain}/${j2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class Q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PS,this._completeRedirectFn=c2,this._overrideRedirectResult=a2}async _openPopup(e,n,r,i){var s;ur((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const m=await DE(e,n,r,Rp(),i);return L2(e,m,Im())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await DE(e,n,r,Rp(),i);return Hj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ur(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R2(e),r=new d2(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nh,{type:nh},i=>{var s;const m=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nh];m!==void 0&&n(!!m),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lS()||Sm()||hf()}}const W2=Q2;var wE="@firebase/auth",ME="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $2(t){Ho(new Ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=r.options;pe(m&&!m.includes(":"),"invalid-api-key",{appName:r.name}),pe(!(g!=null&&g.includes(":")),"argument-error",{appName:r.name});const y={apiKey:m,authDomain:g,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uS(t)},P=new pj(r,i,s,y);return mj(P,n),P},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new Ai("auth-internal",e=>{const n=Gi(e.getProvider("auth").getImmediate());return(r=>new z2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(wE,ME,H2(t)),Kr(wE,ME,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=5*60,q2=H0("authIdTokenMaxAge")||K2;let VE=null;const G2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q2)return;const i=n==null?void 0:n.token;VE!==i&&(VE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J2(t=q0()){const e=vm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gj(t,{popupRedirectResolver:W2,persistence:[Zj,Qj,PS]}),r=H0("authTokenSyncURL");if(r){const s=G2(r);Lj(n,s,()=>s(n.currentUser)),Aj(n,m=>s(m))}const i=z0("auth");return i&&yj(n,`http://${i}`),n}$2("Browser");const RS={apiKey:"AIzaSyBvcf4v9QaPFVL5X4U6IKO4I2S5SaBPiaw",authDomain:"calmly-4f80d.firebaseapp.com",projectId:"calmly-4f80d",storageBucket:"calmly-4f80d.appspot.com",messagingSenderId:"1033110917024",appId:"1:1033110917024:web:aebd244f782803be7adec5"},Y2=Cm(RS);console.log(Y2);var X2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Dm=Dm||{},Pe=X2||self;function fc(){}function mf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ll(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function k2(t){return Object.prototype.hasOwnProperty.call(t,rh)&&t[rh]||(t[rh]=++Z2)}var rh="closure_uid_"+(1e9*Math.random()>>>0),Z2=0;function _2(t,e,n){return t.call.apply(t.bind,arguments)}function eN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=_2:jt=eN,jt.apply(null,arguments)}function Jl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var m=Array(arguments.length-2),g=2;g<arguments.length;g++)m[g-2]=arguments[g];return e.prototype[i].apply(r,m)}}function oi(){this.s=this.s,this.o=this.o}var tN=0;oi.prototype.s=!1;oi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),tN!=0)&&k2(this)};oi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function AE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let m=0;m<s;m++)t[i+m]=r[m]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var nN=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pe.addEventListener("test",fc,e),Pe.removeEventListener("test",fc,e)}catch{}return t}();function dc(t){return/^[\s\xa0]*$/.test(t)}var LE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ih(t,e){return t<e?-1:t>e?1:0}function yf(){var t=Pe.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return yf().indexOf(t)!=-1}function Mm(t){return Mm[" "](t),t}Mm[" "]=fc;function rN(t){var e=sN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var iN=Nn("Opera"),Ko=Nn("Trident")||Nn("MSIE"),wS=Nn("Edge"),wp=wS||Ko,MS=Nn("Gecko")&&!(yf().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),oN=yf().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function VS(){var t=Pe.document;return t?t.documentMode:void 0}var hc;e:{var oh="",sh=function(){var t=yf();if(MS)return/rv:([^\);]+)(\)|;)/.exec(t);if(wS)return/Edge\/([\d\.]+)/.exec(t);if(Ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(oN)return/WebKit\/(\S+)/.exec(t);if(iN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sh&&(oh=sh?sh[1]:""),Ko){var ah=VS();if(ah!=null&&ah>parseFloat(oh)){hc=String(ah);break e}}hc=oh}var sN={};function aN(){return rN(function(){let t=0;const e=LE(String(hc)).split("."),n=LE("9").split("."),r=Math.max(e.length,n.length);for(let m=0;t==0&&m<r;m++){var i=e[m]||"",s=n[m]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=ih(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||ih(i[2].length==0,s[2].length==0)||ih(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Mp;if(Pe.document&&Ko){var BE=VS();Mp=BE||parseInt(hc,10)||void 0}else Mp=void 0;var lN=Mp;function Ba(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MS){e:{try{Mm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ba.X.h.call(this)}}It(Ba,Nt);var uN={2:"touch",3:"pen",4:"mouse"};Ba.prototype.h=function(){Ba.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ul="closure_listenable_"+(1e6*Math.random()|0),cN=0;function fN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++cN,this.ba=this.ea=!1}function vf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Vm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AS(t){const e={};for(const n in t)e[n]=t[n];return e}const jE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<jE.length;s++)n=jE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cf(t){this.src=t,this.g={},this.h=0}Cf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var m=Ap(t,e,r,i);return-1<m?(e=t[m],n||(e.ea=!1)):(e=new fN(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Vp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ap(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Am="closure_lm_"+(1e6*Math.random()|0),lh={};function BS(t,e,n,r,i){if(r&&r.once)return NS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BS(t,e[s],n,r,i);return null}return n=jm(n),t&&t[ul]?t.N(e,n,ll(r)?!!r.capture:!!r,i):jS(t,e,n,!1,r,i)}function jS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var m=ll(i)?!!i.capture:!!i,g=Bm(t);if(g||(t[Am]=g=new Cf(t)),n=g.add(e,n,r,m,s),n.proxy)return n;if(r=dN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nN||(i=m),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(US(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function dN(){function t(n){return e.call(t.src,t.listener,n)}const e=hN;return t}function NS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NS(t,e[s],n,r,i);return null}return n=jm(n),t&&t[ul]?t.O(e,n,ll(r)?!!r.capture:!!r,i):jS(t,e,n,!0,r,i)}function FS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FS(t,e[s],n,r,i);else r=ll(r)?!!r.capture:!!r,n=jm(n),t&&t[ul]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ap(s,n,r,i),-1<n&&(vf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ap(e,n,r,i)),(n=-1<t?e[t]:null)&&Lm(n))}function Lm(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ul])Vp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(US(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bm(e))?(Vp(n,t),n.h==0&&(n.src=null,e[Am]=null)):vf(t)}}}function US(t){return t in lh?lh[t]:lh[t]="on"+t}function hN(t,e){if(t.ba)t=!0;else{e=new Ba(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Lm(t),t=n.call(r,e)}return t}function Bm(t){return t=t[Am],t instanceof Cf?t:null}var uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jm(t){return typeof t=="function"?t:(t[uh]||(t[uh]=function(e){return t.handleEvent(e)}),t[uh])}function Et(){oi.call(this),this.i=new Cf(this),this.P=this,this.I=null}It(Et,oi);Et.prototype[ul]=!0;Et.prototype.removeEventListener=function(t,e,n,r){FS(this,t,e,n,r)};function Tt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;e=new Nt(r,t),LS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var m=e.g=n[s];i=Yl(m,r,!0,e)&&i}if(m=e.g=t,i=Yl(m,r,!0,e)&&i,i=Yl(m,r,!1,e)&&i,n)for(s=0;s<n.length;s++)m=e.g=n[s],i=Yl(m,r,!1,e)&&i}Et.prototype.M=function(){if(Et.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vf(n[r]);delete t.g[e],t.h--}}this.I=null};Et.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var m=e[s];if(m&&!m.ba&&m.capture==n){var g=m.listener,y=m.ha||m.src;m.ea&&Vp(t.i,m),i=g.call(y,r)!==!1&&i}}return i&&!r.defaultPrevented}var Nm=Pe.JSON.stringify;function pN(){var t=zS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gN{constructor(){this.h=this.g=null}add(e,n){const r=QS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var QS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mN,t=>t.reset());class mN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yN(t){Pe.setTimeout(()=>{throw t},0)}function WS(t,e){Lp||vN(),Bp||(Lp(),Bp=!0),zS.add(t,e)}var Lp;function vN(){var t=Pe.Promise.resolve(void 0);Lp=function(){t.then(CN)}}var Bp=!1,zS=new gN;function CN(){for(var t;t=pN();){try{t.h.call(t.g)}catch(n){yN(n)}var e=QS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bp=!1}function Ef(t,e){Et.call(this),this.h=t||1,this.g=e||Pe,this.j=jt(this.lb,this),this.l=Date.now()}It(Ef,Et);ce=Ef.prototype;ce.ca=!1;ce.R=null;ce.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tt(this,"tick"),this.ca&&(Fm(this),this.start()))}};ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fm(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}ce.M=function(){Ef.X.M.call(this),Fm(this),delete this.g};function Um(t,e,n){if(typeof t=="function")n&&(t=jt(t,n));else if(t&&typeof t.handleEvent=="function")t=jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pe.setTimeout(t,e||0)}function HS(t){t.g=Um(()=>{t.g=null,t.i&&(t.i=!1,HS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class EN extends oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HS(this)}M(){super.M(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(t){oi.call(this),this.h=t,this.g={}}It(ja,oi);var NE=[];function $S(t,e,n,r){Array.isArray(n)||(n&&(NE[0]=n.toString()),n=NE);for(var i=0;i<n.length;i++){var s=BS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function KS(t){Vm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Lm(e)},t),t.g={}}ja.prototype.M=function(){ja.X.M.call(this),KS(this)};ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pf(){this.g=!0}Pf.prototype.Aa=function(){this.g=!1};function PN(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var m="",g=s.split("&"),y=0;y<g.length;y++){var P=g[y].split("=");if(1<P.length){var T=P[0];P=P[1];var x=T.split("_");m=2<=x.length&&x[1]=="type"?m+(T+"="+P+"&"):m+(T+"=redacted&")}}else m=null;else m=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+m})}function bN(t,e,n,r,i,s,m){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+m})}function Eo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SN(t,n)+(r?" "+r:"")})}function ON(t,e){t.info(function(){return"TIMEOUT: "+e})}Pf.prototype.info=function(){};function SN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var m=1;m<i.length;m++)i[m]=""}}}}return Nm(n)}catch{return e}}var Ji={},FE=null;function bf(){return FE=FE||new Et}Ji.Pa="serverreachability";function qS(t){Nt.call(this,Ji.Pa,t)}It(qS,Nt);function Na(t){const e=bf();Tt(e,new qS(e))}Ji.STAT_EVENT="statevent";function GS(t,e){Nt.call(this,Ji.STAT_EVENT,t),this.stat=e}It(GS,Nt);function $t(t){const e=bf();Tt(e,new GS(e,t))}Ji.Qa="timingevent";function JS(t,e){Nt.call(this,Ji.Qa,t),this.size=e}It(JS,Nt);function cl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){t()},e)}var Of={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},YS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Qm(){}Qm.prototype.h=null;function UE(t){return t.h||(t.h=t.i())}function XS(){}var fl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wm(){Nt.call(this,"d")}It(Wm,Nt);function zm(){Nt.call(this,"c")}It(zm,Nt);var jp;function Sf(){}It(Sf,Qm);Sf.prototype.g=function(){return new XMLHttpRequest};Sf.prototype.i=function(){return{}};jp=new Sf;function dl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ja(this),this.O=TN,t=wp?125:void 0,this.T=new Ef(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kS}function kS(){this.i=null,this.g="",this.h=!1}var TN=45e3,Np={},pc={};ce=dl.prototype;ce.setTimeout=function(t){this.O=t};function Fp(t,e,n){t.K=1,t.v=xf(cr(e)),t.s=n,t.P=!0,ZS(t,null)}function ZS(t,e){t.F=Date.now(),hl(t),t.A=cr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),sT(n.i,"t",r),t.C=0,n=t.l.H,t.h=new kS,t.g=IT(t.l,n?e:null,!t.s),0<t.N&&(t.L=new EN(jt(t.La,t,t.g),t.N)),$S(t.S,t.g,"readystatechange",t.ib),e=t.H?AS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Na(),PN(t.j,t.u,t.A,t.m,t.U,t.s)}ce.ib=function(t){t=t.target;const e=this.L;e&&tr(t)==3?e.l():this.La(t)};ce.La=function(t){try{if(t==this.g)e:{const T=tr(this.g);var e=this.g.Ea();const x=this.g.aa();if(!(3>T)&&(T!=3||wp||this.g&&(this.h.h||this.g.fa()||HE(this.g)))){this.I||T!=4||e==7||(e==8||0>=x?Na(3):Na(2)),Tf(this);var n=this.g.aa();this.Y=n;t:if(_S(this)){var r=HE(this.g);t="";var i=r.length,s=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),ra(this);var m="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,m=this.h.g}else m=this.g.fa();if(this.i=n==200,bN(this.j,this.u,this.A,this.m,this.U,T,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dc(g)){var P=g;break t}}P=null}if(n=P)Eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Up(this,n);else{this.i=!1,this.o=3,$t(12),vi(this),ra(this);break e}}this.P?(eT(this,T,m),wp&&this.i&&T==3&&($S(this.S,this.T,"tick",this.hb),this.T.start())):(Eo(this.j,this.m,m,null),Up(this,m)),T==4&&vi(this),this.i&&!this.I&&(T==4?OT(this.l,this):(this.i=!1,hl(this)))}else n==400&&0<m.indexOf("Unknown SID")?(this.o=3,$t(12)):(this.o=0,$t(13)),vi(this),ra(this)}}}catch{}finally{}};function _S(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function eT(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=xN(t,n),i==pc){e==4&&(t.o=4,$t(14),r=!1),Eo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Np){t.o=4,$t(15),Eo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Eo(t.j,t.m,i,null),Up(t,i);_S(t)&&i!=pc&&i!=Np&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,$t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ym(e),e.K=!0,$t(11))):(Eo(t.j,t.m,n,"[Invalid Chunked Response]"),vi(t),ra(t))}ce.hb=function(){if(this.g){var t=tr(this.g),e=this.g.fa();this.C<e.length&&(Tf(this),eT(this,t,e),this.i&&t!=4&&hl(this))}};function xN(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?pc:(n=Number(e.substring(n,r)),isNaN(n)?Np:(r+=1,r+n>e.length?pc:(e=e.substr(r,n),t.C=r+n,e)))}ce.cancel=function(){this.I=!0,vi(this)};function hl(t){t.V=Date.now()+t.O,tT(t,t.O)}function tT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=cl(jt(t.gb,t),e)}function Tf(t){t.B&&(Pe.clearTimeout(t.B),t.B=null)}ce.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(ON(this.j,this.A),this.K!=2&&(Na(),$t(17)),vi(this),this.o=2,ra(this)):tT(this,this.V-t)};function ra(t){t.l.G==0||t.I||OT(t.l,t)}function vi(t){Tf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Fm(t.T),KS(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Up(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Qp(n.h,t))){if(!t.J&&Qp(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)yc(n),Df(n);else break e;Jm(n),$t(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=cl(jt(n.cb,n),6e3));if(1>=uT(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ci(n,11)}else if((t.J||n.g==t)&&yc(n),!dc(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let P=i[e];if(n.T=P[0],P=P[1],n.G==2)if(P[0]=="c"){n.I=P[1],n.ka=P[2];const T=P[3];T!=null&&(n.ma=T,n.j.info("VER="+n.ma));const x=P[4];x!=null&&(n.Ca=x,n.j.info("SVER="+n.Ca));const C=P[5];C!=null&&typeof C=="number"&&0<C&&(r=1.5*C,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const v=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hm(s,s.h),s.h=null))}if(r.D){const u=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;u&&(r.za=u,Ye(r.F,r.D,u))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var m=t;if(r.sa=xT(r,r.H?r.ka:null,r.V),m.J){cT(r.h,m);var g=m,y=r.J;y&&g.setTimeout(y),g.B&&(Tf(g),hl(g)),r.g=m}else PT(r);0<n.i.length&&wf(n)}else P[0]!="stop"&&P[0]!="close"||Ci(n,7);else n.G==3&&(P[0]=="stop"||P[0]=="close"?P[0]=="stop"?Ci(n,7):Gm(n):P[0]!="noop"&&n.l&&n.l.wa(P),n.A=0)}}Na(4)}catch{}}function IN(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(mf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RN(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(mf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RN(t),r=IN(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var rT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Si(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Si){this.h=e!==void 0?e:t.h,gc(this,t.j),this.s=t.s,this.g=t.g,mc(this,t.m),this.l=t.l,e=t.i;var n=new Fa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QE(this,n),this.o=t.o}else t&&(n=String(t).match(rT))?(this.h=!!e,gc(this,n[1]||"",!0),this.s=Hs(n[2]||""),this.g=Hs(n[3]||"",!0),mc(this,n[4]),this.l=Hs(n[5]||"",!0),QE(this,n[6]||"",!0),this.o=Hs(n[7]||"")):(this.h=!!e,this.i=new Fa(null,this.h))}Si.prototype.toString=function(){var t=[],e=this.j;e&&t.push($s(e,WE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($s(e,WE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($s(n,n.charAt(0)=="/"?VN:MN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$s(n,LN)),t.join("")};function cr(t){return new Si(t)}function gc(t,e,n){t.j=n?Hs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QE(t,e,n){e instanceof Fa?(t.i=e,BN(t.i,t.h)):(n||(e=$s(e,AN)),t.i=new Fa(e,t.h))}function Ye(t,e,n){t.i.set(e,n)}function xf(t){return Ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $s(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,wN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var WE=/[#\/\?@]/g,MN=/[#\?:]/g,VN=/[#\?]/g,AN=/[#\?@]/g,LN=/#/g;function Fa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function si(t){t.g||(t.g=new Map,t.h=0,t.i&&DN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=Fa.prototype;ce.add=function(t,e){si(this),this.i=null,t=ss(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iT(t,e){si(t),e=ss(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oT(t,e){return si(t),e=ss(t,e),t.g.has(e)}ce.forEach=function(t,e){si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ce.oa=function(){si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ce.W=function(t){si(this);let e=[];if(typeof t=="string")oT(this,t)&&(e=e.concat(this.g.get(ss(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return si(this),this.i=null,t=ss(this,t),oT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function sT(t,e,n){iT(t,e),0<n.length&&(t.i=null,t.g.set(ss(t,e),wm(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),m=this.W(r);for(r=0;r<m.length;r++){var i=s;m[r]!==""&&(i+="="+encodeURIComponent(String(m[r]))),t.push(i)}}return this.i=t.join("&")};function ss(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function BN(t,e){e&&!t.j&&(si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iT(this,r),sT(this,i,n))},t)),t.j=e}var jN=class{constructor(e,n){this.h=e,this.g=n}};function aT(t){this.l=t||NN,Pe.PerformanceNavigationTiming?(t=Pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pe.g&&Pe.g.Ga&&Pe.g.Ga()&&Pe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NN=10;function lT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function uT(t){return t.h?1:t.g?t.g.size:0}function Qp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hm(t,e){t.g?t.g.add(e):t.h=e}function cT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aT.prototype.cancel=function(){if(this.i=fT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fT(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return wm(t.i)}function $m(){}$m.prototype.stringify=function(t){return Pe.JSON.stringify(t,void 0)};$m.prototype.parse=function(t){return Pe.JSON.parse(t,void 0)};function FN(){this.g=new $m}function UN(t,e,n){const r=n||"";try{nT(t,function(i,s){let m=i;ll(i)&&(m=Nm(i)),e.push(r+s+"="+encodeURIComponent(m))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function QN(t,e){const n=new Pf;if(Pe.Image){const r=new Image;r.onload=Jl(Xl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jl(Xl,n,r,"TestLoadImage: error",!1,e),r.onabort=Jl(Xl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jl(Xl,n,r,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pl(t){this.l=t.ac||null,this.j=t.jb||!1}It(pl,Qm);pl.prototype.g=function(){return new If(this.l,this.j)};pl.prototype.i=function(t){return function(){return t}}({});function If(t,e){Et.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(If,Et);var Km=0;ce=If.prototype;ce.open=function(t,e){if(this.readyState!=Km)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ua(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=Km};ce.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dT(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function dT(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}ce.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gl(this):Ua(this),this.readyState==3&&dT(this)}};ce.Va=function(t){this.g&&(this.response=this.responseText=t,gl(this))};ce.Ua=function(t){this.g&&(this.response=t,gl(this))};ce.ga=function(){this.g&&gl(this)};function gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ua(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(If.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WN=Pe.JSON.parse;function it(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hT,this.K=this.L=!1}It(it,Et);var hT="",zN=/^https?$/i,HN=["POST","PUT"];ce=it.prototype;ce.Ka=function(t){this.L=t};ce.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jp.g(),this.C=this.u?UE(this.u):UE(jp),this.g.onreadystatechange=jt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){zE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Pe.FormData&&t instanceof Pe.FormData,!(0<=DS(HN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,m]of n)this.g.setRequestHeader(s,m);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mT(this),0<this.B&&((this.K=$N(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.qa,this)):this.A=Um(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zE(this,s)}};function $N(t){return Ko&&aN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.qa=function(){typeof Dm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function zE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pT(t),Rf(t)}function pT(t){t.D||(t.D=!0,Tt(t,"complete"),Tt(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Rf(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),it.X.M.call(this)};ce.Ha=function(){this.s||(this.F||this.v||this.l?gT(this):this.fb())};ce.fb=function(){gT(this)};function gT(t){if(t.h&&typeof Dm<"u"&&(!t.C[1]||tr(t)!=4||t.aa()!=2)){if(t.v&&tr(t)==4)Um(t.Ha,0,t);else if(Tt(t,"readystatechange"),tr(t)==4){t.h=!1;try{const g=t.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=g===0){var i=String(t.H).match(rT)[1]||null;if(!i&&Pe.self&&Pe.self.location){var s=Pe.self.location.protocol;i=s.substr(0,s.length-1)}r=!zN.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var m=2<tr(t)?t.g.statusText:""}catch{m=""}t.j=m+" ["+t.aa()+"]",pT(t)}}finally{Rf(t)}}}}function Rf(t,e){if(t.g){mT(t);const n=t.g,r=t.C[0]?fc:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function mT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pe.clearTimeout(t.A),t.A=null)}function tr(t){return t.g?t.g.readyState:0}ce.aa=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}};ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WN(e)}};function HE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case hT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Ea=function(){return this.m};ce.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yT(t){let e="";return Vm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ye(t,e,n))}function Bs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vT(t){this.Ca=0,this.i=[],this.j=new Pf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Bs("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Bs("baseRetryDelayMs",5e3,t),this.bb=Bs("retryDelaySeedMs",1e4,t),this.$a=Bs("forwardChannelMaxRetries",2,t),this.ta=Bs("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new aT(t&&t.concurrentRequestLimit),this.Fa=new FN,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ce=vT.prototype;ce.ma=8;ce.G=1;function Gm(t){if(CT(t),t.G==3){var e=t.U++,n=cr(t.F);Ye(n,"SID",t.I),Ye(n,"RID",e),Ye(n,"TYPE","terminate"),ml(t,n),e=new dl(t,t.j,e,void 0),e.K=2,e.v=xf(cr(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(n=Pe.navigator.sendBeacon(e.v.toString(),"")),!n&&Pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=IT(e.l,null),e.g.da(e.v)),e.F=Date.now(),hl(e)}TT(t)}function Df(t){t.g&&(Ym(t),t.g.cancel(),t.g=null)}function CT(t){Df(t),t.u&&(Pe.clearTimeout(t.u),t.u=null),yc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Pe.clearTimeout(t.m),t.m=null)}function wf(t){lT(t.h)||t.m||(t.m=!0,WS(t.Ja,t),t.C=0)}function KN(t,e){return uT(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=cl(jt(t.Ja,t,e),ST(t,t.C)),t.C++,!0)}ce.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new dl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=AS(s),LS(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ET(this,i,e),n=cr(this.F),Ye(n,"RID",t),Ye(n,"CVER",22),this.D&&Ye(n,"X-HTTP-Session-Id",this.D),ml(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(yT(s)))+"&"+e:this.o&&qm(n,this.o,s)),Hm(this.h,i),this.Ya&&Ye(n,"TYPE","init"),this.O?(Ye(n,"$req",e),Ye(n,"SID","null"),i.Z=!0,Fp(i,n,null)):Fp(i,n,e),this.G=2}}else this.G==3&&(t?$E(this,t):this.i.length==0||lT(this.h)||$E(this))};function $E(t,e){var n;e?n=e.m:n=t.U++;const r=cr(t.F);Ye(r,"SID",t.I),Ye(r,"RID",n),Ye(r,"AID",t.T),ml(t,r),t.o&&t.s&&qm(r,t.o,t.s),n=new dl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=ET(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Hm(t.h,n),Fp(n,r,e)}function ml(t,e){t.ia&&Vm(t.ia,function(n,r){Ye(e,r,n)}),t.l&&nT({},function(n,r){Ye(e,r,n)})}function ET(t,e,n){n=Math.min(t.i.length,n);var r=t.l?jt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const m=["count="+n];s==-1?0<n?(s=i[0].h,m.push("ofs="+s)):s=0:m.push("ofs="+s);let g=!0;for(let y=0;y<n;y++){let P=i[y].h;const T=i[y].g;if(P-=s,0>P)s=Math.max(0,i[y].h-100),g=!1;else try{UN(T,m,"req"+P+"_")}catch{r&&r(T)}}if(g){r=m.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function PT(t){t.g||t.u||(t.Z=1,WS(t.Ia,t),t.A=0)}function Jm(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=cl(jt(t.Ia,t),ST(t,t.A)),t.A++,!0)}ce.Ia=function(){if(this.u=null,bT(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=cl(jt(this.eb,this),t)}};ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$t(10),Df(this),bT(this))};function Ym(t){t.B!=null&&(Pe.clearTimeout(t.B),t.B=null)}function bT(t){t.g=new dl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=cr(t.sa);Ye(e,"RID","rpc"),Ye(e,"SID",t.I),Ye(e,"CI",t.L?"0":"1"),Ye(e,"AID",t.T),Ye(e,"TYPE","xmlhttp"),ml(t,e),t.o&&t.s&&qm(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=xf(cr(e)),n.s=null,n.P=!0,ZS(n,t)}ce.cb=function(){this.v!=null&&(this.v=null,Df(this),Jm(this),$t(19))};function yc(t){t.v!=null&&(Pe.clearTimeout(t.v),t.v=null)}function OT(t,e){var n=null;if(t.g==e){yc(t),Ym(t),t.g=null;var r=2}else if(Qp(t.h,e))n=e.D,cT(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=bf(),Tt(r,new JS(r,n)),wf(t)}else PT(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&KN(t,e)||r==2&&Jm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ci(t,5);break;case 4:Ci(t,10);break;case 3:Ci(t,6);break;default:Ci(t,2)}}}function ST(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ci(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=jt(t.kb,t);n||(n=new Si("//www.google.com/images/cleardot.gif"),Pe.location&&Pe.location.protocol=="http"||gc(n,"https"),xf(n)),QN(n.toString(),r)}else $t(2);t.G=0,t.l&&t.l.va(e),TT(t),CT(t)}ce.kb=function(t){t?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function TT(t){if(t.G=0,t.la=[],t.l){const e=fT(t.h);(e.length!=0||t.i.length!=0)&&(AE(t.la,e),AE(t.la,t.i),t.h.i.length=0,wm(t.i),t.i.length=0),t.l.ua()}}function xT(t,e,n){var r=n instanceof Si?cr(n):new Si(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),mc(r,r.m);else{var i=Pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Si(null,void 0);r&&gc(s,r),e&&(s.g=e),i&&mc(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ye(r,n,e),Ye(r,"VER",t.ma),ml(t,r),r}function IT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new it(new pl({jb:!0})):new it(t.ra),e.Ka(t.H),e}function RT(){}ce=RT.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Ra=function(){};function vc(){if(Ko&&!(10<=Number(lN)))throw Error("Environmental error: no available transport.")}vc.prototype.g=function(t,e){return new sn(t,e)};function sn(t,e){Et.call(this),this.g=new vT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!dc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new as(this)}It(sn,Et);sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;$t(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=xT(t,null,t.V),wf(t)};sn.prototype.close=function(){Gm(this.g)};sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nm(t),t=n);e.i.push(new jN(e.ab++,t)),e.G==3&&wf(e)};sn.prototype.M=function(){this.g.l=null,delete this.j,Gm(this.g),delete this.g,sn.X.M.call(this)};function DT(t){Wm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(DT,Wm);function wT(){zm.call(this),this.status=1}It(wT,zm);function as(t){this.g=t}It(as,RT);as.prototype.xa=function(){Tt(this.g,"a")};as.prototype.wa=function(t){Tt(this.g,new DT(t))};as.prototype.va=function(t){Tt(this.g,new wT)};as.prototype.ua=function(){Tt(this.g,"b")};vc.prototype.createWebChannel=vc.prototype.g;sn.prototype.send=sn.prototype.u;sn.prototype.open=sn.prototype.m;sn.prototype.close=sn.prototype.close;Of.NO_ERROR=0;Of.TIMEOUT=8;Of.HTTP_ERROR=6;YS.COMPLETE="complete";XS.EventType=fl;fl.OPEN="a";fl.CLOSE="b";fl.ERROR="c";fl.MESSAGE="d";Et.prototype.listen=Et.prototype.N;it.prototype.listenOnce=it.prototype.O;it.prototype.getLastError=it.prototype.Oa;it.prototype.getLastErrorCode=it.prototype.Ea;it.prototype.getStatus=it.prototype.aa;it.prototype.getResponseJson=it.prototype.Sa;it.prototype.getResponseText=it.prototype.fa;it.prototype.send=it.prototype.da;it.prototype.setWithCredentials=it.prototype.Ka;var qN=function(){return new vc},GN=function(){return bf()},ch=Of,JN=YS,YN=Ji,KE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},XN=pl,kl=XS,kN=it;const qE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ls="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new mm("@firebase/firestore");function GE(){return Ni.logLevel}function de(t,...e){if(Ni.logLevel<=Ae.DEBUG){const n=e.map(Xm);Ni.debug(`Firestore (${ls}): ${t}`,...n)}}function fr(t,...e){if(Ni.logLevel<=Ae.ERROR){const n=e.map(Xm);Ni.error(`Firestore (${ls}): ${t}`,...n)}}function Cc(t,...e){if(Ni.logLevel<=Ae.WARN){const n=e.map(Xm);Ni.warn(`Firestore (${ls}): ${t}`,...n)}}function Xm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${ls}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function Ke(t,e){t||be()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eF{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let s=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qr,e.enqueueRetryable(()=>i(this.currentUser))};const m=()=>{const y=s;e.enqueueRetryable(async()=>{await y.promise,await i(this.currentUser)})},g=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qr)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new MT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Vt(e)}}class tF{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nF{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new tF(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iF{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const m=s.token!==this.T;return this.T=s.token,de("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.T=n.token,new rF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new pt(0,0))}static max(){return new Se(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),m=n.get(i);if(s<m)return-1;if(s>m)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends Qa{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const sF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Qa{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return sF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let m=!1;for(;i<e.length;){const g=e[i];if(g==="\\"){if(i+1===e.length)throw new Ee(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ee(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else g==="`"?(m=!m,i++):g!=="."||m?(r+=g,i++):(s(),i++)}if(s(),m)throw new Ee(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function aF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new kr(i,ge.empty(),e)}function lF(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(Se.min(),ge.empty(),-1)}static max(){return new kr(Se.max(),ge.empty(),-1)}}function uF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==cF)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,m=!1;e.forEach(g=>{++i,g.next(()=>{++s,m&&s===i&&n()},y=>r(y))}),m=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,m=new Array(s);let g=0;for(let y=0;y<s;y++){const P=y;n(e[P]).next(T=>{m[P]=T,++g,g===s&&r(m)},T=>i(T))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}km.ct=-1;function Mf(t){return t==null}function Ec(t){return t===0&&1/t==-1/0}function dF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new In([])}unionWith(e){let n=new gt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hF("Invalid base64 string: "+i):i}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const pF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=pF.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function BT(t){const e=t.mapValue.fields.__previous_value__;return LT(e)?BT(e):e}function Wa(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r,i,s,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=m,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LT(t)?4:mF(t)?9007199254740991:10:be()}function Kn(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wa(t).isEqual(Wa(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Zr(r.timestampValue),m=Zr(i.timestampValue);return s.seconds===m.seconds&&s.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Go(r.bytesValue).isEqual(Go(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return at(r.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return at(r.integerValue)===at(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=at(r.doubleValue),m=at(i.doubleValue);return s===m?Ec(s)===Ec(m):isNaN(s)&&isNaN(m)}return!1}(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(r,i){const s=r.mapValue.fields||{},m=i.mapValue.fields||{};if(JE(s)!==JE(m))return!1;for(const g in s)if(s.hasOwnProperty(g)&&(m[g]===void 0||!Kn(s[g],m[g])))return!1;return!0}(t,e);default:return be()}}function Ha(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,s){const m=at(i.integerValue||i.doubleValue),g=at(s.integerValue||s.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(t,e);case 3:return XE(t.timestampValue,e.timestampValue);case 4:return XE(Wa(t),Wa(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,s){const m=Go(i),g=Go(s);return m.compareTo(g)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const m=i.split("/"),g=s.split("/");for(let y=0;y<m.length&&y<g.length;y++){const P=je(m[y],g[y]);if(P!==0)return P}return je(m.length,g.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const m=je(at(i.latitude),at(s.latitude));return m!==0?m:je(at(i.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const m=i.values||[],g=s.values||[];for(let y=0;y<m.length&&y<g.length;++y){const P=Jo(m[y],g[y]);if(P)return P}return je(m.length,g.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===_l.mapValue&&s===_l.mapValue)return 0;if(i===_l.mapValue)return 1;if(s===_l.mapValue)return-1;const m=i.fields||{},g=Object.keys(m),y=s.fields||{},P=Object.keys(y);g.sort(),P.sort();for(let T=0;T<g.length&&T<P.length;++T){const x=je(g[T],P[T]);if(x!==0)return x;const C=Jo(m[g[T]],y[P[T]]);if(C!==0)return C}return je(g.length,P.length)}(t.mapValue,e.mapValue);default:throw be()}}function XE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Zr(t),r=Zr(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function Yo(t){return Wp(t)}function Wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Zr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Go(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ge.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const m of r.values||[])s?s=!1:i+=",",i+=Wp(m);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",m=!0;for(const g of i)m?m=!1:s+=",",s+=`${g}:${Wp(r.fields[g])}`;return s+"}"}(t.mapValue):be();var e,n}function zp(t){return!!t&&"integerValue"in t}function Zm(t){return!!t&&"arrayValue"in t}function kE(t){return!!t&&"nullValue"in t}function ZE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cu(t){return!!t&&"mapValue"in t}function ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ia(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((m,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,i),r={},i=[],n=g.popLast()}m?r[g.lastSegment()]=ia(m):i.push(g.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){us(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hn(ia(this.value))}}function jT(t){const e=[];return us(t.fields,(n,r)=>{const i=new Bt([n]);if(Cu(r)){const s=jT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const m of s)e.push(i.child(m))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,i,s,m,g){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=m,this.documentState=g}static newInvalidDocument(e){return new Lt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Lt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Lt(e,2,n,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.position=e,this.inclusive=n}}function _E(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],m=t.position[i];if(s.field.isKeyField()?r=ge.comparator(ge.fromName(m.referenceValue),n.key):r=Jo(m,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n="asc"){this.field=e,this.dir=n}}function yF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class dt extends NT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CF(e,n,r):n==="array-contains"?new bF(e,r):n==="in"?new OF(e,r):n==="not-in"?new SF(e,r):n==="array-contains-any"?new TF(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EF(e,r):new PF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new qn(e,n)}matches(e){return FT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function FT(t){return t.op==="and"}function UT(t){return vF(t)&&FT(t)}function vF(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Hp(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(UT(t))return t.filters.map(e=>Hp(e)).join(",");{const e=t.filters.map(n=>Hp(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof dt?function(n,r){return r instanceof dt&&n.op===r.op&&n.field.isEqual(r.field)&&Kn(n.value,r.value)}(t,e):t instanceof qn?function(n,r){return r instanceof qn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,m)=>i&&QT(s,r.filters[m]),!0):!1}(t,e):void be()}function WT(t){return t instanceof dt?function(e){return`${e.field.canonicalString()} ${e.op} ${Yo(e.value)}`}(t):t instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(WT).join(" ,")+"}"}(t):"Filter"}class CF extends dt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class EF extends dt{constructor(e,n){super(e,"in",n),this.keys=zT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PF extends dt{constructor(e,n){super(e,"not-in",n),this.keys=zT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class bF extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zm(n)&&Ha(n.arrayValue,this.value)}}class OF extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ha(this.value.arrayValue,n)}}class SF extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ha(this.value.arrayValue,n)}}class TF extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ha(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n=null,r=[],i=[],s=null,m=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=m,this.endAt=g,this.ft=null}}function tP(t,e=null,n=[],r=[],i=null,s=null,m=null){return new xF(t,e,n,r,i,s,m)}function _m(t){const e=Te(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.ft=n}return e.ft}function ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eP(t.startAt,e.startAt)&&eP(t.endAt,e.endAt)}function $p(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n=null,r=[],i=[],s=null,m="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=m,this.startAt=g,this.endAt=y,this.dt=null,this.wt=null,this.startAt,this.endAt}}function IF(t,e,n,r,i,s,m,g){return new Vf(t,e,n,r,i,s,m,g)}function ty(t){return new Vf(t)}function nP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RF(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function DF(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function wF(t){return t.collectionGroup!==null}function Mo(t){const e=Te(t);if(e.dt===null){e.dt=[];const n=DF(e),r=RF(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new oa(n)),e.dt.push(new oa(Bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new oa(Bt.keyField(),s))}}}return e.dt}function dr(t){const e=Te(t);if(!e.wt)if(e.limitType==="F")e.wt=tP(e.path,e.collectionGroup,Mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Mo(e)){const m=s.dir==="desc"?"asc":"desc";n.push(new oa(s.field,m))}const r=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;e.wt=tP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Kp(t,e,n){return new Vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return ey(dr(t),dr(e))&&t.limitType===e.limitType}function HT(t){return`${_m(dr(t))}|lt:${t.limitType}`}function qp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>WT(r)).join(", ")}]`),Mf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),`Target(${n})`}(dr(t))}; limitType=${t.limitType})`}function Lf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ge.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Mo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,m){const g=_E(i,s,m);return i.inclusive?g<=0:g<0}(n.startAt,Mo(n),r)||n.endAt&&!function(i,s,m){const g=_E(i,s,m);return i.inclusive?g>=0:g>0}(n.endAt,Mo(n),r))}(t,e)}function MF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $T(t){return(e,n)=>{let r=!1;for(const i of Mo(t)){const s=VF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VF(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(i,s,m){const g=s.data.field(i),y=m.data.field(i);return g!==null&&y!==null?Jo(g,y):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new mt(ge.comparator);function hr(){return AF}const KT=new mt(ge.comparator);function Ks(...t){let e=KT;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=KT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return sa()}function GT(){return sa()}function sa(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const LF=new mt(ge.comparator),BF=new gt(ge.comparator);function De(...t){let e=BF;for(const n of t)e=e.add(n);return e}const jF=new gt(je);function JT(){return jF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function XT(t){return{integerValue:""+t}}function NF(t,e){return dF(e)?XT(e):YT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function FF(t,e,n){return t instanceof bc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof $a?ZT(t,e):t instanceof Ka?_T(t,e):function(r,i){const s=kT(r,i),m=rP(s)+rP(r._t);return zp(s)&&zp(r._t)?XT(m):YT(r.serializer,m)}(t,e)}function UF(t,e,n){return t instanceof $a?ZT(t,e):t instanceof Ka?_T(t,e):n}function kT(t,e){return t instanceof Oc?zp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class bc extends Bf{}class $a extends Bf{constructor(e){super(),this.elements=e}}function ZT(t,e){const n=ex(e);for(const r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ka extends Bf{constructor(e){super(),this.elements=e}}function _T(t,e){let n=ex(e);for(const r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}class Oc extends Bf{constructor(e,n){super(),this.serializer=e,this._t=n}}function rP(t){return at(t.integerValue||t.doubleValue)}function ex(t){return Zm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QF(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof $a&&r instanceof $a||n instanceof Ka&&r instanceof Ka?qo(n.elements,r.elements,Kn):n instanceof Oc&&r instanceof Oc?Kn(n._t,r._t):n instanceof bc&&r instanceof bc}(t.transform,e.transform)}class WF{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jf{}function tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rx(t.key,rr.none()):new Cl(t.key,t.data,rr.none());{const n=t.data,r=hn.empty();let i=new gt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let m=n.field(s);m===null&&s.length>1&&(s=s.popLast(),m=n.field(s)),m===null?r.delete(s):r.set(s,m),i=i.add(s)}return new Yi(t.key,r,new In(i.toArray()),rr.none())}}function zF(t,e,n){t instanceof Cl?function(r,i,s){const m=r.value.clone(),g=oP(r.fieldTransforms,i,s.transformResults);m.setAll(g),i.convertToFoundDocument(s.version,m).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(r,i,s){if(!Eu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const m=oP(r.fieldTransforms,i,s.transformResults),g=i.data;g.setAll(nx(r)),g.setAll(m),i.convertToFoundDocument(s.version,g).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function aa(t,e,n,r){return t instanceof Cl?function(i,s,m,g){if(!Eu(i.precondition,s))return m;const y=i.value.clone(),P=sP(i.fieldTransforms,g,s);return y.setAll(P),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,s,m,g){if(!Eu(i.precondition,s))return m;const y=sP(i.fieldTransforms,g,s),P=s.data;return P.setAll(nx(i)),P.setAll(y),s.convertToFoundDocument(s.version,P).setHasLocalMutations(),m===null?null:m.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(t,e,n,r):function(i,s,m){return Eu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):m}(t,e,n)}function HF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kT(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function iP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qo(n,r,(i,s)=>QF(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends jf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends jf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oP(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],m=s.transform,g=e.data.field(s.field);r.set(s.field,UF(m,g,n[i]))}return r}function sP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,m=n.data.field(i.field);r.set(i.field,FF(s,m,e))}return r}class rx extends jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $F extends jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GT();return this.mutations.forEach(i=>{const s=e.get(i.key),m=s.overlayedDocument;let g=this.applyToLocalView(m,s.mutatedFields);g=n.has(i.key)?null:g;const y=tx(m,g);y!==null&&r.set(i.key,y),m.isValidDocument()||m.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,r)=>iP(n,r))&&qo(this.baseMutations,e.baseMutations,(n,r)=>iP(n,r))}}class ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=LF;const s=e.mutations;for(let m=0;m<s.length;m++)i=i.insert(s[m].key,r[m].version);return new ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Me;function JF(t){switch(t){default:return be();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function ix(t){if(t===void 0)return fr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case st.OK:return ne.OK;case st.CANCELLED:return ne.CANCELLED;case st.UNKNOWN:return ne.UNKNOWN;case st.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case st.INTERNAL:return ne.INTERNAL;case st.UNAVAILABLE:return ne.UNAVAILABLE;case st.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case st.NOT_FOUND:return ne.NOT_FOUND;case st.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case st.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case st.ABORTED:return ne.ABORTED;case st.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case st.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case st.DATA_LOSS:return ne.DATA_LOSS;default:return be()}}(Me=st||(st={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return eu}static getOrCreateInstance(){return eu===null&&(eu=new ry),eu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let eu=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nf(Se.min(),i,JT(),hr(),De())}}class El{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new El(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class ox{constructor(e,n){this.targetId=e,this.Et=n}}class sx{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aP{constructor(){this.At=0,this.Rt=uP(),this.vt=Qt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=De(),n=De(),r=De();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new El(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=uP()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class YF{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=hr(),this.qt=lP(),this.Ut=new gt(je)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const m=s.target;if($p(m))if(i===0){const g=new ge(m.path);this.Qt(r,g,Lt.newNoDocument(g,Se.min()))}else Ke(i===1);else{const g=this.Zt(r);g!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=ry.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:g,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,m)=>{const g=this.Yt(m);if(g){if(s.current&&$p(g.target)){const y=new ge(g.target.path);this.Lt.get(y)!==null||this.te(m,y)||this.Qt(m,y,Lt.newNoDocument(y,e))}s.St&&(n.set(m,s.Ct()),s.xt())}});let r=De();this.qt.forEach((s,m)=>{let g=!0;m.forEachWhile(y=>{const P=this.Yt(y);return!P||P.purpose===2||(g=!1,!1)}),g&&(r=r.add(s))}),this.Lt.forEach((s,m)=>m.setReadTime(e));const i=new Nf(e,n,this.Ut,this.Lt,r);return this.Lt=hr(),this.qt=lP(),this.Ut=new gt(je),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new aP,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new gt(je),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new aP),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function lP(){return new mt(ge.comparator)}function uP(){return new mt(ge.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZF=(()=>({and:"AND",or:"OR"}))();class _F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ax(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eU(t,e){return Sc(t,e.toTimestamp())}function $n(t){return Ke(!!t),Se.fromTimestamp(function(e){const n=Zr(e);return new pt(n.seconds,n.nanos)}(t))}function iy(t,e){return function(n){return new rt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function lx(t){const e=rt.fromString(t);return Ke(dx(e)),e}function Gp(t,e){return iy(t.databaseId,e.path)}function fh(t,e){const n=lx(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(ux(n))}function Jp(t,e){return iy(t.databaseId,e)}function tU(t){const e=lx(t);return e.length===4?rt.emptyPath():ux(e)}function Yp(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ux(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cP(t,e,n){return{name:Gp(t,e),fields:n.value.mapValue.fields}}function nU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(y,P){return y.useProto3Json?(Ke(P===void 0||typeof P=="string"),Qt.fromBase64String(P||"")):(Ke(P===void 0||P instanceof Uint8Array),Qt.fromUint8Array(P||new Uint8Array))}(t,e.targetChange.resumeToken),m=e.targetChange.cause,g=m&&function(y){const P=y.code===void 0?ne.UNKNOWN:ix(y.code);return new Ee(P,y.message||"")}(m);n=new sx(r,i,s,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fh(t,r.document.name),s=$n(r.document.updateTime),m=r.document.createTime?$n(r.document.createTime):Se.min(),g=new hn({mapValue:{fields:r.document.fields}}),y=Lt.newFoundDocument(i,s,m,g),P=r.targetIds||[],T=r.removedTargetIds||[];n=new Pu(P,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fh(t,r.document),s=r.readTime?$n(r.readTime):Se.min(),m=Lt.newNoDocument(i,s),g=r.removedTargetIds||[];n=new Pu([],g,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fh(t,r.document),s=r.removedTargetIds||[];n=new Pu([],s,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new GF(i),m=r.targetId;n=new ox(m,s)}}return n}function rU(t,e){let n;if(e instanceof Cl)n={update:cP(t,e.key,e.value)};else if(e instanceof rx)n={delete:Gp(t,e.key)};else if(e instanceof Yi)n={update:cP(t,e.key,e.data),updateMask:dU(e.fieldMask)};else{if(!(e instanceof $F))return be();n={verify:Gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const m=s.transform;if(m instanceof bc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $a)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ka)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oc)return{fieldPath:s.field.canonicalString(),increment:m._t};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:eU(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:be()}(t,e.precondition)),n}function iU(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?$n(r.updateTime):$n(i);return s.isEqual(Se.min())&&(s=$n(i)),new WF(s,r.transformResults||[])}(n,e))):[]}function oU(t,e){return{documents:[Jp(t,e.path)]}}function sU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Jp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(y.length!==0)return fx(qn.create(y,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(y){if(y.length!==0)return y.map(P=>function(T){return{field:ro(T.field),direction:uU(T.dir)}}(P))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const m=function(y,P){return y.useProto3Json||Mf(P)?P:{value:P}}(t,e.limit);var g;return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),n}function aU(t){let e=tU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const T=n.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let s=[];n.where&&(s=function(T){const x=cx(T);return x instanceof qn&&UT(x)?x.getFilters():[x]}(n.where));let m=[];n.orderBy&&(m=n.orderBy.map(T=>function(x){return new oa(io(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T)));let g=null;n.limit&&(g=function(T){let x;return x=typeof T=="object"?T.value:T,Mf(x)?null:x}(n.limit));let y=null;n.startAt&&(y=function(T){const x=!!T.before,C=T.values||[];return new Pc(C,x)}(n.startAt));let P=null;return n.endAt&&(P=function(T){const x=!T.before,C=T.values||[];return new Pc(C,x)}(n.endAt)),IF(e,i,m,s,g,"F",y,P)}function lU(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function cx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=io(e.unaryFilter.field);return dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=io(e.unaryFilter.field);return dt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=io(e.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=io(e.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(e){return dt.create(io(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return qn.create(e.compositeFilter.filters.map(n=>cx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return be()}}(e.compositeFilter.op))}(t):be()}function uU(t){return XF[t]}function cU(t){return kF[t]}function fU(t){return ZF[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return Bt.fromServerFormat(t.fieldPath)}function fx(t){return t instanceof dt?function(e){if(e.op==="=="){if(ZE(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NAN"}};if(kE(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ZE(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NAN"}};if(kE(e.value))return{unaryFilter:{field:ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(e.field),op:cU(e.op),value:e.value}}}(t):t instanceof qn?function(e){const n=e.getFilters().map(r=>fx(r));return n.length===1?n[0]:{compositeFilter:{op:fU(e.op),filters:n}}}(t):be()}function dU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r,i,s=Se.min(),m=Se.min(),g=Qt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=g}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.se=e}}function pU(t){const e=aU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.He=new mU}addToCollectionParentIndex(e,n){return this.He.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(kr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class mU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Xo(0)}static bn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&aa(r.mutation,i,In.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let m=Ks();return s.forEach((g,y)=>{m=m.insert(g,y.overlayedDocument)}),m}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((m,g)=>{n.set(m,g)})})}computeViews(e,n,r,i){let s=hr();const m=sa(),g=sa();return n.forEach((y,P)=>{const T=r.get(P.key);i.has(P.key)&&(T===void 0||T.mutation instanceof Yi)?s=s.insert(P.key,P):T!==void 0?(m.set(P.key,T.mutation.getFieldMask()),aa(T.mutation,P,T.mutation.getFieldMask(),pt.now())):m.set(P.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(y=>(y.forEach((P,T)=>m.set(P,T)),n.forEach((P,T)=>{var x;return g.set(P,new vU(T,(x=m.get(P))!==null&&x!==void 0?x:null))}),g))}recalculateAndSaveOverlays(e,n){const r=sa();let i=new mt((m,g)=>m-g),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(m=>{for(const g of m)g.keys().forEach(y=>{const P=n.get(y);if(P===null)return;let T=r.get(y)||In.empty();T=g.applyToLocalView(P,T),r.set(y,T);const x=(i.get(g.batchId)||De()).add(y);i=i.insert(g.batchId,x)})}).next(()=>{const m=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),P=y.key,T=y.value,x=GT();T.forEach(C=>{if(!s.has(C)){const E=tx(n.get(C),r.get(C));E!==null&&x.set(C,E),s=s.add(C)}}),m.push(this.documentOverlayCache.saveOverlays(e,P,x))}return te.waitFor(m)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const m=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(Ei());let g=-1,y=s;return m.next(P=>te.forEach(P,(T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),s.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{y=y.insert(T,C)}))).next(()=>this.populateOverlays(e,P,s)).next(()=>this.computeViews(e,y,P,De())).next(T=>({batchId:g,changes:qT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Ks();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ks();return this.indexManager.getCollectionParents(e,i).next(m=>te.forEach(m,g=>{const y=function(P,T){return new Vf(T,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(n,g.child(i));return this.getDocumentsMatchingCollectionQuery(e,y,r).next(P=>{P.forEach((T,x)=>{s=s.insert(T,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((g,y)=>{const P=y.getKey();s.get(P)===null&&(s=s.insert(P,Lt.newInvalidDocument(P)))});let m=Ks();return s.forEach((g,y)=>{const P=i.get(g);P!==void 0&&aa(P.mutation,y,In.empty(),pt.now()),Lf(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return te.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:$n(r.createTime)}),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:pU(r.bundledQuery),readTime:$n(r.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.overlays=new mt(ge.comparator),this.ts=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Ei(),s=n.length+1,m=new ge(n.child("")),g=this.overlays.getIteratorFrom(m);for(;g.hasNext();){const y=g.getNext().value,P=y.getKey();if(!n.isPrefixOf(P.path))break;P.path.length===s&&y.largestBatchId>r&&i.set(y.getKey(),y)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mt((P,T)=>P-T);const m=this.overlays.getIterator();for(;m.hasNext();){const P=m.getNext().value;if(P.getKey().getCollectionGroup()===n&&P.largestBatchId>r){let T=s.get(P.largestBatchId);T===null&&(T=Ei(),s=s.insert(P.largestBatchId,T)),T.set(P.getKey(),P)}}const g=Ei(),y=s.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((P,T)=>g.set(P,T)),!(g.size()>=i)););return te.resolve(g)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const m=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new qF(n,r));let s=this.ts.get(n);s===void 0&&(s=De(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.es=new gt(yt.ns),this.ss=new gt(yt.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new yt(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new yt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new ge(new rt([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.ss.forEachInRange([r,i],m=>{this.us(m),s.push(m.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new ge(new rt([])),r=new yt(n,e),i=new yt(n,e+1);let s=De();return this.ss.forEachInRange([r,i],m=>{s=s.add(m.key)}),s}containsKey(e){const n=new yt(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return ge.comparator(e.key,n.key)||je(e.ds,n.ds)}static rs(e,n){return je(e.ds,n.ds)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new gt(yt.ns)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new KF(s,n,r,i);this.mutationQueue.push(m);for(const g of i)this._s=this._s.add(new yt(g.key,s)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(m)}lookupMutationBatch(e,n){return te.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],m=>{const g=this.gs(m.ds);s.push(g)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(je);return n.forEach(i=>{const s=new yt(i,0),m=new yt(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,m],g=>{r=r.add(g.ds)})}),te.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const m=new yt(new ge(s),0);let g=new gt(je);return this._s.forEachWhile(y=>{const P=y.key.path;return!!r.isPrefixOf(P)&&(P.length===i&&(g=g.add(y.ds)),!0)},m),te.resolve(this.ps(g))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return te.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new yt(n,0),i=this._s.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.Ts=e,this.docs=new mt(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,m=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:m}),this.size+=m-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Lt.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hr();const m=n.path,g=new ge(m.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:P,value:{document:T}}=y.getNext();if(!m.isPrefixOf(P.path))break;P.path.length>m.length+1||uF(lF(T),r)<=0||(i.has(T.key)||Lf(n,T))&&(s=s.insert(T.key,T.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){be()}Es(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SU(this)}getSize(e){return te.resolve(this.size)}}class SU extends yU{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.persistence=e,this.As=new cs(n=>_m(n),ey),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Rs=0,this.vs=new oy,this.targetCount=0,this.bs=Xo.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),te.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Sn(n),te.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((m,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.As.delete(m),s.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(m=>{s.push(i.markPotentiallyOrphaned(e,m))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new km(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new TU(this),this.indexManager=new gU,this.remoteDocumentCache=function(r){return new OU(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new hU(n),this.xs=new EU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new bU(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new IU(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return te.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class IU extends fF{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.$s=new oy,this.Ms=null}static Fs(e){return new sy(e)}get Bs(){if(this.Ms)return this.Ms;throw be()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),te.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Bs,r=>{const i=ge.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return te.or([()=>te.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ay(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(nP(n))return te.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kp(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const m=De(...s);return this.xi.getDocuments(e,m).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const P=this.$i(n,g);return this.Mi(n,P,m,y.readTime)?this.Ni(e,Kp(n,null,"F")):this.Fi(e,P,n,y)}))})))}ki(e,n,r,i){return nP(n)||i.isEqual(Se.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const m=this.$i(n,s);return this.Mi(n,m,r,i)?this.Oi(e,n):(GE()<=Ae.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qp(n)),this.Fi(e,m,n,aF(i,-1)))})}$i(e,n){let r=new gt($T(e));return n.forEach((i,s)=>{Lf(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return GE()<=Ae.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",qp(n)),this.xi.getDocumentsMatchingQuery(e,n,kr.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(m=>{s=s.insert(m.key,m)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new mt(je),this.qi=new cs(s=>_m(s),ey),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CU(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function wU(t,e,n,r){return new DU(t,e,n,r)}async function hx(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const m=[],g=[];let y=De();for(const P of i){m.push(P.batchId);for(const T of P.mutations)y=y.add(T.key)}for(const P of s){g.push(P.batchId);for(const T of P.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next(P=>({Qi:P,removedBatchIds:m,addedBatchIds:g}))})})}function MU(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(m,g,y,P){const T=y.batch,x=T.keys();let C=te.resolve();return x.forEach(E=>{C=C.next(()=>P.getEntry(g,E)).next(v=>{const u=y.docVersions.get(E);Ke(u!==null),v.version.compareTo(u)<0&&(T.applyToRemoteDocument(v,y),v.isValidDocument()&&(v.setReadTime(y.commitVersion),P.addEntry(v)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=De();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function px(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function VU(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const m=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const g=[];e.targetChanges.forEach((T,x)=>{const C=i.get(x);if(!C)return;g.push(n.Ds.removeMatchingKeys(s,T.removedDocuments,x).next(()=>n.Ds.addMatchingKeys(s,T.addedDocuments,x)));let E=C.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(x)?E=E.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(T.resumeToken,r)),i=i.insert(x,E),function(v,u,c){return v.resumeToken.approximateByteSize()===0||u.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0}(C,E,T)&&g.push(n.Ds.updateTargetData(s,E))});let y=hr(),P=De();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(s,T))}),g.push(AU(s,m,e.documentUpdates).next(T=>{y=T.zi,P=T.ji})),!r.isEqual(Se.min())){const T=n.Ds.getLastRemoteSnapshotVersion(s).next(x=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));g.push(T)}return te.waitFor(g).next(()=>m.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,y,P)).next(()=>y)}).then(s=>(n.Li=i,s))}function AU(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let m=hr();return n.forEach((g,y)=>{const P=s.get(g);y.isFoundDocument()!==P.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(g,y.readTime),m=m.insert(g,y)):!P.isValidDocument()||y.version.compareTo(P.version)>0||y.version.compareTo(P.version)===0&&P.hasPendingWrites?(e.addEntry(y),m=m.insert(g,y)):de("LocalStore","Ignoring outdated watch update for ",g,". Current version:",P.version," Watch version:",y.version)}),{zi:m,ji:i}})}function LU(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BU(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Ds.allocateTargetId(r).next(m=>(i=new Ti(e,m,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Xp(t,e,n){const r=Te(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,m=>r.persistence.referenceDelegate.removeTarget(m,i))}catch(m){if(!vl(m))throw m;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function fP(t,e,n){const r=Te(t);let i=Se.min(),s=De();return r.persistence.runTransaction("Execute query","readonly",m=>function(g,y,P){const T=Te(g),x=T.qi.get(P);return x!==void 0?te.resolve(T.Li.get(x)):T.Ds.getTargetData(y,P)}(r,m,dr(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(m,g.targetId).next(y=>{s=y})}).next(()=>r.Bi.getDocumentsMatchingQuery(m,e,n?i:Se.min(),n?s:De())).next(g=>(jU(r,MF(e),g),{documents:g,Wi:s})))}function jU(t,e,n){let r=t.Ui.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class dP{constructor(){this.activeTargetIds=JT()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NU{constructor(){this.Br=new dP,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new dP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function dh(){return tu===null?tu=268435456+Math.round(2147483648*Math.random()):tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class WU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const m=dh(),g=this.ao(e,n);de("RestConnection",`Sending RPC '${e}' ${m}:`,g,r);const y={};return this.ho(y,i,s),this.lo(e,g,y,r).then(P=>(de("RestConnection",`Received RPC '${e}' ${m}: `,P),P),P=>{throw Cc("RestConnection",`RPC '${e}' ${m} failed with error: `,P,"url: ",g,"request:",r),P})}fo(e,n,r,i,s,m){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ls,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=UU[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=dh();return new Promise((m,g)=>{const y=new kN;y.setWithCredentials(!0),y.listenOnce(JN.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ch.NO_ERROR:const T=y.getResponseJson();de(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(T)),m(T);break;case ch.TIMEOUT:de(wt,`RPC '${e}' ${s} timed out`),g(new Ee(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const x=y.getStatus();if(de(wt,`RPC '${e}' ${s} failed with status:`,x,"response text:",y.getResponseText()),x>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const E=C==null?void 0:C.error;if(E&&E.status&&E.message){const v=function(u){const c=u.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(c)>=0?c:ne.UNKNOWN}(E.status);g(new Ee(v,E.message))}else g(new Ee(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ee(ne.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(wt,`RPC '${e}' ${s} completed.`)}});const P=JSON.stringify(i);de(wt,`RPC '${e}' ${s} sending request:`,i),y.send(n,"POST",P,r,15)})}wo(e,n,r){const i=dh(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=qN(),g=GN(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new XN({})),this.ho(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const P=s.join("");de(wt,`Creating RPC '${e}' stream ${i}: ${P}`,y);const T=m.createWebChannel(P,y);let x=!1,C=!1;const E=new QU({Wr:u=>{C?de(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,u):(x||(de(wt,`Opening RPC '${e}' stream ${i} transport.`),T.open(),x=!0),de(wt,`RPC '${e}' stream ${i} sending:`,u),T.send(u))},Hr:()=>T.close()}),v=(u,c,p)=>{u.listen(c,o=>{try{p(o)}catch(a){setTimeout(()=>{throw a},0)}})};return v(T,kl.EventType.OPEN,()=>{C||de(wt,`RPC '${e}' stream ${i} transport opened.`)}),v(T,kl.EventType.CLOSE,()=>{C||(C=!0,de(wt,`RPC '${e}' stream ${i} transport closed`),E.so())}),v(T,kl.EventType.ERROR,u=>{C||(C=!0,Cc(wt,`RPC '${e}' stream ${i} transport errored:`,u),E.so(new Ee(ne.UNAVAILABLE,"The operation could not be completed")))}),v(T,kl.EventType.MESSAGE,u=>{var c;if(!C){const p=u.data[0];Ke(!!p);const o=p,a=o.error||((c=o[0])===null||c===void 0?void 0:c.error);if(a){de(wt,`RPC '${e}' stream ${i} received error:`,a);const d=a.status;let h=function(l){const O=st[l];if(O!==void 0)return ix(O)}(d),f=a.message;h===void 0&&(h=ne.INTERNAL,f="Unknown error status: "+d+" with message "+a.message),C=!0,E.so(new Ee(h,f)),T.close()}else de(wt,`RPC '${e}' stream ${i} received:`,p),E.io(p)}}),v(g,YN.STAT_EVENT,u=>{u.stat===KE.PROXY?de(wt,`RPC '${e}' stream ${i} detected buffering proxy`):u.stat===KE.NOPROXY&&de(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.no()},0),E}}function hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return new _F(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i,s,m,g,y){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new gx(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new Ee(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zU extends mx{constructor(e,n,r,i,s,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,m),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=nU(this.serializer,e),r=function(i){if(!("targetChange"in i))return Se.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?$n(s.readTime):Se.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Yp(this.serializer),n.addTarget=function(i,s){let m;const g=s.target;return m=$p(g)?{documents:oU(i,g)}:{query:sU(i,g)},m.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?m.resumeToken=ax(i,s.resumeToken):s.snapshotVersion.compareTo(Se.min())>0&&(m.readTime=Sc(i,s.snapshotVersion.toTimestamp())),m}(this.serializer,e);const r=lU(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Yp(this.serializer),n.removeTarget=e,this.Fo(n)}}class HU extends mx{constructor(e,n,r,i,s,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,m),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=iU(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.Zo(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Yp(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rU(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ee(ne.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,m])=>this.connection.fo(e,n,r,s,m,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(ne.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class KU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(fr(n),this.ru=!1):de("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(m=>{r.enqueueAndForget(async()=>{Xi(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Te(g);y.du.add(4),await Pl(y),y.mu.set("Unknown"),y.du.delete(4),await Uf(y)}(this))})}),this.mu=new KU(r,i)}}async function Uf(t){if(Xi(t))for(const e of t.wu)await e(!0)}async function Pl(t){for(const e of t.wu)await e(!1)}function yx(t,e){const n=Te(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),cy(n)?uy(n):fs(n).No()&&ly(n,e))}function vx(t,e){const n=Te(t),r=fs(n);n.fu.delete(e),r.No()&&Cx(n,e),n.fu.size===0&&(r.No()?r.$o():Xi(n)&&n.mu.set("Unknown"))}function ly(t,e){t.gu.Ot(e.targetId),fs(t).jo(e)}function Cx(t,e){t.gu.Ot(e),fs(t).Wo(e)}function uy(t){t.gu=new YF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),fs(t).start(),t.mu.ou()}function cy(t){return Xi(t)&&!fs(t).xo()&&t.fu.size>0}function Xi(t){return Te(t).du.size===0}function Ex(t){t.gu=void 0}async function GU(t){t.fu.forEach((e,n)=>{ly(t,e)})}async function JU(t,e){Ex(t),cy(t)?(t.mu.au(e),uy(t)):t.mu.set("Unknown")}async function YU(t,e,n){if(t.mu.set("Online"),e instanceof sx&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const m of i.targetIds)r.fu.has(m)&&(await r.remoteSyncer.rejectListen(m,s),r.fu.delete(m),r.gu.removeTarget(m))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(t,r)}else if(e instanceof Pu?t.gu.Kt(e):e instanceof ox?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(Se.min()))try{const r=await px(t.localStore);n.compareTo(r)>=0&&await function(i,s){const m=i.gu.Xt(s);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const P=i.fu.get(y);P&&i.fu.set(y,P.withResumeToken(g.resumeToken,s))}}),m.targetMismatches.forEach(g=>{const y=i.fu.get(g);if(!y)return;i.fu.set(g,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),Cx(i,g);const P=new Ti(y.target,g,1,y.sequenceNumber);ly(i,P)}),i.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Tc(t,r)}}async function Tc(t,e,n){if(!vl(e))throw e;t.du.add(1),await Pl(t),t.mu.set("Offline"),n||(n=()=>px(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Uf(t)})}function Px(t,e){return e().catch(n=>Tc(t,n,e))}async function Qf(t){const e=Te(t),n=_r(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;XU(e);)try{const i=await LU(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,kU(e,i)}catch(i){await Tc(e,i)}bx(e)&&Ox(e)}function XU(t){return Xi(t)&&t.lu.length<10}function kU(t,e){t.lu.push(e);const n=_r(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function bx(t){return Xi(t)&&!_r(t).xo()&&t.lu.length>0}function Ox(t){_r(t).start()}async function ZU(t){_r(t).tu()}async function _U(t){const e=_r(t);for(const n of t.lu)e.Yo(n.mutations)}async function e3(t,e,n){const r=t.lu.shift(),i=ny.from(r,e,n);await Px(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qf(t)}async function t3(t,e){e&&_r(t).Jo&&await async function(n,r){if(i=r.code,JF(i)&&i!==ne.ABORTED){const s=n.lu.shift();_r(n).Oo(),await Px(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Qf(n)}var i}(t,e),bx(t)&&Ox(t)}async function pP(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Xi(n);n.du.add(3),await Pl(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Uf(n)}async function n3(t,e){const n=Te(t);e?(n.du.delete(2),await Uf(n)):e||(n.du.add(2),await Pl(n),n.mu.set("Unknown"))}function fs(t){return t.yu||(t.yu=function(e,n,r){const i=Te(e);return i.nu(),new zU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:GU.bind(null,t),Zr:JU.bind(null,t),zo:YU.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),cy(t)?uy(t):t.mu.set("Unknown")):(await t.yu.stop(),Ex(t))})),t.yu}function _r(t){return t.pu||(t.pu=function(e,n,r){const i=Te(e);return i.nu(),new HU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:ZU.bind(null,t),Zr:t3.bind(null,t),Xo:_U.bind(null,t),Zo:e3.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Qf(t)):(await t.pu.stop(),t.lu.length>0&&(de("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,n,r,i,s){const m=Date.now()+r,g=new fy(e,n,m,i,s);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(fr("AsyncQueue",`${e}: ${t}`),vl(t))return new Ee(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Ks(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.Iu=new mt(ge.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):be():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,i,s,m,g,y,P){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=m,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=P}static fromInitialDocuments(e,n,r,i,s){const m=[];return n.forEach(g=>{m.push({type:0,doc:g})}),new ko(e,n,Vo.emptySet(n),m,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.Eu=void 0,this.listeners=[]}}class i3{constructor(){this.queries=new cs(e=>HT(e),Af),this.onlineState="Unknown",this.Au=new Set}}async function o3(t,e){const n=Te(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new r3),i)try{s.Eu=await n.onListen(r)}catch(m){const g=dy(m,`Initialization of query '${qp(e.query)}' failed`);return void e.onError(g)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&hy(n)}async function s3(t,e){const n=Te(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const m=s.listeners.indexOf(e);m>=0&&(s.listeners.splice(m,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function a3(t,e){const n=Te(t);let r=!1;for(const i of e){const s=i.query,m=n.queries.get(s);if(m){for(const g of m.listeners)g.vu(i)&&(r=!0);m.Eu=i}}r&&hy(n)}function l3(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function hy(t){t.Au.forEach(e=>{e.next()})}class u3{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class c3{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=De(),this.mutatedKeys=De(),this.Ku=$T(e),this.Gu=new Vo(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new gP,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,m=i,g=!1;const y=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,P=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,x)=>{const C=i.get(T),E=Lf(this.query,x)?x:null,v=!!C&&this.mutatedKeys.has(C.key),u=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let c=!1;C&&E?C.data.isEqual(E.data)?v!==u&&(r.track({type:3,doc:E}),c=!0):this.Wu(C,E)||(r.track({type:2,doc:E}),c=!0,(y&&this.Ku(E,y)>0||P&&this.Ku(E,P)<0)&&(g=!0)):!C&&E?(r.track({type:0,doc:E}),c=!0):C&&!E&&(r.track({type:1,doc:C}),c=!0,(y||P)&&(g=!0)),c&&(E?(m=m.add(E),s=u?s.add(T):s.delete(T)):(m=m.delete(T),s=s.delete(T)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const T=this.query.limitType==="F"?m.last():m.first();m=m.delete(T.key),s=s.delete(T.key),r.track({type:1,doc:T})}return{Gu:m,ju:r,Mi:g,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((P,T)=>function(x,C){const E=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return E(x)-E(C)}(P.type,T.type)||this.Ku(P.doc,T.doc)),this.Hu(r);const m=n?this.Ju():[],g=this.Uu.size===0&&this.current?1:0,y=g!==this.qu;return this.qu=g,s.length!==0||y?{snapshot:new ko(this.query,e.Gu,i,s,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:m}:{Yu:m}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new gP,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=De(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new Tx(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new Sx(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=De();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return ko.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class f3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d3{constructor(e){this.key=e,this.ec=!1}}class h3{constructor(e,n,r,i,s,m){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=m,this.nc={},this.sc=new cs(g=>HT(g),Af),this.ic=new Map,this.rc=new Set,this.oc=new mt(ge.comparator),this.uc=new Map,this.cc=new oy,this.ac={},this.hc=new Map,this.lc=Xo.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function p3(t,e){const n=S3(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const m=await BU(n.localStore,dr(e));n.isPrimaryClient&&yx(n.remoteStore,m);const g=n.sharedClientState.addLocalQueryTarget(m.targetId);r=m.targetId,i=await g3(n,e,r,g==="current",m.resumeToken)}return i}async function g3(t,e,n,r,i){t.dc=(x,C,E)=>async function(v,u,c,p){let o=u.view.zu(c);o.Mi&&(o=await fP(v.localStore,u.query,!1).then(({documents:h})=>u.view.zu(h,o)));const a=p&&p.targetChanges.get(u.targetId),d=u.view.applyChanges(o,v.isPrimaryClient,a);return yP(v,u.targetId,d.Yu),d.snapshot}(t,x,C,E);const s=await fP(t.localStore,e,!0),m=new c3(e,s.Wi),g=m.zu(s.documents),y=El.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),P=m.applyChanges(g,t.isPrimaryClient,y);yP(t,n,P.Yu);const T=new f3(e,n,m);return t.sc.set(e,T),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),P.snapshot}async function m3(t,e){const n=Te(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Af(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vx(n.remoteStore,r.targetId),kp(n,r.targetId)}).catch(yl)):(kp(n,r.targetId),await Xp(n.localStore,r.targetId,!0))}async function y3(t,e,n){const r=T3(t);try{const i=await function(s,m){const g=Te(s),y=pt.now(),P=m.reduce((C,E)=>C.add(E.key),De());let T,x;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let E=hr(),v=De();return g.Ki.getEntries(C,P).next(u=>{E=u,E.forEach((c,p)=>{p.isValidDocument()||(v=v.add(c))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,E)).next(u=>{T=u;const c=[];for(const p of m){const o=HF(p,T.get(p.key).overlayedDocument);o!=null&&c.push(new Yi(p.key,o,jT(o.value.mapValue),rr.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,c,m)}).next(u=>{x=u;const c=u.applyToLocalDocumentSet(T,v);return g.documentOverlayCache.saveOverlays(C,u.batchId,c)})}).then(()=>({batchId:x.batchId,changes:qT(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,m,g){let y=s.ac[s.currentUser.toKey()];y||(y=new mt(je)),y=y.insert(m,g),s.ac[s.currentUser.toKey()]=y}(r,i.batchId,n),await bl(r,i.changes),await Qf(r.remoteStore)}catch(i){const s=dy(i,"Failed to persist write");n.reject(s)}}async function xx(t,e){const n=Te(t);try{const r=await VU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const m=n.uc.get(s);m&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?m.ec=!0:i.modifiedDocuments.size>0?Ke(m.ec):i.removedDocuments.size>0&&(Ke(m.ec),m.ec=!1))}),await bl(n,r,e)}catch(r){await yl(r)}}function mP(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,m)=>{const g=m.view.Ru(e);g.snapshot&&i.push(g.snapshot)}),function(s,m){const g=Te(s);g.onlineState=m;let y=!1;g.queries.forEach((P,T)=>{for(const x of T.listeners)x.Ru(m)&&(y=!0)}),y&&hy(g)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v3(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let m=new mt(ge.comparator);m=m.insert(s,Lt.newNoDocument(s,Se.min()));const g=De().add(s),y=new Nf(Se.min(),new Map,new gt(je),m,g);await xx(r,y),r.oc=r.oc.remove(s),r.uc.delete(e),py(r)}else await Xp(r.localStore,e,!1).then(()=>kp(r,e,n)).catch(yl)}async function C3(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await MU(n.localStore,e);Rx(n,r,null),Ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,i)}catch(i){await yl(i)}}async function E3(t,e,n){const r=Te(t);try{const i=await function(s,m){const g=Te(s);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let P;return g.mutationQueue.lookupMutationBatch(y,m).next(T=>(Ke(T!==null),P=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,P,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,P)).next(()=>g.localDocuments.getDocuments(y,P))})}(r.localStore,e);Rx(r,e,n),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,i)}catch(i){await yl(i)}}function Ix(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Rx(t,e,n){const r=Te(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function kp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||Dx(t,r)})}function Dx(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(vx(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),py(t))}function yP(t,e,n){for(const r of n)r instanceof Sx?(t.cc.addReference(r.key,e),P3(t,r)):r instanceof Tx?(de("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||Dx(t,r.key)):be()}function P3(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(de("SyncEngine","New document in limbo: "+n),t.rc.add(r),py(t))}function py(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ge(rt.fromString(e)),r=t.lc.next();t.uc.set(r,new d3(n)),t.oc=t.oc.insert(n,r),yx(t.remoteStore,new Ti(dr(ty(n.path)),r,2,km.ct))}}async function bl(t,e,n){const r=Te(t),i=[],s=[],m=[];r.sc.isEmpty()||(r.sc.forEach((g,y)=>{m.push(r.dc(y,e,n).then(P=>{if((P||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,P!=null&&P.fromCache?"not-current":"current"),P){i.push(P);const T=ay.Di(y.targetId,P);s.push(T)}}))}),await Promise.all(m),r.nc.zo(i),await async function(g,y){const P=Te(g);try{await P.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(y,x=>te.forEach(x.Vi,C=>P.persistence.referenceDelegate.addReference(T,x.targetId,C)).next(()=>te.forEach(x.Si,C=>P.persistence.referenceDelegate.removeReference(T,x.targetId,C)))))}catch(T){if(!vl(T))throw T;de("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const C=P.Li.get(x),E=C.snapshotVersion,v=C.withLastLimboFreeSnapshotVersion(E);P.Li=P.Li.insert(x,v)}}}(r.localStore,s))}async function b3(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await hx(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(m=>{m.forEach(g=>{g.reject(new Ee(ne.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r.Qi)}}function O3(t,e){const n=Te(t),r=n.uc.get(e);if(r&&r.ec)return De().add(r.key);{let i=De();const s=n.ic.get(e);if(!s)return i;for(const m of s){const g=n.sc.get(m);i=i.unionWith(g.view.Qu)}return i}}function S3(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v3.bind(null,e),e.nc.zo=a3.bind(null,e.eventManager),e.nc.wc=l3.bind(null,e.eventManager),e}function T3(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E3.bind(null,e),e}class vP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wU(this.persistence,new RU,e.initialUser,this.serializer)}createPersistence(e){return new xU(sy.Fs,this.serializer)}createSharedClientState(e){return new NU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class x3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b3.bind(null,this.syncEngine),await n3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new i3}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new WU(i));var i;return function(s,m,g,y){return new $U(s,m,g,y)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=g=>mP(this.syncEngine,g,0),m=hP.D()?new hP:new FU,new qU(n,r,i,s,m);var n,r,i,s,m}createSyncEngine(e,n){return function(r,i,s,m,g,y,P){const T=new h3(r,i,s,m,g,y);return P&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Te(e);de("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Pl(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=VT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{de("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ph(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w3(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>pP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>pP(e.remoteStore,s)),t._onlineComponents=e}function D3(t){return t.name==="FirebaseError"?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function w3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await ph(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!D3(n))throw n;Cc("Error using user provided cache. Falling back to memory cache: "+n),await ph(t,new vP)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await ph(t,new vP);return t._offlineComponents}async function wx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await CP(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await CP(t,new x3))),t._onlineComponents}function M3(t){return wx(t).then(e=>e.syncEngine)}async function V3(t){const e=await wx(t),n=e.eventManager;return n.onListen=p3.bind(null,e.syncEngine),n.onUnlisten=m3.bind(null,e.syncEngine),n}function A3(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,m,g,y){const P=new I3({next:x=>{s.enqueueAndForget(()=>s3(i,T));const C=x.docs.has(m);!C&&x.fromCache?y.reject(new Ee(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&g&&g.source==="server"?y.reject(new Ee(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new u3(ty(m.path),P,{includeMetadataChanges:!0,xu:!0});return o3(i,T)}(await V3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e,n){if(!n)throw new Ee(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B3(t,e,n,r){if(e===!0&&r===!0)throw new Ee(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PP(t){if(!ge.isDocumentKey(t))throw new Ee(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function qa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gy(t);throw new Ee(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,B3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ee(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bP(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ZN;switch(n.type){case"firstParty":return new nF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ee(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=EP.get(e);n&&(de("ComponentProvider","Removing Datastore"),EP.delete(e),n.terminate())}(this),Promise.resolve()}}function j3(t,e,n,r={}){var i;const s=(t=qa(t,my))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Cc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Vt.MOCK_USER;else{m=EL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ee(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vt(y)}t._authCredentials=new _N(new MT(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class yy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yy(this.firestore,e,this._query)}}class Ga extends yy{constructor(e,n,r){super(e,n,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new ge(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function Mx(t,e,...n){if(t=on(t),arguments.length===1&&(e=VT.A()),L3("doc","path",e),t instanceof my){const r=rt.fromString(e,...n);return PP(r),new mn(t,null,new ge(r))}{if(!(t instanceof mn||t instanceof Ga))throw new Ee(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return PP(r),new mn(t.firestore,t instanceof Ga?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new gx(this,"async_queue_retry"),this.qc=()=>{const n=hh();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=hh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new qr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!vl(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let m=s.message||"";return s.stack&&(m=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),m}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=fy.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&be()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class vy extends my{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ax(this),this._firestoreClient.terminate()}}function F3(t,e){const n=typeof t=="object"?t:q0(),r=typeof t=="string"?t:e||"(default)",i=vm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yL("firestore");s&&j3(i,...s)}return i}function Vx(t){return t._firestoreClient||Ax(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ax(t){var e,n,r;const i=t._freezeSettings(),s=function(m,g,y,P){return new gF(m,g,y,P.host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new R3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Qt.fromBase64String(e))}catch(n){throw new Ee(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=/^__.*__$/;class Q3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}function Bx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Py{constructor(e,n,r,i,s,m){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return xc(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(Bx(this.Yc)&&U3.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class W3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ff(e)}ua(e,n,r,i=!1){return new Py({Yc:e,methodName:n,oa:r,path:Bt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z3(t){const e=t._freezeSettings(),n=Ff(t._databaseId);return new W3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H3(t,e,n,r,i,s={}){const m=t.ua(s.merge||s.mergeFields?2:0,e,n,i);Ux("Data must be an object, but it was:",m,r);const g=Nx(r,m);let y,P;if(s.merge)y=new In(m.fieldMask),P=m.fieldTransforms;else if(s.mergeFields){const T=[];for(const x of s.mergeFields){const C=$3(e,x,n);if(!m.contains(C))throw new Ee(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);q3(T,C)||T.push(C)}y=new In(T),P=m.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,P=m.fieldTransforms;return new Q3(new hn(g),y,P)}function jx(t,e){if(Fx(t=on(t)))return Ux("Unsupported field value:",e,t),Nx(t,e);if(t instanceof Lx)return function(n,r){if(!Bx(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const m of n){let g=jx(m,r.sa(s));g==null&&(g={nullValue:"NULL_VALUE"}),i.push(g),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=on(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=pt.fromDate(n);return{timestampValue:Sc(r.serializer,i)}}if(n instanceof pt){const i=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sc(r.serializer,i)}}if(n instanceof Ey)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zo)return{bytesValue:ax(r.serializer,n._byteString)};if(n instanceof mn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${gy(n)}`)}(t,e)}function Nx(t,e){const n={};return AT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(t,(r,i)=>{const s=jx(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Fx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Ey||t instanceof Zo||t instanceof mn||t instanceof Lx)}function Ux(t,e,n){if(!Fx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=gy(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function $3(t,e,n){if((e=on(e))instanceof Cy)return e._internalPath;if(typeof e=="string")return Qx(t,e);throw xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const K3=new RegExp("[~\\*/\\[\\]]");function Qx(t,e,n){if(e.search(K3)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cy(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xc(t,e,n,r,i){const s=r&&!r.isEmpty(),m=i!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(s||m)&&(y+=" (found",s&&(y+=` in field ${r}`),m&&(y+=` in document ${i}`),y+=")"),new Ee(ne.INVALID_ARGUMENT,g+t+y)}function q3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G3 extends Wx{data(){return super.data()}}function zx(t,e){return typeof e=="string"?Qx(t,e):e instanceof Cy?e._internalPath:e._delegate._internalPath}class J3{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){const r={};return us(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ey(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=BT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wa(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ke(dx(r));const i=new za(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hx extends Wx{constructor(e,n,r,i,s,m){super(e,n,r,i,m),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new k3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class k3 extends Hx{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){t=qa(t,mn);const e=qa(t.firestore,vy);return A3(Vx(e),t._key).then(n=>n4(e,t,n))}class _3 extends J3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function e4(t,e,n){t=qa(t,mn);const r=qa(t.firestore,vy),i=Y3(t.converter,e,n);return t4(r,[H3(z3(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function t4(t,e){return function(n,r){const i=new qr;return n.asyncQueue.enqueueAndForget(async()=>y3(await M3(n),r,i)),i.promise}(Vx(t),e)}function n4(t,e,n){const r=n.docs.get(e._key),i=new _3(t);return new Hx(t,i,e._key,r,new X3(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ls=n})(is),Ho(new Ai("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),m=new vy(new eF(n.getProvider("auth-internal")),new iF(n.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(g.options.projectId,y)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),m._setSettings(i),m},"PUBLIC").setMultipleInstances(!0)),Kr(qE,"3.10.1",t),Kr(qE,"3.10.1","esm2017")})();const $x=Cm(RS),Kx=F3($x),Ol=J2($x),r4=()=>{const t=ii(),e=ns();return X.useEffect(()=>{t($i("bgHome"))},[t]),K.jsx(rL,{children:K.jsxs(sL,{children:[K.jsxs(oL,{children:[K.jsx(iL,{src:"src/assets/logo-white.png"}),K.jsxs("ul",{children:[K.jsx("li",{onClick:()=>e("/feelbetter"),children:"Let's feel better"}),K.jsx("li",{children:"Support"}),K.jsx("li",{onClick:()=>e("/about"),children:"About us"}),K.jsx("li",{children:K.jsx(Kd,{onClick:()=>jj(Ol),children:"Log out"})})]})]}),K.jsx(lL,{children:"Let your stress drop"}),K.jsx(uL,{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Modi, facilis officia velit facere libero reprehenderit! Perspiciatis saepe illum repellat labore? Deleniti atque ex qui? Consequatur obcaecati repellat quod tempore perspiciatis."}),K.jsxs(aL,{children:[K.jsx(Kd,{onClick:()=>e("/quiz"),children:"START"}),K.jsx(Kd,{children:"JOURNAL"})]})]})})},by={"auth/invalid-email":"E-mail is invalid","auth/weak-password":"Password should be at least 6 characters","auth/email-already-in-use":"Account registered for this e-mail is already in use","auth/user-not-found":"User account does not exist","auth/wrong-password":"Provided wrong password","auth/network-request-failed":"Something went wrong... Check your internet connection."},i4=k.p`
  font-style: normal;
  font-weight: 500;
  font-size: 32px;
  line-height: 40px;
  text-align: center;
  margin-top: 80px;
  color: #797bec;
`,o4=k.form`
  font-family: "Outfit";
  display: flex;
  flex-direction: column;
  margin-top: 50px;
`,s4=k.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,gh=k.input`
  height: 50px;
  background: #ffffff;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
  border-radius: 12px;
  border: 0;
  color: #797bec;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 25px;

  ::placeholder {
    color: #797bec;
    font-family: "Outfit";
    font-style: normal;
    font-weight: 400;
    font-size: 20px;
    line-height: 25px;
    padding-left: 10px;
  }
`,a4=k.button`
  cursor: pointer;
  width: 299px;
  height: 67px;
  background: #e3b4ab;
  border-radius: 50px;
  border: 0;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 25px;
  line-height: 32px;
  margin: 70px auto 0 auto;
  text-align: center;
  text-transform: uppercase;
  color: #ffffff;
`,l4=({isPasswordHidden:t=!1})=>{const e=n=>{n.preventDefault();const r=n.target,i=r.fullName.value,s=r.email.value,m=r.password.value;Mj(Ol,s,m).then(g=>{r.reset();const y=g.user.uid;console.log(g);const P=Mx(Kx,"users",y);e4(P,{email:s,fullName:i,id:y}).then(()=>console.log("udalo sie"))}).catch(g=>{console.dir(g),alert(by[g.code])})};return K.jsxs(K.Fragment,{children:[K.jsx(i4,{children:"Create Account"}),K.jsxs(o4,{onSubmit:e,children:[K.jsxs(s4,{children:[K.jsx(gh,{type:"text",name:"fullName",id:"fullName",placeholder:"Name"}),K.jsx(gh,{type:"email",name:"email",id:"email",placeholder:"Email"}),!t&&K.jsx(gh,{type:"password",name:"password",id:"password",placeholder:"Password"})]}),K.jsx(a4,{children:"Sign up"})]})]})},u4=k.div`
  font-family: "Outfit";
  display: flex;
  justify-content: center;
`,c4=k.div`
  width: 635px;
  height: 688px;
  margin: 15px;
  padding: 0 60px;
  background: rgba(255, 255, 255, 0.6);
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
  border-radius: 30px;
`,f4=k.div`
  min-width: 445px;
  max-width: 445px;
  height: 688px;
  margin: 15px;
  background: rgba(255, 255, 255, 0.55);
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
  border-radius: 30px;
`,d4=k.div`
  display: flex;
  justify-content: flex-end;
  gap: 20px;
  margin-top: 30px;
`,h4=k.p`
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  color: #797bec;
`,p4=k.button`
  cursor: pointer;
  width: 70px;
  height: 30px;
  font-family: "Outfit";
  background: #ffffff;
  border-radius: 50px;
  border: 0;
  margin-top: 5px;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 12px;
  text-align: center;
  color: #797bec;
`,g4=k.p`
  font-style: normal;
  font-weight: 500;
  font-size: 26px;
  text-align: center;
  margin-top: 105px;
  margin-bottom: 5px;
  color: #797bec;
`,m4=k.img`
  width: 270px;
  height: 85.27px;
  margin-bottom: 50px;
`,y4=k.div`
  background: #e3b4ab;
  width: 332px;
  height: 185px;
  margin: 0 auto;
`,v4=k.p`
  // font-family: 'Outfit';
  font-style: normal;
  font-weight: 400;
  font-size: 28px;
  text-align: center;
  margin-top: 100px;
  color: #797bec;
`,C4=k.img`
  width: 70px;
  height: 22.11px;
  margin-left: 250px;
`,E4=()=>K.jsxs(u4,{children:[K.jsxs(c4,{children:[K.jsxs(d4,{children:[K.jsx(h4,{children:"Already have an account?"}),K.jsx(p4,{children:"Sign in"})]}),K.jsx(l4,{})]}),K.jsxs(f4,{children:[K.jsx(g4,{children:"Welcome to"}),K.jsx(m4,{src:"src/assets/logo.png"}),K.jsx(y4,{}),K.jsx(v4,{children:"let your stress drop"}),K.jsx(C4,{src:"src/assets/logo.png"})]})]}),P4=k.p`
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 42px;
  line-height: 53px;
  text-align: center;
  margin-top: 90px;
  color: #797bec;
`,b4=k.form`
  font-family: "Outfit";
  display: flex;
  flex-direction: column;
  margin-top: 50px;
`,O4=k.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,OP=k.input`
  height: 50px;

  background: #ffffff;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
  border-radius: 12px;
  border: 0;

  color: #797bec;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 25px;

  ::placeholder {
    color: #797bec;
    font-family: "Outfit";
    font-style: normal;
    font-weight: 400;
    font-size: 20px;
    line-height: 25px;
    padding-left: 10px;
  }
`,S4=k(Yg)`
color: #797BEC;
text-decoration: none;
font-family: 'Outfit';
font-style: normal;
font-weight: 400;
font-size: 14px;
margin-left: auto;
margin-top: 15px;

&:hover,
&:focus{
   color: blue; 
}
&:active{
   color: blue; 
`,T4=k.button`
  cursor: pointer;
  width: 299px;
  height: 67px;
  background: #e3b4ab;
  border-radius: 50px;
  border: 0;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 25px;
  margin: 50px auto 0 auto;
  text-align: center;
  text-transform: uppercase;
  color: #ffffff;
`,x4=({isPasswordHidden:t=!1})=>{const e=n=>{n.preventDefault();const r=n.target,i=r.email.value,s=r.password.value;Vj(Ol,i,s).then(m=>{r.reset(),console.log(m)}).catch(m=>{console.dir(m),alert(by[m.code])})};return K.jsxs(K.Fragment,{children:[K.jsx(P4,{children:"Sign in"}),K.jsxs(b4,{onSubmit:e,children:[K.jsxs(O4,{children:[K.jsx(OP,{type:"email",name:"email",id:"email",placeholder:"Email"}),!t&&K.jsx(OP,{type:"password",name:"password",id:"password",placeholder:"Password"})]}),K.jsx(S4,{to:"/forgotPassword",children:"Forgot password?"}),K.jsx(T4,{children:"Sign in"})]})]})},I4=k.div`
  width: 650px;
  height: 688px;
  margin: 15px;
  background: rgba(255, 255, 255, 0.55);
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
  border-radius: 30px;
`,R4=k.img`
  width: 270px;
  height: 85.27px;
  margin-top: 60px;
`,D4=k.p`
  font-style: normal;
  font-weight: 300;
  font-size: 18px;
  text-align: center;
  margin-top: -20px;
  color: #797bec;
`,w4=k.div`
  background: #e3b4ab;
  width: 450px;
  height: 350px;
  margin: 50px auto 0;
`,M4=k.p`
  font-style: normal;
  font-weight: 300;
  font-size: 22px;
  text-align: center;
  color: #797bec;
`,V4=k.img`
  width: 70px;
  height: 22.11px;
  display: flex;
  margin-left: auto;
  margin-right: 50px;
`,qx=()=>K.jsxs(I4,{children:[K.jsx(R4,{src:"src/assets/logo.png"}),K.jsx(D4,{children:"welcome again"}),K.jsx(w4,{}),K.jsx(M4,{children:"let your stress drop"}),K.jsx(V4,{src:"src/assets/logo.png"})]}),A4=k.div`
  font-family: "Outfit";
  display: flex;
  justify-content: center;
`,L4=k.div`
  max-width: 435px;
  height: 688px;
  margin: 15px;
  padding: 0px 60px;
  background: rgba(255, 255, 255, 0.6);
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
  border-radius: 30px;
`,B4=k.div`
  display: flex;
  justify-content: flex-end;
  gap: 20px;
  margin-top: 120px;
`,j4=k.p`
  font-style: normal;
  font-weight: 400;
  font-size: 16px;
  color: #797bec;
  margin: 0;
`,N4=k(Yg)`
color: #797BEC;
text-decoration: none;
font-family: 'Outfit';
font-style: normal;
font-weight: 700;
font-size: 16px;

&:hover,
&:focus{
   color: blue; 
}
&:active{
   color: blue; 
`,F4=()=>K.jsxs(A4,{children:[K.jsxs(L4,{children:[K.jsx(x4,{}),K.jsxs(B4,{children:[K.jsx(j4,{children:"Do not have an account?"}),K.jsx(N4,{to:"/register",children:"Sign up"})]})]}),K.jsx(qx,{})]});var mh={exports:{}};/*!
 * surveyjs - Survey JavaScript library v1.9.87
 * Copyright (c) 2015-2023 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */var SP;function Gx(){return SP||(SP=1,function(t,e){(function(r,i){t.exports=i()})(xP,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var m=r[s]={i:s,l:!1,exports:{}};return n[s].call(m.exports,m,m.exports,i),m.l=!0,m.exports}return i.m=n,i.c=r,i.d=function(s,m,g){i.o(s,m)||Object.defineProperty(s,m,{enumerable:!0,get:g})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,m){if(m&1&&(s=i(s)),m&8||m&4&&typeof s=="object"&&s&&s.__esModule)return s;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:s}),m&2&&typeof s!="string")for(var y in s)i.d(g,y,function(P){return s[P]}.bind(null,y));return g},i.n=function(s){var m=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(m,"a",m),m},i.o=function(s,m){return Object.prototype.hasOwnProperty.call(s,m)},i.p="",i(i.s="./src/entries/core.ts")}({"./node_modules/process/browser.js":function(n,r){var i=n.exports={},s,m;function g(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=g}catch{s=g}try{typeof clearTimeout=="function"?m=clearTimeout:m=y}catch{m=y}})();function P(a){if(s===setTimeout)return setTimeout(a,0);if((s===g||!s)&&setTimeout)return s=setTimeout,setTimeout(a,0);try{return s(a,0)}catch{try{return s.call(null,a,0)}catch{return s.call(this,a,0)}}}function T(a){if(m===clearTimeout)return clearTimeout(a);if((m===y||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch{try{return m.call(null,a)}catch{return m.call(this,a)}}}var x=[],C=!1,E,v=-1;function u(){!C||!E||(C=!1,E.length?x=E.concat(x):v=-1,x.length&&c())}function c(){if(!C){var a=P(u);C=!0;for(var d=x.length;d;){for(E=x,x=[];++v<d;)E&&E[v].run();v=-1,d=x.length}E=null,C=!1,T(a)}}i.nextTick=function(a){var d=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)d[h-1]=arguments[h];x.push(new p(a,d)),x.length===1&&!C&&P(c)};function p(a,d){this.fun=a,this.array=d}p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function o(){}i.on=o,i.addListener=o,i.once=o,i.off=o,i.removeListener=o,i.removeAllListeners=o,i.emit=o,i.prependListener=o,i.prependOnceListener=o,i.listeners=function(a){return[]},i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(n,r,i){(function(s,m){(function(g,y){if(g.setImmediate)return;var P=1,T={},x=!1,C=g.document,E;function v(V){typeof V!="function"&&(V=new Function(""+V));for(var A=new Array(arguments.length-1),w=0;w<A.length;w++)A[w]=arguments[w+1];var S={callback:V,args:A};return T[P]=S,E(P),P++}function u(V){delete T[V]}function c(V){var A=V.callback,w=V.args;switch(w.length){case 0:A();break;case 1:A(w[0]);break;case 2:A(w[0],w[1]);break;case 3:A(w[0],w[1],w[2]);break;default:A.apply(y,w);break}}function p(V){if(x)setTimeout(p,0,V);else{var A=T[V];if(A){x=!0;try{c(A)}finally{u(V),x=!1}}}}function o(){E=function(V){m.nextTick(function(){p(V)})}}function a(){if(g.postMessage&&!g.importScripts){var V=!0,A=g.onmessage;return g.onmessage=function(){V=!1},g.postMessage("","*"),g.onmessage=A,V}}function d(){var V="setImmediate$"+Math.random()+"$",A=function(w){w.source===g&&typeof w.data=="string"&&w.data.indexOf(V)===0&&p(+w.data.slice(V.length))};g.addEventListener?g.addEventListener("message",A,!1):g.attachEvent("onmessage",A),E=function(w){g.postMessage(V+w,"*")}}function h(){var V=new MessageChannel;V.port1.onmessage=function(A){var w=A.data;p(w)},E=function(A){V.port2.postMessage(A)}}function f(){var V=C.documentElement;E=function(A){var w=C.createElement("script");w.onreadystatechange=function(){p(A),w.onreadystatechange=null,V.removeChild(w),w=null},V.appendChild(w)}}function l(){E=function(V){setTimeout(p,0,V)}}var O=Object.getPrototypeOf&&Object.getPrototypeOf(g);O=O&&O.setTimeout?O:g,{}.toString.call(g.process)==="[object process]"?o():a()?d():g.MessageChannel?h():C&&"onreadystatechange"in C.createElement("script")?f():l(),O.setImmediate=v,O.clearImmediate=u})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,i("./node_modules/webpack/buildin/global.js"),i("./node_modules/process/browser.js"))},"./node_modules/signature_pad/dist/signature_pad.mjs":function(n,r,i){i.r(r);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function s(P,T,x){this.x=P,this.y=T,this.time=x||new Date().getTime()}s.prototype.velocityFrom=function(P){return this.time!==P.time?this.distanceTo(P)/(this.time-P.time):1},s.prototype.distanceTo=function(P){return Math.sqrt(Math.pow(this.x-P.x,2)+Math.pow(this.y-P.y,2))},s.prototype.equals=function(P){return this.x===P.x&&this.y===P.y&&this.time===P.time};function m(P,T,x,C){this.startPoint=P,this.control1=T,this.control2=x,this.endPoint=C}m.prototype.length=function(){for(var P=10,T=0,x=void 0,C=void 0,E=0;E<=P;E+=1){var v=E/P,u=this._point(v,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this._point(v,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(E>0){var p=u-x,o=c-C;T+=Math.sqrt(p*p+o*o)}x=u,C=c}return T},m.prototype._point=function(P,T,x,C,E){return T*(1-P)*(1-P)*(1-P)+3*x*(1-P)*(1-P)*P+3*C*(1-P)*P*P+E*P*P*P};function g(P,T,x){var C,E,v,u=null,c=0;x||(x={});var p=function(){c=x.leading===!1?0:Date.now(),u=null,v=P.apply(C,E),u||(C=E=null)};return function(){var o=Date.now();!c&&x.leading===!1&&(c=o);var a=T-(o-c);return C=this,E=arguments,a<=0||a>T?(u&&(clearTimeout(u),u=null),c=o,v=P.apply(C,E),u||(C=E=null)):!u&&x.trailing!==!1&&(u=setTimeout(p,a)),v}}function y(P,T){var x=this,C=T||{};this.velocityFilterWeight=C.velocityFilterWeight||.7,this.minWidth=C.minWidth||.5,this.maxWidth=C.maxWidth||2.5,this.throttle="throttle"in C?C.throttle:16,this.minDistance="minDistance"in C?C.minDistance:5,this.throttle?this._strokeMoveUpdate=g(y.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=y.prototype._strokeUpdate,this.dotSize=C.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=C.penColor||"black",this.backgroundColor=C.backgroundColor||"rgba(0,0,0,0)",this.onBegin=C.onBegin,this.onEnd=C.onEnd,this._canvas=P,this._ctx=P.getContext("2d"),this.clear(),this._handleMouseDown=function(E){E.which===1&&(x._mouseButtonDown=!0,x._strokeBegin(E))},this._handleMouseMove=function(E){x._mouseButtonDown&&x._strokeMoveUpdate(E)},this._handleMouseUp=function(E){E.which===1&&x._mouseButtonDown&&(x._mouseButtonDown=!1,x._strokeEnd(E))},this._handleTouchStart=function(E){if(E.targetTouches.length===1){var v=E.changedTouches[0];x._strokeBegin(v)}},this._handleTouchMove=function(E){E.preventDefault();var v=E.targetTouches[0];x._strokeMoveUpdate(v)},this._handleTouchEnd=function(E){var v=E.target===x._canvas;v&&(E.preventDefault(),x._strokeEnd(E))},this.on()}y.prototype.clear=function(){var P=this._ctx,T=this._canvas;P.fillStyle=this.backgroundColor,P.clearRect(0,0,T.width,T.height),P.fillRect(0,0,T.width,T.height),this._data=[],this._reset(),this._isEmpty=!0},y.prototype.fromDataURL=function(P){var T=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=new Image,E=x.ratio||window.devicePixelRatio||1,v=x.width||this._canvas.width/E,u=x.height||this._canvas.height/E;this._reset(),C.src=P,C.onload=function(){T._ctx.drawImage(C,0,0,v,u)},this._isEmpty=!1},y.prototype.toDataURL=function(P){var T;switch(P){case"image/svg+xml":return this._toSVG();default:for(var x=arguments.length,C=Array(x>1?x-1:0),E=1;E<x;E++)C[E-1]=arguments[E];return(T=this._canvas).toDataURL.apply(T,[P].concat(C))}},y.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},y.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},y.prototype.isEmpty=function(){return this._isEmpty},y.prototype._strokeBegin=function(P){this._data.push([]),this._reset(),this._strokeUpdate(P),typeof this.onBegin=="function"&&this.onBegin(P)},y.prototype._strokeUpdate=function(P){var T=P.clientX,x=P.clientY,C=this._createPoint(T,x),E=this._data[this._data.length-1],v=E&&E[E.length-1],u=v&&C.distanceTo(v)<this.minDistance;if(!(v&&u)){var c=this._addPoint(C),p=c.curve,o=c.widths;p&&o&&this._drawCurve(p,o.start,o.end),this._data[this._data.length-1].push({x:C.x,y:C.y,time:C.time,color:this.penColor})}},y.prototype._strokeEnd=function(P){var T=this.points.length>2,x=this.points[0];if(!T&&x&&this._drawDot(x),x){var C=this._data[this._data.length-1],E=C[C.length-1];x.equals(E)||C.push({x:x.x,y:x.y,time:x.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(P)},y.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},y.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},y.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},y.prototype._createPoint=function(P,T,x){var C=this._canvas.getBoundingClientRect();return new s(P-C.left,T-C.top,x||new Date().getTime())},y.prototype._addPoint=function(P){var T=this.points,x=void 0;if(T.push(P),T.length>2){T.length===3&&T.unshift(T[0]),x=this._calculateCurveControlPoints(T[0],T[1],T[2]);var C=x.c2;x=this._calculateCurveControlPoints(T[1],T[2],T[3]);var E=x.c1,v=new m(T[1],C,E,T[2]),u=this._calculateCurveWidths(v);return T.shift(),{curve:v,widths:u}}return{}},y.prototype._calculateCurveControlPoints=function(P,T,x){var C=P.x-T.x,E=P.y-T.y,v=T.x-x.x,u=T.y-x.y,c={x:(P.x+T.x)/2,y:(P.y+T.y)/2},p={x:(T.x+x.x)/2,y:(T.y+x.y)/2},o=Math.sqrt(C*C+E*E),a=Math.sqrt(v*v+u*u),d=c.x-p.x,h=c.y-p.y,f=a/(o+a),l={x:p.x+d*f,y:p.y+h*f},O=T.x-l.x,V=T.y-l.y;return{c1:new s(c.x+O,c.y+V),c2:new s(p.x+O,p.y+V)}},y.prototype._calculateCurveWidths=function(P){var T=P.startPoint,x=P.endPoint,C={start:null,end:null},E=this.velocityFilterWeight*x.velocityFrom(T)+(1-this.velocityFilterWeight)*this._lastVelocity,v=this._strokeWidth(E);return C.start=this._lastWidth,C.end=v,this._lastVelocity=E,this._lastWidth=v,C},y.prototype._strokeWidth=function(P){return Math.max(this.maxWidth/(P+1),this.minWidth)},y.prototype._drawPoint=function(P,T,x){var C=this._ctx;C.moveTo(P,T),C.arc(P,T,x,0,2*Math.PI,!1),this._isEmpty=!1},y.prototype._drawCurve=function(P,T,x){var C=this._ctx,E=x-T,v=Math.floor(P.length());C.beginPath();for(var u=0;u<v;u+=1){var c=u/v,p=c*c,o=p*c,a=1-c,d=a*a,h=d*a,f=h*P.startPoint.x;f+=3*d*c*P.control1.x,f+=3*a*p*P.control2.x,f+=o*P.endPoint.x;var l=h*P.startPoint.y;l+=3*d*c*P.control1.y,l+=3*a*p*P.control2.y,l+=o*P.endPoint.y;var O=T+o*E;this._drawPoint(f,l,O)}C.closePath(),C.fill()},y.prototype._drawDot=function(P){var T=this._ctx,x=typeof this.dotSize=="function"?this.dotSize():this.dotSize;T.beginPath(),this._drawPoint(P.x,P.y,x),T.closePath(),T.fill()},y.prototype._fromData=function(P,T,x){for(var C=0;C<P.length;C+=1){var E=P[C];if(E.length>1)for(var v=0;v<E.length;v+=1){var u=E[v],c=new s(u.x,u.y,u.time),p=u.color;if(v===0)this.penColor=p,this._reset(),this._addPoint(c);else if(v!==E.length-1){var o=this._addPoint(c),a=o.curve,d=o.widths;a&&d&&T(a,d,p)}}else{this._reset();var h=E[0];x(h)}}},y.prototype._toSVG=function(){var P=this,T=this._data,x=this._canvas,C=Math.max(window.devicePixelRatio||1,1),E=0,v=0,u=x.width/C,c=x.height/C,p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttributeNS(null,"width",x.width),p.setAttributeNS(null,"height",x.height),this._fromData(T,function(A,w,S){var R=document.createElement("path");if(!isNaN(A.control1.x)&&!isNaN(A.control1.y)&&!isNaN(A.control2.x)&&!isNaN(A.control2.y)){var I="M "+A.startPoint.x.toFixed(3)+","+A.startPoint.y.toFixed(3)+" "+("C "+A.control1.x.toFixed(3)+","+A.control1.y.toFixed(3)+" ")+(A.control2.x.toFixed(3)+","+A.control2.y.toFixed(3)+" ")+(A.endPoint.x.toFixed(3)+","+A.endPoint.y.toFixed(3));R.setAttribute("d",I),R.setAttribute("stroke-width",(w.end*2.25).toFixed(3)),R.setAttribute("stroke",S),R.setAttribute("fill","none"),R.setAttribute("stroke-linecap","round"),p.appendChild(R)}},function(A){var w=document.createElement("circle"),S=typeof P.dotSize=="function"?P.dotSize():P.dotSize;w.setAttribute("r",S),w.setAttribute("cx",A.x),w.setAttribute("cy",A.y),w.setAttribute("fill",A.color),p.appendChild(w)});var o="data:image/svg+xml;base64,",a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+E+" "+v+" "+u+" "+c+'"')+(' width="'+u+'"')+(' height="'+c+'"')+">",d=p.innerHTML;if(d===void 0){var h=document.createElement("dummy"),f=p.childNodes;h.innerHTML="";for(var l=0;l<f.length;l+=1)h.appendChild(f[l].cloneNode(!0));d=h.innerHTML}var O="</svg>",V=a+d+O;return o+btoa(V)},y.prototype.fromData=function(P){var T=this;this.clear(),this._fromData(P,function(x,C){return T._drawCurve(x,C.start,C.end)},function(x){return T._drawDot(x)}),this._data=P},y.prototype.toData=function(){return this._data},r.default=y},"./node_modules/timers-browserify/main.js":function(n,r,i){(function(s){var m=typeof s<"u"&&s||typeof self<"u"&&self||window,g=Function.prototype.apply;r.setTimeout=function(){return new y(g.call(setTimeout,m,arguments),clearTimeout)},r.setInterval=function(){return new y(g.call(setInterval,m,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(P){P&&P.close()};function y(P,T){this._id=P,this._clearFn=T}y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(m,this._id)},r.enroll=function(P,T){clearTimeout(P._idleTimeoutId),P._idleTimeout=T},r.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},r._unrefActive=r.active=function(P){clearTimeout(P._idleTimeoutId);var T=P._idleTimeout;T>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},T))},i("./node_modules/setimmediate/setImmediate.js"),r.setImmediate=typeof self<"u"&&self.setImmediate||typeof s<"u"&&s.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof s<"u"&&s.clearImmediate||this&&this.clearImmediate}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},"./src/actions/action.ts":function(n,r,i){i.r(r),i.d(r,"createDropdownActionModel",function(){return v}),i.d(r,"createDropdownActionModelAdvanced",function(){return u}),i.d(r,"BaseAction",function(){return c}),i.d(r,"Action",function(){return p}),i.d(r,"ActionDropdownViewModel",function(){return o});var s=i("./src/base.ts"),m=i("./src/surveyStrings.ts"),g=i("./src/jsonobject.ts"),y=i("./src/list.ts"),P=i("./src/popup.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=i("./src/actions/container.ts"),C=function(){var a=function(d,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var O in l)Object.prototype.hasOwnProperty.call(l,O)&&(f[O]=l[O])},a(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");a(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),E=function(a,d,h,f){var l=arguments.length,O=l<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,h):f,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(a,d,h,f);else for(var A=a.length-1;A>=0;A--)(V=a[A])&&(O=(l<3?V(O):l>3?V(d,h,O):V(d,h))||O);return l>3&&O&&Object.defineProperty(d,h,O),O};function v(a,d,h){return u(a,d,d,h)}function u(a,d,h,f){var l=new y.ListModel(d.items,function(w){d.onSelectionChanged(w),O.toggleVisibility()},d.allowSelection,d.selectedItem,d.onFilterStringChangedCallback);l.locOwner=f;var O=new P.PopupModel("sv-list",{model:l},h==null?void 0:h.verticalPosition,h==null?void 0:h.horizontalPosition,h==null?void 0:h.showPointer,h==null?void 0:h.isModal,h==null?void 0:h.onCancel,h==null?void 0:h.onApply,h==null?void 0:h.onHide,h==null?void 0:h.onShow,h==null?void 0:h.cssClass,h==null?void 0:h.title);O.displayMode=h==null?void 0:h.displayMode;var V=Object.assign({},a,{component:"sv-action-bar-item-dropdown",popupModel:O,action:function(w,S){a.action&&a.action(),O.isFocusedContent=!S||l.showFilter,O.toggleVisibility(),l.scrollToSelectedItem()}}),A=new p(V);return A.data=l,A}var c=function(a){C(d,a);function d(){var h=a!==null&&a.apply(this,arguments)||this;return h.iconSize=24,h}return Object.defineProperty(d.prototype,"visible",{get:function(){return this.getVisible()},set:function(h){this.setVisible(h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(h){this.setEnabled(h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"component",{get:function(){return this.getComponent()},set:function(h){this.setComponent(h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(h){this.setLocTitle(h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this.getTitle()},set:function(h){this.setTitle(h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cssClasses",{get:function(){return this.cssClassesValue||x.defaultActionBarCss},set:function(h){this.cssClassesValue=h},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isVisible",{get:function(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"disabled",{get:function(){return this.enabled!==void 0&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasTitle",{get:function(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),d.prototype.getActionBarItemTitleCss=function(){return new T.CssClassBuilder().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},d.prototype.getActionBarItemCss=function(){return new T.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},d.prototype.getActionRootCss=function(){return new T.CssClassBuilder().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},d.prototype.getTooltip=function(){return this.tooltip||this.title},d.prototype.getIsTrusted=function(h){return h.originalEvent?h.originalEvent.isTrusted:h.isTrusted},E([Object(g.property)()],d.prototype,"tooltip",void 0),E([Object(g.property)()],d.prototype,"showTitle",void 0),E([Object(g.property)()],d.prototype,"innerCss",void 0),E([Object(g.property)()],d.prototype,"active",void 0),E([Object(g.property)()],d.prototype,"pressed",void 0),E([Object(g.property)()],d.prototype,"data",void 0),E([Object(g.property)()],d.prototype,"popupModel",void 0),E([Object(g.property)()],d.prototype,"needSeparator",void 0),E([Object(g.property)()],d.prototype,"template",void 0),E([Object(g.property)({defaultValue:"large"})],d.prototype,"mode",void 0),E([Object(g.property)()],d.prototype,"visibleIndex",void 0),E([Object(g.property)()],d.prototype,"disableTabStop",void 0),E([Object(g.property)()],d.prototype,"disableShrink",void 0),E([Object(g.property)()],d.prototype,"disableHide",void 0),E([Object(g.property)({defaultValue:!1})],d.prototype,"needSpace",void 0),E([Object(g.property)()],d.prototype,"ariaChecked",void 0),E([Object(g.property)()],d.prototype,"ariaExpanded",void 0),E([Object(g.property)({defaultValue:"button"})],d.prototype,"ariaRole",void 0),E([Object(g.property)()],d.prototype,"iconName",void 0),E([Object(g.property)()],d.prototype,"iconSize",void 0),E([Object(g.property)()],d.prototype,"css",void 0),d}(s.Base),p=function(a){C(d,a);function d(h){var f=a.call(this)||this;if(f.innerItem=h,f.locTitleChanged=function(){var O=f.locTitle.renderedHtml;f.setPropertyValue("_title",O||void 0)},f.locTitle=h?h.locTitle:null,h)for(var l in h)f[l]=h[l];return f.locTitleName&&f.locTitleChanged(),f.locStrChangedInPopupModel(),f}return d.prototype.raiseUpdate=function(){this.updateCallback&&this.updateCallback()},d.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},d.prototype.getLocTitle=function(){return this.locTitleValue},d.prototype.setLocTitle=function(h){!h&&!this.locTitleValue&&(h=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=h,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},d.prototype.getTitle=function(){return this._title},d.prototype.setTitle=function(h){this._title=h},Object.defineProperty(d.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(h){this.locTitle.localizationName=h},enumerable:!1,configurable:!0}),d.prototype.locStrsChanged=function(){a.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},d.prototype.locStrChangedInPopupModel=function(){if(!(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)){var h=this.popupModel.contentComponentData.model;if(Array.isArray(h.actions)){var f=h.actions;f.forEach(function(l){l.locStrsChanged&&l.locStrsChanged()})}}},d.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=m.surveyLocalization.getString(this.locTooltipName,this.locTitle.locale))},d.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},d.prototype.getMarkdownHtml=function(h,f){return this.owner?this.owner.getMarkdownHtml(h,f):void 0},d.prototype.getProcessedText=function(h){return this.owner?this.owner.getProcessedText(h):h},d.prototype.getRenderer=function(h){return this.owner?this.owner.getRenderer(h):null},d.prototype.getRendererContext=function(h){return this.owner?this.owner.getRendererContext(h):h},d.prototype.setVisible=function(h){this._visible=h},d.prototype.getVisible=function(){return this._visible},d.prototype.setEnabled=function(h){this._enabled=h},d.prototype.getEnabled=function(){return this._enabled},d.prototype.setComponent=function(h){this._component=h},d.prototype.getComponent=function(){return this._component},E([Object(g.property)()],d.prototype,"id",void 0),E([Object(g.property)({defaultValue:!0,onSet:function(h,f){f.raiseUpdate()}})],d.prototype,"_visible",void 0),E([Object(g.property)({onSet:function(h,f){f.locTooltipChanged()}})],d.prototype,"locTooltipName",void 0),E([Object(g.property)()],d.prototype,"_enabled",void 0),E([Object(g.property)()],d.prototype,"action",void 0),E([Object(g.property)()],d.prototype,"_component",void 0),E([Object(g.property)()],d.prototype,"items",void 0),E([Object(g.property)({onSet:function(h,f){f.locTitleValue.text!==h&&(f.locTitleValue.text=h)}})],d.prototype,"_title",void 0),d}(c),o=function(){function a(d){this.item=d,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return a.prototype.setupPopupCallbacks=function(){var d=this,h=this.popupModel=this.item.popupModel;h&&h.registerPropertyChangedHandlers(["isVisible"],function(){h.isVisible?d.item.pressed=!0:d.item.pressed=!1},this.funcKey)},a.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},a.prototype.dispose=function(){this.removePopupCallbacks()},a}()},"./src/actions/adaptive-container.ts":function(n,r,i){i.r(r),i.d(r,"AdaptiveActionContainer",function(){return T});var s=i("./src/utils/responsivity-manager.ts"),m=i("./src/actions/action.ts"),g=i("./src/actions/container.ts"),y=i("./src/surveyStrings.ts"),P=function(){var x=function(C,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(v[c]=u[c])},x(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");x(C,E);function v(){this.constructor=C}C.prototype=E===null?Object.create(E):(v.prototype=E.prototype,new v)}}(),T=function(x){P(C,x);function C(){var E=x.call(this)||this;return E.minVisibleItemsCount=0,E.isResponsivenessDisabled=!1,E.dotsItem=Object(m.createDropdownActionModelAdvanced)({id:"dotsItem-id"+C.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:y.surveyLocalization.getString("more")},{items:[],onSelectionChanged:function(v){E.hiddenItemSelected(v)},allowSelection:!1}),E}return C.prototype.hideItemsGreaterN=function(E){var v=this.visibleActions.filter(function(c){return!c.disableHide});E=Math.max(E,this.minVisibleItemsCount)-(this.visibleActions.length-v.length);var u=[];v.forEach(function(c){E<=0&&(c.mode="popup",u.push(c.innerItem)),E--}),this.hiddenItemsListModel.setItems(u)},C.prototype.getVisibleItemsCount=function(E){for(var v=this.visibleActions.map(function(p){return p.minDimension}),u=0,c=0;c<v.length;c++)if(u+=v[c],u>E)return c;return c},C.prototype.updateItemMode=function(E,v){for(var u=this.visibleActions,c=u.length-1;c>=0;c--)v>E&&!u[c].disableShrink?(v-=u[c].maxDimension-u[c].minDimension,u[c].mode="small"):u[c].mode="large";if(v>E){var p=this.visibleActions.filter(function(o){return o.removePriority});p.sort(function(o,a){return o.removePriority-a.removePriority});for(var c=0;c<p.length;c++)v>E&&(v-=u[c].disableShrink?p[c].maxDimension:p[c].minDimension,p[c].mode="removed")}},Object.defineProperty(C.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),C.prototype.hiddenItemSelected=function(E){E&&typeof E.action=="function"&&E.action()},C.prototype.onSet=function(){var E=this;this.actions.forEach(function(v){return v.updateCallback=function(){return E.raiseUpdate(!1)}}),x.prototype.onSet.call(this)},C.prototype.onPush=function(E){var v=this;E.updateCallback=function(){return v.raiseUpdate(!1)},x.prototype.onPush.call(this,E)},C.prototype.getRenderedActions=function(){return this.actions.length===1&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},C.prototype.raiseUpdate=function(E){this.isResponsivenessDisabled||x.prototype.raiseUpdate.call(this,E)},C.prototype.fit=function(E,v){if(!(E<=0)){this.dotsItem.visible=!1;var u=0,c=0,p=this.visibleActions;p.forEach(function(o){u+=o.minDimension,c+=o.maxDimension}),E>=c?this.setActionsMode("large"):E<u?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(E-v)),this.dotsItem.visible=!0):this.updateItemMode(E,c)}},C.prototype.initResponsivityManager=function(E){this.responsivityManager=new s.ResponsivityManager(E,this,".sv-action:not(.sv-dots)>.sv-action__content")},C.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},C.prototype.setActionsMode=function(E){this.actions.forEach(function(v){return v.mode=E})},C.prototype.dispose=function(){x.prototype.dispose.call(this),this.resetResponsivityManager()},C.ContainerID=1,C}(g.ActionContainer)},"./src/actions/container.ts":function(n,r,i){i.r(r),i.d(r,"defaultActionBarCss",function(){return C}),i.d(r,"ActionContainer",function(){return E});var s=i("./src/jsonobject.ts"),m=i("./src/base.ts"),g=i("./src/actions/action.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=i("./src/utils/utils.ts"),T=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),x=function(v,u,c,p){var o=arguments.length,a=o<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,c):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(v,u,c,p);else for(var h=v.length-1;h>=0;h--)(d=v[h])&&(a=(o<3?d(a):o>3?d(u,c,a):d(u,c))||a);return o>3&&a&&Object.defineProperty(u,c,a),a},C={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},E=function(v){T(u,v);function u(){var c=v!==null&&v.apply(this,arguments)||this;return c.sizeMode="default",c}return u.prototype.getMarkdownHtml=function(c,p){return this.locOwner?this.locOwner.getMarkdownHtml(c,p):void 0},u.prototype.getRenderer=function(c){return this.locOwner?this.locOwner.getRenderer(c):null},u.prototype.getRendererContext=function(c){return this.locOwner?this.locOwner.getRendererContext(c):c},u.prototype.getProcessedText=function(c){return this.locOwner?this.locOwner.getProcessedText(c):c},u.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},u.prototype.getRenderedActions=function(){return this.actions},u.prototype.locStrsChanged=function(){v.prototype.locStrsChanged.call(this),this.actions.forEach(function(c){c.locTitle&&c.locTitle.strChanged(),c.locStrsChanged()})},u.prototype.raiseUpdate=function(c){this.isEmpty=!this.actions.some(function(p){return p.visible}),this.updateCallback&&this.updateCallback(c)},u.prototype.onSet=function(){var c=this;this.actions.forEach(function(p){c.setActionCssClasses(p)}),this.raiseUpdate(!0)},u.prototype.onPush=function(c){this.setActionCssClasses(c),c.owner=this,this.raiseUpdate(!0)},u.prototype.onRemove=function(c){c.owner=null,this.raiseUpdate(!0)},u.prototype.setActionCssClasses=function(c){c.cssClasses=this.cssClasses},Object.defineProperty(u.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleActions",{get:function(){return this.actions.filter(function(c){return c.visible!==!1})},enumerable:!1,configurable:!0}),u.prototype.getRootCss=function(){var c=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new y.CssClassBuilder().append(this.cssClasses.root+(c?" "+c:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},u.prototype.getDefaultCssClasses=function(){return C},Object.defineProperty(u.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(c){var p=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Object(P.mergeValues)(c,this.cssClasses),this.actions.forEach(function(o){p.setActionCssClasses(o)})},enumerable:!1,configurable:!0}),u.prototype.createAction=function(c){return c instanceof g.BaseAction?c:new g.Action(c)},u.prototype.addAction=function(c,p){var o=this.createAction(c);return this.actions.push(o),this.sortItems(),o},u.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(c){return c.visibleIndex===void 0||c.visibleIndex>=0})).sort(function(c,p){return c.visibleIndex-p.visibleIndex})},u.prototype.setItems=function(c,p){var o=this;p===void 0&&(p=!0),this.actions=c.map(function(a){return o.createAction(a)}),p&&this.sortItems()},u.prototype.initResponsivityManager=function(c){},u.prototype.resetResponsivityManager=function(){},u.prototype.getActionById=function(c){for(var p=0;p<this.actions.length;p++)if(this.actions[p].id===c)return this.actions[p];return null},u.prototype.dispose=function(){v.prototype.dispose.call(this),this.actions.forEach(function(c){return c.dispose()}),this.actions.length=0},x([Object(s.propertyArray)({onSet:function(c,p){p.onSet()},onPush:function(c,p,o){o.onPush(c)},onRemove:function(c,p,o){o.onRemove(c)}})],u.prototype,"actions",void 0),x([Object(s.property)({defaultValue:!1})],u.prototype,"isEmpty",void 0),u}(m.Base)},"./src/base.ts":function(n,r,i){i.r(r),i.d(r,"Bindings",function(){return E}),i.d(r,"Dependencies",function(){return v}),i.d(r,"ComputedUpdater",function(){return u}),i.d(r,"Base",function(){return c}),i.d(r,"ArrayChanges",function(){return p}),i.d(r,"Event",function(){return o}),i.d(r,"EventBase",function(){return a});var s=i("./src/localizablestring.ts"),m=i("./src/helpers.ts"),g=i("./src/jsonobject.ts"),y=i("./src/settings.ts"),P=i("./src/conditions.ts"),T=i("./src/surveyStrings.ts"),x=function(){var d=function(h,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,O){l.__proto__=O}||function(l,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(l[V]=O[V])},d(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(h,f);function l(){this.constructor=h}h.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),C=function(d,h){for(var f=0,l=h.length,O=d.length;f<l;f++,O++)d[O]=h[f];return d},E=function(){function d(h){this.obj=h,this.properties=null,this.values=null}return d.prototype.getType=function(){return"bindings"},d.prototype.getNames=function(){var h=[];this.fillProperties();for(var f=0;f<this.properties.length;f++)this.properties[f].isVisible("",this.obj)&&h.push(this.properties[f].name);return h},d.prototype.getProperties=function(){var h=[];this.fillProperties();for(var f=0;f<this.properties.length;f++)h.push(this.properties[f]);return h},d.prototype.setBinding=function(h,f){this.values||(this.values={});var l=this.getJson();l!==f&&(f?this.values[h]=f:(delete this.values[h],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(l))},d.prototype.clearBinding=function(h){this.setBinding(h,"")},d.prototype.isEmpty=function(){if(!this.values)return!0;for(var h in this.values)return!1;return!0},d.prototype.getValueNameByPropertyName=function(h){if(this.values)return this.values[h]},d.prototype.getPropertiesByValueName=function(h){if(!this.values)return[];var f=[];for(var l in this.values)this.values[l]==h&&f.push(l);return f},d.prototype.getJson=function(){if(!this.isEmpty()){var h={};for(var f in this.values)h[f]=this.values[f];return h}},d.prototype.setJson=function(h){var f=this.getJson();if(this.values=null,h){this.values={};for(var l in h)this.values[l]=h[l]}this.onChangedJSON(f)},d.prototype.fillProperties=function(){if(this.properties===null){this.properties=[];for(var h=g.Serializer.getPropertiesByObj(this.obj),f=0;f<h.length;f++)h[f].isBindable&&this.properties.push(h[f])}},d.prototype.onChangedJSON=function(h){this.obj&&this.obj.onBindingChanged(h,this.getJson())},d}(),v=function(){function d(h,f,l){this.currentDependency=h,this.target=f,this.property=l,this.dependencies=[],this.id=""+ ++d.DependenciesCount}return d.prototype.addDependency=function(h,f){this.target===h&&this.property===f||this.dependencies.some(function(l){return l.obj===h&&l.prop===f})||(this.dependencies.push({obj:h,prop:f,id:this.id}),h.registerPropertyChangedHandlers([f],this.currentDependency,this.id))},d.prototype.dispose=function(){this.dependencies.forEach(function(h){h.obj.unregisterPropertyChangedHandlers([h.prop],h.id)})},d.DependenciesCount=0,d}(),u=function(){function d(h){this._updater=h,this.dependencies=void 0,this.type=d.ComputedUpdaterType}return Object.defineProperty(d.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),d.prototype.setDependencies=function(h){this.clearDependencies(),this.dependencies=h},d.prototype.getDependencies=function(){return this.dependencies},d.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},d.prototype.dispose=function(){this.clearDependencies()},d.ComputedUpdaterType="__dependency_computed",d}(),c=function(){function d(){this.propertyHash={},this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new E(this),g.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return d.finishCollectDependencies=function(){var h=d.currentDependencis;return d.currentDependencis=void 0,h},d.startCollectDependencies=function(h,f,l){if(d.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");d.currentDependencis=new v(h,f,l)},d.collectDependency=function(h,f){d.currentDependencis!==void 0&&d.currentDependencis.addDependency(h,f)},Object.defineProperty(d,"commentSuffix",{get:function(){return y.settings.commentSuffix},set:function(h){y.settings.commentSuffix=h},enumerable:!1,configurable:!0}),Object.defineProperty(d,"commentPrefix",{get:function(){return d.commentSuffix},set:function(h){d.commentSuffix=h},enumerable:!1,configurable:!0}),d.prototype.isValueEmpty=function(h,f){return f===void 0&&(f=!0),f&&(h=this.trimValue(h)),m.Helpers.isValueEmpty(h)},d.prototype.trimValue=function(h){return h&&(typeof h=="string"||h instanceof String)?h.trim():h},d.prototype.isPropertyEmpty=function(h){return h!==""&&this.isValueEmpty(h)},d.prototype.dispose=function(){for(var h=0;h<this.eventList.length;h++)this.eventList[h].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0},Object.defineProperty(d.prototype,"isDisposed",{get:function(){return this.isDisposedValue===!0},enumerable:!1,configurable:!0}),d.prototype.addEvent=function(){var h=new a;return this.eventList.push(h),h},d.prototype.onBaseCreating=function(){},d.prototype.getType=function(){return"base"},d.prototype.isDescendantOf=function(h){return g.Serializer.isDescendantOf(this.getType(),h)},d.prototype.getSurvey=function(h){return null},Object.defineProperty(d.prototype,"isDesignMode",{get:function(){var h=this.getSurvey();return!!h&&h.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),d.prototype.checkBindings=function(h,f){},d.prototype.updateBindings=function(h,f){var l=this.bindings.getValueNameByPropertyName(h);l&&this.updateBindingValue(l,f)},d.prototype.updateBindingValue=function(h,f){},d.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(d.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),d.prototype.getIsLoadingFromJson=function(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue},d.prototype.startLoadingFromJson=function(h){this.isLoadingFromJsonValue=!0},d.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},d.prototype.toJSON=function(){return new g.JsonObject().toJsonObject(this)},d.prototype.fromJSON=function(h){new g.JsonObject().toObject(h,this),this.onSurveyLoad()},d.prototype.onSurveyLoad=function(){},d.prototype.clone=function(){var h=g.Serializer.createClass(this.getType());return h.fromJSON(this.toJSON()),h},d.prototype.getPropertyByName=function(h){return this.classMetaData||(this.classMetaData=g.Serializer.findClass(this.getType())),this.classMetaData?this.classMetaData.findProperty(h):null},d.prototype.isPropertyVisible=function(h){var f=this.getPropertyByName(h);return f?f.isVisible("",this):!1},d.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},d.prototype.getProgressInfo=function(){return d.createProgressInfo()},d.prototype.localeChanged=function(){},d.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var h in this.arraysInfo){var f=this.arraysInfo[h];if(f&&f.isItemValues){var l=this.getPropertyValue(h);l&&d.itemValueLocStrChanged&&d.itemValueLocStrChanged(l)}}if(this.localizableStrings)for(var h in this.localizableStrings){var f=this.getLocalizableString(h);f&&f.strChanged()}},d.prototype.getPropertyValue=function(h,f){f===void 0&&(f=null);var l=this.getPropertyValueCore(this.propertyHash,h);if(this.isPropertyEmpty(l)){var O=this.localizableStrings?this.localizableStrings[h]:void 0;if(O)return O.text;if(f!=null)return f;var V=this.getDefaultValueFromProperty(h);if(V!==void 0)return V}return l},d.prototype.getDefaultValueFromProperty=function(h){var f=this.getPropertyByName(h);if(!(!f||f.isCustom&&this.isCreating)){var l=f.defaultValue;if(!this.isPropertyEmpty(l)&&!Array.isArray(l))return l;if(f.type=="boolean"||f.type=="switch")return!1;if(f.isCustom&&f.onGetValue)return f.onGetValue(this)}},d.prototype.getPropertyValueCore=function(h,f){return this.isLoadingFromJson||d.collectDependency(this,f),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(h,f):h[f]},d.prototype.geValueFromHash=function(){return this.propertyHash.value},d.prototype.setPropertyValueCore=function(h,f,l){this.setPropertyValueCoreHandler?this.isDisposedValue?console.warn("Attempt to set property '"+f+"' of a disposed object '"+this.getType()+"'"):this.setPropertyValueCoreHandler(h,f,l):h[f]=l},Object.defineProperty(d.prototype,"isEditingSurveyElement",{get:function(){var h=this.getSurvey();return!!h&&h.isEditingSurveyElement},enumerable:!1,configurable:!0}),d.prototype.iteratePropertiesHash=function(h){var f=this,l=[];for(var O in this.propertyHash)O==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||l.push(O);l.forEach(function(V){return h(f.propertyHash,V)})},d.prototype.setPropertyValue=function(h,f){if(!this.isLoadingFromJson){var l=this.getPropertyByName(h);l&&(f=l.settingValue(this,f))}var O=this.getPropertyValue(h);if(O&&Array.isArray(O)&&this.arraysInfo&&(!f||Array.isArray(f))){if(this.isTwoValueEquals(O,f))return;this.setArrayPropertyDirectly(h,f)}else this.setPropertyValueDirectly(h,f),!this.isDisposedValue&&!this.isTwoValueEquals(O,f)&&this.propertyValueChanged(h,O,f)},d.prototype.setArrayPropertyDirectly=function(h,f,l){l===void 0&&(l=!0);var O=this.arraysInfo[h];this.setArray(h,this.getPropertyValue(h),f,O?O.isItemValues:!1,O?l&&O.onPush:null)},d.prototype.setPropertyValueDirectly=function(h,f){this.setPropertyValueCore(this.propertyHash,h,f)},d.prototype.clearPropertyValue=function(h){this.setPropertyValueCore(this.propertyHash,h,null),delete this.propertyHash[h]},d.prototype.onPropertyValueChangedCallback=function(h,f,l,O,V){},d.prototype.itemValuePropertyChanged=function(h,f,l,O){this.onItemValuePropertyChanged.fire(this,{obj:h,name:f,oldValue:l,newValue:O,propertyName:h.ownerPropertyName})},d.prototype.onPropertyValueChanged=function(h,f,l){},d.prototype.propertyValueChanged=function(h,f,l,O,V){if(!this.isLoadingFromJson&&(this.updateBindings(h,l),this.onPropertyValueChanged(h,f,l),this.onPropertyChanged.fire(this,{name:h,oldValue:f,newValue:l}),this.doPropertyValueChangedCallback(h,f,l,O,this),this.checkConditionPropertyChanged(h),!!this.onPropChangeFunctions))for(var A=0;A<this.onPropChangeFunctions.length;A++)this.onPropChangeFunctions[A].name==h&&this.onPropChangeFunctions[A].func(l)},d.prototype.onBindingChanged=function(h,f){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",h,f)},Object.defineProperty(d.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.doPropertyValueChangedCallback=function(h,f,l,O,V){if(!this.isInternal){V||(V=this);var A=this.getSurvey();A||(A=this),A.onPropertyValueChangedCallback&&A.onPropertyValueChangedCallback(h,f,l,V,O),A!==this&&this.onPropertyValueChangedCallback&&this.onPropertyValueChangedCallback(h,f,l,V,O)}},d.prototype.addExpressionProperty=function(h,f,l){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[h]={onExecute:f,canRun:l}},d.prototype.getDataFilteredValues=function(){return{}},d.prototype.getDataFilteredProperties=function(){return{}},d.prototype.runConditionCore=function(h,f){if(this.expressionInfo)for(var l in this.expressionInfo)this.runConditionItemCore(l,h,f)},d.prototype.canRunConditions=function(){return!this.isDesignMode},d.prototype.checkConditionPropertyChanged=function(h){!this.expressionInfo||!this.expressionInfo[h]||this.canRunConditions()&&this.runConditionItemCore(h,this.getDataFilteredValues(),this.getDataFilteredProperties())},d.prototype.runConditionItemCore=function(h,f,l){var O=this,V=this.expressionInfo[h],A=this.getPropertyValue(h);A&&(V.canRun&&!V.canRun(this)||(V.runner||(V.runner=new P.ExpressionRunner(A),V.runner.onRunComplete=function(w){V.onExecute(O,w)}),V.runner.expression=A,V.runner.run(f,l)))},d.prototype.registerPropertyChangedHandlers=function(h,f,l){l===void 0&&(l=null);for(var O=0;O<h.length;O++)this.registerFunctionOnPropertyValueChanged(h[O],f,l)},d.prototype.unregisterPropertyChangedHandlers=function(h,f){f===void 0&&(f=null);for(var l=0;l<h.length;l++)this.unRegisterFunctionOnPropertyValueChanged(h[l],f)},d.prototype.registerFunctionOnPropertyValueChanged=function(h,f,l){if(l===void 0&&(l=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),l)for(var O=0;O<this.onPropChangeFunctions.length;O++){var V=this.onPropChangeFunctions[O];if(V.name==h&&V.key==l){V.func=f;return}}this.onPropChangeFunctions.push({name:h,func:f,key:l})},d.prototype.registerFunctionOnPropertiesValueChanged=function(h,f,l){l===void 0&&(l=null),this.registerPropertyChangedHandlers(h,f,l)},d.prototype.unRegisterFunctionOnPropertyValueChanged=function(h,f){if(f===void 0&&(f=null),!!this.onPropChangeFunctions)for(var l=0;l<this.onPropChangeFunctions.length;l++){var O=this.onPropChangeFunctions[l];if(O.name==h&&O.key==f){this.onPropChangeFunctions.splice(l,1);return}}},d.prototype.unRegisterFunctionOnPropertiesValueChanged=function(h,f){f===void 0&&(f=null),this.unregisterPropertyChangedHandlers(h,f)},d.prototype.createCustomLocalizableObj=function(h){var f=this.getLocalizableString(h);f||this.createLocalizableString(h,this,!1,!0)},d.prototype.getLocale=function(){var h=this.getSurvey();return h?h.getLocale():""},d.prototype.getLocalizationString=function(h){return T.surveyLocalization.getString(h,this.getLocale())},d.prototype.getLocalizationFormatString=function(h){for(var f=[],l=1;l<arguments.length;l++)f[l-1]=arguments[l];var O=this.getLocalizationString(h);return!O||!O.format?"":O.format.apply(O,f)},d.prototype.createLocalizableString=function(h,f,l,O){var V=this;l===void 0&&(l=!1),O===void 0&&(O=!1);var A=new s.LocalizableString(f,l,h);O&&(A.localizationName=O===!0?h:O),A.onStrChanged=function(S,R){V.propertyValueChanged(h,S,R)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[h]=A;var w=this.getPropertyByName(h);return A.disableLocalization=w&&w.isLocalizable===!1,A},d.prototype.getLocalizableString=function(h){return this.localizableStrings?this.localizableStrings[h]:null},d.prototype.getLocalizableStringText=function(h,f){f===void 0&&(f=""),d.collectDependency(this,h);var l=this.getLocalizableString(h);if(!l)return"";var O=l.text;return O||f},d.prototype.setLocalizableStringText=function(h,f){var l=this.getLocalizableString(h);if(l){var O=l.text;O!=f&&(l.text=f)}},d.prototype.addUsedLocales=function(h){if(this.localizableStrings)for(var f in this.localizableStrings){var l=this.getLocalizableString(f);l&&this.AddLocStringToUsedLocales(l,h)}if(this.arraysInfo)for(var f in this.arraysInfo){var O=this.getPropertyValue(f);if(!(!O||!O.length))for(var V=0;V<O.length;V++){var l=O[V];l&&l.addUsedLocales&&l.addUsedLocales(h)}}},d.prototype.searchText=function(h,f){var l=[];this.getSearchableLocalizedStrings(l);for(var O=0;O<l.length;O++)l[O].setFindText(h)&&f.push({element:this,str:l[O]})},d.prototype.getSearchableLocalizedStrings=function(h){if(this.localizableStrings){var f=[];this.getSearchableLocKeys(f);for(var l=0;l<f.length;l++){var O=this.getLocalizableString(f[l]);O&&h.push(O)}}if(this.arraysInfo){var V=[];this.getSearchableItemValueKeys(V);for(var l=0;l<V.length;l++){var A=this.getPropertyValue(V[l]);if(A)for(var w=0;w<A.length;w++)h.push(A[w].locText)}}},d.prototype.getSearchableLocKeys=function(h){},d.prototype.getSearchableItemValueKeys=function(h){},d.prototype.AddLocStringToUsedLocales=function(h,f){for(var l=h.getLocales(),O=0;O<l.length;O++)f.indexOf(l[O])<0&&f.push(l[O])},d.prototype.createItemValues=function(h){var f=this,l=this.createNewArray(h,function(O){if(O.locOwner=f,O.ownerPropertyName=h,typeof O.getSurvey=="function"){var V=O.getSurvey();V&&typeof V.makeReactive=="function"&&V.makeReactive(O)}});return this.arraysInfo[h].isItemValues=!0,l},d.prototype.notifyArrayChanged=function(h,f){h.onArrayChanged&&h.onArrayChanged(f)},d.prototype.createNewArrayCore=function(h){var f=null;return this.createArrayCoreHandler&&(f=this.createArrayCoreHandler(this.propertyHash,h)),f||(f=new Array,this.setPropertyValueCore(this.propertyHash,h,f)),f},d.prototype.ensureArray=function(h,f,l){if(f===void 0&&(f=null),l===void 0&&(l=null),!(this.arraysInfo&&this.arraysInfo[h]))return this.createNewArray(h,f,l)},d.prototype.createNewArray=function(h,f,l){f===void 0&&(f=null),l===void 0&&(l=null);var O=this.createNewArrayCore(h);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[h]={onPush:f,isItemValues:!1};var V=this;return O.push=function(A){var w=Object.getPrototypeOf(O).push.call(O,A);if(!V.isDisposedValue){f&&f(A,O.length-1);var S=new p(O.length-1,0,[A],[]);V.propertyValueChanged(h,O,O,S),V.notifyArrayChanged(O,S)}return w},O.shift=function(){var A=Object.getPrototypeOf(O).shift.call(O);if(!V.isDisposedValue&&A){l&&l(A);var w=new p(O.length-1,1,[],[]);V.propertyValueChanged(h,O,O,w),V.notifyArrayChanged(O,w)}return A},O.unshift=function(A){var w=Object.getPrototypeOf(O).unshift.call(O,A);if(!V.isDisposedValue){f&&f(A,O.length-1);var S=new p(0,0,[A],[]);V.propertyValueChanged(h,O,O,S),V.notifyArrayChanged(O,S)}return w},O.pop=function(){var A=Object.getPrototypeOf(O).pop.call(O);if(!V.isDisposedValue){l&&l(A);var w=new p(O.length-1,1,[],[]);V.propertyValueChanged(h,O,O,w),V.notifyArrayChanged(O,w)}return A},O.splice=function(A,w){for(var S,R=[],I=2;I<arguments.length;I++)R[I-2]=arguments[I];A||(A=0),w||(w=0);var b=(S=Object.getPrototypeOf(O).splice).call.apply(S,C([O,A,w],R));if(R||(R=[]),!V.isDisposedValue){if(l&&b)for(var D=0;D<b.length;D++)l(b[D]);if(f)for(var D=0;D<R.length;D++)f(R[D],A+D);var M=new p(A,w,R,b);V.propertyValueChanged(h,O,O,M),V.notifyArrayChanged(O,M)}return b},O},d.prototype.getItemValueType=function(){},d.prototype.setArray=function(h,f,l,O,V){var A=[].concat(f);if(Object.getPrototypeOf(f).splice.call(f,0,f.length),l)for(var w=0;w<l.length;w++){var S=l[w];O&&d.createItemValue&&(S=d.createItemValue(S,this.getItemValueType())),Object.getPrototypeOf(f).push.call(f,S),V&&V(f[w])}var R=new p(0,A.length,f,A);this.propertyValueChanged(h,A,f,R),this.notifyArrayChanged(f,R)},d.prototype.isTwoValueEquals=function(h,f,l,O){return l===void 0&&(l=!1),O===void 0&&(O=!1),m.Helpers.isTwoValueEquals(h,f,!1,!l,O)},d.copyObject=function(h,f){for(var l in f){var O=f[l];typeof O=="object"&&(O={},this.copyObject(O,f[l])),h[l]=O}},d.prototype.copyCssClasses=function(h,f){f&&(typeof f=="string"||f instanceof String?h.root=f:d.copyObject(h,f))},d.prototype.getValueInLowCase=function(h){return h&&typeof h=="string"?h.toLowerCase():h},d.prototype.getElementsInDesign=function(h){return[]},d.currentDependencis=void 0,d}(),p=function(){function d(h,f,l,O){this.index=h,this.deleteCount=f,this.itemsToAdd=l,this.deletedItems=O}return d}(),o=function(){function d(){}return Object.defineProperty(d.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),d.prototype.fireByCreatingOptions=function(h,f){if(this.callbacks){for(var l=0;l<this.callbacks.length;l++)if(this.callbacks[l](h,f()),!this.callbacks)return}},d.prototype.fire=function(h,f){if(this.callbacks){for(var l=0;l<this.callbacks.length;l++)if(this.callbacks[l](h,f),!this.callbacks)return}},d.prototype.clear=function(){this.callbacks=void 0},d.prototype.add=function(h){this.hasFunc(h)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(h),this.fireCallbackChanged())},d.prototype.remove=function(h){if(this.hasFunc(h)){var f=this.callbacks.indexOf(h,0);this.callbacks.splice(f,1),this.fireCallbackChanged()}},d.prototype.hasFunc=function(h){return this.callbacks==null?!1:this.callbacks.indexOf(h,0)>-1},d.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},d}(),a=function(d){x(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h}(o)},"./src/calculatedValue.ts":function(n,r,i){i.r(r),i.d(r,"CalculatedValue",function(){return T});var s=i("./src/helpers.ts"),m=i("./src/base.ts"),g=i("./src/conditions.ts"),y=i("./src/jsonobject.ts"),P=function(){var x=function(C,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(v[c]=u[c])},x(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");x(C,E);function v(){this.constructor=C}C.prototype=E===null?Object.create(E):(v.prototype=E.prototype,new v)}}(),T=function(x){P(C,x);function C(E,v){E===void 0&&(E=null),v===void 0&&(v=null);var u=x.call(this)||this;return u.expressionIsRunning=!1,u.isCalculated=!1,E&&(u.name=E),v&&(u.expression=v),u}return C.prototype.setOwner=function(E){this.data=E,this.rerunExpression()},C.prototype.getType=function(){return"calculatedvalue"},C.prototype.getSurvey=function(E){return this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(C.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(E){this.setPropertyValue("name",E)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(E){this.setPropertyValue("includeIntoResult",E)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(E){this.setPropertyValue("expression",E),this.rerunExpression()},enumerable:!1,configurable:!0}),C.prototype.locCalculation=function(){this.expressionIsRunning=!0},C.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},C.prototype.resetCalculation=function(){this.isCalculated=!1},C.prototype.doCalculation=function(E,v,u){this.isCalculated||(this.runExpressionCore(E,v,u),this.isCalculated=!0)},C.prototype.runExpression=function(E,v){this.runExpressionCore(null,E,v)},Object.defineProperty(C.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),C.prototype.setValue=function(E){this.data&&this.data.setVariable(this.name,E)},Object.defineProperty(C.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),C.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},C.prototype.runExpressionCore=function(E,v,u){this.canRunExpression&&(this.ensureExpression(v),this.locCalculation(),E&&this.runDependentExpressions(E,v,u),this.expressionRunner.run(v,u))},C.prototype.runDependentExpressions=function(E,v,u){var c=this.expressionRunner.getVariables();if(c)for(var p=0;p<E.length;p++){var o=E[p];o===this||c.indexOf(o.name)<0||(o.doCalculation(E,v,u),v[o.name]=o.value)}},C.prototype.ensureExpression=function(E){var v=this;this.expressionRunner||(this.expressionRunner=new g.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(u){s.Helpers.isTwoValueEquals(u,v.value)||v.setValue(u),v.unlocCalculation()})},C}(m.Base);y.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new T},"base")},"./src/choicesRestful.ts":function(n,r,i){i.r(r),i.d(r,"ChoicesRestful",function(){return C}),i.d(r,"ChoicesRestfull",function(){return E});var s=i("./src/base.ts"),m=i("./src/itemvalue.ts"),g=i("./src/jsonobject.ts"),y=i("./src/error.ts"),P=i("./src/settings.ts"),T=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),x=function(){function v(){this.parser=new DOMParser}return v.prototype.assignValue=function(u,c,p){Array.isArray(u[c])?u[c].push(p):u[c]!==void 0?u[c]=[u[c]].concat(p):typeof p=="object"&&Object.keys(p).length===1&&Object.keys(p)[0]===c?u[c]=p[c]:u[c]=p},v.prototype.xml2Json=function(u,c){if(u.children&&u.children.length>0)for(var p=0;p<u.children.length;p++){var o=u.children[p],a={};this.xml2Json(o,a),this.assignValue(c,o.nodeName,a)}else this.assignValue(c,u.nodeName,u.textContent)},v.prototype.parseXmlString=function(u){var c=this.parser.parseFromString(u,"text/xml"),p={};return this.xml2Json(c,p),p},v}(),C=function(v){T(u,v);function u(){var c=v.call(this)||this;return c.lastObjHash="",c.isRunningValue=!1,c.processedUrl="",c.processedPath="",c.isUsingCacheFromUrl=void 0,c.error=null,c.createItemValue=function(p){return new m.ItemValue(p)},c}return Object.defineProperty(u,"EncodeParameters",{get:function(){return P.settings.webserviceEncodeParameters},set:function(c){P.settings.webserviceEncodeParameters=c},enumerable:!1,configurable:!0}),u.clearCache=function(){u.itemsResult={},u.sendingSameRequests={}},u.addSameRequest=function(c){if(!c.isUsingCache)return!1;var p=c.objHash,o=u.sendingSameRequests[p];return o?(o.push(c),c.isRunningValue=!0,!0):(u.sendingSameRequests[c.objHash]=[],!1)},u.unregisterSameRequests=function(c,p){if(c.isUsingCache){var o=u.sendingSameRequests[c.objHash];if(delete u.sendingSameRequests[c.objHash],!!o)for(var a=0;a<o.length;a++)o[a].isRunningValue=!1,o[a].getResultCallback&&o[a].getResultCallback(p)}},u.getCachedItemsResult=function(c){var p=c.objHash,o=u.itemsResult[p];return o?(c.getResultCallback&&c.getResultCallback(o),!0):!1},u.prototype.getSurvey=function(c){return this.owner?this.owner.survey:null},u.prototype.run=function(c){if(c===void 0&&(c=null),!(!this.url||!this.getResultCallback)){if(this.processedText(c),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(u.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(u.prototype,"isUsingCache",{get:function(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:P.settings.useCachingForChoicesRestful},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),u.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(u.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),u.prototype.useChangedItemsResults=function(){return u.getCachedItemsResult(this)},u.prototype.doEmptyResultCallback=function(c){var p=[];this.updateResultCallback&&(p=this.updateResultCallback(p,c)),this.getResultCallback(p)},u.prototype.processedText=function(c){var p=this.url;if(p&&(p=p.replace(u.cacheText,"").replace(u.noCacheText,"")),c){var o=c.processTextEx(p,!1,P.settings.webserviceEncodeParameters),a=c.processTextEx(this.path,!1,P.settings.webserviceEncodeParameters);!o.hasAllValuesOnLastRun||!a.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=o.text,this.processedPath=a.text)}else this.processedUrl=p,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},u.prototype.parseResponse=function(c){var p;if(c&&typeof c.indexOf=="function"&&c.indexOf("<")===0){var o=new x;p=o.parseXmlString(c)}else try{p=JSON.parse(c)}catch{p=(c||"").split(`
`).map(function(d){return d.trim(" ")}).filter(function(d){return!!d})}return p},u.prototype.sendRequest=function(){var c=new XMLHttpRequest;c.open("GET",this.processedUrl),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var p=this,o=this.objHash;c.onload=function(){p.beforeLoadRequest(),c.status===200?p.onLoad(p.parseResponse(c.response),o):p.onError(c.statusText,c.responseText)};var a={request:c};u.onBeforeSendRequest&&u.onBeforeSendRequest(this,a),this.beforeSendRequest(),a.request.send()},u.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(u.prototype,"isEmpty",{get:function(){return!this.url&&!this.path&&!this.valueName&&!this.titleName&&!this.imageLinkName},enumerable:!1,configurable:!0}),u.prototype.getCustomPropertiesNames=function(){for(var c=this.getCustomProperties(),p=new Array,o=0;o<c.length;o++)p.push(this.getCustomPropertyName(c[o].name));return p},u.prototype.getCustomPropertyName=function(c){return c+"Name"},u.prototype.getCustomProperties=function(){for(var c=g.Serializer.getProperties(this.itemValueType),p=[],o=0;o<c.length;o++)c[o].name==="value"||c[o].name==="text"||c[o].name==="visibleIf"||c[o].name==="enableIf"||p.push(c[o]);return p},u.prototype.setData=function(c){this.clear(),c.url&&(this.url=c.url),c.path&&(this.path=c.path),c.valueName&&(this.valueName=c.valueName),c.titleName&&(this.titleName=c.titleName),c.imageLinkName&&(this.imageLinkName=c.imageLinkName),c.allowEmptyResponse!==void 0&&(this.allowEmptyResponse=c.allowEmptyResponse),c.attachOriginalItems!==void 0&&(this.attachOriginalItems=c.attachOriginalItems);for(var p=this.getCustomPropertiesNames(),o=0;o<p.length;o++)c[p[o]]&&(this[p[o]]=c[p[o]])},u.prototype.getData=function(){if(this.isEmpty)return null;var c={};this.url&&(c.url=this.url),this.path&&(c.path=this.path),this.valueName&&(c.valueName=this.valueName),this.titleName&&(c.titleName=this.titleName),this.imageLinkName&&(c.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(c.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(c.attachOriginalItems=this.attachOriginalItems);for(var p=this.getCustomPropertiesNames(),o=0;o<p.length;o++)this[p[o]]&&(c[p[o]]=this[p[o]]);return c},Object.defineProperty(u.prototype,"url",{get:function(){return this.getPropertyValue("url","")},set:function(c){this.setPropertyValue("url",c),this.isUsingCacheFromUrl=void 0,c&&(c.indexOf(u.cacheText)>-1?this.isUsingCacheFromUrl=!0:c.indexOf(u.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this.getPropertyValue("path","")},set:function(c){this.setPropertyValue("path",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(c){this.setPropertyValue("valueName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(c){this.setPropertyValue("titleName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(c){this.setPropertyValue("imageLinkName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(c){this.setPropertyValue("allowEmptyResponse",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(c){this.setPropertyValue("attachOriginalItems",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var c=g.Serializer.findProperty(this.owner.getType(),"choices");return!c||c.type=="itemvalue[]"?"itemvalue":c.type},enumerable:!1,configurable:!0}),u.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName="",this.imageLinkName="";for(var c=this.getCustomPropertiesNames(),p=0;p<c.length;p++)this[c[p]]&&(this[c[p]]="")},u.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},u.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},u.prototype.onLoad=function(c,p){p===void 0&&(p=null),p||(p=this.objHash);var o=new Array,a=this.getResultAfterPath(c);if(a&&a.length)for(var d=0;d<a.length;d++){var h=a[d];if(h){var f=this.getItemValueCallback?this.getItemValueCallback(h):this.getValue(h),l=this.createItemValue(f);this.setTitle(l,h),this.setCustomProperties(l,h),this.attachOriginalItems&&(l.originalItem=h);var O=this.getImageLink(h);O&&(l.imageLink=O),o.push(l)}}else this.allowEmptyResponse||(this.error=new y.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(o=this.updateResultCallback(o,c)),this.isUsingCache&&(u.itemsResult[p]=o),this.callResultCallback(o,p),u.unregisterSameRequests(this,o)},u.prototype.callResultCallback=function(c,p){p==this.objHash&&this.getResultCallback(c)},u.prototype.setCustomProperties=function(c,p){for(var o=this.getCustomProperties(),a=0;a<o.length;a++){var d=o[a],h=this.getValueCore(p,this.getPropertyBinding(d.name));this.isValueEmpty(h)||(c[d.name]=h)}},u.prototype.getPropertyBinding=function(c){return this[this.getCustomPropertyName(c)]?this[this.getCustomPropertyName(c)]:this[c]?this[c]:c},u.prototype.onError=function(c,p){this.error=new y.WebRequestError(c,p,this.owner),this.doEmptyResultCallback(p),u.unregisterSameRequests(this,[])},u.prototype.getResultAfterPath=function(c){if(!c||!this.processedPath)return c;for(var p=this.getPathes(),o=0;o<p.length;o++)if(c=c[p[o]],!c)return null;return c},u.prototype.getPathes=function(){var c=[];return this.processedPath.indexOf(";")>-1?c=this.path.split(";"):c=this.processedPath.split(","),c.length==0&&c.push(this.processedPath),c},u.prototype.getValue=function(c){if(!c)return null;if(this.valueName)return this.getValueCore(c,this.valueName);if(!(c instanceof Object))return c;var p=Object.keys(c).length;return p<1?null:c[Object.keys(c)[0]]},u.prototype.setTitle=function(c,p){var o=this.titleName?this.titleName:"title",a=this.getValueCore(p,o);a&&(typeof a=="string"?c.text=a:c.locText.setJson(a))},u.prototype.getImageLink=function(c){var p=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(c,p)},u.prototype.getValueCore=function(c,p){if(!c)return null;if(p.indexOf(".")<0)return c[p];for(var o=p.split("."),a=0;a<o.length;a++)if(c=c[o[a]],!c)return null;return c},Object.defineProperty(u.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),u.cacheText="{CACHE}",u.noCacheText="{NOCACHE}",u.itemsResult={},u.sendingSameRequests={},u}(s.Base),E=function(v){T(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return Object.defineProperty(u,"EncodeParameters",{get:function(){return C.EncodeParameters},set:function(c){C.EncodeParameters=c},enumerable:!1,configurable:!0}),u.clearCache=function(){C.clearCache()},Object.defineProperty(u,"onBeforeSendRequest",{get:function(){return C.onBeforeSendRequest},set:function(c){C.onBeforeSendRequest=c},enumerable:!1,configurable:!0}),u}(C);g.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(v){return!!v&&!!v.owner&&v.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new C})},"./src/conditionProcessValue.ts":function(n,r,i){i.r(r),i.d(r,"ProcessValue",function(){return g});var s=i("./src/helpers.ts"),m="@survey",g=function(){function y(){this.values=null,this.properties=null}return y.prototype.getFirstName=function(P,T){if(T===void 0&&(T=null),!P)return P;var x="";if(T&&(x=this.getFirstPropertyName(P,T),x))return x;for(var C=0;C<P.length;C++){var E=P[C];if(E=="."||E=="[")break;x+=E}return x},y.prototype.hasValue=function(P,T){T===void 0&&(T=null),T||(T=this.values);var x=this.getValueCore(P,T);return x.hasValue},y.prototype.getValue=function(P,T){T===void 0&&(T=null),T||(T=this.values);var x=this.getValueCore(P,T);return x.value},y.prototype.setValue=function(P,T,x){if(T){var C=this.getNonNestedObject(P,T,!0);C&&(P=C.value,T=C.text,P&&T&&(P[T]=x))}},y.prototype.getValueInfo=function(P){if(P.path){P.value=this.getValueFromPath(P.path,this.values),P.hasValue=P.value!==null&&!s.Helpers.isValueEmpty(P.value),!P.hasValue&&P.path.length>1&&P.path[P.path.length-1]=="length"&&(P.hasValue=!0,P.value=0);return}var T=this.getValueCore(P.name,this.values);P.value=T.value,P.hasValue=T.hasValue,P.path=T.hasValue?T.path:null},y.prototype.getValueFromPath=function(P,T){if(P.length===2&&P[0]===m)return this.getValueFromSurvey(P[1]);for(var x=0;T&&x<P.length;){var C=P[x];if(s.Helpers.isNumber(C)&&Array.isArray(T)&&C>=T.length)return null;T=T[C],x++}return T},y.prototype.getValueCore=function(P,T){var x=this.getQuestionDirectly(P);if(x)return{hasValue:!0,value:x.value,path:[P]};var C=this.getValueFromValues(P,T);if(P&&!C.hasValue){var E=this.getValueFromSurvey(P);E!==void 0&&(C.hasValue=!0,C.value=E,C.path=[m,P])}return C},y.prototype.getQuestionDirectly=function(P){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(P)},y.prototype.getValueFromSurvey=function(P){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(P.toLocaleLowerCase())},y.prototype.getValueFromValues=function(P,T){var x={hasValue:!1,value:null,path:null},C=T;if(!C&&C!==0&&C!==!1)return x;P&&P.lastIndexOf(".length")>-1&&P.lastIndexOf(".length")===P.length-7&&(x.value=0,x.hasValue=!0);var E=this.getNonNestedObject(C,P,!1);return E&&(x.path=E.path,x.value=E.text?this.getObjectValue(E.value,E.text):E.value,x.hasValue=!s.Helpers.isValueEmpty(x.value)),x},y.prototype.getNonNestedObject=function(P,T,x){for(var C=this.getFirstPropertyName(T,P,x),E=C?[C]:null;T!=C&&P;){var v=T[0]=="[";if(v){var u=this.getObjInArray(P,T);if(!u)return null;P=u.value,T=u.text,E.push(u.index)}else{if(!C&&T==this.getFirstName(T))return{value:P,text:T,path:E};if(P=this.getObjectValue(P,C),s.Helpers.isValueEmpty(P)&&!x)return null;T=T.substring(C.length)}T&&T[0]=="."&&(T=T.substring(1)),C=this.getFirstPropertyName(T,P,x),C&&E.push(C)}return{value:P,text:T,path:E}},y.prototype.getObjInArray=function(P,T){if(!Array.isArray(P))return null;for(var x=1,C="";x<T.length&&T[x]!="]";)C+=T[x],x++;return T=x<T.length?T.substring(x+1):"",x=this.getIntValue(C),x<0||x>=P.length?null:{value:P[x],text:T,index:x}},y.prototype.getFirstPropertyName=function(P,T,x){if(x===void 0&&(x=!1),!P||(T||(T={}),T.hasOwnProperty(P)))return P;var C=P.toLowerCase(),E=C[0],v=E.toUpperCase();for(var u in T){var c=u[0];if(c===v||c===E){var p=u.toLowerCase();if(p==C)return u;if(C.length<=p.length)continue;var o=C[p.length];if(o!="."&&o!="[")continue;if(p==C.substring(0,p.length))return u}}if(x&&P[0]!=="["){var a=P.indexOf(".");return a>-1&&(P=P.substring(0,a),T[P]={}),P}return""},y.prototype.getObjectValue=function(P,T){return T?P[T]:null},y.prototype.getIntValue=function(P){return P=="0"||(P|0)>0&&P%1==0?Number(P):-1},y}()},"./src/conditions.ts":function(n,r,i){i.r(r),i.d(r,"ExpressionExecutor",function(){return y}),i.d(r,"ExpressionRunnerBase",function(){return P}),i.d(r,"ConditionRunner",function(){return T}),i.d(r,"ExpressionRunner",function(){return x});var s=i("./src/conditionProcessValue.ts"),m=i("./src/conditionsParser.ts"),g=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),y=function(){function C(E){this.processValue=new s.ProcessValue,this.parser=new m.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(E)}return Object.defineProperty(C.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),C.prototype.setExpression=function(E){this.expression!==E&&(this.expressionValue=E,this.operand=this.parser.parseExpression(E),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)},C.prototype.getVariables=function(){if(!this.operand)return[];var E=[];return this.operand.setVariables(E),E},C.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(C.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),C.prototype.canRun=function(){return!!this.operand},C.prototype.run=function(E,v){var u=this;if(v===void 0&&(v=null),!this.operand)return null;if(this.processValue.values=E,this.processValue.properties=v,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var c=0;c<this.asyncFuncList.length;c++)this.asyncFuncList[c].onAsyncReady=function(){u.doAsyncFunctionReady()};for(var c=0;c<this.asyncFuncList.length;c++)this.asyncFuncList[c].evaluateAsync(this.processValue);return!1},C.prototype.doAsyncFunctionReady=function(){for(var E=0;E<this.asyncFuncList.length;E++)if(!this.asyncFuncList[E].isReady)return;this.runValues()},C.prototype.runValues=function(){var E=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(E),E},C.createExpressionExecutor=function(E){return new C(E)},C}(),P=function(){function C(E){this.expression=E}return Object.defineProperty(C.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(E){var v=this;this.expressionExecutor&&E===this.expression||(this.expressionExecutor=y.createExpressionExecutor(E),this.expressionExecutor.onComplete=function(u){v.doOnComplete(u)})},enumerable:!1,configurable:!0}),C.prototype.getVariables=function(){return this.expressionExecutor.getVariables()},C.prototype.hasFunction=function(){return this.expressionExecutor.hasFunction()},Object.defineProperty(C.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),C.prototype.canRun=function(){return this.expressionExecutor.canRun()},C.prototype.runCore=function(E,v){return v===void 0&&(v=null),this.expressionExecutor.run(E,v)},C.prototype.doOnComplete=function(E){},C}(),T=function(C){g(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.run=function(v,u){return u===void 0&&(u=null),this.runCore(v,u)==!0},E.prototype.doOnComplete=function(v){this.onRunComplete&&this.onRunComplete(v==!0)},E}(P),x=function(C){g(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.run=function(v,u){return u===void 0&&(u=null),this.runCore(v,u)},E.prototype.doOnComplete=function(v){this.onRunComplete&&this.onRunComplete(v)},E}(P)},"./src/conditionsParser.ts":function(n,r,i){i.r(r),i.d(r,"ConditionsParserError",function(){return m}),i.d(r,"ConditionsParser",function(){return g});var s=i("./src/expressions/expressionParser.ts"),m=function(){function y(P,T){this.at=P,this.code=T}return y}(),g=function(){function y(){}return y.prototype.patchExpression=function(P){return P.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},y.prototype.createCondition=function(P){return this.parseExpression(P)},y.prototype.parseExpression=function(P){try{var T=y.parserCache[P];return T===void 0&&(T=Object(s.parse)(this.patchExpression(P)),T.hasAsyncFunction()||(y.parserCache[P]=T)),T}catch(x){x instanceof s.SyntaxError&&(this.conditionError=new m(x.location.start.offset,x.message))}},Object.defineProperty(y.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),y.parserCache={},y}()},"./src/defaultCss/cssmodern.ts":function(n,r,i){i.r(r),i.d(r,"modernCss",function(){return m});var s=i("./src/defaultCss/defaultV2Css.ts"),m={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-hidden",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-modern-mark"}};s.surveyCss.modern=m},"./src/defaultCss/cssstandard.ts":function(n,r,i){i.r(r),i.d(r,"defaultStandardCss",function(){return m});var s=i("./src/defaultCss/defaultV2Css.ts"),m={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};s.surveyCss.default=m,s.surveyCss.orange=m,s.surveyCss.darkblue=m,s.surveyCss.darkrose=m,s.surveyCss.stone=m,s.surveyCss.winter=m,s.surveyCss.winterstone=m},"./src/defaultCss/defaultV2Css.ts":function(n,r,i){i.r(r),i.d(r,"surveyCss",function(){return s}),i.d(r,"defaultV2Css",function(){return m}),i.d(r,"defaultV2ThemeName",function(){return g});var s={currentType:"",getCss:function(){var y=this.currentType?this[this.currentType]:m;return y||(y=m),y},getAvailableThemes:function(){return Object.keys(this).filter(function(y){return["currentType","getCss","getAvailableThemes"].indexOf(y)===-1})}},m={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",rootReadOnly:"sd-root--readonly",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact"},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",pageRow:"sd-page__row",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleOnAnswer:"sd-question__title--answer",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex",disabled:"sd-question--disabled"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-question__erbox",icon:"",item:"",tooltip:"sd-question__erbox--tooltip",outsideQuestion:"sd-question__erbox--outside-question",aboveQuestion:"sd-question__erbox--above-question",belowQuestion:"sd-question__erbox--below-question",locationTop:"sd-question__erbox--location--top",locationBottom:"sd-question__erbox--location--bottom"},checkbox:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-checkbox--disabled",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",itemCell:"sd-table__cell--item",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",actionsCell:"sd-table__cell sd-table__cell--actions",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",tableWrapper:"sd-table-wrapper",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",row:"sd-table__row",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",actionsCell:"sd-table__cell sd-table__cell--actions",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-scrollable-container sd-rating sd-rating--wrappable",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-context-btn sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn sd-context-btn--negative sd-file__btn sd-file__clean-btn",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",imagepickerGapBetweenItems:"--sd-imagepicker-gap",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},g="defaultV2";s[g]=m},"./src/defaultTitle.ts":function(n,r,i){i.r(r),i.d(r,"DefaultTitleModel",function(){return m});var s=i("./src/utils/cssClassBuilder.ts"),m=function(){function g(){}return g.getIconCss=function(y,P){return new s.CssClassBuilder().append(y.icon).append(y.iconExpanded,!P).toString()},g}()},"./src/drag-drop-helper-v1.ts":function(n,r,i){i.r(r),i.d(r,"DragDropInfo",function(){return s});var s=function(){function m(g,y,P){P===void 0&&(P=-1),this.source=g,this.target=y,this.nestedPanelDepth=P}return m}()},"./src/drag-drop-page-helper-v1.ts":function(n,r,i){i.r(r),i.d(r,"DragDropPageHelperV1",function(){return g});var s=i("./src/drag-drop-helper-v1.ts"),m=i("./src/settings.ts"),g=function(){function y(P){this.page=P}return y.prototype.getDragDropInfo=function(){return this.dragDropInfo},y.prototype.dragDropStart=function(P,T,x){x===void 0&&(x=-1),this.dragDropInfo=new s.DragDropInfo(P,T,x)},y.prototype.dragDropMoveTo=function(P,T,x){if(T===void 0&&(T=!1),x===void 0&&(x=!1),!this.dragDropInfo||(this.dragDropInfo.destination=P,this.dragDropInfo.isBottom=T,this.dragDropInfo.isEdge=x,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var C=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,C)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},y.prototype.correctDragDropInfo=function(P){if(P.destination){var T=P.destination.isPanel?P.destination:null;T&&(P.target.isLayoutTypeSupported(T.getChildrenLayoutType())||(P.isEdge=!0))}},y.prototype.dragDropAllowFromSurvey=function(){var P=this.dragDropInfo.destination;if(!P||!this.page.survey)return!0;var T=null,x=null,C=P.isPage||!this.dragDropInfo.isEdge&&P.isPanel?P:P.parent;if(!P.isPage){var E=P.parent;if(E){var v=E.elements,u=v.indexOf(P);u>-1&&(T=P,x=P,this.dragDropInfo.isBottom?T=u<v.length-1?v[u+1]:null:x=u>0?v[u-1]:null)}}var c={allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,parent:C,insertAfter:x,insertBefore:T};return this.page.survey.dragAndDropAllow(c)},y.prototype.dragDropFinish=function(P){if(P===void 0&&(P=!1),!!this.dragDropInfo){var T=this.dragDropInfo.target,x=this.dragDropInfo.source,C=this.dragDropInfo.destination,E=this.page.dragDropFindRow(T),v=this.dragDropGetElementIndex(T,E);this.page.updateRowsRemoveElementFromRow(T,E);var u=[],c=[];if(!P&&E){var p=!1;if(this.page.isDesignMode&&m.settings.supportCreatorV2){var o=x&&x.parent&&x.parent.dragDropFindRow(x);E.panel.elements[v]&&E.panel.elements[v].startWithNewLine&&E.elements.length>1&&E.panel.elements[v]===C&&(u.push(T),c.push(E.panel.elements[v])),T.startWithNewLine&&E.elements.length>1&&(!E.panel.elements[v]||!E.panel.elements[v].startWithNewLine)&&c.push(T),o&&o.elements[0]===x&&o.elements[1]&&u.push(o.elements[1]),E.elements.length<=1&&u.push(T),T.startWithNewLine&&E.elements.length>1&&E.elements[0]!==C&&c.push(T)}x&&x.parent&&(this.page.survey.startMovingQuestion(),p=E.panel==x.parent,p?(E.panel.dragDropMoveElement(x,T,v),v=-1):x.parent.removeElement(x)),v>-1&&E.panel.addElement(T,v),this.page.survey.stopMovingQuestion()}return u.map(function(a){a.startWithNewLine=!0}),c.map(function(a){a.startWithNewLine=!1}),this.dragDropInfo=null,P?null:T}},y.prototype.dragDropGetElementIndex=function(P,T){if(!T)return-1;var x=T.elements.indexOf(P);if(T.index==0)return x;var C=T.panel.rows[T.index-1],E=C.elements[C.elements.length-1];return x+T.panel.elements.indexOf(E)+1},y.prototype.dragDropCanDropTagert=function(){var P=this.dragDropInfo.destination;return!P||P.isPage?!0:this.dragDropCanDropCore(this.dragDropInfo.target,P)},y.prototype.dragDropCanDropSource=function(){var P=this.dragDropInfo.source;if(!P)return!0;var T=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(P,T))return!1;if(this.page.isDesignMode&&m.settings.supportCreatorV2){var x=this.page.dragDropFindRow(P),C=this.page.dragDropFindRow(T);if(x!==C&&(!P.startWithNewLine&&T.startWithNewLine||P.startWithNewLine&&!T.startWithNewLine))return!0;var E=this.page.dragDropFindRow(T);if(E&&E.elements.length==1)return!0}return this.dragDropCanDropNotNext(P,T,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},y.prototype.dragDropCanDropCore=function(P,T){if(!T)return!0;if(this.dragDropIsSameElement(T,P))return!1;if(P.isPanel){var x=P;if(x.containsElement(T)||x.getElementByName(T.name))return!1}return!0},y.prototype.dragDropCanDropNotNext=function(P,T,x,C){if(!T||T.isPanel&&!x||typeof P.parent>"u"||P.parent!==T.parent)return!0;var E=P.parent,v=E.elements.indexOf(P),u=E.elements.indexOf(T);return u<v&&!C&&u--,C&&u++,v<u?u-v>1:v-u>0},y.prototype.dragDropIsSameElement=function(P,T){return P==T||P.name==T.name},y}()},"./src/drag-drop-panel-helper-v1.ts":function(n,r,i){i.r(r),i.d(r,"DragDropPanelHelperV1",function(){return g});var s=i("./src/drag-drop-helper-v1.ts"),m=i("./src/settings.ts"),g=function(){function y(P){this.panel=P}return y.prototype.dragDropAddTarget=function(P){var T=this.dragDropFindRow(P.target);this.dragDropAddTargetToRow(P,T)&&this.panel.updateRowsRemoveElementFromRow(P.target,T)},y.prototype.dragDropFindRow=function(P){if(!P||P.isPage)return null;for(var T=P,x=this.panel.rows,C=0;C<x.length;C++)if(x[C].elements.indexOf(T)>-1)return x[C];for(var C=0;C<this.panel.elements.length;C++){var E=this.panel.elements[C].getPanel();if(E){var v=E.dragDropFindRow(T);if(v)return v}}return null},y.prototype.dragDropMoveElement=function(P,T,x){var C=P.parent.elements.indexOf(P);x>C&&x--,this.panel.removeElement(P),this.panel.addElement(T,x)},y.prototype.updateRowsOnElementAdded=function(P,T,x,C){x||(x=new s.DragDropInfo(null,P),x.target=P,x.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?x.destination=C:(x.isBottom=T>0,T==0?x.destination=this.panel.elements[1]:x.destination=this.panel.elements[T-1])),this.dragDropAddTargetToRow(x,null)},y.prototype.dragDropAddTargetToRow=function(P,T){if(!P.destination||this.dragDropAddTargetToEmptyPanel(P))return!0;var x=P.destination,C=this.dragDropFindRow(x);return C?m.settings.supportCreatorV2&&this.panel.isDesignMode?C.elements.length>1?this.dragDropAddTargetToExistingRow(P,C,T):this.dragDropAddTargetToNewRow(P,C,T):P.target.startWithNewLine?this.dragDropAddTargetToNewRow(P,C,T):this.dragDropAddTargetToExistingRow(P,C,T):!0},y.prototype.dragDropAddTargetToEmptyPanel=function(P){if(P.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,P.target,P.isBottom),!0;var T=P.destination;if(T.isPanel&&!P.isEdge){var x=T;if(P.target.template===T)return!1;if(P.nestedPanelDepth<0||P.nestedPanelDepth>=x.depth)return this.dragDropAddTargetToEmptyPanelCore(T,P.target,P.isBottom),!0}return!1},y.prototype.dragDropAddTargetToExistingRow=function(P,T,x){var C=T.elements.indexOf(P.destination);if(C==0&&!P.isBottom&&!(this.panel.isDesignMode&&m.settings.supportCreatorV2)){if(T.elements[0].startWithNewLine)return T.index>0?(P.isBottom=!0,T=T.panel.rows[T.index-1],P.destination=T.elements[T.elements.length-1],this.dragDropAddTargetToExistingRow(P,T,x)):this.dragDropAddTargetToNewRow(P,T,x)}var E=-1;x==T&&(E=T.elements.indexOf(P.target)),P.isBottom&&C++;var v=this.panel.findRowByElement(P.source);return v==T&&v.elements.indexOf(P.source)==C||C==E?!1:(E>-1&&(T.elements.splice(E,1),E<C&&C--),T.elements.splice(C,0,P.target),T.updateVisible(),E<0)},y.prototype.dragDropAddTargetToNewRow=function(P,T,x){var C=T.panel.createRowAndSetLazy(T.panel.rows.length);this.panel.isDesignMode&&m.settings.supportCreatorV2&&C.setIsLazyRendering(!1),C.addElement(P.target);var E=T.index;if(P.isBottom&&E++,x&&x.panel==C.panel&&x.index==E)return!1;var v=this.panel.findRowByElement(P.source);return v&&v.panel==C.panel&&v.elements.length==1&&v.index==E?!1:(T.panel.rows.splice(E,0,C),!0)},y.prototype.dragDropAddTargetToEmptyPanelCore=function(P,T,x){var C=P.createRow();C.addElement(T),P.elements.length==0||x?P.rows.push(C):P.rows.splice(0,0,C)},y}()},"./src/dragdrop/choices.ts":function(n,r,i){i.r(r),i.d(r,"DragDropChoices",function(){return g});var s=i("./src/dragdrop/core.ts"),m=function(){var y=function(P,T){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(x[E]=C[E])},y(P,T)};return function(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");y(P,T);function x(){this.constructor=P}P.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)}}(),g=function(y){m(P,y);function P(){var T=y!==null&&y.apply(this,arguments)||this;return T.doDragOver=function(){if(T.parentElement.getType()!=="imagepicker"){var x=T.draggedElementShortcut.querySelector(".svc-item-value-controls__button");x.style.cursor="grabbing"}},T.doBanDropHere=function(){if(T.parentElement.getType()!=="imagepicker"){var x=T.draggedElementShortcut.querySelector(".svc-item-value-controls__button");x.style.cursor="not-allowed"}},T}return Object.defineProperty(P.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),P.prototype.createDraggedElementShortcut=function(T,x,C){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,T,x,C);var E=document.createElement("div");E.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 1000;
          font-family: var(--font-family, $font-family);
        `;var v=!0,u=x.closest("[data-sv-drop-target-item-value]").cloneNode(v);u.style.cssText=`
      min-width: 100px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
      background-color: var(--background, white);
      border-radius: 36px;
      padding-right: 16px;
      margin-left: 0;
    `;var c=u.querySelector(".svc-item-value-controls__drag-icon");c.style.visibility="visible";var p=u.querySelector(".svc-item-value-controls__remove");p.style.backgroundColor="transparent",u.classList.remove("svc-item-value--moveup"),u.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,E.appendChild(u);var o=x.getBoundingClientRect();return E.shortcutXOffset=C.clientX-o.x,E.shortcutYOffset=C.clientY-o.y,this.isBottom=null,E},P.prototype.createImagePickerShortcut=function(T,x,C,E){var v=document.createElement("div");v.style.cssText=` 
      cursor: grabbing;
      position: absolute;
      z-index: 1000;
      filter: drop-shadow(0px 2px 6px rgba(0, 0, 0, 0.1));
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
      padding: 4px;
      border-radius: 4px;
      background: white;
    `;var u=C.closest("[data-sv-drop-target-item-value]"),c=u.querySelector(".svc-image-item-value-controls"),p=u.querySelector(".sd-imagepicker__image-container"),o=u.querySelector(T.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return c.style.display="none",p.style.width=o.width+"px",p.style.height=o.height+"px",o.style.objectFit="cover",o.style.borderRadius="4px",v.appendChild(o),v},P.prototype.getDropTargetByDataAttributeValue=function(T){var x;return x=this.parentElement.choices.filter(function(C){return""+C.value==T})[0],x},P.prototype.getVisibleChoices=function(){var T=this.parentElement;return T.getType()==="ranking"?T.rankingChoices:T.visibleChoices},P.prototype.isDropTargetValid=function(T){var x=this.getVisibleChoices();if(this.parentElement.getType()!=="imagepicker"){var C=x.indexOf(this.dropTarget),E=x.indexOf(this.draggedElement);if(E>C&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(E<C&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return x.indexOf(T)!==-1},P.prototype.calculateIsBottom=function(T){var x=this.getVisibleChoices();return x.indexOf(this.dropTarget)-x.indexOf(this.draggedElement)>0},P.prototype.afterDragOver=function(T){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var x=this.getVisibleChoices(),C=x.indexOf(this.dropTarget),E=x.indexOf(this.draggedElement);x.splice(E,1),x.splice(C,0,this.draggedElement),this.parentElement.getType()!=="imagepicker"&&(E!==C&&(T.classList.remove("svc-item-value--moveup"),T.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),E>C&&(this.dropTarget.isDragDropMoveDown=!0),E<C&&(this.dropTarget.isDragDropMoveUp=!0),y.prototype.ghostPositionChanged.call(this))}},P.prototype.doDrop=function(){var T=this.parentElement.choices,x=this.getVisibleChoices().filter(function(v){return T.indexOf(v)!==-1}),C=T.indexOf(this.draggedElement),E=x.indexOf(this.draggedElement);return T.splice(C,1),T.splice(E,0,this.draggedElement),this.parentElement},P.prototype.doClear=function(){this.updateVisibleChoices()},P.prototype.updateVisibleChoices=function(){var T=this.parentElement;this.parentElement.getType()==="ranking"?T.updateRankingChoices():T.updateVisibleChoices()},P}(s.DragDropCore)},"./src/dragdrop/core.ts":function(n,r,i){i.r(r),i.d(r,"DragDropCore",function(){return C});var s=i("./src/base.ts"),m=i("./src/jsonobject.ts"),g=i("./src/utils/utils.ts"),y=i("./src/utils/devices.ts"),P=i("./src/settings.ts"),T=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),x=function(E,v,u,c){var p=arguments.length,o=p<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,u):c,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(E,v,u,c);else for(var d=E.length-1;d>=0;d--)(a=E[d])&&(o=(p<3?a(o):p>3?a(v,u,o):a(v,u))||o);return p>3&&o&&Object.defineProperty(v,u,o),o};typeof window<"u"&&window.addEventListener("touchmove",function(E){C.PreventScrolling&&E.preventDefault()},{passive:!1});var C=function(E){T(v,E);function v(u,c,p){var o=E.call(this)||this;return o.surveyValue=u,o.creator=c,o.longTap=p,o.onGhostPositionChanged=new s.EventBase,o.onDragStart=new s.EventBase,o.onDragEnd=new s.EventBase,o.onBeforeDrop=o.onDragStart,o.onAfterDrop=o.onDragEnd,o.draggedElement=null,o.dropTarget=null,o.prevDropTarget=null,o.draggedElementShortcut=null,o.scrollIntervalId=null,o.allowDropHere=!1,o.stopLongTapIfMoveEnough=function(a){a.preventDefault(),o.currentX=a.pageX,o.currentY=a.pageY,!o.isMicroMovement&&(document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select",""),o.stopLongTap())},o.stopLongTap=function(a){clearTimeout(o.timeoutID),o.timeoutID=null,document.removeEventListener("pointerup",o.stopLongTap),document.removeEventListener("pointermove",o.stopLongTapIfMoveEnough)},o.onContextMenu=function(a){a.preventDefault(),a.stopPropagation()},o.dragOver=function(a){o.moveShortcutElement(a),o.draggedElementShortcut.style.cursor="grabbing";var d=o.findDropTargetNodeFromPoint(a.clientX,a.clientY);if(!d){o.banDropHere();return}o.dropTarget=o.getDropTargetByNode(d,a);var h=o.isDropTargetValid(o.dropTarget,d);if(o.doDragOver(d,a),!h){o.banDropHere();return}var f=o.calculateIsBottom(a.clientY,d);o.allowDropHere=!0,!o.isDropTargetDoesntChanged(f)&&(o.isBottom=null,o.isBottom=f,o.afterDragOver(d,a),o.prevDropTarget=o.dropTarget)},o.drop=function(){if(o.allowDropHere){var a=o.draggedElement.parent;o.onDragStart.fire(o,{fromElement:a,draggedElement:o.draggedElement});var d=o.doDrop();o.onDragEnd.fire(o,{fromElement:a,draggedElement:d,toElement:o.dropTarget})}o.clear()},o.handlePointerCancel=function(a){o.clear()},o.handleEscapeButton=function(a){a.keyCode==27&&o.clear()},o.banDropHere=function(){o.allowDropHere=!1,o.doBanDropHere(),o.dropTarget=null,o.draggedElementShortcut.style.cursor="not-allowed",o.isBottom=null},o.doBanDropHere=function(){},o.clear=function(){cancelAnimationFrame(o.scrollIntervalId),document.removeEventListener("pointermove",o.dragOver),document.removeEventListener("pointercancel",o.handlePointerCancel),document.removeEventListener("keydown",o.handleEscapeButton),document.removeEventListener("pointerup",o.drop),o.draggedElementShortcut.removeEventListener("pointerup",o.drop),y.IsTouch&&o.draggedElementShortcut.removeEventListener("contextmenu",o.onContextMenu),P.settings.environment.rootElement.removeChild(o.draggedElementShortcut),o.doClear(),o.dropTarget=null,o.draggedElementShortcut=null,o.draggedElement=null,o.isBottom=null,o.parentElement=null,o.scrollIntervalId=null,y.IsTouch&&(o.savedTargetNode&&P.settings.environment.rootElement.removeChild(o.savedTargetNode),v.PreventScrolling=!1),document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select","")},o}return v.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(v.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),v.prototype.startDrag=function(u,c,p,o,a){if(a===void 0&&(a=!1),y.IsTouch){this.startLongTapProcessing(u,c,p,o,a);return}this.doStartDrag(u,c,p,o)},v.prototype.startLongTapProcessing=function(u,c,p,o,a){var d=this;a===void 0&&(a=!1),this.startX=u.pageX,this.startY=u.pageY,document.body.style.setProperty("touch-action","none","important"),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),this.timeoutID=setTimeout(function(){d.doStartDrag(u,c,p,o),a||(d.savedTargetNode=u.target,d.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,P.settings.environment.rootElement.appendChild(d.savedTargetNode)),d.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},Object.defineProperty(v.prototype,"isMicroMovement",{get:function(){var u=5,c=Math.abs(this.currentX-this.startX),p=Math.abs(this.currentY-this.startY);return c<u&&p<u},enumerable:!1,configurable:!0}),v.prototype.doStartDrag=function(u,c,p,o){if(y.IsTouch&&(v.PreventScrolling=!0),u.which!==3){this.draggedElement=c,this.parentElement=p,this.onStartDrag();var a=this.getShortcutText(this.draggedElement);this.draggedElementShortcut=this.createDraggedElementShortcut(a,o,u),document.body.append(this.draggedElementShortcut),this.moveShortcutElement(u),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),y.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop)}},v.prototype.isDropTargetDoesntChanged=function(u){return this.dropTarget===this.prevDropTarget&&u===this.isBottom},v.prototype.onStartDrag=function(){},v.prototype.getShortcutText=function(u){return u.shortcutText},v.prototype.createDraggedElementShortcut=function(u,c,p){var o=document.createElement("div");return o.innerText=u,o.className=this.getDraggedElementClass(),o},v.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},v.prototype.doDragOver=function(u,c){},v.prototype.afterDragOver=function(u,c){},v.prototype.getGhostPosition=function(u){return this.dropTarget!==u?null:this.isBottom?"bottom":"top"},v.prototype.moveShortcutElement=function(u){this.doScroll(u.clientY,u.clientX);var c=this.draggedElementShortcut.offsetHeight,p=this.draggedElementShortcut.offsetWidth,o=this.draggedElementShortcut.shortcutXOffset||p/2,a=this.draggedElementShortcut.shortcutYOffset||c/2;document.querySelectorAll("[dir='rtl']").length!==0&&(o=p/2,a=c/2);var d=(Object(g.isShadowDOM)(P.settings.environment.root)?P.settings.environment.root.host:P.settings.environment.root.documentElement).clientHeight,h=(Object(g.isShadowDOM)(P.settings.environment.root)?P.settings.environment.root.host:P.settings.environment.root.documentElement).clientWidth,f=this.getShortcutBottomCoordinate(u.clientY,c,a),l=this.getShortcutRightCoordinate(u.clientX,p,o);if(l>=h){this.draggedElementShortcut.style.left=u.pageX-u.clientX+h-p+"px",this.draggedElementShortcut.style.top=u.pageY-a+"px";return}if(u.clientX-o<=0){this.draggedElementShortcut.style.left=u.pageX-u.clientX+"px",this.draggedElementShortcut.style.top=u.pageY-a+"px";return}if(f>=d){this.draggedElementShortcut.style.left=u.pageX-o+"px",this.draggedElementShortcut.style.top=u.pageY-u.clientY+d-c+"px";return}if(u.clientY-a<=0){this.draggedElementShortcut.style.left=u.pageX-o+"px",this.draggedElementShortcut.style.top=u.pageY-u.clientY+"px";return}this.draggedElementShortcut.style.left=u.pageX-o+"px",this.draggedElementShortcut.style.top=u.pageY-a+"px"},v.prototype.getShortcutBottomCoordinate=function(u,c,p){return u+c-p},v.prototype.getShortcutRightCoordinate=function(u,c,p){return u+c-p},v.prototype.doScroll=function(u,c){var p=this;cancelAnimationFrame(this.scrollIntervalId);var o=50;this.draggedElementShortcut.hidden=!0;var a=document.elementFromPoint(c,u);this.draggedElementShortcut.hidden=!1;var d=Object(g.findScrollableParent)(a),h,f,l,O;d.tagName==="HTML"?(h=0,f=document.documentElement.clientHeight,l=0,O=document.documentElement.clientWidth):(h=d.getBoundingClientRect().top,f=d.getBoundingClientRect().bottom,l=d.getBoundingClientRect().left,O=d.getBoundingClientRect().right);var V=function(){u-h<=o?d.scrollTop-=15:f-u<=o?d.scrollTop+=15:O-c<=o?d.scrollLeft+=15:c-l<=o&&(d.scrollLeft-=15),p.scrollIntervalId=requestAnimationFrame(V)};this.scrollIntervalId=requestAnimationFrame(V)},v.prototype.getDataAttributeValueByNode=function(u){var c=this,p="svDropTarget",o=this.draggedElementType.split("-");return o.forEach(function(a){p+=c.capitalizeFirstLetter(a)}),u.dataset[p]},v.prototype.getDropTargetByNode=function(u,c){var p=this.getDataAttributeValueByNode(u);return this.getDropTargetByDataAttributeValue(p,u,c)},v.prototype.capitalizeFirstLetter=function(u){return u.charAt(0).toUpperCase()+u.slice(1)},v.prototype.calculateVerticalMiddleOfHTMLElement=function(u){var c=u.getBoundingClientRect();return c.y+c.height/2},v.prototype.calculateHorizontalMiddleOfHTMLElement=function(u){var c=u.getBoundingClientRect();return c.x+c.width/2},v.prototype.findDropTargetNodeFromPoint=function(u,c){this.draggedElementShortcut.hidden=!0;var p=document.elementFromPoint(u,c);return this.draggedElementShortcut.hidden=!1,p?this.findDropTargetNodeByDragOverNode(p):null},v.prototype.findDropTargetNodeByDragOverNode=function(u){var c=u.closest(this.dropTargetDataAttributeName);return c},v.prototype.doClear=function(){},v.PreventScrolling=!1,x([Object(m.property)({defaultValue:null,onSet:function(u,c){c.ghostPositionChanged()}})],v.prototype,"isBottom",void 0),v}(s.Base)},"./src/dragdrop/matrix-rows.ts":function(n,r,i){i.r(r),i.d(r,"DragDropMatrixRows",function(){return g});var s=i("./src/dragdrop/core.ts"),m=function(){var y=function(P,T){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(x[E]=C[E])},y(P,T)};return function(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");y(P,T);function x(){this.constructor=P}P.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)}}(),g=function(y){m(P,y);function P(){var T=y!==null&&y.apply(this,arguments)||this;return T.fromIndex=null,T.toIndex=null,T.doDrop=function(){return T.parentElement.moveRowByIndex(T.fromIndex,T.toIndex),T.parentElement},T}return Object.defineProperty(P.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),P.prototype.createDraggedElementShortcut=function(T,x,C){var E=this,v=document.createElement("div");v.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 1000;
          font-family: var(--font-family, $font-family);
        `;var u=!0,c=x.closest("[data-sv-drop-target-matrix-row]"),p=c.cloneNode(u);p.style.cssText=`
      filter: drop-shadow(0px 2px 6px rgba(0, 0, 0, 0.1));
      box-shadow: rgb(0 0 0 / 10%) 0px 8px 16px;
      background-color: white;
      display: flex;
      flex-grow: 0;
      flex-shrink: 0;
      align-items: center;
      line-height: 0;
      width: `+c.offsetWidth+`px;
    `,p.classList.remove("sv-matrix__drag-drop--moveup"),p.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,v.appendChild(p);var o=x.getBoundingClientRect();v.shortcutXOffset=C.clientX-o.x,v.shortcutYOffset=C.clientY-o.y;var a=this.parentElement.renderedTable.rows;return a.forEach(function(d,h){d.row===E.draggedElement&&(d.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),v},P.prototype.getDropTargetByDataAttributeValue=function(T){var x=this.parentElement,C;return C=x.renderedTable.rows.filter(function(E){return E.row.id===T})[0],C.row},P.prototype.isDropTargetValid=function(T){return!0},P.prototype.calculateIsBottom=function(T){var x=this.parentElement.renderedTable.rows,C=x.map(function(E){return E.row});return C.indexOf(this.dropTarget)-C.indexOf(this.draggedElement)>0},P.prototype.afterDragOver=function(T){var x=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var C,E,v,u=this.parentElement.renderedTable.rows;u.forEach(function(c,p){c.row===x.dropTarget&&(C=p),c.row===x.draggedElement&&(v=c,E=p,v.isGhostRow=!0)}),u.splice(E,1),u.splice(C,0,v),this.toIndex=C,y.prototype.ghostPositionChanged.call(this)}},P.prototype.doClear=function(){this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null},P}(s.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function(n,r,i){i.r(r),i.d(r,"DragDropRankingChoices",function(){return P});var s=i("./src/dragdrop/choices.ts"),m=i("./src/utils/cssClassBuilder.ts"),g=i("./src/utils/devices.ts"),y=function(){var T=function(x,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,v){E.__proto__=v}||function(E,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(E[u]=v[u])},T(x,C)};return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(x,C);function E(){this.constructor=x}x.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}}(),P=function(T){y(x,T);function x(){var C=T!==null&&T.apply(this,arguments)||this;return C.isDragOverRootNode=!1,C.doDragOver=function(){var E=C.draggedElementShortcut.querySelector(".sv-ranking-item");E.style.cursor="grabbing"},C.doBanDropHere=function(){if(C.isDragOverRootNode){C.allowDropHere=!0;return}var E=C.draggedElementShortcut.querySelector(".sv-ranking-item");E.style.cursor="not-allowed"},C.doDrop=function(){return C.parentElement.setValue(),C.parentElement},C.doClear=function(){C.parentElement.dropTargetNodeMove=null,C.parentElement.updateRankingChoices(!0)},C}return Object.defineProperty(x.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),x.prototype.createDraggedElementShortcut=function(C,E,v){var u=document.createElement("div");u.className=this.shortcutClass+" sv-ranking-shortcut",u.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 1000;
          border-radius: 36px;
          min-width: 100px;
          filter: drop-shadow(0px 2px 6px rgba(0, 0, 0, 0.1));
          box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
          background-color: var(--background, white);
          font-family: var(--font-family, $font-family);
        `;var c=!0,p=E.cloneNode(c);u.appendChild(p);var o=E.getBoundingClientRect();return u.shortcutXOffset=v.clientX-o.x,u.shortcutYOffset=v.clientY-o.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(u.style.width=E.offsetWidth+"px",u.style.height=E.offsetHeight+"px"),u},Object.defineProperty(x.prototype,"shortcutClass",{get:function(){return new m.CssClassBuilder().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,g.IsMobile).toString()},enumerable:!1,configurable:!0}),x.prototype.getDropTargetByDataAttributeValue=function(C){return this.parentElement.rankingChoices[C]},x.prototype.findDropTargetNodeByDragOverNode=function(C){return this.isDragOverRootNode=this.getIsDragOverRootNode(C),T.prototype.findDropTargetNodeByDragOverNode.call(this,C)},x.prototype.getIsDragOverRootNode=function(C){return typeof C.className=="string"&&C.className.indexOf("sv-ranking")!==-1},x.prototype.isDropTargetValid=function(C,E){var v=this.parentElement.rankingChoices,u=v.indexOf(this.dropTarget),c=v.indexOf(this.draggedElement);return c>u&&E.classList.contains("sv-dragdrop-moveup")?(this.parentElement.dropTargetNodeMove=null,!1):c<u&&E.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):v.indexOf(C)!==-1},x.prototype.calculateIsBottom=function(C){var E=this.parentElement.rankingChoices;return E.indexOf(this.dropTarget)-E.indexOf(this.draggedElement)>0},x.prototype.afterDragOver=function(C){var E=this.parentElement.rankingChoices,v=E.indexOf(this.dropTarget),u=E.indexOf(this.draggedElement);E.splice(u,1),E.splice(v,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",E),this.updateDraggedElementShortcut(v+1),u!==v&&(C.classList.remove("sv-dragdrop-moveup"),C.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),u>v&&(this.parentElement.dropTargetNodeMove="down"),u<v&&(this.parentElement.dropTargetNodeMove="up")},x.prototype.updateDraggedElementShortcut=function(C){var E=C+"",v=this.draggedElementShortcut.querySelector(".sv-ranking-item__index");v.innerText=E},x.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,T.prototype.ghostPositionChanged.call(this)},x}(s.DragDropChoices)},"./src/dragdrop/survey-elements.ts":function(n,r,i){i.r(r),i.d(r,"DragDropSurveyElements",function(){return T});var s=i("./src/survey-element.ts"),m=i("./src/jsonobject.ts"),g=i("./src/dragdrop/core.ts"),y=i("./src/settings.ts"),P=function(){var x=function(C,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(v[c]=u[c])},x(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");x(C,E);function v(){this.constructor=C}C.prototype=E===null?Object.create(E):(v.prototype=E.prototype,new v)}}(),T=function(x){P(C,x);function C(){var E=x!==null&&x.apply(this,arguments)||this;return E.isEdge=!1,E.prevIsEdge=null,E.ghostSurveyElement=null,E.isDraggedElementSelected=!1,E.doBanDropHere=function(){E.removeGhostElementFromSurvey(),E.isEdge=null},E.doDrop=function(){return E.dropTarget?(y.settings.environment.root.activeElement.blur(),E.insertRealElementIntoSurvey()):null},E.doClear=function(){E.removeGhostElementFromSurvey(),E.isEdge=null,E.ghostSurveyElement=null,E.draggedElement&&(E.draggedElement.isDragMe=!1),E.isRight=null},E}return Object.defineProperty(C.prototype,"draggedElementType",{get:function(){return"survey-element"},enumerable:!1,configurable:!0}),C.prototype.startDragToolboxItem=function(E,v,u){var c=!0,p=this.createElementFromJson(v);p.toolboxItemTitle=u,this.startDrag(E,p,null,null,c)},C.prototype.startDragSurveyElement=function(E,v,u){this.isDraggedElementSelected=u,this.startDrag(E,v)},C.prototype.getShortcutText=function(E){return E.toolboxItemTitle||x.prototype.getShortcutText.call(this,E)},C.prototype.createDraggedElementShortcut=function(E,v,u){var c=document.createElement("div"),p=document.createElement("span");return p.className="svc-dragged-element-shortcut__text",p.innerText=E,c.appendChild(this.createDraggedElementIcon()),c.appendChild(p),c.className=this.getDraggedElementClass(),c},C.prototype.createDraggedElementIcon=function(){var E=document.createElement("span"),v=this.draggedElement.getType(),u='<svg class="sv-svg-icon" role="img" style="width: 24px; height: 24px;"><use xlink:href="#icon-'+v+'"></use></svg>';return E.className="svc-dragged-element-shortcut__icon",E.innerHTML=u,E},C.prototype.getDraggedElementClass=function(){var E="svc-dragged-element-shortcut";return this.isDraggedElementSelected&&(E+=" svc-dragged-element-shortcut--selected"),E},C.prototype.createElementFromJson=function(E){var v=this.createNewElement(E);return v.setSurveyImpl?v.setSurveyImpl(this.survey):v.setData(this.survey),v.renderWidth="100%",v},C.prototype.createNewElement=function(E){var v=m.Serializer.createClass(E.type);return new m.JsonObject().toObject(E,v),v},C.prototype.findDropTargetNodeByDragOverNode=function(E){var v=E.closest(".svc-row--ghost");if(v){var u="[data-sv-drop-target-survey-element='sv-drag-drop-ghost-survey-element-name']",c=E.closest(u)||E.querySelector(u);if(c)return c}var p=E.closest(this.dropTargetDataAttributeName);return p},C.prototype.getDropTargetByDataAttributeValue=function(E,v,u){if(this.isEdge=this.calculateIsEdge(v,u.clientY),!E){var c=v.parentElement.closest(this.dropTargetDataAttributeName);E=this.getDataAttributeValueByNode(c)}if(!E)throw new Error("Can't find drop target survey element name");if(E===C.ghostSurveyElementName)return this.prevDropTarget;if(E==="newGhostPage")return C.newGhostPage;var p=this.survey.getPageByName(E);if(p)return p.elements.length!==0?null:p;var o,a;if(this.survey.pages.forEach(function(f){a=f.getElementByName(E),a&&(o=a)}),o.getType()==="paneldynamic"&&!this.isEdge&&(o=o.template),(o.getType()==="matrixdropdown"||o.getType()==="matrixdynamic")&&o.detailPanelMode!=="none"&&!this.isEdge?o=o.detailPanel:o.isPanel&&(o=this.getPanelDropTarget(v,o,u)),!o.page){var d=v.parentElement.closest("[data-sv-drop-target-page]");E=d.dataset.svDropTargetPage;var h=this.survey.getPageByName(E);o.__page=h}return o},C.prototype.isDropTargetValid=function(){return!(!this.dropTarget||this.dropTarget===this.draggedElement||this.draggedElement.getType()==="paneldynamic"&&this.dropTarget===this.draggedElement.template||C.restrictDragQuestionBetweenPages&&this.shouldRestricDragQuestionBetweenPages(this.dropTarget))},C.prototype.calculateIsBottom=function(E,v){if(this.getDataAttributeValueByNode(v)===C.ghostSurveyElementName)return this.isBottom;var u=this.calculateVerticalMiddleOfHTMLElement(v);return E>=u},C.prototype.calculateIsRight=function(E,v){if(this.getDataAttributeValueByNode(v)===C.ghostSurveyElementName)return this.isRight;var u=this.calculateHorizontalMiddleOfHTMLElement(v);return E>=u},C.prototype.isDropTargetDoesntChanged=function(E){return this.dropTarget===this.ghostSurveyElement?!0:this.dropTarget===this.prevDropTarget&&E===this.isBottom&&this.isEdge===this.prevIsEdge&&this.isRight===this.prevIsRight},C.prototype.shouldRestricDragQuestionBetweenPages=function(E){var v=this.draggedElement.page,u=E.isPage?E:E.page;return v&&v!==u},C.prototype.getPanelDropTarget=function(E,v,u){var c=this.isEdge;return!c&&v.questions.length!==0&&(E=this.findDeepestDropTargetChild(E),v=this.getDropTargetByNode(E,u)),v},C.prototype.findDeepestDropTargetChild=function(E){for(var v=this.dropTargetDataAttributeName,u=E;E;)u=E,E=E.querySelector(v);return u},C.prototype.calculateIsEdge=function(E,v){var u=E.getBoundingClientRect();return v-u.top<=C.edgeHeight||u.bottom-v<=C.edgeHeight},C.prototype.doDragOver=function(E,v){this.isRight=this.calculateIsRight(v.clientX,E)},C.prototype.afterDragOver=function(E,v){this.prevIsEdge=this.isEdge,this.prevIsRight=this.isRight,this.insertGhostElementIntoSurvey()},C.prototype.onStartDrag=function(){this.ghostSurveyElement=this.createGhostSurveyElement(),this.draggedElement.isDragMe=!0},C.prototype.insertGhostElementIntoSurvey=function(){this.removeGhostElementFromSurvey();var E=this.calcTargetRowMultiple();if(this.ghostSurveyElement=this.createGhostSurveyElement(E),this.ghostSurveyElement.name=C.ghostSurveyElementName,this.parentElement=this.dropTarget.isPage?this.dropTarget:this.dropTarget.page||this.dropTarget.__page,this.isDragOverInsideEmptyPanel()){this.dropTarget.dragTypeOverMe=s.DragTypeOverMeEnum.InsideEmptyPanel;return}if(!this.isEdge&&E){this.dropTarget.dragTypeOverMe=this.isRight?s.DragTypeOverMeEnum.MultilineRight:s.DragTypeOverMeEnum.MultilineLeft;return}this.parentElement.dragDropStart(this.draggedElement,this.ghostSurveyElement,C.nestedPanelDepth);var v=this.parentElement.dragDropMoveTo(this.dropTarget,E?this.isRight:this.isBottom,this.isEdge);return v},C.prototype.calcTargetRowMultiple=function(){var E=this.getTargetParent(this.dropTarget),v=this.getTargetRow(this.dropTarget),u=v&&v.elements.length>1,c=E.isPanel&&!E.name;return this.isEdge&&u&&!c?(E.__page=this.dropTarget.page||this.dropTarget.__page,this.dropTarget=E,!1):u},C.prototype.getTargetParent=function(E){var v=E.isPage||E.isPanel?E:E.parent;return E.getType()==="paneldynamic"&&(v=E.templateValue),v},C.prototype.getTargetRow=function(E){var v=this.getTargetParent(E),u;return v.rows.forEach(function(c){c.elements.indexOf(E)!==-1&&(u=c)}),u},C.prototype.isDragOverInsideEmptyPanel=function(){var E=this.dropTarget.isPanel&&this.dropTarget.questions.length===0,v=!this.isEdge;return E&&v},C.prototype.removeGhostElementFromSurvey=function(){var E=this.prevDropTarget||this.dropTarget;E&&(E.dragTypeOverMe=null),this.parentElement&&this.parentElement.dragDropFinish(!0)},C.prototype.insertRealElementIntoSurvey=function(){this.removeGhostElementFromSurvey();var E=this.calcTargetRowMultiple();this.dropTarget.isPage&&this.dropTarget._isGhost&&this.dropTarget._addGhostPageViewModel();var v=new m.JsonObject().toJsonObject(this.draggedElement);v.type=this.draggedElement.getType();var u=this.createFakeTargetElement(this.draggedElement.name,v);this.parentElement.dragDropStart(this.draggedElement,u,C.nestedPanelDepth),this.parentElement.dragDropMoveTo(this.dropTarget,E?this.isRight:this.isBottom,this.isEdge);var c=this.parentElement.dragDropFinish();return c},C.prototype.createFakeTargetElement=function(E,v){if(!E||!v)return null;var u=null;return u=m.Serializer.createClass(v.type),new m.JsonObject().toObject(v,u),u.name=E,u.setSurveyImpl?u.setSurveyImpl(this.survey):u.setData(this.survey),u.renderWidth="100%",u},C.prototype.createGhostSurveyElement=function(E){E===void 0&&(E=!1);var v="sv-drag-drop-ghost",u="300px";E&&(u="4px",v+=" sv-drag-drop-ghost--vertical");var c={type:"html",minWidth:u,name:C.ghostSurveyElementName,html:'<div class="'+v+'"></div>'},p=this.createElementFromJson(c);return p.startWithNewLine=!E,E&&(p.maxWidth="4px",p.renderWidth="0px",p.paddingRight="0px",p.paddingLeft="0px"),p},C.newGhostPage=null,C.restrictDragQuestionBetweenPages=!1,C.edgeHeight=30,C.nestedPanelDepth=-1,C.ghostSurveyElementName="sv-drag-drop-ghost-survey-element-name",C}(g.DragDropCore)},"./src/dropdownListModel.ts":function(n,r,i){i.r(r),i.d(r,"DropdownListModel",function(){return u});var s=i("./src/base.ts"),m=i("./src/jsonobject.ts"),g=i("./src/list.ts"),y=i("./src/popup.ts"),P=i("./src/question_dropdown.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=i("./src/utils/devices.ts"),C=i("./src/utils/utils.ts"),E=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),v=function(c,p,o,a){var d=arguments.length,h=d<3?p:a===null?a=Object.getOwnPropertyDescriptor(p,o):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,p,o,a);else for(var l=c.length-1;l>=0;l--)(f=c[l])&&(h=(d<3?f(h):d>3?f(p,o,h):f(p,o))||h);return d>3&&h&&Object.defineProperty(p,o,h),h},u=function(c){E(p,c);function p(o,a){var d=c.call(this)||this;return d.question=o,d.onSelectionChanged=a,d.minPageSize=25,d.loadingItemHeight=40,d._markdownMode=!1,d.selectedItemSelector=".sv-list__item--selected",d.itemSelector=".sv-list__item",d.itemsSettings={skip:0,take:0,totalCount:0,items:[]},d.isRunningLoadQuestionChoices=!1,d.popupCssClasses="sv-single-select-list",o.onPropertyChanged.add(function(h,f){f.name=="value"&&(d.showInputFieldComponent=d.question.showInputFieldComponent,d.showSelectedItemLocText=d.question.showSelectedItemLocText)}),d.showInputFieldComponent=d.question.showInputFieldComponent,d.showSelectedItemLocText=d.question.showSelectedItemLocText,d.listModel=d.createListModel(),d.updateAfterListModelCreated(d.listModel),d.setSearchEnabled(d.question.searchEnabled),d.createPopup(),d.resetItemsSettings(),d}return Object.defineProperty(p.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),p.prototype.getFocusFirstInputSelector=function(){return x.IsTouch?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},p.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},p.prototype.setItems=function(o,a){this.itemsSettings.items=[].concat(this.itemsSettings.items,o),this.itemsSettings.totalCount=a,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},p.prototype.updateQuestionChoices=function(o){var a=this;if(!this.isRunningLoadQuestionChoices){var d=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||d)&&(this.isRunningLoadQuestionChoices=!0,this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(h,f){a.isRunningLoadQuestionChoices=!1,a.setItems(h||[],f||0),a.popupRecalculatePosition(a.itemsSettings.skip===a.itemsSettings.take),o&&o()}}),this.itemsSettings.skip+=this.itemsSettings.take)}},p.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},p.prototype.createPopup=function(){var o=this;this._popupModel=new y.PopupModel("sv-list",{model:this.listModel},"bottom","center",!1),this._popupModel.displayMode=x.IsTouch?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContent=x.IsTouch,this._popupModel.setWidthByTarget=!x.IsTouch,this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){o.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(a,d){d.isVisible&&(o.listModel.renderElements=!0),d.isVisible&&o.question.choicesLazyLoadEnabled&&(o.listModel.actions=[],o.updateQuestionChoices()),d.isVisible&&o.question.onOpenedCallBack&&(o.updatePopupFocusFirstInputSelector(),o.question.onOpenedCallBack()),d.isVisible||(o.onHidePopup(),o.question.choicesLazyLoadEnabled&&o.resetItemsSettings())})},p.prototype.setFilterStringToListModel=function(o){var a=this;if(this.listModel.filterString=o,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(o)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(function(d){return d.id==a.question.selectedItem.value})[0],this.listModel.filterString&&this.listModel.actions.map(function(d){return d.selectedValue=!1});return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},p.prototype.popupRecalculatePosition=function(o){var a=this;setTimeout(function(){a.popupModel.recalculatePosition(o)},1)},p.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null,this.listModel.refresh()},p.prototype.getAvailableItems=function(){return this.question.visibleChoices},p.prototype.createListModel=function(){var o=this,a=this.getAvailableItems(),d=this.onSelectionChanged;d||(d=function(f){o.question.value=f.id,o.question.searchEnabled&&o.applyInputString(f),o._popupModel.toggleVisibility()});var h=new g.ListModel(a,d,!1,void 0,void 0,this.listElementId);return h.renderElements=!1,h.areSameItemsCallback=function(f,l){return f===l},h},p.prototype.updateAfterListModelCreated=function(o){var a=this;o.isItemSelected=function(d){return!!d.selected},o.locOwner=this.question,o.onPropertyChanged.add(function(d,h){h.name=="hasVerticalScroller"&&(a.hasScroll=h.newValue)}),o.isAllDataLoaded=!this.question.choicesLazyLoadEnabled},p.prototype.updateCssClasses=function(o,a){this.popupModel.cssClass=new T.CssClassBuilder().append(o).append(this.popupCssClasses).toString(),this.listModel.cssClasses=a},p.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},p.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},p.prototype.onSetFilterString=function(){var o=this;this.filterString&&!this.popupModel.isVisible&&(this.popupModel.isVisible=!0);var a=function(){o.setFilterStringToListModel(o.filterString),o.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(a)):a()},p.prototype.applyInputString=function(o){var a=o==null?void 0:o.locText.hasHtml;a||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString="",this.hintString=""):(this.inputString=o==null?void 0:o.title,this.hintString=o==null?void 0:o.title)},p.prototype.fixInputCase=function(){var o=this.hintStringMiddle;o&&this.inputString!=o&&(this.inputString=o)},p.prototype.applyHintString=function(o){var a=o==null?void 0:o.locText.hasHtml;a||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=o==null?void 0:o.title},Object.defineProperty(p.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(o){this.inputString=o,this.filterString=o,this.applyHintString(this.listModel.focusedItem)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hintStringLC",{get:function(){var o;return((o=this.hintString)===null||o===void 0?void 0:o.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"inputStringLC",{get:function(){var o;return((o=this.inputString)===null||o===void 0?void 0:o.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&!this.question.value},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hintStringMiddle",{get:function(){var o=this.hintStringLC.indexOf(this.inputStringLC);return o==-1?null:this.hintString.substring(o,o+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"inputReadOnly",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"inputMode",{get:function(){return x.IsTouch?"none":"text"},enumerable:!1,configurable:!0}),p.prototype.setSearchEnabled=function(o){this.listModel.searchEnabled=x.IsTouch,this.listModel.showSearchClearButton=x.IsTouch,this.searchEnabled=o},p.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},p.prototype.onClick=function(o){if(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.searchEnabled&&o&&o.target){var a=o.target.querySelector("input");a&&a.focus()}},p.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},p.prototype.onClear=function(o){this.question.clearValue(),this._popupModel.isVisible=!1,o&&(o.preventDefault(),o.stopPropagation())},p.prototype.getSelectedAction=function(){return this.question.selectedItem||null},p.prototype.changeSelectionWithKeyboard=function(o){var a,d=this.listModel.focusedItem;o?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(d),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(a=this.listModel.focusedItem)===null||a===void 0?void 0:a.elementId},p.prototype.beforeScrollToFocusedItem=function(o){this.question.value&&o&&(o.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},p.prototype.afterScrollToFocusedItem=function(){var o;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=(o=this.listModel.focusedItem)===null||o===void 0?void 0:o.elementId},p.prototype.keyHandler=function(o){var a=o.which||o.keyCode;if(this.popupModel.isVisible&&o.keyCode===38)this.changeSelectionWithKeyboard(!0),o.preventDefault(),o.stopPropagation();else if(o.keyCode===40)this.popupModel.isVisible||this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),o.preventDefault(),o.stopPropagation();else if(!this.popupModel.isVisible&&(o.keyCode===13||o.keyCode===32))this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),o.preventDefault(),o.stopPropagation();else if(this.popupModel.isVisible&&(o.keyCode===13||o.keyCode===32&&(!this.question.searchEnabled||!this.inputString)))o.keyCode===13&&this.question.searchEnabled&&!this.inputString&&this.question instanceof P.QuestionDropdownModel&&!this._markdownMode&&this.question.value?(this._popupModel.isVisible=!1,this.onClear(o),this.question.survey.questionEditFinishCallback(this.question,o)):(this.listModel.selectFocusedItem(),this.onFocus(o),this.question.survey.questionEditFinishCallback(this.question,o)),o.preventDefault(),o.stopPropagation();else if(a===46||a===8)this.searchEnabled||this.onClear(o);else if(o.keyCode===27)this._popupModel.isVisible=!1,this.hintString="",this.onEscape();else{if((o.keyCode===38||o.keyCode===40||o.keyCode===32&&!this.question.searchEnabled)&&(o.preventDefault(),o.stopPropagation()),o.keyCode===32&&this.question.searchEnabled)return;Object(C.doKey2ClickUp)(o,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}},p.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},p.prototype.onScroll=function(o){var a=o.target;a.scrollHeight-(a.scrollTop+a.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},p.prototype.onBlur=function(o){if(this.popupModel.isVisible&&x.IsTouch){this._popupModel.isVisible=!0;return}this.popupModel.isVisible&&this.filterString&&this.listModel.selectFocusedItem(),this.resetFilterString(),this.inputString=null,this.hintString="",Object(C.doKey2ClickBlur)(o),this._popupModel.isVisible=!1,o.stopPropagation()},p.prototype.onFocus=function(o){this.setInputStringFromSelectedItem()},p.prototype.setInputStringFromSelectedItem=function(o){this.question.searchEnabled?this.applyInputString(o||this.question.selectedItem):this.inputString=null},p.prototype.dispose=function(){c.prototype.dispose.call(this),this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},p.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},v([Object(m.property)({defaultValue:!0})],p.prototype,"searchEnabled",void 0),v([Object(m.property)({defaultValue:"",onSet:function(o,a){a.onSetFilterString()}})],p.prototype,"filterString",void 0),v([Object(m.property)({defaultValue:"",onSet:function(o,a){a.question.inputHasValue=!!o,a.showSelectedItemLocText=a.question.showSelectedItemLocText}})],p.prototype,"inputString",void 0),v([Object(m.property)({})],p.prototype,"showSelectedItemLocText",void 0),v([Object(m.property)({})],p.prototype,"showInputFieldComponent",void 0),v([Object(m.property)()],p.prototype,"ariaActivedescendant",void 0),v([Object(m.property)({defaultValue:!1,onSet:function(o,a){o?a.listModel.addScrollEventListener(function(d){a.onScroll(d)}):a.listModel.removeScrollEventListener()}})],p.prototype,"hasScroll",void 0),v([Object(m.property)({defaultValue:""})],p.prototype,"hintString",void 0),p}(s.Base)},"./src/dropdownMultiSelectListModel.ts":function(n,r,i){i.r(r),i.d(r,"DropdownMultiSelectListModel",function(){return E});var s=i("./src/base.ts"),m=i("./src/dropdownListModel.ts"),g=i("./src/jsonobject.ts"),y=i("./src/multiSelectListModel.ts"),P=i("./src/settings.ts"),T=i("./src/utils/devices.ts"),x=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),C=function(v,u,c,p){var o=arguments.length,a=o<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,c):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(v,u,c,p);else for(var h=v.length-1;h>=0;h--)(d=v[h])&&(a=(o<3?d(a):o>3?d(u,c,a):d(u,c))||a);return o>3&&a&&Object.defineProperty(u,c,a),a},E=function(v){x(u,v);function u(c,p){var o=v.call(this,c,p)||this;return o.popupCssClasses="sv-multi-select-list",o.setHideSelectedItems(c.hideSelectedItems),o.syncFilterStringPlaceholder(),o.closeOnSelect=c.closeOnSelect,o}return u.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},u.prototype.syncFilterStringPlaceholder=function(){var c=this.getSelectedActions();c.length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder},u.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(c){return c.selected})},u.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&T.IsTouch&&!this.isValueEmpty(this.question.value)?this.itemSelector:v.prototype.getFocusFirstInputSelector.call(this)},u.prototype.createListModel=function(){var c=this,p=this.getAvailableItems(),o=this.onSelectionChanged;return o||(o=function(a,d){c.resetFilterString(),a.value==="selectall"?c.selectAllItems():d==="added"&&a.value===P.settings.noneItemValue?c.selectNoneItem():d==="added"?c.selectItem(a.value):d==="removed"&&c.deselectItem(a.value),c.popupRecalculatePosition(!1),c.closeOnSelect&&(c.popupModel.isVisible=!1)}),new y.MultiSelectListModel(p,o,!1,void 0,void 0,this.listElementId)},u.prototype.resetFilterString=function(){v.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(u.prototype,"shouldResetAfterCancel",{get:function(){return T.IsTouch&&!this.closeOnSelect},enumerable:!1,configurable:!0}),u.prototype.createPopup=function(){var c=this;v.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(p,o){c.shouldResetAfterCancel&&o.actions.push({id:"sv-dropdown-done-button",title:c.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){c.popupModel.isVisible=!1},enabled:new s.ComputedUpdater(function(){return!c.isTwoValueEquals(c.question.renderedValue,c.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(p,o){c.shouldResetAfterCancel&&o.isVisible&&(c.previousValue=[].concat(c.question.renderedValue||[]))}),this.popupModel.onCancel=function(){c.shouldResetAfterCancel&&(c.question.renderedValue=c.previousValue,c.updateListState())}},u.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.updateListState()},u.prototype.selectNoneItem=function(){this.question.renderedValue=[P.settings.noneItemValue],this.updateListState()},u.prototype.selectItem=function(c){var p=[].concat(this.question.renderedValue||[]);p.push(c),this.question.renderedValue=p,this.updateListState()},u.prototype.deselectItem=function(c){var p=[].concat(this.question.renderedValue||[]);p.splice(p.indexOf(c),1),this.question.renderedValue=p,this.applyHintString(this.listModel.focusedItem),this.updateListState()},u.prototype.clear=function(){v.prototype.clear.call(this),this.syncFilterStringPlaceholder()},u.prototype.onClear=function(c){v.prototype.onClear.call(this,c),this.updateListState()},u.prototype.setHideSelectedItems=function(c){this.listModel.hideSelectedItems=c,this.updateListState()},u.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},u.prototype.inputKeyHandler=function(c){c.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),c.preventDefault(),c.stopPropagation())},u.prototype.setInputStringFromSelectedItem=function(c){this.question.searchEnabled&&(this.inputString=null)},u.prototype.focusItemOnClickAndPopup=function(){},u.prototype.onEscape=function(){},u.prototype.beforeScrollToFocusedItem=function(c){},u.prototype.afterScrollToFocusedItem=function(){var c;!((c=this.listModel.focusedItem)===null||c===void 0)&&c.selected?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},C([Object(g.property)({defaultValue:""})],u.prototype,"filterStringPlaceholder",void 0),C([Object(g.property)({defaultValue:!0})],u.prototype,"closeOnSelect",void 0),C([Object(g.property)()],u.prototype,"previousValue",void 0),C([Object(g.property)({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],u.prototype,"doneButtonCaption",void 0),u}(m.DropdownListModel)},"./src/dxSurveyService.ts":function(n,r,i){i.r(r),i.d(r,"dxSurveyService",function(){return m});var s=i("./src/settings.ts"),m=function(){function g(){}return Object.defineProperty(g,"serviceUrl",{get:function(){return s.settings.surveyServiceUrl},set:function(y){s.settings.surveyServiceUrl=y},enumerable:!1,configurable:!0}),g.prototype.loadSurvey=function(y,P){var T=new XMLHttpRequest;T.open("GET",g.serviceUrl+"/getSurvey?surveyId="+y),T.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),T.onload=function(){var x=JSON.parse(T.response);P(T.status==200,x,T.response)},T.send()},g.prototype.getSurveyJsonAndIsCompleted=function(y,P,T){var x=new XMLHttpRequest;x.open("GET",g.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+y+"&clientId="+P),x.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),x.onload=function(){var C=JSON.parse(x.response),E=C?C.survey:null,v=C?C.isCompleted:null;T(x.status==200,E,v,x.response)},x.send()},g.prototype.sendResult=function(y,P,T,x,C){x===void 0&&(x=null),C===void 0&&(C=!1);var E=new XMLHttpRequest;E.open("POST",g.serviceUrl+"/post/"),E.setRequestHeader("Content-Type","application/json; charset=utf-8");var v={postId:y,surveyResult:JSON.stringify(P)};x&&(v.clientId=x),C&&(v.isPartialCompleted=!0);var u=JSON.stringify(v);E.onload=E.onerror=function(){T&&T(E.status===200,E.response,E)},E.send(u)},g.prototype.sendFile=function(y,P,T){var x=new XMLHttpRequest;x.onload=x.onerror=function(){T&&T(x.status==200,JSON.parse(x.response))},x.open("POST",g.serviceUrl+"/upload/",!0);var C=new FormData;C.append("file",P),C.append("postId",y),x.send(C)},g.prototype.getResult=function(y,P,T){var x=new XMLHttpRequest,C="resultId="+y+"&name="+P;x.open("GET",g.serviceUrl+"/getResult?"+C),x.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),x.onload=function(){var E=null,v=null;if(x.status==200){E=JSON.parse(x.response),v=[];for(var u in E.QuestionResult){var c={name:u,value:E.QuestionResult[u]};v.push(c)}}T(x.status==200,E,v,x.response)},x.send()},g.prototype.isCompleted=function(y,P,T){var x=new XMLHttpRequest,C="resultId="+y+"&clientId="+P;x.open("GET",g.serviceUrl+"/isCompleted?"+C),x.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),x.onload=function(){var E=null;x.status==200&&(E=JSON.parse(x.response)),T(x.status==200,E,x.response)},x.send()},g}()},"./src/element-helper.ts":function(n,r,i){i.r(r),i.d(r,"ElementHelper",function(){return s});var s=function(){function m(){}return m.focusElement=function(g){g&&g.focus()},m.visibility=function(g){var y=window.getComputedStyle(g);return y.display==="none"||y.visibility==="hidden"?!1:g.parentElement?this.visibility(g.parentElement):!0},m.getNextElementPreorder=function(g){var y=g.nextElementSibling?g.nextElementSibling:g.parentElement.firstElementChild;return this.visibility(y)?y:this.getNextElementPreorder(y)},m.getNextElementPostorder=function(g){var y=g.previousElementSibling?g.previousElementSibling:g.parentElement.lastElementChild;return this.visibility(y)?y:this.getNextElementPostorder(y)},m.hasHorizontalScroller=function(g){return g?g.scrollWidth>g.offsetWidth:!1},m.hasVerticalScroller=function(g){return g?g.scrollHeight>g.offsetHeight:!1},m}()},"./src/entries/chunks/model.ts":function(n,r,i){i.r(r),i.d(r,"Version",function(){return eo}),i.d(r,"checkLibraryVersion",function(){return $f});var s=i("./src/settings.ts");i.d(r,"settings",function(){return s.settings});var m=i("./src/helpers.ts");i.d(r,"Helpers",function(){return m.Helpers});var g=i("./src/validator.ts");i.d(r,"AnswerCountValidator",function(){return g.AnswerCountValidator}),i.d(r,"EmailValidator",function(){return g.EmailValidator}),i.d(r,"NumericValidator",function(){return g.NumericValidator}),i.d(r,"RegexValidator",function(){return g.RegexValidator}),i.d(r,"SurveyValidator",function(){return g.SurveyValidator}),i.d(r,"TextValidator",function(){return g.TextValidator}),i.d(r,"ValidatorResult",function(){return g.ValidatorResult}),i.d(r,"ExpressionValidator",function(){return g.ExpressionValidator}),i.d(r,"ValidatorRunner",function(){return g.ValidatorRunner});var y=i("./src/itemvalue.ts");i.d(r,"ItemValue",function(){return y.ItemValue});var P=i("./src/base.ts");i.d(r,"Base",function(){return P.Base}),i.d(r,"Event",function(){return P.Event}),i.d(r,"EventBase",function(){return P.EventBase}),i.d(r,"ArrayChanges",function(){return P.ArrayChanges}),i.d(r,"ComputedUpdater",function(){return P.ComputedUpdater});var T=i("./src/survey-error.ts");i.d(r,"SurveyError",function(){return T.SurveyError});var x=i("./src/survey-element.ts");i.d(r,"SurveyElementCore",function(){return x.SurveyElementCore}),i.d(r,"SurveyElement",function(){return x.SurveyElement}),i.d(r,"DragTypeOverMeEnum",function(){return x.DragTypeOverMeEnum});var C=i("./src/calculatedValue.ts");i.d(r,"CalculatedValue",function(){return C.CalculatedValue});var E=i("./src/error.ts");i.d(r,"CustomError",function(){return E.CustomError}),i.d(r,"AnswerRequiredError",function(){return E.AnswerRequiredError}),i.d(r,"OneAnswerRequiredError",function(){return E.OneAnswerRequiredError}),i.d(r,"RequreNumericError",function(){return E.RequreNumericError}),i.d(r,"ExceedSizeError",function(){return E.ExceedSizeError});var v=i("./src/localizablestring.ts");i.d(r,"LocalizableString",function(){return v.LocalizableString}),i.d(r,"LocalizableStrings",function(){return v.LocalizableStrings});var u=i("./src/expressionItems.ts");i.d(r,"HtmlConditionItem",function(){return u.HtmlConditionItem}),i.d(r,"UrlConditionItem",function(){return u.UrlConditionItem});var c=i("./src/choicesRestful.ts");i.d(r,"ChoicesRestful",function(){return c.ChoicesRestful}),i.d(r,"ChoicesRestfull",function(){return c.ChoicesRestfull});var p=i("./src/functionsfactory.ts");i.d(r,"FunctionFactory",function(){return p.FunctionFactory}),i.d(r,"registerFunction",function(){return p.registerFunction});var o=i("./src/conditions.ts");i.d(r,"ConditionRunner",function(){return o.ConditionRunner}),i.d(r,"ExpressionRunner",function(){return o.ExpressionRunner}),i.d(r,"ExpressionExecutor",function(){return o.ExpressionExecutor});var a=i("./src/expressions/expressions.ts");i.d(r,"Operand",function(){return a.Operand}),i.d(r,"Const",function(){return a.Const}),i.d(r,"BinaryOperand",function(){return a.BinaryOperand}),i.d(r,"Variable",function(){return a.Variable}),i.d(r,"FunctionOperand",function(){return a.FunctionOperand}),i.d(r,"ArrayOperand",function(){return a.ArrayOperand}),i.d(r,"UnaryOperand",function(){return a.UnaryOperand});var d=i("./src/conditionsParser.ts");i.d(r,"ConditionsParser",function(){return d.ConditionsParser});var h=i("./src/conditionProcessValue.ts");i.d(r,"ProcessValue",function(){return h.ProcessValue});var f=i("./src/jsonobject.ts");i.d(r,"JsonError",function(){return f.JsonError}),i.d(r,"JsonIncorrectTypeError",function(){return f.JsonIncorrectTypeError}),i.d(r,"JsonMetadata",function(){return f.JsonMetadata}),i.d(r,"JsonMetadataClass",function(){return f.JsonMetadataClass}),i.d(r,"JsonMissingTypeError",function(){return f.JsonMissingTypeError}),i.d(r,"JsonMissingTypeErrorBase",function(){return f.JsonMissingTypeErrorBase}),i.d(r,"JsonObject",function(){return f.JsonObject}),i.d(r,"JsonObjectProperty",function(){return f.JsonObjectProperty}),i.d(r,"JsonRequiredPropertyError",function(){return f.JsonRequiredPropertyError}),i.d(r,"JsonUnknownPropertyError",function(){return f.JsonUnknownPropertyError}),i.d(r,"Serializer",function(){return f.Serializer}),i.d(r,"property",function(){return f.property}),i.d(r,"propertyArray",function(){return f.propertyArray});var l=i("./src/question_matrixdropdownbase.ts");i.d(r,"MatrixDropdownCell",function(){return l.MatrixDropdownCell}),i.d(r,"MatrixDropdownRowModelBase",function(){return l.MatrixDropdownRowModelBase}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return l.QuestionMatrixDropdownModelBase});var O=i("./src/question_matrixdropdowncolumn.ts");i.d(r,"MatrixDropdownColumn",function(){return O.MatrixDropdownColumn}),i.d(r,"matrixDropdownColumnTypes",function(){return O.matrixDropdownColumnTypes});var V=i("./src/question_matrixdropdownrendered.ts");i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return V.QuestionMatrixDropdownRenderedCell}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return V.QuestionMatrixDropdownRenderedRow}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return V.QuestionMatrixDropdownRenderedTable});var A=i("./src/question_matrixdropdown.ts");i.d(r,"MatrixDropdownRowModel",function(){return A.MatrixDropdownRowModel}),i.d(r,"QuestionMatrixDropdownModel",function(){return A.QuestionMatrixDropdownModel});var w=i("./src/question_matrixdynamic.ts");i.d(r,"MatrixDynamicRowModel",function(){return w.MatrixDynamicRowModel}),i.d(r,"QuestionMatrixDynamicModel",function(){return w.QuestionMatrixDynamicModel});var S=i("./src/question_matrix.ts");i.d(r,"MatrixRowModel",function(){return S.MatrixRowModel}),i.d(r,"MatrixCells",function(){return S.MatrixCells}),i.d(r,"QuestionMatrixModel",function(){return S.QuestionMatrixModel});var R=i("./src/martixBase.ts");i.d(r,"QuestionMatrixBaseModel",function(){return R.QuestionMatrixBaseModel});var I=i("./src/question_multipletext.ts");i.d(r,"MultipleTextItemModel",function(){return I.MultipleTextItemModel}),i.d(r,"QuestionMultipleTextModel",function(){return I.QuestionMultipleTextModel});var b=i("./src/panel.ts");i.d(r,"PanelModel",function(){return b.PanelModel}),i.d(r,"PanelModelBase",function(){return b.PanelModelBase}),i.d(r,"QuestionRowModel",function(){return b.QuestionRowModel});var D=i("./src/flowpanel.ts");i.d(r,"FlowPanelModel",function(){return D.FlowPanelModel});var M=i("./src/page.ts");i.d(r,"PageModel",function(){return M.PageModel}),i("./src/template-renderer.ts");var L=i("./src/defaultTitle.ts");i.d(r,"DefaultTitleModel",function(){return L.DefaultTitleModel});var U=i("./src/question.ts");i.d(r,"Question",function(){return U.Question});var N=i("./src/questionnonvalue.ts");i.d(r,"QuestionNonValue",function(){return N.QuestionNonValue});var W=i("./src/question_empty.ts");i.d(r,"QuestionEmptyModel",function(){return W.QuestionEmptyModel});var z=i("./src/question_baseselect.ts");i.d(r,"QuestionCheckboxBase",function(){return z.QuestionCheckboxBase}),i.d(r,"QuestionSelectBase",function(){return z.QuestionSelectBase});var Q=i("./src/question_checkbox.ts");i.d(r,"QuestionCheckboxModel",function(){return Q.QuestionCheckboxModel});var $=i("./src/question_tagbox.ts");i.d(r,"QuestionTagboxModel",function(){return $.QuestionTagboxModel});var Y=i("./src/question_ranking.ts");i.d(r,"QuestionRankingModel",function(){return Y.QuestionRankingModel});var q=i("./src/question_comment.ts");i.d(r,"QuestionCommentModel",function(){return q.QuestionCommentModel});var se=i("./src/question_dropdown.ts");i.d(r,"QuestionDropdownModel",function(){return se.QuestionDropdownModel});var Z=i("./src/questionfactory.ts");i.d(r,"QuestionFactory",function(){return Z.QuestionFactory}),i.d(r,"ElementFactory",function(){return Z.ElementFactory});var Oe=i("./src/question_file.ts");i.d(r,"QuestionFileModel",function(){return Oe.QuestionFileModel});var ve=i("./src/question_html.ts");i.d(r,"QuestionHtmlModel",function(){return ve.QuestionHtmlModel});var Ce=i("./src/question_radiogroup.ts");i.d(r,"QuestionRadiogroupModel",function(){return Ce.QuestionRadiogroupModel});var me=i("./src/question_rating.ts");i.d(r,"QuestionRatingModel",function(){return me.QuestionRatingModel}),i.d(r,"RenderedRatingItem",function(){return me.RenderedRatingItem});var ze=i("./src/question_expression.ts");i.d(r,"QuestionExpressionModel",function(){return ze.QuestionExpressionModel});var Xe=i("./src/question_textbase.ts");i.d(r,"QuestionTextBase",function(){return Xe.QuestionTextBase}),i.d(r,"CharacterCounter",function(){return Xe.CharacterCounter});var Ie=i("./src/question_text.ts");i.d(r,"QuestionTextModel",function(){return Ie.QuestionTextModel});var tt=i("./src/question_boolean.ts");i.d(r,"QuestionBooleanModel",function(){return tt.QuestionBooleanModel});var Re=i("./src/question_imagepicker.ts");i.d(r,"QuestionImagePickerModel",function(){return Re.QuestionImagePickerModel}),i.d(r,"ImageItemValue",function(){return Re.ImageItemValue});var ke=i("./src/question_image.ts");i.d(r,"QuestionImageModel",function(){return ke.QuestionImageModel});var En=i("./src/question_signaturepad.ts");i.d(r,"QuestionSignaturePadModel",function(){return En.QuestionSignaturePadModel});var qe=i("./src/question_paneldynamic.ts");i.d(r,"QuestionPanelDynamicModel",function(){return qe.QuestionPanelDynamicModel}),i.d(r,"QuestionPanelDynamicItem",function(){return qe.QuestionPanelDynamicItem});var Vn=i("./src/surveytimer.ts");i.d(r,"SurveyTimer",function(){return Vn.SurveyTimer});var cn=i("./src/surveyTimerModel.ts");i.d(r,"SurveyTimerModel",function(){return cn.SurveyTimerModel});var ct=i("./src/surveyToc.ts");i.d(r,"tryNavigateToPage",function(){return ct.tryNavigateToPage}),i.d(r,"createTOCListModel",function(){return ct.createTOCListModel}),i.d(r,"getTocRootCss",function(){return ct.getTocRootCss});var ye=i("./src/surveyProgress.ts");i.d(r,"SurveyProgressModel",function(){return ye.SurveyProgressModel});var Qe=i("./src/surveyProgressButtons.ts");i.d(r,"SurveyProgressButtonsModel",function(){return Qe.SurveyProgressButtonsModel});var Gn=i("./src/survey.ts");i.d(r,"SurveyModel",function(){return Gn.SurveyModel});var Wt=i("./src/trigger.ts");i.d(r,"SurveyTrigger",function(){return Wt.SurveyTrigger}),i.d(r,"SurveyTriggerComplete",function(){return Wt.SurveyTriggerComplete}),i.d(r,"SurveyTriggerSetValue",function(){return Wt.SurveyTriggerSetValue}),i.d(r,"SurveyTriggerVisible",function(){return Wt.SurveyTriggerVisible}),i.d(r,"SurveyTriggerCopyValue",function(){return Wt.SurveyTriggerCopyValue}),i.d(r,"SurveyTriggerRunExpression",function(){return Wt.SurveyTriggerRunExpression}),i.d(r,"Trigger",function(){return Wt.Trigger});var zt=i("./src/popup-survey.ts");i.d(r,"PopupSurveyModel",function(){return zt.PopupSurveyModel}),i.d(r,"SurveyWindowModel",function(){return zt.SurveyWindowModel});var ds=i("./src/textPreProcessor.ts");i.d(r,"TextPreProcessor",function(){return ds.TextPreProcessor});var hs=i("./src/notifier.ts");i.d(r,"Notifier",function(){return hs.Notifier});var ps=i("./src/dxSurveyService.ts");i.d(r,"dxSurveyService",function(){return ps.dxSurveyService});var gs=i("./src/localization/english.ts");i.d(r,"englishStrings",function(){return gs.englishStrings});var ki=i("./src/surveyStrings.ts");i.d(r,"surveyLocalization",function(){return ki.surveyLocalization}),i.d(r,"surveyStrings",function(){return ki.surveyStrings});var Zi=i("./src/questionCustomWidgets.ts");i.d(r,"QuestionCustomWidget",function(){return Zi.QuestionCustomWidget}),i.d(r,"CustomWidgetCollection",function(){return Zi.CustomWidgetCollection});var mr=i("./src/question_custom.ts");i.d(r,"QuestionCustomModel",function(){return mr.QuestionCustomModel}),i.d(r,"QuestionCompositeModel",function(){return mr.QuestionCompositeModel}),i.d(r,"ComponentQuestionJSON",function(){return mr.ComponentQuestionJSON}),i.d(r,"ComponentCollection",function(){return mr.ComponentCollection});var ms=i("./src/stylesmanager.ts");i.d(r,"StylesManager",function(){return ms.StylesManager});var ys=i("./src/list.ts");i.d(r,"ListModel",function(){return ys.ListModel});var vs=i("./src/multiSelectListModel.ts");i.d(r,"MultiSelectListModel",function(){return vs.MultiSelectListModel});var _i=i("./src/popup.ts");i.d(r,"PopupModel",function(){return _i.PopupModel}),i.d(r,"createDialogOptions",function(){return _i.createDialogOptions});var Cs=i("./src/popup-view-model.ts");i.d(r,"PopupBaseViewModel",function(){return Cs.PopupBaseViewModel});var Es=i("./src/popup-dropdown-view-model.ts");i.d(r,"PopupDropdownViewModel",function(){return Es.PopupDropdownViewModel});var Ps=i("./src/popup-modal-view-model.ts");i.d(r,"PopupModalViewModel",function(){return Ps.PopupModalViewModel});var ai=i("./src/popup-utils.ts");i.d(r,"createPopupViewModel",function(){return ai.createPopupViewModel}),i.d(r,"createPopupModalViewModel",function(){return ai.createPopupModalViewModel});var bs=i("./src/dropdownListModel.ts");i.d(r,"DropdownListModel",function(){return bs.DropdownListModel});var Os=i("./src/dropdownMultiSelectListModel.ts");i.d(r,"DropdownMultiSelectListModel",function(){return Os.DropdownMultiSelectListModel});var li=i("./src/question_buttongroup.ts");i.d(r,"QuestionButtonGroupModel",function(){return li.QuestionButtonGroupModel}),i.d(r,"ButtonGroupItemModel",function(){return li.ButtonGroupItemModel}),i.d(r,"ButtonGroupItemValue",function(){return li.ButtonGroupItemValue});var Ss=i("./src/utils/devices.ts");i.d(r,"IsMobile",function(){return Ss.IsMobile}),i.d(r,"IsTouch",function(){return Ss.IsTouch}),i.d(r,"_setIsTouch",function(){return Ss._setIsTouch});var Pn=i("./src/utils/utils.ts");i.d(r,"confirmAction",function(){return Pn.confirmAction}),i.d(r,"detectIEOrEdge",function(){return Pn.detectIEOrEdge}),i.d(r,"doKey2ClickUp",function(){return Pn.doKey2ClickUp}),i.d(r,"doKey2ClickDown",function(){return Pn.doKey2ClickDown}),i.d(r,"doKey2ClickBlur",function(){return Pn.doKey2ClickBlur}),i.d(r,"loadFileFromBase64",function(){return Pn.loadFileFromBase64}),i.d(r,"increaseHeightByContent",function(){return Pn.increaseHeightByContent}),i.d(r,"createSvg",function(){return Pn.createSvg}),i.d(r,"sanitizeEditableContent",function(){return Pn.sanitizeEditableContent});var Wf=i("./src/utils/cssClassBuilder.ts");i.d(r,"CssClassBuilder",function(){return Wf.CssClassBuilder});var Ts=i("./src/defaultCss/defaultV2Css.ts");i.d(r,"surveyCss",function(){return Ts.surveyCss}),i.d(r,"defaultV2Css",function(){return Ts.defaultV2Css}),i.d(r,"defaultV2ThemeName",function(){return Ts.defaultV2ThemeName});var zf=i("./src/dragdrop/survey-elements.ts");i.d(r,"DragDropSurveyElements",function(){return zf.DragDropSurveyElements});var Hf=i("./src/dragdrop/choices.ts");i.d(r,"DragDropChoices",function(){return Hf.DragDropChoices});var eo;eo="1.9.87";function $f(Sl,Kf){if(eo!=Sl){var qf="survey-core has version '"+eo+"' and "+Kf+" has version '"+Sl+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(qf)}}},"./src/entries/core-wo-model.ts":function(n,r,i){i.r(r);var s=i("./src/entries/chunks/model.ts");i.d(r,"Version",function(){return s.Version}),i.d(r,"checkLibraryVersion",function(){return s.checkLibraryVersion}),i.d(r,"settings",function(){return s.settings}),i.d(r,"Helpers",function(){return s.Helpers}),i.d(r,"AnswerCountValidator",function(){return s.AnswerCountValidator}),i.d(r,"EmailValidator",function(){return s.EmailValidator}),i.d(r,"NumericValidator",function(){return s.NumericValidator}),i.d(r,"RegexValidator",function(){return s.RegexValidator}),i.d(r,"SurveyValidator",function(){return s.SurveyValidator}),i.d(r,"TextValidator",function(){return s.TextValidator}),i.d(r,"ValidatorResult",function(){return s.ValidatorResult}),i.d(r,"ExpressionValidator",function(){return s.ExpressionValidator}),i.d(r,"ValidatorRunner",function(){return s.ValidatorRunner}),i.d(r,"ItemValue",function(){return s.ItemValue}),i.d(r,"Base",function(){return s.Base}),i.d(r,"Event",function(){return s.Event}),i.d(r,"EventBase",function(){return s.EventBase}),i.d(r,"ArrayChanges",function(){return s.ArrayChanges}),i.d(r,"ComputedUpdater",function(){return s.ComputedUpdater}),i.d(r,"SurveyError",function(){return s.SurveyError}),i.d(r,"SurveyElementCore",function(){return s.SurveyElementCore}),i.d(r,"SurveyElement",function(){return s.SurveyElement}),i.d(r,"DragTypeOverMeEnum",function(){return s.DragTypeOverMeEnum}),i.d(r,"CalculatedValue",function(){return s.CalculatedValue}),i.d(r,"CustomError",function(){return s.CustomError}),i.d(r,"AnswerRequiredError",function(){return s.AnswerRequiredError}),i.d(r,"OneAnswerRequiredError",function(){return s.OneAnswerRequiredError}),i.d(r,"RequreNumericError",function(){return s.RequreNumericError}),i.d(r,"ExceedSizeError",function(){return s.ExceedSizeError}),i.d(r,"LocalizableString",function(){return s.LocalizableString}),i.d(r,"LocalizableStrings",function(){return s.LocalizableStrings}),i.d(r,"HtmlConditionItem",function(){return s.HtmlConditionItem}),i.d(r,"UrlConditionItem",function(){return s.UrlConditionItem}),i.d(r,"ChoicesRestful",function(){return s.ChoicesRestful}),i.d(r,"ChoicesRestfull",function(){return s.ChoicesRestfull}),i.d(r,"FunctionFactory",function(){return s.FunctionFactory}),i.d(r,"registerFunction",function(){return s.registerFunction}),i.d(r,"ConditionRunner",function(){return s.ConditionRunner}),i.d(r,"ExpressionRunner",function(){return s.ExpressionRunner}),i.d(r,"ExpressionExecutor",function(){return s.ExpressionExecutor}),i.d(r,"Operand",function(){return s.Operand}),i.d(r,"Const",function(){return s.Const}),i.d(r,"BinaryOperand",function(){return s.BinaryOperand}),i.d(r,"Variable",function(){return s.Variable}),i.d(r,"FunctionOperand",function(){return s.FunctionOperand}),i.d(r,"ArrayOperand",function(){return s.ArrayOperand}),i.d(r,"UnaryOperand",function(){return s.UnaryOperand}),i.d(r,"ConditionsParser",function(){return s.ConditionsParser}),i.d(r,"ProcessValue",function(){return s.ProcessValue}),i.d(r,"JsonError",function(){return s.JsonError}),i.d(r,"JsonIncorrectTypeError",function(){return s.JsonIncorrectTypeError}),i.d(r,"JsonMetadata",function(){return s.JsonMetadata}),i.d(r,"JsonMetadataClass",function(){return s.JsonMetadataClass}),i.d(r,"JsonMissingTypeError",function(){return s.JsonMissingTypeError}),i.d(r,"JsonMissingTypeErrorBase",function(){return s.JsonMissingTypeErrorBase}),i.d(r,"JsonObject",function(){return s.JsonObject}),i.d(r,"JsonObjectProperty",function(){return s.JsonObjectProperty}),i.d(r,"JsonRequiredPropertyError",function(){return s.JsonRequiredPropertyError}),i.d(r,"JsonUnknownPropertyError",function(){return s.JsonUnknownPropertyError}),i.d(r,"Serializer",function(){return s.Serializer}),i.d(r,"property",function(){return s.property}),i.d(r,"propertyArray",function(){return s.propertyArray}),i.d(r,"MatrixDropdownCell",function(){return s.MatrixDropdownCell}),i.d(r,"MatrixDropdownRowModelBase",function(){return s.MatrixDropdownRowModelBase}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return s.QuestionMatrixDropdownModelBase}),i.d(r,"MatrixDropdownColumn",function(){return s.MatrixDropdownColumn}),i.d(r,"matrixDropdownColumnTypes",function(){return s.matrixDropdownColumnTypes}),i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return s.QuestionMatrixDropdownRenderedCell}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return s.QuestionMatrixDropdownRenderedRow}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return s.QuestionMatrixDropdownRenderedTable}),i.d(r,"MatrixDropdownRowModel",function(){return s.MatrixDropdownRowModel}),i.d(r,"QuestionMatrixDropdownModel",function(){return s.QuestionMatrixDropdownModel}),i.d(r,"MatrixDynamicRowModel",function(){return s.MatrixDynamicRowModel}),i.d(r,"QuestionMatrixDynamicModel",function(){return s.QuestionMatrixDynamicModel}),i.d(r,"MatrixRowModel",function(){return s.MatrixRowModel}),i.d(r,"MatrixCells",function(){return s.MatrixCells}),i.d(r,"QuestionMatrixModel",function(){return s.QuestionMatrixModel}),i.d(r,"QuestionMatrixBaseModel",function(){return s.QuestionMatrixBaseModel}),i.d(r,"MultipleTextItemModel",function(){return s.MultipleTextItemModel}),i.d(r,"QuestionMultipleTextModel",function(){return s.QuestionMultipleTextModel}),i.d(r,"PanelModel",function(){return s.PanelModel}),i.d(r,"PanelModelBase",function(){return s.PanelModelBase}),i.d(r,"QuestionRowModel",function(){return s.QuestionRowModel}),i.d(r,"FlowPanelModel",function(){return s.FlowPanelModel}),i.d(r,"PageModel",function(){return s.PageModel}),i.d(r,"DefaultTitleModel",function(){return s.DefaultTitleModel}),i.d(r,"Question",function(){return s.Question}),i.d(r,"QuestionNonValue",function(){return s.QuestionNonValue}),i.d(r,"QuestionEmptyModel",function(){return s.QuestionEmptyModel}),i.d(r,"QuestionCheckboxBase",function(){return s.QuestionCheckboxBase}),i.d(r,"QuestionSelectBase",function(){return s.QuestionSelectBase}),i.d(r,"QuestionCheckboxModel",function(){return s.QuestionCheckboxModel}),i.d(r,"QuestionTagboxModel",function(){return s.QuestionTagboxModel}),i.d(r,"QuestionRankingModel",function(){return s.QuestionRankingModel}),i.d(r,"QuestionCommentModel",function(){return s.QuestionCommentModel}),i.d(r,"QuestionDropdownModel",function(){return s.QuestionDropdownModel}),i.d(r,"QuestionFactory",function(){return s.QuestionFactory}),i.d(r,"ElementFactory",function(){return s.ElementFactory}),i.d(r,"QuestionFileModel",function(){return s.QuestionFileModel}),i.d(r,"QuestionHtmlModel",function(){return s.QuestionHtmlModel}),i.d(r,"QuestionRadiogroupModel",function(){return s.QuestionRadiogroupModel}),i.d(r,"QuestionRatingModel",function(){return s.QuestionRatingModel}),i.d(r,"RenderedRatingItem",function(){return s.RenderedRatingItem}),i.d(r,"QuestionExpressionModel",function(){return s.QuestionExpressionModel}),i.d(r,"QuestionTextBase",function(){return s.QuestionTextBase}),i.d(r,"CharacterCounter",function(){return s.CharacterCounter}),i.d(r,"QuestionTextModel",function(){return s.QuestionTextModel}),i.d(r,"QuestionBooleanModel",function(){return s.QuestionBooleanModel}),i.d(r,"QuestionImagePickerModel",function(){return s.QuestionImagePickerModel}),i.d(r,"ImageItemValue",function(){return s.ImageItemValue}),i.d(r,"QuestionImageModel",function(){return s.QuestionImageModel}),i.d(r,"QuestionSignaturePadModel",function(){return s.QuestionSignaturePadModel}),i.d(r,"QuestionPanelDynamicModel",function(){return s.QuestionPanelDynamicModel}),i.d(r,"QuestionPanelDynamicItem",function(){return s.QuestionPanelDynamicItem}),i.d(r,"SurveyTimer",function(){return s.SurveyTimer}),i.d(r,"SurveyTimerModel",function(){return s.SurveyTimerModel}),i.d(r,"tryNavigateToPage",function(){return s.tryNavigateToPage}),i.d(r,"createTOCListModel",function(){return s.createTOCListModel}),i.d(r,"getTocRootCss",function(){return s.getTocRootCss}),i.d(r,"SurveyProgressModel",function(){return s.SurveyProgressModel}),i.d(r,"SurveyProgressButtonsModel",function(){return s.SurveyProgressButtonsModel}),i.d(r,"SurveyModel",function(){return s.SurveyModel}),i.d(r,"SurveyTrigger",function(){return s.SurveyTrigger}),i.d(r,"SurveyTriggerComplete",function(){return s.SurveyTriggerComplete}),i.d(r,"SurveyTriggerSetValue",function(){return s.SurveyTriggerSetValue}),i.d(r,"SurveyTriggerVisible",function(){return s.SurveyTriggerVisible}),i.d(r,"SurveyTriggerCopyValue",function(){return s.SurveyTriggerCopyValue}),i.d(r,"SurveyTriggerRunExpression",function(){return s.SurveyTriggerRunExpression}),i.d(r,"Trigger",function(){return s.Trigger}),i.d(r,"PopupSurveyModel",function(){return s.PopupSurveyModel}),i.d(r,"SurveyWindowModel",function(){return s.SurveyWindowModel}),i.d(r,"TextPreProcessor",function(){return s.TextPreProcessor}),i.d(r,"Notifier",function(){return s.Notifier}),i.d(r,"dxSurveyService",function(){return s.dxSurveyService}),i.d(r,"englishStrings",function(){return s.englishStrings}),i.d(r,"surveyLocalization",function(){return s.surveyLocalization}),i.d(r,"surveyStrings",function(){return s.surveyStrings}),i.d(r,"QuestionCustomWidget",function(){return s.QuestionCustomWidget}),i.d(r,"CustomWidgetCollection",function(){return s.CustomWidgetCollection}),i.d(r,"QuestionCustomModel",function(){return s.QuestionCustomModel}),i.d(r,"QuestionCompositeModel",function(){return s.QuestionCompositeModel}),i.d(r,"ComponentQuestionJSON",function(){return s.ComponentQuestionJSON}),i.d(r,"ComponentCollection",function(){return s.ComponentCollection}),i.d(r,"StylesManager",function(){return s.StylesManager}),i.d(r,"ListModel",function(){return s.ListModel}),i.d(r,"MultiSelectListModel",function(){return s.MultiSelectListModel}),i.d(r,"PopupModel",function(){return s.PopupModel}),i.d(r,"createDialogOptions",function(){return s.createDialogOptions}),i.d(r,"PopupBaseViewModel",function(){return s.PopupBaseViewModel}),i.d(r,"PopupDropdownViewModel",function(){return s.PopupDropdownViewModel}),i.d(r,"PopupModalViewModel",function(){return s.PopupModalViewModel}),i.d(r,"createPopupViewModel",function(){return s.createPopupViewModel}),i.d(r,"createPopupModalViewModel",function(){return s.createPopupModalViewModel}),i.d(r,"DropdownListModel",function(){return s.DropdownListModel}),i.d(r,"DropdownMultiSelectListModel",function(){return s.DropdownMultiSelectListModel}),i.d(r,"QuestionButtonGroupModel",function(){return s.QuestionButtonGroupModel}),i.d(r,"ButtonGroupItemModel",function(){return s.ButtonGroupItemModel}),i.d(r,"ButtonGroupItemValue",function(){return s.ButtonGroupItemValue}),i.d(r,"IsMobile",function(){return s.IsMobile}),i.d(r,"IsTouch",function(){return s.IsTouch}),i.d(r,"_setIsTouch",function(){return s._setIsTouch}),i.d(r,"confirmAction",function(){return s.confirmAction}),i.d(r,"detectIEOrEdge",function(){return s.detectIEOrEdge}),i.d(r,"doKey2ClickUp",function(){return s.doKey2ClickUp}),i.d(r,"doKey2ClickDown",function(){return s.doKey2ClickDown}),i.d(r,"doKey2ClickBlur",function(){return s.doKey2ClickBlur}),i.d(r,"loadFileFromBase64",function(){return s.loadFileFromBase64}),i.d(r,"increaseHeightByContent",function(){return s.increaseHeightByContent}),i.d(r,"createSvg",function(){return s.createSvg}),i.d(r,"sanitizeEditableContent",function(){return s.sanitizeEditableContent}),i.d(r,"CssClassBuilder",function(){return s.CssClassBuilder}),i.d(r,"surveyCss",function(){return s.surveyCss}),i.d(r,"defaultV2Css",function(){return s.defaultV2Css}),i.d(r,"defaultV2ThemeName",function(){return s.defaultV2ThemeName}),i.d(r,"DragDropSurveyElements",function(){return s.DragDropSurveyElements}),i.d(r,"DragDropChoices",function(){return s.DragDropChoices});var m=i("./src/defaultCss/cssstandard.ts");i.d(r,"defaultStandardCss",function(){return m.defaultStandardCss});var g=i("./src/defaultCss/cssmodern.ts");i.d(r,"modernCss",function(){return g.modernCss});var y=i("./src/svgbundle.ts");i.d(r,"SvgIconRegistry",function(){return y.SvgIconRegistry}),i.d(r,"SvgRegistry",function(){return y.SvgRegistry}),i.d(r,"SvgBundleViewModel",function(){return y.SvgBundleViewModel});var P=i("./src/rendererFactory.ts");i.d(r,"RendererFactory",function(){return P.RendererFactory});var T=i("./src/utils/responsivity-manager.ts");i.d(r,"ResponsivityManager",function(){return T.ResponsivityManager}),i.d(r,"VerticalResponsivityManager",function(){return T.VerticalResponsivityManager});var x=i("./src/utils/utils.ts");i.d(r,"unwrap",function(){return x.unwrap}),i.d(r,"getOriginalEvent",function(){return x.getOriginalEvent}),i.d(r,"getElement",function(){return x.getElement});var C=i("./src/actions/action.ts");i.d(r,"createDropdownActionModel",function(){return C.createDropdownActionModel}),i.d(r,"createDropdownActionModelAdvanced",function(){return C.createDropdownActionModelAdvanced}),i.d(r,"BaseAction",function(){return C.BaseAction}),i.d(r,"Action",function(){return C.Action}),i.d(r,"ActionDropdownViewModel",function(){return C.ActionDropdownViewModel});var E=i("./src/actions/adaptive-container.ts");i.d(r,"AdaptiveActionContainer",function(){return E.AdaptiveActionContainer});var v=i("./src/actions/container.ts");i.d(r,"defaultActionBarCss",function(){return v.defaultActionBarCss}),i.d(r,"ActionContainer",function(){return v.ActionContainer});var u=i("./src/utils/tooltip.ts");i.d(r,"TooltipManager",function(){return u.TooltipManager});var c=i("./src/utils/dragOrClickHelper.ts");i.d(r,"DragOrClickHelper",function(){return c.DragOrClickHelper})},"./src/entries/core.ts":function(n,r,i){i.r(r);var s=i("./src/entries/core-wo-model.ts");i.d(r,"Version",function(){return s.Version}),i.d(r,"checkLibraryVersion",function(){return s.checkLibraryVersion}),i.d(r,"settings",function(){return s.settings}),i.d(r,"Helpers",function(){return s.Helpers}),i.d(r,"AnswerCountValidator",function(){return s.AnswerCountValidator}),i.d(r,"EmailValidator",function(){return s.EmailValidator}),i.d(r,"NumericValidator",function(){return s.NumericValidator}),i.d(r,"RegexValidator",function(){return s.RegexValidator}),i.d(r,"SurveyValidator",function(){return s.SurveyValidator}),i.d(r,"TextValidator",function(){return s.TextValidator}),i.d(r,"ValidatorResult",function(){return s.ValidatorResult}),i.d(r,"ExpressionValidator",function(){return s.ExpressionValidator}),i.d(r,"ValidatorRunner",function(){return s.ValidatorRunner}),i.d(r,"ItemValue",function(){return s.ItemValue}),i.d(r,"Base",function(){return s.Base}),i.d(r,"Event",function(){return s.Event}),i.d(r,"EventBase",function(){return s.EventBase}),i.d(r,"ArrayChanges",function(){return s.ArrayChanges}),i.d(r,"ComputedUpdater",function(){return s.ComputedUpdater}),i.d(r,"SurveyError",function(){return s.SurveyError}),i.d(r,"SurveyElementCore",function(){return s.SurveyElementCore}),i.d(r,"SurveyElement",function(){return s.SurveyElement}),i.d(r,"DragTypeOverMeEnum",function(){return s.DragTypeOverMeEnum}),i.d(r,"CalculatedValue",function(){return s.CalculatedValue}),i.d(r,"CustomError",function(){return s.CustomError}),i.d(r,"AnswerRequiredError",function(){return s.AnswerRequiredError}),i.d(r,"OneAnswerRequiredError",function(){return s.OneAnswerRequiredError}),i.d(r,"RequreNumericError",function(){return s.RequreNumericError}),i.d(r,"ExceedSizeError",function(){return s.ExceedSizeError}),i.d(r,"LocalizableString",function(){return s.LocalizableString}),i.d(r,"LocalizableStrings",function(){return s.LocalizableStrings}),i.d(r,"HtmlConditionItem",function(){return s.HtmlConditionItem}),i.d(r,"UrlConditionItem",function(){return s.UrlConditionItem}),i.d(r,"ChoicesRestful",function(){return s.ChoicesRestful}),i.d(r,"ChoicesRestfull",function(){return s.ChoicesRestfull}),i.d(r,"FunctionFactory",function(){return s.FunctionFactory}),i.d(r,"registerFunction",function(){return s.registerFunction}),i.d(r,"ConditionRunner",function(){return s.ConditionRunner}),i.d(r,"ExpressionRunner",function(){return s.ExpressionRunner}),i.d(r,"ExpressionExecutor",function(){return s.ExpressionExecutor}),i.d(r,"Operand",function(){return s.Operand}),i.d(r,"Const",function(){return s.Const}),i.d(r,"BinaryOperand",function(){return s.BinaryOperand}),i.d(r,"Variable",function(){return s.Variable}),i.d(r,"FunctionOperand",function(){return s.FunctionOperand}),i.d(r,"ArrayOperand",function(){return s.ArrayOperand}),i.d(r,"UnaryOperand",function(){return s.UnaryOperand}),i.d(r,"ConditionsParser",function(){return s.ConditionsParser}),i.d(r,"ProcessValue",function(){return s.ProcessValue}),i.d(r,"JsonError",function(){return s.JsonError}),i.d(r,"JsonIncorrectTypeError",function(){return s.JsonIncorrectTypeError}),i.d(r,"JsonMetadata",function(){return s.JsonMetadata}),i.d(r,"JsonMetadataClass",function(){return s.JsonMetadataClass}),i.d(r,"JsonMissingTypeError",function(){return s.JsonMissingTypeError}),i.d(r,"JsonMissingTypeErrorBase",function(){return s.JsonMissingTypeErrorBase}),i.d(r,"JsonObject",function(){return s.JsonObject}),i.d(r,"JsonObjectProperty",function(){return s.JsonObjectProperty}),i.d(r,"JsonRequiredPropertyError",function(){return s.JsonRequiredPropertyError}),i.d(r,"JsonUnknownPropertyError",function(){return s.JsonUnknownPropertyError}),i.d(r,"Serializer",function(){return s.Serializer}),i.d(r,"property",function(){return s.property}),i.d(r,"propertyArray",function(){return s.propertyArray}),i.d(r,"MatrixDropdownCell",function(){return s.MatrixDropdownCell}),i.d(r,"MatrixDropdownRowModelBase",function(){return s.MatrixDropdownRowModelBase}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return s.QuestionMatrixDropdownModelBase}),i.d(r,"MatrixDropdownColumn",function(){return s.MatrixDropdownColumn}),i.d(r,"matrixDropdownColumnTypes",function(){return s.matrixDropdownColumnTypes}),i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return s.QuestionMatrixDropdownRenderedCell}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return s.QuestionMatrixDropdownRenderedRow}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return s.QuestionMatrixDropdownRenderedTable}),i.d(r,"MatrixDropdownRowModel",function(){return s.MatrixDropdownRowModel}),i.d(r,"QuestionMatrixDropdownModel",function(){return s.QuestionMatrixDropdownModel}),i.d(r,"MatrixDynamicRowModel",function(){return s.MatrixDynamicRowModel}),i.d(r,"QuestionMatrixDynamicModel",function(){return s.QuestionMatrixDynamicModel}),i.d(r,"MatrixRowModel",function(){return s.MatrixRowModel}),i.d(r,"MatrixCells",function(){return s.MatrixCells}),i.d(r,"QuestionMatrixModel",function(){return s.QuestionMatrixModel}),i.d(r,"QuestionMatrixBaseModel",function(){return s.QuestionMatrixBaseModel}),i.d(r,"MultipleTextItemModel",function(){return s.MultipleTextItemModel}),i.d(r,"QuestionMultipleTextModel",function(){return s.QuestionMultipleTextModel}),i.d(r,"PanelModel",function(){return s.PanelModel}),i.d(r,"PanelModelBase",function(){return s.PanelModelBase}),i.d(r,"QuestionRowModel",function(){return s.QuestionRowModel}),i.d(r,"FlowPanelModel",function(){return s.FlowPanelModel}),i.d(r,"PageModel",function(){return s.PageModel}),i.d(r,"DefaultTitleModel",function(){return s.DefaultTitleModel}),i.d(r,"Question",function(){return s.Question}),i.d(r,"QuestionNonValue",function(){return s.QuestionNonValue}),i.d(r,"QuestionEmptyModel",function(){return s.QuestionEmptyModel}),i.d(r,"QuestionCheckboxBase",function(){return s.QuestionCheckboxBase}),i.d(r,"QuestionSelectBase",function(){return s.QuestionSelectBase}),i.d(r,"QuestionCheckboxModel",function(){return s.QuestionCheckboxModel}),i.d(r,"QuestionTagboxModel",function(){return s.QuestionTagboxModel}),i.d(r,"QuestionRankingModel",function(){return s.QuestionRankingModel}),i.d(r,"QuestionCommentModel",function(){return s.QuestionCommentModel}),i.d(r,"QuestionDropdownModel",function(){return s.QuestionDropdownModel}),i.d(r,"QuestionFactory",function(){return s.QuestionFactory}),i.d(r,"ElementFactory",function(){return s.ElementFactory}),i.d(r,"QuestionFileModel",function(){return s.QuestionFileModel}),i.d(r,"QuestionHtmlModel",function(){return s.QuestionHtmlModel}),i.d(r,"QuestionRadiogroupModel",function(){return s.QuestionRadiogroupModel}),i.d(r,"QuestionRatingModel",function(){return s.QuestionRatingModel}),i.d(r,"RenderedRatingItem",function(){return s.RenderedRatingItem}),i.d(r,"QuestionExpressionModel",function(){return s.QuestionExpressionModel}),i.d(r,"QuestionTextBase",function(){return s.QuestionTextBase}),i.d(r,"CharacterCounter",function(){return s.CharacterCounter}),i.d(r,"QuestionTextModel",function(){return s.QuestionTextModel}),i.d(r,"QuestionBooleanModel",function(){return s.QuestionBooleanModel}),i.d(r,"QuestionImagePickerModel",function(){return s.QuestionImagePickerModel}),i.d(r,"ImageItemValue",function(){return s.ImageItemValue}),i.d(r,"QuestionImageModel",function(){return s.QuestionImageModel}),i.d(r,"QuestionSignaturePadModel",function(){return s.QuestionSignaturePadModel}),i.d(r,"QuestionPanelDynamicModel",function(){return s.QuestionPanelDynamicModel}),i.d(r,"QuestionPanelDynamicItem",function(){return s.QuestionPanelDynamicItem}),i.d(r,"SurveyTimer",function(){return s.SurveyTimer}),i.d(r,"SurveyTimerModel",function(){return s.SurveyTimerModel}),i.d(r,"tryNavigateToPage",function(){return s.tryNavigateToPage}),i.d(r,"createTOCListModel",function(){return s.createTOCListModel}),i.d(r,"getTocRootCss",function(){return s.getTocRootCss}),i.d(r,"SurveyProgressModel",function(){return s.SurveyProgressModel}),i.d(r,"SurveyProgressButtonsModel",function(){return s.SurveyProgressButtonsModel}),i.d(r,"SurveyModel",function(){return s.SurveyModel}),i.d(r,"SurveyTrigger",function(){return s.SurveyTrigger}),i.d(r,"SurveyTriggerComplete",function(){return s.SurveyTriggerComplete}),i.d(r,"SurveyTriggerSetValue",function(){return s.SurveyTriggerSetValue}),i.d(r,"SurveyTriggerVisible",function(){return s.SurveyTriggerVisible}),i.d(r,"SurveyTriggerCopyValue",function(){return s.SurveyTriggerCopyValue}),i.d(r,"SurveyTriggerRunExpression",function(){return s.SurveyTriggerRunExpression}),i.d(r,"Trigger",function(){return s.Trigger}),i.d(r,"PopupSurveyModel",function(){return s.PopupSurveyModel}),i.d(r,"SurveyWindowModel",function(){return s.SurveyWindowModel}),i.d(r,"TextPreProcessor",function(){return s.TextPreProcessor}),i.d(r,"Notifier",function(){return s.Notifier}),i.d(r,"dxSurveyService",function(){return s.dxSurveyService}),i.d(r,"englishStrings",function(){return s.englishStrings}),i.d(r,"surveyLocalization",function(){return s.surveyLocalization}),i.d(r,"surveyStrings",function(){return s.surveyStrings}),i.d(r,"QuestionCustomWidget",function(){return s.QuestionCustomWidget}),i.d(r,"CustomWidgetCollection",function(){return s.CustomWidgetCollection}),i.d(r,"QuestionCustomModel",function(){return s.QuestionCustomModel}),i.d(r,"QuestionCompositeModel",function(){return s.QuestionCompositeModel}),i.d(r,"ComponentQuestionJSON",function(){return s.ComponentQuestionJSON}),i.d(r,"ComponentCollection",function(){return s.ComponentCollection}),i.d(r,"StylesManager",function(){return s.StylesManager}),i.d(r,"ListModel",function(){return s.ListModel}),i.d(r,"MultiSelectListModel",function(){return s.MultiSelectListModel}),i.d(r,"PopupModel",function(){return s.PopupModel}),i.d(r,"createDialogOptions",function(){return s.createDialogOptions}),i.d(r,"PopupBaseViewModel",function(){return s.PopupBaseViewModel}),i.d(r,"PopupDropdownViewModel",function(){return s.PopupDropdownViewModel}),i.d(r,"PopupModalViewModel",function(){return s.PopupModalViewModel}),i.d(r,"createPopupViewModel",function(){return s.createPopupViewModel}),i.d(r,"createPopupModalViewModel",function(){return s.createPopupModalViewModel}),i.d(r,"DropdownListModel",function(){return s.DropdownListModel}),i.d(r,"DropdownMultiSelectListModel",function(){return s.DropdownMultiSelectListModel}),i.d(r,"QuestionButtonGroupModel",function(){return s.QuestionButtonGroupModel}),i.d(r,"ButtonGroupItemModel",function(){return s.ButtonGroupItemModel}),i.d(r,"ButtonGroupItemValue",function(){return s.ButtonGroupItemValue}),i.d(r,"IsMobile",function(){return s.IsMobile}),i.d(r,"IsTouch",function(){return s.IsTouch}),i.d(r,"_setIsTouch",function(){return s._setIsTouch}),i.d(r,"confirmAction",function(){return s.confirmAction}),i.d(r,"detectIEOrEdge",function(){return s.detectIEOrEdge}),i.d(r,"doKey2ClickUp",function(){return s.doKey2ClickUp}),i.d(r,"doKey2ClickDown",function(){return s.doKey2ClickDown}),i.d(r,"doKey2ClickBlur",function(){return s.doKey2ClickBlur}),i.d(r,"loadFileFromBase64",function(){return s.loadFileFromBase64}),i.d(r,"increaseHeightByContent",function(){return s.increaseHeightByContent}),i.d(r,"createSvg",function(){return s.createSvg}),i.d(r,"sanitizeEditableContent",function(){return s.sanitizeEditableContent}),i.d(r,"CssClassBuilder",function(){return s.CssClassBuilder}),i.d(r,"surveyCss",function(){return s.surveyCss}),i.d(r,"defaultV2Css",function(){return s.defaultV2Css}),i.d(r,"defaultV2ThemeName",function(){return s.defaultV2ThemeName}),i.d(r,"DragDropSurveyElements",function(){return s.DragDropSurveyElements}),i.d(r,"DragDropChoices",function(){return s.DragDropChoices}),i.d(r,"defaultStandardCss",function(){return s.defaultStandardCss}),i.d(r,"modernCss",function(){return s.modernCss}),i.d(r,"SvgIconRegistry",function(){return s.SvgIconRegistry}),i.d(r,"SvgRegistry",function(){return s.SvgRegistry}),i.d(r,"SvgBundleViewModel",function(){return s.SvgBundleViewModel}),i.d(r,"RendererFactory",function(){return s.RendererFactory}),i.d(r,"ResponsivityManager",function(){return s.ResponsivityManager}),i.d(r,"VerticalResponsivityManager",function(){return s.VerticalResponsivityManager}),i.d(r,"unwrap",function(){return s.unwrap}),i.d(r,"getOriginalEvent",function(){return s.getOriginalEvent}),i.d(r,"getElement",function(){return s.getElement}),i.d(r,"createDropdownActionModel",function(){return s.createDropdownActionModel}),i.d(r,"createDropdownActionModelAdvanced",function(){return s.createDropdownActionModelAdvanced}),i.d(r,"BaseAction",function(){return s.BaseAction}),i.d(r,"Action",function(){return s.Action}),i.d(r,"ActionDropdownViewModel",function(){return s.ActionDropdownViewModel}),i.d(r,"AdaptiveActionContainer",function(){return s.AdaptiveActionContainer}),i.d(r,"defaultActionBarCss",function(){return s.defaultActionBarCss}),i.d(r,"ActionContainer",function(){return s.ActionContainer}),i.d(r,"TooltipManager",function(){return s.TooltipManager}),i.d(r,"DragOrClickHelper",function(){return s.DragOrClickHelper});var m=i("./src/survey.ts");i.d(r,"Model",function(){return m.SurveyModel})},"./src/error.ts":function(n,r,i){i.r(r),i.d(r,"AnswerRequiredError",function(){return y}),i.d(r,"OneAnswerRequiredError",function(){return P}),i.d(r,"RequreNumericError",function(){return T}),i.d(r,"ExceedSizeError",function(){return x}),i.d(r,"WebRequestError",function(){return C}),i.d(r,"WebRequestEmptyError",function(){return E}),i.d(r,"OtherEmptyError",function(){return v}),i.d(r,"UploadingFileError",function(){return u}),i.d(r,"RequiredInAllRowsError",function(){return c}),i.d(r,"MinRowCountError",function(){return p}),i.d(r,"KeyDuplicationError",function(){return o}),i.d(r,"CustomError",function(){return a});var s=i("./src/surveyStrings.ts"),m=i("./src/survey-error.ts"),g=function(){var d=function(h,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,O){l.__proto__=O}||function(l,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(l[V]=O[V])},d(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(h,f);function l(){this.constructor=h}h.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),y=function(d){g(h,d);function h(f,l){f===void 0&&(f=null),l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"required"},h.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},h}(m.SurveyError),P=function(d){g(h,d);function h(f,l){f===void 0&&(f=null),l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"requireoneanswer"},h.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},h}(m.SurveyError),T=function(d){g(h,d);function h(f,l){f===void 0&&(f=null),l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"requirenumeric"},h.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},h}(m.SurveyError),x=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,null,l)||this;return O.maxSize=f,O.locText.text=O.getText(),O}return h.prototype.getErrorType=function(){return"exceedsize"},h.prototype.getDefaultText=function(){return s.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},h.prototype.getTextSize=function(){var f=["Bytes","KB","MB","GB","TB"],l=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var O=Math.floor(Math.log(this.maxSize)/Math.log(1024)),V=this.maxSize/Math.pow(1024,O);return V.toFixed(l[O])+" "+f[O]},h}(m.SurveyError),C=function(d){g(h,d);function h(f,l,O){O===void 0&&(O=null);var V=d.call(this,null,O)||this;return V.status=f,V.response=l,V}return h.prototype.getErrorType=function(){return"webrequest"},h.prototype.getDefaultText=function(){var f=this.getLocalizationString("urlRequestError");return f?f.format(this.status,this.response):""},h}(m.SurveyError),E=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"webrequestempty"},h.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},h}(m.SurveyError),v=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"otherempty"},h.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},h}(m.SurveyError),u=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"uploadingfile"},h.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},h}(m.SurveyError),c=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"requiredinallrowserror"},h.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},h}(m.SurveyError),p=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,null,l)||this;return O.minRowCount=f,O}return h.prototype.getErrorType=function(){return"minrowcounterror"},h.prototype.getDefaultText=function(){return s.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},h}(m.SurveyError),o=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"keyduplicationerror"},h.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},h}(m.SurveyError),a=function(d){g(h,d);function h(f,l){l===void 0&&(l=null);var O=d.call(this,f,l)||this;return O.text=f,O}return h.prototype.getErrorType=function(){return"custom"},h}(m.SurveyError)},"./src/expressionItems.ts":function(n,r,i){i.r(r),i.d(r,"ExpressionItem",function(){return P}),i.d(r,"HtmlConditionItem",function(){return T}),i.d(r,"UrlConditionItem",function(){return x});var s=i("./src/jsonobject.ts"),m=i("./src/base.ts"),g=i("./src/conditions.ts"),y=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),P=function(C){y(E,C);function E(v){v===void 0&&(v=null);var u=C.call(this)||this;return u.expression=v,u}return E.prototype.getType=function(){return"expressionitem"},E.prototype.runCondition=function(v,u){return this.expression?new g.ConditionRunner(this.expression).run(v,u):!1},Object.defineProperty(E.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(v){this.setPropertyValue("expression",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),E.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},E.prototype.getMarkdownHtml=function(v,u){return this.locOwner?this.locOwner.getMarkdownHtml(v,u):void 0},E.prototype.getRenderer=function(v){return this.locOwner?this.locOwner.getRenderer(v):null},E.prototype.getRendererContext=function(v){return this.locOwner?this.locOwner.getRendererContext(v):v},E.prototype.getProcessedText=function(v){return this.locOwner?this.locOwner.getProcessedText(v):v},E.prototype.getSurvey=function(v){return this.locOwner},E}(m.Base),T=function(C){y(E,C);function E(v,u){v===void 0&&(v=null),u===void 0&&(u=null);var c=C.call(this,v)||this;return c.createLocalizableString("html",c),c.html=u,c}return E.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(E.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(v){this.setLocalizableStringText("html",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),E}(P),x=function(C){y(E,C);function E(v,u){v===void 0&&(v=null),u===void 0&&(u=null);var c=C.call(this,v)||this;return c.createLocalizableString("url",c),c.url=u,c}return E.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(E.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(v){this.setLocalizableStringText("url",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),E}(P);s.Serializer.addClass("expressionitem",["expression:condition"],function(){return new P},"base"),s.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new T},"expressionitem"),s.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new x},"expressionitem")},"./src/expressions/expressionParser.ts":function(n,r,i){i.r(r),i.d(r,"SyntaxError",function(){return g}),i.d(r,"parse",function(){return P});var s=i("./src/expressions/expressions.ts"),m=function(){var T=function(x,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,v){E.__proto__=v}||function(E,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(E[u]=v[u])},T(x,C)};return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(x,C);function E(){this.constructor=x}x.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}}(),g=function(T){m(x,T);function x(C,E,v,u){var c=T.call(this)||this;return c.message=C,c.expected=E,c.found=v,c.location=u,c.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(c,x),c}return x.buildMessage=function(C,E){function v(d){return d.charCodeAt(0).toString(16).toUpperCase()}function u(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+v(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+v(h)})}function c(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+v(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+v(h)})}function p(d){switch(d.type){case"literal":return'"'+u(d.text)+'"';case"class":var h=d.parts.map(function(f){return Array.isArray(f)?c(f[0])+"-"+c(f[1]):c(f)});return"["+(d.inverted?"^":"")+h+"]";case"any":return"any character";case"end":return"end of input";case"other":return d.description}}function o(d){var h=d.map(p),f,l;if(h.sort(),h.length>0){for(f=1,l=1;f<h.length;f++)h[f-1]!==h[f]&&(h[l]=h[f],l++);h.length=l}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function a(d){return d?'"'+u(d)+'"':"end of input"}return"Expected "+o(C)+" but "+a(E)+" found."},x}(Error);function y(T,x){x=x!==void 0?x:{};var C={},E={Expression:ci},v=ci,u=function(B,F){return pv(B,F,!0)},c="||",p=he("||",!1),o="or",a=he("or",!0),d=function(){return"or"},h="&&",f=he("&&",!1),l="and",O=he("and",!0),V=function(){return"and"},A=function(B,F){return pv(B,F)},w="<=",S=he("<=",!1),R="lessorequal",I=he("lessorequal",!0),b=function(){return"lessorequal"},D=">=",M=he(">=",!1),L="greaterorequal",U=he("greaterorequal",!0),N=function(){return"greaterorequal"},W="==",z=he("==",!1),Q="equal",$=he("equal",!0),Y=function(){return"equal"},q="=",se=he("=",!1),Z="!=",Oe=he("!=",!1),ve="notequal",Ce=he("notequal",!0),me=function(){return"notequal"},ze="<",Xe=he("<",!1),Ie="less",tt=he("less",!0),Re=function(){return"less"},ke=">",En=he(">",!1),qe="greater",Vn=he("greater",!0),cn=function(){return"greater"},ct="+",ye=he("+",!1),Qe=function(){return"plus"},Gn="-",Wt=he("-",!1),zt=function(){return"minus"},ds="*",hs=he("*",!1),ps=function(){return"mul"},gs="/",ki=he("/",!1),Zi=function(){return"div"},mr="%",ms=he("%",!1),ys=function(){return"mod"},vs="^",_i=he("^",!1),Cs="power",Es=he("power",!0),Ps=function(){return"power"},ai="*=",bs=he("*=",!1),Os="contains",li=he("contains",!0),Ss="contain",Pn=he("contain",!0),Wf=function(){return"contains"},Ts="notcontains",zf=he("notcontains",!0),Hf="notcontain",eo=he("notcontain",!0),$f=function(){return"notcontains"},Sl="anyof",Kf=he("anyof",!0),qf=function(){return"anyof"},Yx="allof",Xx=he("allof",!0),kx=function(){return"allof"},Ty="(",xy=he("(",!1),Iy=")",Ry=he(")",!1),Zx=function(B){return B},_x=function(B,F){return new s.FunctionOperand(B,F)},eI="!",tI=he("!",!1),nI="negate",rI=he("negate",!0),iI=function(B){return new s.UnaryOperand(B,"negate")},oI=function(B,F){return new s.UnaryOperand(B,F)},sI="empty",aI=he("empty",!0),lI=function(){return"empty"},uI="notempty",cI=he("notempty",!0),fI=function(){return"notempty"},Dy="undefined",dI=he("undefined",!1),wy="null",hI=he("null",!1),pI=function(){return null},gI=function(B){return new s.Const(B)},mI="{",yI=he("{",!1),vI="}",CI=he("}",!1),EI=function(B){return new s.Variable(B)},Gf=function(B){return B},My="''",PI=he("''",!1),Vy=function(){return""},Ay='""',bI=he('""',!1),Ly="'",By=he("'",!1),jy=function(B){return"'"+B+"'"},Ny='"',Fy=he('"',!1),OI="[",SI=he("[",!1),TI="]",xI=he("]",!1),II=function(B){return B},Uy=",",Qy=he(",",!1),RI=function(B,F){if(B==null)return new s.ArrayOperand([]);var G=[B];if(Array.isArray(F))for(var H=g1(F),J=3;J<H.length;J+=4)G.push(H[J]);return new s.ArrayOperand(G)},DI="true",wI=he("true",!0),MI=function(){return!0},VI="false",AI=he("false",!0),LI=function(){return!1},Wy="0x",BI=he("0x",!1),jI=function(){return parseInt(Il(),16)},NI=/^[\-]/,FI=ui(["-"],!1,!1),UI=function(B,F){return B==null?F:-F},QI=".",WI=he(".",!1),zI=function(){return parseFloat(Il())},HI=function(){return parseInt(Il(),10)},$I="0",KI=he("0",!1),qI=function(){return 0},zy=function(B){return B.join("")},Hy="\\'",GI=he("\\'",!1),JI=function(){return"'"},$y='\\"',YI=he('\\"',!1),XI=function(){return'"'},kI=/^[^"']/,ZI=ui(['"',"'"],!0,!1),Jf=function(){return Il()},_I=/^[^{}]/,e1=ui(["{","}"],!0,!1),Ky=/^[0-9]/,qy=ui([["0","9"]],!1,!1),Gy=/^[1-9]/,Jy=ui([["1","9"]],!1,!1),Yy=/^[a-zA-Z_]/,Xy=ui([["a","z"],["A","Z"],"_"],!1,!1),t1=r1("whitespace"),ky=/^[ \t\n\r]/,Zy=ui([" ","	",`
`,"\r"],!1,!1),j=0,fe=0,Tl=[{line:1,column:1}],An=0,Yf=[],re=0,ae={},xl;if(x.startRule!==void 0){if(!(x.startRule in E))throw new Error(`Can't start parsing from rule "`+x.startRule+'".');v=E[x.startRule]}function Il(){return T.substring(fe,j)}function he(B,F){return{type:"literal",text:B,ignoreCase:F}}function ui(B,F,G){return{type:"class",parts:B,inverted:F,ignoreCase:G}}function n1(){return{type:"end"}}function r1(B){return{type:"other",description:B}}function _y(B){var F=Tl[B],G;if(F)return F;for(G=B-1;!Tl[G];)G--;for(F=Tl[G],F={line:F.line,column:F.column};G<B;)T.charCodeAt(G)===10?(F.line++,F.column=1):F.column++,G++;return Tl[B]=F,F}function ev(B,F){var G=_y(B),H=_y(F);return{start:{offset:B,line:G.line,column:G.column},end:{offset:F,line:H.line,column:H.column}}}function oe(B){j<An||(j>An&&(An=j,Yf=[]),Yf.push(B))}function i1(B,F,G){return new g(g.buildMessage(B,F),B,F,G)}function ci(){var B,F,G,H,J,_,ie,le,Le,Be=j*34+0,rd=ae[Be];if(rd)return j=rd.nextPos,rd.result;if(B=j,F=xe(),F!==C)if(G=Xf(),G!==C){for(H=[],J=j,_=xe(),_!==C?(ie=tv(),ie!==C?(le=xe(),le!==C?(Le=Xf(),Le!==C?(_=[_,ie,le,Le],J=_):(j=J,J=C)):(j=J,J=C)):(j=J,J=C)):(j=J,J=C);J!==C;)H.push(J),J=j,_=xe(),_!==C?(ie=tv(),ie!==C?(le=xe(),le!==C?(Le=Xf(),Le!==C?(_=[_,ie,le,Le],J=_):(j=J,J=C)):(j=J,J=C)):(j=J,J=C)):(j=J,J=C);H!==C?(J=xe(),J!==C?(fe=B,F=u(G,H),B=F):(j=B,B=C)):(j=B,B=C)}else j=B,B=C;else j=B,B=C;return ae[Be]={nextPos:j,result:B},B}function tv(){var B,F,G=j*34+1,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,2)===c?(F=c,j+=2):(F=C,re===0&&oe(p)),F===C&&(T.substr(j,2).toLowerCase()===o?(F=T.substr(j,2),j+=2):(F=C,re===0&&oe(a))),F!==C&&(fe=B,F=d()),B=F,ae[G]={nextPos:j,result:B},B)}function Xf(){var B,F,G,H,J,_,ie,le,Le=j*34+2,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=kf(),F!==C){for(G=[],H=j,J=xe(),J!==C?(_=nv(),_!==C?(ie=xe(),ie!==C?(le=kf(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(_=nv(),_!==C?(ie=xe(),ie!==C?(le=kf(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=u(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function nv(){var B,F,G=j*34+3,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,2)===h?(F=h,j+=2):(F=C,re===0&&oe(f)),F===C&&(T.substr(j,3).toLowerCase()===l?(F=T.substr(j,3),j+=3):(F=C,re===0&&oe(O))),F!==C&&(fe=B,F=V()),B=F,ae[G]={nextPos:j,result:B},B)}function kf(){var B,F,G,H,J,_,ie,le,Le=j*34+4,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=Zf(),F!==C){for(G=[],H=j,J=xe(),J!==C?(_=rv(),_!==C?(ie=xe(),ie!==C?(le=Zf(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(_=rv(),_!==C?(ie=xe(),ie!==C?(le=Zf(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=A(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function rv(){var B,F,G=j*34+5,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,2)===w?(F=w,j+=2):(F=C,re===0&&oe(S)),F===C&&(T.substr(j,11).toLowerCase()===R?(F=T.substr(j,11),j+=11):(F=C,re===0&&oe(I))),F!==C&&(fe=B,F=b()),B=F,B===C&&(B=j,T.substr(j,2)===D?(F=D,j+=2):(F=C,re===0&&oe(M)),F===C&&(T.substr(j,14).toLowerCase()===L?(F=T.substr(j,14),j+=14):(F=C,re===0&&oe(U))),F!==C&&(fe=B,F=N()),B=F,B===C&&(B=j,T.substr(j,2)===W?(F=W,j+=2):(F=C,re===0&&oe(z)),F===C&&(T.substr(j,5).toLowerCase()===Q?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe($))),F!==C&&(fe=B,F=Y()),B=F,B===C&&(B=j,T.charCodeAt(j)===61?(F=q,j++):(F=C,re===0&&oe(se)),F===C&&(T.substr(j,5).toLowerCase()===Q?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe($))),F!==C&&(fe=B,F=Y()),B=F,B===C&&(B=j,T.substr(j,2)===Z?(F=Z,j+=2):(F=C,re===0&&oe(Oe)),F===C&&(T.substr(j,8).toLowerCase()===ve?(F=T.substr(j,8),j+=8):(F=C,re===0&&oe(Ce))),F!==C&&(fe=B,F=me()),B=F,B===C&&(B=j,T.charCodeAt(j)===60?(F=ze,j++):(F=C,re===0&&oe(Xe)),F===C&&(T.substr(j,4).toLowerCase()===Ie?(F=T.substr(j,4),j+=4):(F=C,re===0&&oe(tt))),F!==C&&(fe=B,F=Re()),B=F,B===C&&(B=j,T.charCodeAt(j)===62?(F=ke,j++):(F=C,re===0&&oe(En)),F===C&&(T.substr(j,7).toLowerCase()===qe?(F=T.substr(j,7),j+=7):(F=C,re===0&&oe(Vn))),F!==C&&(fe=B,F=cn()),B=F)))))),ae[G]={nextPos:j,result:B},B)}function Zf(){var B,F,G,H,J,_,ie,le,Le=j*34+6,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=_f(),F!==C){for(G=[],H=j,J=xe(),J!==C?(_=iv(),_!==C?(ie=xe(),ie!==C?(le=_f(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(_=iv(),_!==C?(ie=xe(),ie!==C?(le=_f(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=u(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function iv(){var B,F,G=j*34+7,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.charCodeAt(j)===43?(F=ct,j++):(F=C,re===0&&oe(ye)),F!==C&&(fe=B,F=Qe()),B=F,B===C&&(B=j,T.charCodeAt(j)===45?(F=Gn,j++):(F=C,re===0&&oe(Wt)),F!==C&&(fe=B,F=zt()),B=F),ae[G]={nextPos:j,result:B},B)}function _f(){var B,F,G,H,J,_,ie,le,Le=j*34+8,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=ed(),F!==C){for(G=[],H=j,J=xe(),J!==C?(_=ov(),_!==C?(ie=xe(),ie!==C?(le=ed(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(_=ov(),_!==C?(ie=xe(),ie!==C?(le=ed(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=u(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function ov(){var B,F,G=j*34+9,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.charCodeAt(j)===42?(F=ds,j++):(F=C,re===0&&oe(hs)),F!==C&&(fe=B,F=ps()),B=F,B===C&&(B=j,T.charCodeAt(j)===47?(F=gs,j++):(F=C,re===0&&oe(ki)),F!==C&&(fe=B,F=Zi()),B=F,B===C&&(B=j,T.charCodeAt(j)===37?(F=mr,j++):(F=C,re===0&&oe(ms)),F!==C&&(fe=B,F=ys()),B=F)),ae[G]={nextPos:j,result:B},B)}function ed(){var B,F,G,H,J,_,ie,le,Le=j*34+10,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=td(),F!==C){for(G=[],H=j,J=xe(),J!==C?(_=sv(),_!==C?(ie=xe(),ie!==C?(le=td(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(_=sv(),_!==C?(ie=xe(),ie!==C?(le=td(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=u(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function sv(){var B,F,G=j*34+11,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.charCodeAt(j)===94?(F=vs,j++):(F=C,re===0&&oe(_i)),F===C&&(T.substr(j,5).toLowerCase()===Cs?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe(Es))),F!==C&&(fe=B,F=Ps()),B=F,ae[G]={nextPos:j,result:B},B)}function td(){var B,F,G,H,J,_,ie,le,Le=j*34+12,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=nd(),F!==C){for(G=[],H=j,J=xe(),J!==C?(_=av(),_!==C?(ie=xe(),ie!==C?(le=nd(),le===C&&(le=null),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(_=av(),_!==C?(ie=xe(),ie!==C?(le=nd(),le===C&&(le=null),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=A(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function av(){var B,F,G=j*34+13,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,2)===ai?(F=ai,j+=2):(F=C,re===0&&oe(bs)),F===C&&(T.substr(j,8).toLowerCase()===Os?(F=T.substr(j,8),j+=8):(F=C,re===0&&oe(li)),F===C&&(T.substr(j,7).toLowerCase()===Ss?(F=T.substr(j,7),j+=7):(F=C,re===0&&oe(Pn)))),F!==C&&(fe=B,F=Wf()),B=F,B===C&&(B=j,T.substr(j,11).toLowerCase()===Ts?(F=T.substr(j,11),j+=11):(F=C,re===0&&oe(zf)),F===C&&(T.substr(j,10).toLowerCase()===Hf?(F=T.substr(j,10),j+=10):(F=C,re===0&&oe(eo))),F!==C&&(fe=B,F=$f()),B=F,B===C&&(B=j,T.substr(j,5).toLowerCase()===Sl?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe(Kf)),F!==C&&(fe=B,F=qf()),B=F,B===C&&(B=j,T.substr(j,5).toLowerCase()===Yx?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe(Xx)),F!==C&&(fe=B,F=kx()),B=F))),ae[G]={nextPos:j,result:B},B)}function nd(){var B,F,G,H,J,_,ie=j*34+14,le=ae[ie];return le?(j=le.nextPos,le.result):(B=j,T.charCodeAt(j)===40?(F=Ty,j++):(F=C,re===0&&oe(xy)),F!==C?(G=xe(),G!==C?(H=ci(),H!==C?(J=xe(),J!==C?(T.charCodeAt(j)===41?(_=Iy,j++):(_=C,re===0&&oe(Ry)),_===C&&(_=null),_!==C?(fe=B,F=Zx(H),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C)):(j=B,B=C)):(j=B,B=C),B===C&&(B=o1(),B===C&&(B=s1(),B===C&&(B=lv(),B===C&&(B=u1())))),ae[ie]={nextPos:j,result:B},B)}function o1(){var B,F,G,H,J,_=j*34+15,ie=ae[_];return ie?(j=ie.nextPos,ie.result):(B=j,F=hv(),F!==C?(T.charCodeAt(j)===40?(G=Ty,j++):(G=C,re===0&&oe(xy)),G!==C?(H=uv(),H!==C?(T.charCodeAt(j)===41?(J=Iy,j++):(J=C,re===0&&oe(Ry)),J===C&&(J=null),J!==C?(fe=B,F=_x(F,H),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C)):(j=B,B=C),ae[_]={nextPos:j,result:B},B)}function s1(){var B,F,G,H,J=j*34+16,_=ae[J];return _?(j=_.nextPos,_.result):(B=j,T.charCodeAt(j)===33?(F=eI,j++):(F=C,re===0&&oe(tI)),F===C&&(T.substr(j,6).toLowerCase()===nI?(F=T.substr(j,6),j+=6):(F=C,re===0&&oe(rI))),F!==C?(G=xe(),G!==C?(H=ci(),H!==C?(fe=B,F=iI(H),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,F=lv(),F!==C?(G=xe(),G!==C?(H=a1(),H!==C?(fe=B,F=oI(F,H),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C)),ae[J]={nextPos:j,result:B},B)}function a1(){var B,F,G=j*34+17,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,5).toLowerCase()===sI?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe(aI)),F!==C&&(fe=B,F=lI()),B=F,B===C&&(B=j,T.substr(j,8).toLowerCase()===uI?(F=T.substr(j,8),j+=8):(F=C,re===0&&oe(cI)),F!==C&&(fe=B,F=fI()),B=F),ae[G]={nextPos:j,result:B},B)}function lv(){var B,F,G,H,J,_=j*34+18,ie=ae[_];return ie?(j=ie.nextPos,ie.result):(B=j,F=xe(),F!==C?(T.substr(j,9)===Dy?(G=Dy,j+=9):(G=C,re===0&&oe(dI)),G===C&&(T.substr(j,4)===wy?(G=wy,j+=4):(G=C,re===0&&oe(hI))),G!==C?(fe=B,F=pI(),B=F):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,F=xe(),F!==C?(G=l1(),G!==C?(fe=B,F=gI(G),B=F):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,F=xe(),F!==C?(T.charCodeAt(j)===123?(G=mI,j++):(G=C,re===0&&oe(yI)),G!==C?(H=h1(),H!==C?(T.charCodeAt(j)===125?(J=vI,j++):(J=C,re===0&&oe(CI)),J!==C?(fe=B,F=EI(H),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C)):(j=B,B=C))),ae[_]={nextPos:j,result:B},B)}function l1(){var B,F,G,H,J=j*34+19,_=ae[J];return _?(j=_.nextPos,_.result):(B=j,F=c1(),F!==C&&(fe=B,F=Gf(F)),B=F,B===C&&(B=j,F=f1(),F!==C&&(fe=B,F=Gf(F)),B=F,B===C&&(B=j,F=hv(),F!==C&&(fe=B,F=Gf(F)),B=F,B===C&&(B=j,T.substr(j,2)===My?(F=My,j+=2):(F=C,re===0&&oe(PI)),F!==C&&(fe=B,F=Vy()),B=F,B===C&&(B=j,T.substr(j,2)===Ay?(F=Ay,j+=2):(F=C,re===0&&oe(bI)),F!==C&&(fe=B,F=Vy()),B=F,B===C&&(B=j,T.charCodeAt(j)===39?(F=Ly,j++):(F=C,re===0&&oe(By)),F!==C?(G=cv(),G!==C?(T.charCodeAt(j)===39?(H=Ly,j++):(H=C,re===0&&oe(By)),H!==C?(fe=B,F=jy(G),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,T.charCodeAt(j)===34?(F=Ny,j++):(F=C,re===0&&oe(Fy)),F!==C?(G=cv(),G!==C?(T.charCodeAt(j)===34?(H=Ny,j++):(H=C,re===0&&oe(Fy)),H!==C?(fe=B,F=jy(G),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C))))))),ae[J]={nextPos:j,result:B},B)}function u1(){var B,F,G,H,J=j*34+20,_=ae[J];return _?(j=_.nextPos,_.result):(B=j,T.charCodeAt(j)===91?(F=OI,j++):(F=C,re===0&&oe(SI)),F!==C?(G=uv(),G!==C?(T.charCodeAt(j)===93?(H=TI,j++):(H=C,re===0&&oe(xI)),H!==C?(fe=B,F=II(G),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C),ae[J]={nextPos:j,result:B},B)}function uv(){var B,F,G,H,J,_,ie,le,Le=j*34+21,Be=ae[Le];if(Be)return j=Be.nextPos,Be.result;if(B=j,F=ci(),F===C&&(F=null),F!==C){for(G=[],H=j,J=xe(),J!==C?(T.charCodeAt(j)===44?(_=Uy,j++):(_=C,re===0&&oe(Qy)),_!==C?(ie=xe(),ie!==C?(le=ci(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);H!==C;)G.push(H),H=j,J=xe(),J!==C?(T.charCodeAt(j)===44?(_=Uy,j++):(_=C,re===0&&oe(Qy)),_!==C?(ie=xe(),ie!==C?(le=ci(),le!==C?(J=[J,_,ie,le],H=J):(j=H,H=C)):(j=H,H=C)):(j=H,H=C)):(j=H,H=C);G!==C?(fe=B,F=RI(F,G),B=F):(j=B,B=C)}else j=B,B=C;return ae[Le]={nextPos:j,result:B},B}function c1(){var B,F,G=j*34+22,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,4).toLowerCase()===DI?(F=T.substr(j,4),j+=4):(F=C,re===0&&oe(wI)),F!==C&&(fe=B,F=MI()),B=F,B===C&&(B=j,T.substr(j,5).toLowerCase()===VI?(F=T.substr(j,5),j+=5):(F=C,re===0&&oe(AI)),F!==C&&(fe=B,F=LI()),B=F),ae[G]={nextPos:j,result:B},B)}function f1(){var B,F,G,H=j*34+23,J=ae[H];return J?(j=J.nextPos,J.result):(B=j,T.substr(j,2)===Wy?(F=Wy,j+=2):(F=C,re===0&&oe(BI)),F!==C?(G=to(),G!==C?(fe=B,F=jI(),B=F):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,NI.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(FI)),F===C&&(F=null),F!==C?(G=d1(),G!==C?(fe=B,F=UI(F,G),B=F):(j=B,B=C)):(j=B,B=C)),ae[H]={nextPos:j,result:B},B)}function d1(){var B,F,G,H,J=j*34+24,_=ae[J];return _?(j=_.nextPos,_.result):(B=j,F=to(),F!==C?(T.charCodeAt(j)===46?(G=QI,j++):(G=C,re===0&&oe(WI)),G!==C?(H=to(),H!==C?(fe=B,F=zI(),B=F):(j=B,B=C)):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,F=p1(),F!==C?(G=to(),G===C&&(G=null),G!==C?(fe=B,F=HI(),B=F):(j=B,B=C)):(j=B,B=C),B===C&&(B=j,T.charCodeAt(j)===48?(F=$I,j++):(F=C,re===0&&oe(KI)),F!==C&&(fe=B,F=qI()),B=F)),ae[J]={nextPos:j,result:B},B)}function h1(){var B,F,G,H=j*34+25,J=ae[H];if(J)return j=J.nextPos,J.result;if(B=j,F=[],G=dv(),G!==C)for(;G!==C;)F.push(G),G=dv();else F=C;return F!==C&&(fe=B,F=zy(F)),B=F,ae[H]={nextPos:j,result:B},B}function cv(){var B,F,G,H=j*34+26,J=ae[H];if(J)return j=J.nextPos,J.result;if(B=j,F=[],G=fv(),G!==C)for(;G!==C;)F.push(G),G=fv();else F=C;return F!==C&&(fe=B,F=zy(F)),B=F,ae[H]={nextPos:j,result:B},B}function fv(){var B,F,G=j*34+27,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,T.substr(j,2)===Hy?(F=Hy,j+=2):(F=C,re===0&&oe(GI)),F!==C&&(fe=B,F=JI()),B=F,B===C&&(B=j,T.substr(j,2)===$y?(F=$y,j+=2):(F=C,re===0&&oe(YI)),F!==C&&(fe=B,F=XI()),B=F,B===C&&(B=j,kI.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(ZI)),F!==C&&(fe=B,F=Jf()),B=F)),ae[G]={nextPos:j,result:B},B)}function dv(){var B,F,G=j*34+28,H=ae[G];return H?(j=H.nextPos,H.result):(B=j,_I.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(e1)),F!==C&&(fe=B,F=Jf()),B=F,ae[G]={nextPos:j,result:B},B)}function hv(){var B,F,G,H,J,_,ie,le=j*34+29,Le=ae[le];if(Le)return j=Le.nextPos,Le.result;if(B=j,F=xs(),F!==C){if(G=[],H=j,J=to(),J!==C){for(_=[],ie=xs();ie!==C;)_.push(ie),ie=xs();_!==C?(J=[J,_],H=J):(j=H,H=C)}else j=H,H=C;for(;H!==C;)if(G.push(H),H=j,J=to(),J!==C){for(_=[],ie=xs();ie!==C;)_.push(ie),ie=xs();_!==C?(J=[J,_],H=J):(j=H,H=C)}else j=H,H=C;G!==C?(fe=B,F=Jf(),B=F):(j=B,B=C)}else j=B,B=C;return ae[le]={nextPos:j,result:B},B}function to(){var B,F,G=j*34+30,H=ae[G];if(H)return j=H.nextPos,H.result;if(B=[],Ky.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(qy)),F!==C)for(;F!==C;)B.push(F),Ky.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(qy));else B=C;return ae[G]={nextPos:j,result:B},B}function p1(){var B,F,G=j*34+31,H=ae[G];if(H)return j=H.nextPos,H.result;if(B=[],Gy.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(Jy)),F!==C)for(;F!==C;)B.push(F),Gy.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(Jy));else B=C;return ae[G]={nextPos:j,result:B},B}function xs(){var B,F,G=j*34+32,H=ae[G];if(H)return j=H.nextPos,H.result;if(B=[],Yy.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(Xy)),F!==C)for(;F!==C;)B.push(F),Yy.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(Xy));else B=C;return ae[G]={nextPos:j,result:B},B}function xe(){var B,F,G=j*34+33,H=ae[G];if(H)return j=H.nextPos,H.result;for(re++,B=[],ky.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(Zy));F!==C;)B.push(F),ky.test(T.charAt(j))?(F=T.charAt(j),j++):(F=C,re===0&&oe(Zy));return re--,B===C&&(F=C,re===0&&oe(t1)),ae[G]={nextPos:j,result:B},B}function pv(B,F,G){return G===void 0&&(G=!1),F.reduce(function(H,J){return new s.BinaryOperand(J[1],H,J[3],G)},B)}function g1(B){return[].concat.apply([],B)}if(xl=v(),xl!==C&&j===T.length)return xl;throw xl!==C&&j<T.length&&oe(n1()),i1(Yf,An<T.length?T.charAt(An):null,An<T.length?ev(An,An+1):ev(An,An))}var P=y},"./src/expressions/expressions.ts":function(n,r,i){i.r(r),i.d(r,"Operand",function(){return T}),i.d(r,"BinaryOperand",function(){return x}),i.d(r,"UnaryOperand",function(){return C}),i.d(r,"ArrayOperand",function(){return E}),i.d(r,"Const",function(){return v}),i.d(r,"Variable",function(){return u}),i.d(r,"FunctionOperand",function(){return c}),i.d(r,"OperandMaker",function(){return p});var s=i("./src/helpers.ts"),m=i("./src/functionsfactory.ts"),g=i("./src/conditionProcessValue.ts"),y=i("./src/settings.ts"),P=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),T=function(){function o(){}return o.prototype.toString=function(a){return""},o.prototype.hasFunction=function(){return!1},o.prototype.hasAsyncFunction=function(){return!1},o.prototype.addToAsyncList=function(a){},o.prototype.isEqual=function(a){return!!a&&a.getType()===this.getType()&&this.isContentEqual(a)},o.prototype.areOperatorsEquals=function(a,d){return!a&&!d||!!a&&a.isEqual(d)},o}(),x=function(o){P(a,o);function a(d,h,f,l){h===void 0&&(h=null),f===void 0&&(f=null),l===void 0&&(l=!1);var O=o.call(this)||this;return O.operatorName=d,O.left=h,O.right=f,O.isArithmeticValue=l,l?O.consumer=p.binaryFunctions.arithmeticOp(d):O.consumer=p.binaryFunctions[d],O.consumer==null&&p.throwInvalidOperatorError(d),O}return a.prototype.getType=function(){return"binary"},Object.defineProperty(a.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isConjunction",{get:function(){return this.operatorName=="or"||this.operatorName=="and"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),a.prototype.isContentEqual=function(d){var h=d;return h.operator===this.operator&&this.areOperatorsEquals(this.left,h.left)&&this.areOperatorsEquals(this.right,h.right)},a.prototype.evaluateParam=function(d,h){return d==null?null:d.evaluate(h)},a.prototype.evaluate=function(d){return this.consumer.call(this,this.evaluateParam(this.left,d),this.evaluateParam(this.right,d))},a.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return"("+p.safeToString(this.left,d)+" "+p.operatorToString(this.operatorName)+" "+p.safeToString(this.right,d)+")"},a.prototype.setVariables=function(d){this.left!=null&&this.left.setVariables(d),this.right!=null&&this.right.setVariables(d)},a.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},a.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},a.prototype.addToAsyncList=function(d){this.left&&this.left.addToAsyncList(d),this.right&&this.right.addToAsyncList(d)},a}(T),C=function(o){P(a,o);function a(d,h){var f=o.call(this)||this;return f.expressionValue=d,f.operatorName=h,f.consumer=p.unaryFunctions[h],f.consumer==null&&p.throwInvalidOperatorError(h),f}return Object.defineProperty(a.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),a.prototype.getType=function(){return"unary"},a.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return p.operatorToString(this.operatorName)+" "+this.expression.toString(d)},a.prototype.isContentEqual=function(d){var h=d;return h.operator==this.operator&&this.areOperatorsEquals(this.expression,h.expression)},a.prototype.evaluate=function(d){var h=this.expression.evaluate(d);return this.consumer.call(this,h)},a.prototype.setVariables=function(d){this.expression.setVariables(d)},a}(T),E=function(o){P(a,o);function a(d){var h=o.call(this)||this;return h.values=d,h}return a.prototype.getType=function(){return"array"},a.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return"["+this.values.map(function(f){return f.toString(d)}).join(", ")+"]"},a.prototype.evaluate=function(d){return this.values.map(function(h){return h.evaluate(d)})},a.prototype.setVariables=function(d){this.values.forEach(function(h){h.setVariables(d)})},a.prototype.hasFunction=function(){return this.values.some(function(d){return d.hasFunction()})},a.prototype.hasAsyncFunction=function(){return this.values.some(function(d){return d.hasAsyncFunction()})},a.prototype.addToAsyncList=function(d){this.values.forEach(function(h){return h.addToAsyncList(d)})},a.prototype.isContentEqual=function(d){var h=d;if(h.values.length!==this.values.length)return!1;for(var f=0;f<this.values.length;f++)if(!h.values[f].isEqual(this.values[f]))return!1;return!0},a}(T),v=function(o){P(a,o);function a(d){var h=o.call(this)||this;return h.value=d,h}return a.prototype.getType=function(){return"const"},a.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return this.value.toString()},Object.defineProperty(a.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),a.prototype.evaluate=function(){return this.getCorrectValue(this.value)},a.prototype.setVariables=function(d){},a.prototype.getCorrectValue=function(d){return!d||typeof d!="string"?d:this.isBooleanValue(d)?d.toLowerCase()==="true":d.length>1&&this.isQuote(d[0])&&this.isQuote(d[d.length-1])?d.substring(1,d.length-1):p.isNumeric(d)?d.indexOf("0x")==0?parseInt(d):d.length>1&&d[0]=="0"?d:parseFloat(d):d},a.prototype.isContentEqual=function(d){var h=d;return h.value==this.value},a.prototype.isQuote=function(d){return d=="'"||d=='"'},a.prototype.isBooleanValue=function(d){return d&&(d.toLowerCase()==="true"||d.toLowerCase()==="false")},a}(T),u=function(o){P(a,o);function a(d){var h=o.call(this,d)||this;return h.variableName=d,h.valueInfo={},h.useValueAsItIs=!1,h.variableName&&h.variableName.length>1&&h.variableName[0]===a.DisableConversionChar&&(h.variableName=h.variableName.substring(1),h.useValueAsItIs=!0),h}return Object.defineProperty(a,"DisableConversionChar",{get:function(){return y.settings.expressionDisableConversionChar},set:function(d){y.settings.expressionDisableConversionChar=d},enumerable:!1,configurable:!0}),a.prototype.getType=function(){return"variable"},a.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}var f=this.useValueAsItIs?a.DisableConversionChar:"";return"{"+f+this.variableName+"}"},Object.defineProperty(a.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),a.prototype.evaluate=function(d){return this.valueInfo.name=this.variableName,d.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},a.prototype.setVariables=function(d){d.push(this.variableName)},a.prototype.getCorrectValue=function(d){return this.useValueAsItIs?d:o.prototype.getCorrectValue.call(this,d)},a.prototype.isContentEqual=function(d){var h=d;return h.variable==this.variable},a}(v),c=function(o){P(a,o);function a(d,h){var f=o.call(this)||this;return f.originalValue=d,f.parameters=h,f.isReadyValue=!1,Array.isArray(h)&&h.length===0&&(f.parameters=new E([])),f}return a.prototype.getType=function(){return"function"},a.prototype.evaluateAsync=function(d){var h=this;this.isReadyValue=!1;var f=new g.ProcessValue;f.values=s.Helpers.createCopy(d.values),f.properties=s.Helpers.createCopy(d.properties),f.properties.returnResult=function(l){h.asynResult=l,h.isReadyValue=!0,h.onAsyncReady()},this.evaluateCore(f)},a.prototype.evaluate=function(d){return this.isReady?this.asynResult:this.evaluateCore(d)},a.prototype.evaluateCore=function(d){return m.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(d),d.properties)},a.prototype.toString=function(d){if(d===void 0&&(d=void 0),d){var h=d(this);if(h)return h}return this.originalValue+"("+this.parameters.toString(d)+")"},a.prototype.setVariables=function(d){this.parameters.setVariables(d)},Object.defineProperty(a.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),a.prototype.hasFunction=function(){return!0},a.prototype.hasAsyncFunction=function(){return m.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},a.prototype.addToAsyncList=function(d){this.hasAsyncFunction()&&d.push(this)},a.prototype.isContentEqual=function(d){var h=d;return h.originalValue==this.originalValue&&this.areOperatorsEquals(h.parameters,this.parameters)},a}(T),p=function(){function o(){}return o.throwInvalidOperatorError=function(a){throw new Error("Invalid operator: '"+a+"'")},o.safeToString=function(a,d){return a==null?"":a.toString(d)},o.toOperandString=function(a){return a&&!o.isNumeric(a)&&!o.isBooleanValue(a)&&(a="'"+a+"'"),a},o.isSpaceString=function(a){return!!a&&!a.replace(" ","")},o.isNumeric=function(a){return a&&(a.indexOf("-")>-1||a.indexOf("+")>1||a.indexOf("*")>-1||a.indexOf("^")>-1||a.indexOf("/")>-1||a.indexOf("%")>-1)||o.isSpaceString(a)?!1:s.Helpers.isNumber(a)},o.isBooleanValue=function(a){return!!a&&(a.toLowerCase()==="true"||a.toLowerCase()==="false")},o.countDecimals=function(a){if(s.Helpers.isNumber(a)&&Math.floor(a)!==a){var d=a.toString().split(".");return d.length>1&&d[1].length||0}return 0},o.plusMinus=function(a,d,h){var f=o.countDecimals(a),l=o.countDecimals(d);if(f>0||l>0){var O=Math.max(f,l);h=parseFloat(h.toFixed(O))}return h},o.isTwoValueEquals=function(a,d){return a==="undefined"&&(a=void 0),d==="undefined"&&(d=void 0),s.Helpers.isTwoValueEquals(a,d,!0)},o.operatorToString=function(a){var d=o.signs[a];return d??a},o.unaryFunctions={empty:function(a){return s.Helpers.isValueEmpty(a)},notempty:function(a){return!o.unaryFunctions.empty(a)},negate:function(a){return!a}},o.binaryFunctions={arithmeticOp:function(a){var d=function(h,f){return s.Helpers.isValueEmpty(h)?typeof f=="number"?0:typeof h=="string"?h:typeof f=="string"?"":Array.isArray(f)?[]:0:h};return function(h,f){h=d(h,f),f=d(f,h);var l=o.binaryFunctions[a];return l==null?null:l.call(this,h,f)}},and:function(a,d){return a&&d},or:function(a,d){return a||d},plus:function(a,d){return s.Helpers.sumAnyValues(a,d)},minus:function(a,d){return s.Helpers.correctAfterPlusMinis(a,d,a-d)},mul:function(a,d){return s.Helpers.correctAfterMultiple(a,d,a*d)},div:function(a,d){return d?a/d:null},mod:function(a,d){return d?a%d:null},power:function(a,d){return Math.pow(a,d)},greater:function(a,d){return a==null||d==null?!1:a>d},less:function(a,d){return a==null||d==null?!1:a<d},greaterorequal:function(a,d){return o.binaryFunctions.equal(a,d)?!0:o.binaryFunctions.greater(a,d)},lessorequal:function(a,d){return o.binaryFunctions.equal(a,d)?!0:o.binaryFunctions.less(a,d)},equal:function(a,d){return o.isTwoValueEquals(a,d)},notequal:function(a,d){return!o.binaryFunctions.equal(a,d)},contains:function(a,d){return o.binaryFunctions.containsCore(a,d,!0)},notcontains:function(a,d){return!a&&!s.Helpers.isValueEmpty(d)?!0:o.binaryFunctions.containsCore(a,d,!1)},anyof:function(a,d){if(s.Helpers.isValueEmpty(a)&&s.Helpers.isValueEmpty(d))return!0;if(s.Helpers.isValueEmpty(a)||!Array.isArray(a)&&a.length===0)return!1;if(s.Helpers.isValueEmpty(d))return!0;if(!Array.isArray(a))return o.binaryFunctions.contains(d,a);if(!Array.isArray(d))return o.binaryFunctions.contains(a,d);for(var h=0;h<d.length;h++)if(o.binaryFunctions.contains(a,d[h]))return!0;return!1},allof:function(a,d){if(!a&&!s.Helpers.isValueEmpty(d))return!1;if(!Array.isArray(d))return o.binaryFunctions.contains(a,d);for(var h=0;h<d.length;h++)if(!o.binaryFunctions.contains(a,d[h]))return!1;return!0},containsCore:function(a,d,h){if(!a&&a!==0&&a!==!1)return!1;if(a.length||(a=a.toString(),(typeof d=="string"||d instanceof String)&&(a=a.toUpperCase(),d=d.toUpperCase())),typeof a=="string"||a instanceof String){if(!d)return!1;d=d.toString();var f=a.indexOf(d)>-1;return h?f:!f}for(var l=Array.isArray(d)?d:[d],O=0;O<l.length;O++){var V=0;for(d=l[O];V<a.length&&!o.isTwoValueEquals(a[V],d);V++);if(V==a.length)return!h}return h}},o.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},o}()},"./src/flowpanel.ts":function(n,r,i){i.r(r),i.d(r,"FlowPanelModel",function(){return y});var s=i("./src/jsonobject.ts"),m=i("./src/panel.ts"),g=function(){var P=function(T,x){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(C[v]=E[v])},P(T,x)};return function(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");P(T,x);function C(){this.constructor=T}T.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}}(),y=function(P){g(T,P);function T(x){x===void 0&&(x="");var C=P.call(this,x)||this;return C.createLocalizableString("content",C,!0),C.registerPropertyChangedHandlers(["content"],function(){C.onContentChanged()}),C}return T.prototype.getType=function(){return"flowpanel"},T.prototype.getChildrenLayoutType=function(){return"flow"},T.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(T.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(x){this.setLocalizableStringText("content",x)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(x){this.setPropertyValue("html",x)},enumerable:!1,configurable:!0}),T.prototype.onContentChanged=function(){var x="";this.onCustomHtmlProducing?x=this.onCustomHtmlProducing():x=this.produceHtml(),this.html=x,this.contentChangedCallback&&this.contentChangedCallback()},T.prototype.produceHtml=function(){for(var x=[],C=/{(.*?(element:)[^$].*?)}/g,E=this.content,v=0,u=null;(u=C.exec(E))!==null;){u.index>v&&(x.push(E.substring(v,u.index)),v=u.index);var c=this.getQuestionFromText(u[0]);c?x.push(this.getHtmlForQuestion(c)):x.push(E.substring(v,u.index+u[0].length)),v=u.index+u[0].length}return v<E.length&&x.push(E.substring(v,E.length)),x.join("").replace(new RegExp("<br>","g"),"<br/>")},T.prototype.getQuestionFromText=function(x){return x=x.substring(1,x.length-1),x=x.replace(T.contentElementNamePrefix,"").trim(),this.getQuestionByName(x)},T.prototype.getHtmlForQuestion=function(x){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(x):""},T.prototype.getQuestionHtmlId=function(x){return this.name+"_"+x.id},T.prototype.onAddElement=function(x,C){P.prototype.onAddElement.call(this,x,C),this.addElementToContent(x),x.renderWidth=""},T.prototype.onRemoveElement=function(x){var C=this.getElementContentText(x);this.content=this.content.replace(C,""),P.prototype.onRemoveElement.call(this,x)},T.prototype.dragDropMoveElement=function(x,C,E){},T.prototype.addElementToContent=function(x){if(!this.isLoadingFromJson){var C=this.getElementContentText(x);this.insertTextAtCursor(C)||(this.content=this.content+C)}},T.prototype.insertTextAtCursor=function(x,C){if(C===void 0&&(C=null),!this.isDesignMode||typeof document>"u"||!window.getSelection)return!1;var E=window.getSelection();if(E.getRangeAt&&E.rangeCount){var v=E.getRangeAt(0);v.deleteContents(),v.insertNode(document.createTextNode(x));var u=this;if(u.getContent){var c=u.getContent(C);this.content=c}return!0}return!1},T.prototype.getElementContentText=function(x){return"{"+T.contentElementNamePrefix+x.name+"}"},T.contentElementNamePrefix="element:",T}(m.PanelModel);s.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new y},"panel")},"./src/functionsfactory.ts":function(n,r,i){i.r(r),i.d(r,"FunctionFactory",function(){return g}),i.d(r,"registerFunction",function(){return y});var s=i("./src/helpers.ts"),m=i("./src/settings.ts"),g=function(){function N(){this.functionHash={},this.isAsyncHash={}}return N.prototype.register=function(W,z,Q){Q===void 0&&(Q=!1),this.functionHash[W]=z,Q&&(this.isAsyncHash[W]=!0)},N.prototype.unregister=function(W){delete this.functionHash[W],delete this.isAsyncHash[W]},N.prototype.hasFunction=function(W){return!!this.functionHash[W]},N.prototype.isAsyncFunction=function(W){return!!this.isAsyncHash[W]},N.prototype.clear=function(){this.functionHash={}},N.prototype.getAll=function(){var W=[];for(var z in this.functionHash)W.push(z);return W.sort()},N.prototype.run=function(W,z,Q){Q===void 0&&(Q=null);var $=this.functionHash[W];if(!$)return null;var Y={func:$};if(Q)for(var q in Q)Y[q]=Q[q];return Y.func(z)},N.Instance=new N,N}(),y=g.Instance.register;function P(N,W){if(N!=null)if(Array.isArray(N))for(var z=0;z<N.length;z++)P(N[z],W);else s.Helpers.isNumber(N)&&(N=s.Helpers.getNumber(N)),W.push(N)}function T(N){var W=[];P(N,W);for(var z=0,Q=0;Q<W.length;Q++)z=s.Helpers.correctAfterPlusMinis(z,W[Q],z+W[Q]);return z}g.Instance.register("sum",T);function x(N,W){var z=[];P(N,z);for(var Q=void 0,$=0;$<z.length;$++)Q===void 0&&(Q=z[$]),W?Q>z[$]&&(Q=z[$]):Q<z[$]&&(Q=z[$]);return Q}function C(N){return x(N,!0)}g.Instance.register("min",C);function E(N){return x(N,!1)}g.Instance.register("max",E);function v(N){var W=[];return P(N,W),W.length}g.Instance.register("count",v);function u(N){var W=[];P(N,W);var z=T(N);return W.length>0?z/W.length:0}g.Instance.register("avg",u);function c(N){if(N.length!=2)return null;var W=N[0];if(!W||!Array.isArray(W)&&!Array.isArray(Object.keys(W)))return null;var z=N[1];return typeof z!="string"&&!(z instanceof String)?null:{data:W,name:z}}function p(N){return typeof N=="string"?s.Helpers.isNumber(N)?s.Helpers.getNumber(N):void 0:N}function o(N,W,z,Q,$){if(!N||s.Helpers.isValueEmpty(N[W]))return z;var Y=$?p(N[W]):1;return Q(z,Y)}function a(N,W,z){z===void 0&&(z=!0);var Q=c(N);if(Q){var $=void 0;if(Array.isArray(Q.data))for(var Y=0;Y<Q.data.length;Y++)$=o(Q.data[Y],Q.name,$,W,z);else for(var q in Q.data)$=o(Q.data[q],Q.name,$,W,z);return $}}function d(N){var W=a(N,function(z,Q){return z==null&&(z=0),Q==null||Q==null?z:s.Helpers.correctAfterPlusMinis(z,Q,z+Q)});return W!==void 0?W:0}g.Instance.register("sumInArray",d);function h(N){return a(N,function(W,z){return W==null?z:z==null||z==null||W<z?W:z})}g.Instance.register("minInArray",h);function f(N){return a(N,function(W,z){return W==null?z:z==null||z==null||W>z?W:z})}g.Instance.register("maxInArray",f);function l(N){var W=a(N,function(z,Q){return z==null&&(z=0),Q==null||Q==null?z:z+1},!1);return W!==void 0?W:0}g.Instance.register("countInArray",l);function O(N){var W=l(N);return W==0?0:d(N)/W}g.Instance.register("avgInArray",O);function V(N){return!N&&N.length!==3?"":N[0]?N[1]:N[2]}g.Instance.register("iif",V);function A(N){return!N&&N.length<1||!N[0]?null:new Date(N[0])}g.Instance.register("getDate",A);function w(N){if(!N&&N.length<1||!N[0])return null;var W=new Date(N[0]),z=new Date,Q=z.getFullYear()-W.getFullYear(),$=z.getMonth()-W.getMonth();return($<0||$===0&&z.getDate()<W.getDate())&&(Q-=Q>0?1:0),Q}g.Instance.register("age",w);function S(N){if(!N)return!1;for(var W=N.questions,z=0;z<W.length;z++)if(!W[z].validate(!1))return!1;return!0}function R(N){if(!N&&N.length<1||!N[0]||!this.survey)return!1;var W=N[0],z=this.survey.getPageByName(W);if(z||(z=this.survey.getPanelByName(W)),!z){var Q=this.survey.getQuestionByName(W);if(!Q||!Array.isArray(Q.panels))return!1;if(N.length>1)N[1]<Q.panels.length&&(z=Q.panels[N[1]]);else{for(var $=0;$<Q.panels.length;$++)if(!S(Q.panels[$]))return!1;return!0}}return S(z)}g.Instance.register("isContainerReady",R);function I(){return this.survey&&this.survey.isDisplayMode}g.Instance.register("isDisplayMode",I);function b(){return new Date}g.Instance.register("currentDate",b);function D(N){var W=new Date;return m.settings.useLocalTimeZone?W.setHours(0,0,0,0):W.setUTCHours(0,0,0,0),Array.isArray(N)&&N.length==1&&W.setDate(W.getDate()+N[0]),W}g.Instance.register("today",D);function M(N){if(!(N.length!==1||!N[0]))return new Date(N[0]).getFullYear()}g.Instance.register("getYear",M);function L(){return new Date().getFullYear()}g.Instance.register("currentYear",L);function U(N){if(!Array.isArray(N)||N.length!==2||!N[0]||!N[1])return 0;var W=new Date(N[0]),z=new Date(N[1]),Q=Math.abs(z-W);return Math.ceil(Q/(1e3*60*60*24))}g.Instance.register("diffDays",U)},"./src/helpers.ts":function(n,r,i){i.r(r),i.d(r,"Helpers",function(){return m});var s=i("./src/settings.ts"),m=function(){function g(){}return g.isValueEmpty=function(y){if(Array.isArray(y)&&y.length===0)return!0;if(y&&typeof y=="object"&&y.constructor===Object){for(var P in y)if(!g.isValueEmpty(y[P]))return!1;return!0}return!y&&y!==0&&y!==!1},g.isArrayContainsEqual=function(y,P){if(!Array.isArray(y)||!Array.isArray(P)||y.length!==P.length)return!1;for(var T=0;T<y.length;T++){for(var x=0;x<P.length&&!g.isTwoValueEquals(y[T],P[x]);x++);if(x===P.length)return!1}return!0},g.isArraysEqual=function(y,P,T,x,C){if(T===void 0&&(T=!1),!Array.isArray(y)||!Array.isArray(P)||y.length!==P.length)return!1;if(T){for(var E=[],v=[],u=0;u<y.length;u++)E.push(y[u]),v.push(P[u]);E.sort(),v.sort(),y=E,P=v}for(var u=0;u<y.length;u++)if(!g.isTwoValueEquals(y[u],P[u],T,x,C))return!1;return!0},g.compareStrings=function(y,P){if(y&&(y=y.trim()),P&&(P=P.trim()),!y&&!P)return 0;if(!y)return-1;if(!P)return 1;if(y===P)return 0;for(var T=-1,x=0;x<y.length&&x<P.length;x++){if(this.isCharDigit(y[x])&&this.isCharDigit(P[x])){T=x;break}if(y[x]!==P[x])break}if(T>-1){var C=this.getNumberFromStr(y,T),E=this.getNumberFromStr(P,T);if(!Number.isNaN(C)&&!Number.isNaN(E)&&C!==E)return C>E?1:-1}return y>P?1:-1},g.isTwoValueEquals=function(y,P,T,x,C){if(T===void 0&&(T=!1),y===P||Array.isArray(y)&&y.length===0&&typeof P>"u"||Array.isArray(P)&&P.length===0&&typeof y>"u"||y==null&&P===""||P==null&&y==="")return!0;if(C===void 0&&(C=s.settings.comparator.trimStrings),x===void 0&&(x=s.settings.comparator.caseSensitive),typeof y=="string"&&typeof P=="string")return C&&(y=y.trim(),P=P.trim()),x||(y=y.toLowerCase(),P=P.toLowerCase()),y===P;if(y instanceof Date&&P instanceof Date)return y.getTime()==P.getTime();if(g.isConvertibleToNumber(y)&&g.isConvertibleToNumber(P)&&parseInt(y)===parseInt(P)&&parseFloat(y)===parseFloat(P))return!0;if(!g.isValueEmpty(y)&&g.isValueEmpty(P)||g.isValueEmpty(y)&&!g.isValueEmpty(P))return!1;if((y===!0||y===!1)&&typeof P=="string")return y.toString()===P.toLocaleLowerCase();if((P===!0||P===!1)&&typeof y=="string")return P.toString()===y.toLocaleLowerCase();if(!(y instanceof Object)&&!(P instanceof Object))return y==P;if(!(y instanceof Object)||!(P instanceof Object))return!1;if(y.equals)return y.equals(P);if(y.toJSON&&P.toJSON&&y.getType&&P.getType)return y.isDiposed||P.isDiposed||y.getType()!==P.getType()||y.name&&y.name!==P.name?!1:this.isTwoValueEquals(y.toJSON(),P.toJSON(),T,x,C);if(Array.isArray(y)&&Array.isArray(P))return g.isArraysEqual(y,P,T,x,C);if(y.equalsTo&&P.equalsTo)return y.equalsTo(P);for(var E in y)if(y.hasOwnProperty(E)&&(!P.hasOwnProperty(E)||!this.isTwoValueEquals(y[E],P[E],T,x,C)))return!1;for(E in P)if(P.hasOwnProperty(E)&&!y.hasOwnProperty(E))return!1;return!0},g.randomizeArray=function(y){for(var P=y.length-1;P>0;P--){var T=Math.floor(Math.random()*(P+1)),x=y[P];y[P]=y[T],y[T]=x}return y},g.getUnbindValue=function(y){return y&&y instanceof Object&&!(y instanceof Date)?JSON.parse(JSON.stringify(y)):y},g.createCopy=function(y){var P={};if(!y)return P;for(var T in y)P[T]=y[T];return P},g.isConvertibleToNumber=function(y){return y!=null&&!Array.isArray(y)&&!isNaN(y)},g.isNumber=function(y){return!isNaN(this.getNumber(y))},g.getNumber=function(y){if(typeof y=="string"&&y&&y.indexOf("0x")==0&&y.length>32)return NaN;y=this.prepareStringToNumber(y);var P=parseFloat(y);return isNaN(P)||!isFinite(y)?NaN:P},g.prepareStringToNumber=function(y){if(typeof y!="string"||!y)return y;var P=y.indexOf(",");return P>-1&&y.indexOf(",",P+1)<0?y.replace(",","."):y},g.getMaxLength=function(y,P){return y<0&&(y=P),y>0?y:null},g.getRemainingCharacterCounterText=function(y,P){if(!P||P<=0)return"";var T=y?y.length:"0";return[T,P].join("/")},g.getNumberByIndex=function(y,P){if(y<0)return"";var T=1,x="",C=".",E=!0,v="A",u="";if(P){u=P;for(var c=u.length-1,p=!1,o=0;o<u.length;o++)if(g.isCharDigit(u[o])){p=!0;break}for(var a=function(){return p&&!g.isCharDigit(u[c])||g.isCharNotLetterAndDigit(u[c])};c>=0&&a();)c--;var d="";for(c<u.length-1&&(d=u.substring(c+1),u=u.substring(0,c+1)),c=u.length-1;c>=0&&!(a()||(c--,!p)););v=u.substring(c+1),x=u.substring(0,c+1),parseInt(v)?T=parseInt(v):v.length==1&&(E=!1),(d||x)&&(C=d)}if(E){for(var h=(y+T).toString();h.length<v.length;)h="0"+h;return x+h+C}return x+String.fromCharCode(v.charCodeAt(0)+y)+C},g.isCharNotLetterAndDigit=function(y){return y.toUpperCase()==y.toLowerCase()&&!g.isCharDigit(y)},g.isCharDigit=function(y){return y>="0"&&y<="9"},g.getNumberFromStr=function(y,P){if(!this.isCharDigit(y[P]))return NaN;for(var T="";P<y.length&&this.isCharDigit(y[P]);)T+=y[P],P++;return T?this.getNumber(T):NaN},g.countDecimals=function(y){if(g.isNumber(y)&&Math.floor(y)!==y){var P=y.toString().split(".");return P.length>1&&P[1].length||0}return 0},g.correctAfterPlusMinis=function(y,P,T){var x=g.countDecimals(y),C=g.countDecimals(P);if(x>0||C>0){var E=Math.max(x,C);T=parseFloat(T.toFixed(E))}return T},g.sumAnyValues=function(y,P){if(!g.isNumber(y)||!g.isNumber(P)){if(Array.isArray(y)&&Array.isArray(P))return[].concat(y).concat(P);if(Array.isArray(y)||Array.isArray(P)){var T=Array.isArray(y)?y:P,x=T===y?P:y;if(typeof x=="string"){var C=T.join(", ");return T===y?C+x:x+C}if(typeof x=="number"){for(var E=0,v=0;v<T.length;v++)typeof T[v]=="number"&&(E=g.correctAfterPlusMinis(E,T[v],E+T[v]));return g.correctAfterPlusMinis(E,x,E+x)}}return y+P}return g.correctAfterPlusMinis(y,P,y+P)},g.correctAfterMultiple=function(y,P,T){var x=g.countDecimals(y)+g.countDecimals(P);return x>0&&(T=parseFloat(T.toFixed(x))),T},g.convertArrayValueToObject=function(y,P,T){T===void 0&&(T=void 0);var x=new Array;if(!y||!Array.isArray(y))return x;for(var C=0;C<y.length;C++){var E=void 0;Array.isArray(T)&&(E=g.findObjByPropValue(T,P,y[C])),E||(E={},E[P]=y[C]),x.push(E)}return x},g.findObjByPropValue=function(y,P,T){for(var x=0;x<y.length;x++)if(g.isTwoValueEquals(y[x][P],T))return y[x]},g.convertArrayObjectToValue=function(y,P){var T=new Array;if(!y||!Array.isArray(y))return T;for(var x=0;x<y.length;x++){var C=y[x]?y[x][P]:void 0;g.isValueEmpty(C)||T.push(C)}return T},g.convertDateToString=function(y){var P=function(T){return T<10?"0"+T.toString():T.toString()};return y.getFullYear()+"-"+P(y.getMonth()+1)+"-"+P(y.getDate())},g.convertDateTimeToString=function(y){var P=function(T){return T<10?"0"+T.toString():T.toString()};return this.convertDateToString(y)+" "+P(y.getHours())+":"+P(y.getMinutes())},g.convertValToQuestionVal=function(y,P){return y instanceof Date?P==="datetime-local"?g.convertDateTimeToString(y):g.convertDateToString(y):y},g}();String.prototype.format||(String.prototype.format=function(){var g=arguments;return this.replace(/{(\d+)}/g,function(y,P){return typeof g[P]<"u"?g[P]:y})})},"./src/images sync \\.svg$":function(n,r,i){var s={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./SearchClear.svg":"./src/images/SearchClear.svg","./TimerCircle.svg":"./src/images/TimerCircle.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2Check_24x24.svg":"./src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./clear_16x16.svg":"./src/images/clear_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./no-image.svg":"./src/images/no-image.svg","./rating-star-2.svg":"./src/images/rating-star-2.svg","./rating-star-small-2.svg":"./src/images/rating-star-small-2.svg","./rating-star-small.svg":"./src/images/rating-star-small.svg","./rating-star.svg":"./src/images/rating-star.svg","./search.svg":"./src/images/search.svg"};function m(y){var P=g(y);return i(P)}function g(y){if(!i.o(s,y)){var P=new Error("Cannot find module '"+y+"'");throw P.code="MODULE_NOT_FOUND",P}return s[y]}m.keys=function(){return Object.keys(s)},m.resolve=g,n.exports=m,m.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChooseFile.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/DefaultFile.svg":function(n,r){n.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernBooleanCheckChecked.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./src/images/ModernBooleanCheckInd.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./src/images/ModernBooleanCheckUnchecked.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./src/images/ModernCheck.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function(n,r){n.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/ProgressButton.svg":function(n,r){n.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function(n,r){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/SearchClear.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/TimerCircle.svg":function(n,r){n.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./src/images/V2Check.svg":function(n,r){n.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2Check_24x24.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/clear_16x16.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/collapseDetail.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/expandDetail.svg":function(n,r){n.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/no-image.svg":function(n,r){n.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/rating-star-2.svg":function(n,r){n.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.4663 34.6154L24 34.3695L23.5336 34.6154L14.4788 39.389L16.2156 29.2691L16.3044 28.7517L15.9289 28.3848L8.57358 21.1966L18.7249 19.7094L19.245 19.6332L19.4772 19.1616L24 9.97413L28.5228 19.1616L28.755 19.6332L29.275 19.7094L39.4264 21.1966L32.0711 28.3848L31.6956 28.7517L31.7844 29.2691L33.5211 39.389L24.4663 34.6154Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star-small-2.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./src/images/rating-star-small.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star.svg":function(n,r){n.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" stroke-width="2"></path></g></svg>'},"./src/images/search.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/images/smiley sync \\.svg$":function(n,r,i){var s={"./average.svg":"./src/images/smiley/average.svg","./excellent.svg":"./src/images/smiley/excellent.svg","./good.svg":"./src/images/smiley/good.svg","./normal.svg":"./src/images/smiley/normal.svg","./not-good.svg":"./src/images/smiley/not-good.svg","./perfect.svg":"./src/images/smiley/perfect.svg","./poor.svg":"./src/images/smiley/poor.svg","./terrible.svg":"./src/images/smiley/terrible.svg","./very-good.svg":"./src/images/smiley/very-good.svg","./very-poor.svg":"./src/images/smiley/very-poor.svg"};function m(y){var P=g(y);return i(P)}function g(y){if(!i.o(s,y)){var P=new Error("Cannot find module '"+y+"'");throw P.code="MODULE_NOT_FOUND",P}return s[y]}m.keys=function(){return Object.keys(s)},m.resolve=g,n.exports=m,m.id="./src/images/smiley sync \\.svg$"},"./src/images/smiley/average.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./src/images/smiley/excellent.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./src/images/smiley/good.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./src/images/smiley/normal.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./src/images/smiley/not-good.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./src/images/smiley/perfect.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./src/images/smiley/poor.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./src/images/smiley/terrible.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./src/images/smiley/very-good.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./src/images/smiley/very-poor.svg":function(n,r){n.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/itemvalue.ts":function(n,r,i){i.r(r),i.d(r,"ItemValue",function(){return u});var s=i("./src/localizablestring.ts"),m=i("./src/jsonobject.ts"),g=i("./src/helpers.ts"),y=i("./src/conditions.ts"),P=i("./src/base.ts"),T=i("./src/settings.ts"),x=i("./src/actions/action.ts"),C=i("./src/question_baseselect.ts"),E=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),v=function(c,p,o,a){var d=arguments.length,h=d<3?p:a===null?a=Object.getOwnPropertyDescriptor(p,o):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,p,o,a);else for(var l=c.length-1;l>=0;l--)(f=c[l])&&(h=(d<3?f(h):d>3?f(p,o,h):f(p,o))||h);return d>3&&h&&Object.defineProperty(p,o,h),h},u=function(c){E(p,c);function p(o,a,d){a===void 0&&(a=null),d===void 0&&(d="itemvalue");var h=c.call(this)||this;return h.typeName=d,h.ownerPropertyName="",h.locTextValue=new s.LocalizableString(h,!0,"text"),h.locTextValue.onStrChanged=function(f,l){l==h.value&&(l=void 0),h.propertyValueChanged("text",f,l)},h.locTextValue.onGetTextCallback=function(f){return f||(g.Helpers.isValueEmpty(h.value)?null:h.value.toString())},a&&(h.locText.text=a),o&&typeof o=="object"?h.setData(o):h.value=o,h.getType()!="itemvalue"&&m.CustomPropertiesCollection.createProperties(h),h.data=h,h.onCreating(),h}return p.prototype.getMarkdownHtml=function(o,a){return this.locOwner?this.locOwner.getMarkdownHtml(o,a):void 0},p.prototype.getRenderer=function(o){return this.locOwner?this.locOwner.getRenderer(o):null},p.prototype.getRendererContext=function(o){return this.locOwner?this.locOwner.getRendererContext(o):o},p.prototype.getProcessedText=function(o){return this.locOwner?this.locOwner.getProcessedText(o):o},Object.defineProperty(p,"Separator",{get:function(){return T.settings.itemValueSeparator},set:function(o){T.settings.itemValueSeparator=o},enumerable:!1,configurable:!0}),p.setData=function(o,a,d){o.length=0;for(var h=0;h<a.length;h++){var f=a[h],l=f&&typeof f.getType=="function"?f.getType():d??"itemvalue",O=m.Serializer.createClass(l);O.setData(f),f.originalItem&&(O.originalItem=f.originalItem),o.push(O)}},p.getData=function(o){for(var a=[],d=0;d<o.length;d++)a.push(o[d].getData());return a},p.getItemByValue=function(o,a){if(!Array.isArray(o))return null;for(var d=g.Helpers.isValueEmpty(a),h=0;h<o.length;h++)if(d&&g.Helpers.isValueEmpty(o[h].value)||g.Helpers.isTwoValueEquals(o[h].value,a,!1,!0,!1))return o[h];return null},p.getTextOrHtmlByValue=function(o,a){var d=p.getItemByValue(o,a);return d!==null?d.locText.textOrHtml:""},p.locStrsChanged=function(o){for(var a=0;a<o.length;a++)o[a].locStrsChanged()},p.runConditionsForItems=function(o,a,d,h,f,l,O){return l===void 0&&(l=!0),p.runConditionsForItemsCore(o,a,d,h,f,!0,l,O)},p.runEnabledConditionsForItems=function(o,a,d,h,f){return p.runConditionsForItemsCore(o,null,a,d,h,!1,!0,f)},p.runConditionsForItemsCore=function(o,a,d,h,f,l,O,V){O===void 0&&(O=!0),h||(h={});for(var A=h.item,w=h.choice,S=!1,R=0;R<o.length;R++){var I=o[R];h.item=I.value,h.choice=I.value;var b=O&&I.getConditionRunner?I.getConditionRunner(l):!1;b||(b=d);var D=!0;b&&(D=b.run(h,f)),V&&(D=V(I,D)),a&&D&&a.push(I);var M=l?I.isVisible:I.isEnabled;D!=M&&(S=!0,l?I.setIsVisible&&I.setIsVisible(D):I.setIsEnabled&&I.setIsEnabled(D))}return A?h.item=A:delete h.item,w?h.choice=w:delete h.choice,S},p.prototype.onCreating=function(){},p.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},p.prototype.getSurvey=function(o){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},p.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(p.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),p.prototype.setLocText=function(o){this.locTextValue=o},Object.defineProperty(p.prototype,"locOwner",{get:function(){return this._locOwner},set:function(o){this._locOwner=o},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(o){var a=void 0;if(!g.Helpers.isValueEmpty(o)){var d=o.toString(),h=d.indexOf(T.settings.itemValueSeparator);h>-1&&(o=d.slice(0,h),a=d.slice(h+1))}this.setPropertyValue("value",o),a&&(this.text=a),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(o){this.text=o},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(o){this.locText.text=o},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),p.prototype.canSerializeValue=function(){var o=this.value;return o==null?!1:!Array.isArray(o)&&typeof o!="object"},p.prototype.getData=function(){var o=this.toJSON();if(o.value&&o.value.pos&&delete o.value.pos,g.Helpers.isValueEmpty(o.value))return o;var a=this.canSerializeValue(),d=!a||!T.settings.itemValueAlwaysSerializeAsObject&&!T.settings.itemValueAlwaysSerializeText;return d&&Object.keys(o).length==1?this.value:(T.settings.itemValueAlwaysSerializeText&&o.text===void 0&&a&&(o.text=this.value.toString()),o)},p.prototype.toJSON=function(){var o={},a=m.Serializer.getProperties(this.getType());(!a||a.length==0)&&(a=m.Serializer.getProperties("itemvalue"));for(var d=new m.JsonObject,h=0;h<a.length;h++){var f=a[h];f.name==="text"&&!this.locText.hasNonDefaultText()&&g.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||d.valueToJson(this,o,f)}return o},p.prototype.setData=function(o){if(!g.Helpers.isValueEmpty(o)){if(typeof o.value>"u"&&typeof o.text<"u"&&Object.keys(o).length===1&&(o.value=o.text),typeof o.value<"u"){var a=void 0;typeof o.toJSON=="function"?a=o.toJSON():a=o,new m.JsonObject().toObject(a,this)}else this.value=o;this.locText.strChanged()}},Object.defineProperty(p.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(o){this.setPropertyValue("visibleIf",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(o){this.setPropertyValue("enableIf",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!0)},enumerable:!1,configurable:!0}),p.prototype.setIsVisible=function(o){this.setPropertyValue("isVisible",o)},Object.defineProperty(p.prototype,"isEnabled",{get:function(){return this.getPropertyValue("isEnabled",!0)},enumerable:!1,configurable:!0}),p.prototype.setIsEnabled=function(o){this.setPropertyValue("isEnabled",o)},p.prototype.addUsedLocales=function(o){this.AddLocStringToUsedLocales(this.locTextValue,o)},p.prototype.locStrsChanged=function(){c.prototype.locStrsChanged.call(this),this.locText.strChanged()},p.prototype.onPropertyValueChanged=function(o,a,d){o==="value"&&!this.hasText&&this.locText.strChanged();var h="itemValuePropertyChanged";!this.locOwner||!this.locOwner[h]||this.locOwner[h](this,o,a,d)},p.prototype.getConditionRunner=function(o){return o?this.getVisibleConditionRunner():this.getEnableConditionRunner()},p.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new y.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},p.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new y.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(p.prototype,"selected",{get:function(){var o=this;return this._locOwner instanceof C.QuestionSelectBase&&this.selectedValue===void 0&&(this.selectedValue=new P.ComputedUpdater(function(){return o._locOwner.isItemSelected(o)})),this.selectedValue},enumerable:!1,configurable:!0}),p.prototype.getComponent=function(){return this._locOwner instanceof C.QuestionSelectBase?this.componentValue||this._locOwner.itemComponent:""},p.prototype.setComponent=function(o){this.componentValue=o},p.prototype.getEnabled=function(){return this.isEnabled},p.prototype.setEnabled=function(o){this.setIsEnabled(o)},p.prototype.getVisible=function(){var o=this.isVisible===void 0?!0:this.isVisible,a=this._visible===void 0?!0:this._visible;return o&&a},p.prototype.setVisible=function(o){this._visible=o},p.prototype.getLocTitle=function(){return this.locText},p.prototype.getTitle=function(){return this.text},p.prototype.setLocTitle=function(o){},p.prototype.setTitle=function(o){},v([Object(m.property)({defaultValue:!0})],p.prototype,"_visible",void 0),v([Object(m.property)()],p.prototype,"selectedValue",void 0),v([Object(m.property)()],p.prototype,"icon",void 0),p}(x.BaseAction);P.Base.createItemValue=function(c,p){var o=null;return p?o=m.JsonObject.metaData.createClass(p,{}):typeof c.getType=="function"?o=new u(null,void 0,c.getType()):o=new u(null),o.setData(c),o},P.Base.itemValueLocStrChanged=function(c){u.locStrsChanged(c)},m.JsonObjectProperty.getItemValuesDefaultValue=function(c,p){var o=new Array;return u.setData(o,Array.isArray(c)?c:[],p),o},m.Serializer.addClass("itemvalue",["!value",{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(c){return!c||c.ownerPropertyName!=="rateValues"}}],function(c){return new u(c)})},"./src/jsonobject.ts":function(n,r,i){i.r(r),i.d(r,"property",function(){return C}),i.d(r,"propertyArray",function(){return v}),i.d(r,"JsonObjectProperty",function(){return u}),i.d(r,"CustomPropertiesCollection",function(){return c}),i.d(r,"JsonMetadataClass",function(){return p}),i.d(r,"JsonMetadata",function(){return o}),i.d(r,"JsonError",function(){return a}),i.d(r,"JsonUnknownPropertyError",function(){return d}),i.d(r,"JsonMissingTypeErrorBase",function(){return h}),i.d(r,"JsonMissingTypeError",function(){return f}),i.d(r,"JsonIncorrectTypeError",function(){return l}),i.d(r,"JsonRequiredPropertyError",function(){return O}),i.d(r,"JsonObject",function(){return V}),i.d(r,"Serializer",function(){return A});var s=i("./src/surveyStrings.ts"),m=i("./src/base.ts"),g=i("./src/helpers.ts"),y=function(){var w=function(S,R){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,b){I.__proto__=b}||function(I,b){for(var D in b)Object.prototype.hasOwnProperty.call(b,D)&&(I[D]=b[D])},w(S,R)};return function(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");w(S,R);function I(){this.constructor=S}S.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}}(),P=function(w,S){for(var R=0,I=S.length,b=w.length;R<I;R++,b++)w[b]=S[R];return w};function T(w,S,R){var I=w.getLocalizableString(R);I||(I=w.createLocalizableString(R,w,!0),typeof S.localizable=="object"&&typeof S.localizable.onGetTextCallback=="function"&&(I.onGetTextCallback=S.localizable.onGetTextCallback))}function x(w,S,R){T(w,S,R);var I=w.getLocalizableStringText(R);if(I)return I;if(typeof S.localizable=="object"&&S.localizable.defaultStr){var b=w.getLocale?w.getLocale():"";return s.surveyLocalization.getString(S.localizable.defaultStr,b)}return""}function C(w){return function(S,R){var I=function(b,D){if(D&&typeof D=="object"&&D.type===m.ComputedUpdater.ComputedUpdaterType){m.Base.startCollectDependencies(function(){return b[R]=D.updater()},b,R);var M=D.updater(),L=m.Base.finishCollectDependencies();return D.setDependencies(L),M}return D};!w||!w.localizable?Object.defineProperty(S,R,{get:function(){var b=null;return w&&(typeof w.getDefaultValue=="function"&&(b=w.getDefaultValue(this)),w.defaultValue!==void 0&&(b=w.defaultValue)),this.getPropertyValue(R,b)},set:function(b){var D=I(this,b);this.setPropertyValue(R,D),w&&w.onSet&&w.onSet(D,this)}}):(Object.defineProperty(S,R,{get:function(){return x(this,w,R)},set:function(b){T(this,w,R);var D=I(this,b);this.setLocalizableStringText(R,D),w&&w.onSet&&w.onSet(D,this)}}),Object.defineProperty(S,typeof w.localizable=="object"&&w.localizable.name?w.localizable.name:"loc"+R.charAt(0).toUpperCase()+R.slice(1),{get:function(){return T(this,w,R),this.getLocalizableString(R)}}))}}function E(w,S,R){w.ensureArray(R,function(I,b){var D=S?S.onPush:null;D&&D(I,b,w)},function(I,b){var D=S?S.onRemove:null;D&&D(I,b,w)})}function v(w){return function(S,R){Object.defineProperty(S,R,{get:function(){return E(this,w,R),this.getPropertyValue(R)},set:function(I){E(this,w,R);var b=this.getPropertyValue(R);I!==b&&(b?b.splice.apply(b,P([0,b.length],I||[])):this.setPropertyValue(R,I),w&&w.onSet&&w.onSet(I,this))}})}}var u=function(){function w(S,R,I){I===void 0&&(I=!1),this.name=R,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=S,this.isRequiredValue=I,this.idValue=w.Index++}return Object.defineProperty(w.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(S){S==="itemvalues"&&(S="itemvalue[]"),S==="textitems"&&(S="textitem[]"),this.typeValue=S,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(S){this.isRequiredValue=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(S){this.isUniqueValue=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(S){this.uniquePropertyValue=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"defaultValue",{get:function(){var S=this.defaultValueFunc?this.defaultValueFunc():this.defaultValueValue;return w.getItemValuesDefaultValue&&V.metaData.isDescendantOf(this.className,"itemvalue")&&(S=w.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),S},set:function(S){this.defaultValueValue=S},enumerable:!1,configurable:!0}),w.prototype.isDefaultValue=function(S){return g.Helpers.isValueEmpty(this.defaultValue)?S===!1&&(this.type=="boolean"||this.type=="switch")||S===""||g.Helpers.isValueEmpty(S):g.Helpers.isTwoValueEquals(S,this.defaultValue,!1,!0,!1)},w.prototype.getValue=function(S){return this.onGetValue?this.onGetValue(S):this.serializationProperty&&S[this.serializationProperty]?S[this.serializationProperty].getJson():S[this.name]},w.prototype.getPropertyValue=function(S){return this.isLocalizable?S[this.serializationProperty]?S[this.serializationProperty].text:null:this.getValue(S)},Object.defineProperty(w.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),w.prototype.settingValue=function(S,R){return!this.onSettingValue||S.isLoadingFromJson?R:this.onSettingValue(S,R)},w.prototype.setValue=function(S,R,I){this.onSetValue?this.onSetValue(S,R,I):this.serializationProperty&&S[this.serializationProperty]?S[this.serializationProperty].setJson(R):(R&&typeof R=="string"&&(this.type=="number"&&(R=parseInt(R)),(this.type=="boolean"||this.type=="switch")&&(R=R.toLowerCase()==="true")),S[this.name]=R)},w.prototype.getObjType=function(S){return this.classNamePart?S.replace(this.classNamePart,""):S},Object.defineProperty(w.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),w.prototype.getChoices=function(S,R){return R===void 0&&(R=null),this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(S,R):null},w.prototype.setChoices=function(S,R){R===void 0&&(R=null),this.choicesValue=S,this.choicesfunc=R},w.prototype.getBaseValue=function(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""},w.prototype.setBaseValue=function(S){this.baseValue=S},Object.defineProperty(w.prototype,"readOnly",{get:function(){return this.readOnlyValue!=null?this.readOnlyValue:!1},set:function(S){this.readOnlyValue=S},enumerable:!1,configurable:!0}),w.prototype.isVisible=function(S,R){R===void 0&&(R=null);var I=!this.layout||this.layout==S;return!this.visible||!I?!1:this.visibleIf&&R?this.visibleIf(R):!0},Object.defineProperty(w.prototype,"visible",{get:function(){return this.visibleValue!=null?this.visibleValue:!0},set:function(S){this.visibleValue=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isLocalizable",{get:function(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1},set:function(S){this.isLocalizableValue=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(S){this.dataListValue=S},enumerable:!1,configurable:!0}),w.prototype.mergeWith=function(S){for(var R=w.mergableValues,I=0;I<R.length;I++)this.mergeValue(S,R[I])},w.prototype.addDependedProperty=function(S){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(S)<0&&this.dependedProperties.push(S)},w.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},w.prototype.schemaType=function(){return this.className||this.baseClassName?"array":this.type=="boolean"||this.type=="number"?this.type:"string"},w.prototype.mergeValue=function(S,R){this[R]==null&&S[R]!=null&&(this[R]=S[R])},w.Index=1,w.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","showMode","dependedProperties","visibleIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],w}(),c=function(){function w(){}return w.addProperty=function(S,R){S=S.toLowerCase();var I=w.properties;I[S]||(I[S]=[]),I[S].push(R)},w.removeProperty=function(S,R){S=S.toLowerCase();var I=w.properties;if(I[S]){for(var b=I[S],D=0;D<b.length;D++)if(b[D].name==R){I[S].splice(D,1);break}}},w.removeAllProperties=function(S){S=S.toLowerCase(),delete w.properties[S]},w.addClass=function(S,R){S=S.toLowerCase(),R&&(R=R.toLowerCase()),w.parentClasses[S]=R},w.getProperties=function(S){S=S.toLowerCase();for(var R=[],I=w.properties;S;){var b=I[S];if(b)for(var D=0;D<b.length;D++)R.push(b[D]);S=w.parentClasses[S]}return R},w.createProperties=function(S){!S||!S.getType||w.createPropertiesCore(S,S.getType())},w.createPropertiesCore=function(S,R){var I=w.properties;I[R]&&w.createPropertiesInObj(S,I[R]);var b=w.parentClasses[R];b&&w.createPropertiesCore(S,b)},w.createPropertiesInObj=function(S,R){for(var I=0;I<R.length;I++)w.createPropertyInObj(S,R[I])},w.createPropertyInObj=function(S,R){if(!w.checkIsPropertyExists(S,R.name)&&!(R.serializationProperty&&w.checkIsPropertyExists(S,R.serializationProperty))){if(R.isLocalizable&&R.serializationProperty&&S.createCustomLocalizableObj){S.createCustomLocalizableObj(R.name);var I={get:function(){return S.getLocalizableString(R.name)}};Object.defineProperty(S,R.serializationProperty,I);var b={get:function(){return S.getLocalizableStringText(R.name,R.defaultValue)},set:function(L){S.setLocalizableStringText(R.name,L)}};Object.defineProperty(S,R.name,b)}else{var D=R.defaultValue,M=R.isArray||R.type==="multiplevalues";if(typeof S.createNewArray=="function"&&(V.metaData.isDescendantOf(R.className,"itemvalue")?(S.createNewArray(R.name,function(L){L.locOwner=S,L.ownerPropertyName=R.name}),M=!0):M&&S.createNewArray(R.name),M&&(Array.isArray(D)&&S.setPropertyValue(R.name,D),D=null)),S.getPropertyValue&&S.setPropertyValue){var b={get:function(){return R.onGetValue?R.onGetValue(S):S.getPropertyValue(R.name,D)},set:function(U){R.onSetValue?R.onSetValue(S,U,null):S.setPropertyValue(R.name,U)}};Object.defineProperty(S,R.name,b)}}(R.type==="condition"||R.type==="expression")&&R.onExecuteExpression&&S.addExpressionProperty(R.name,R.onExecuteExpression)}},w.checkIsPropertyExists=function(S,R){return S.hasOwnProperty(R)||S[R]},w.properties={},w.parentClasses={},w}(),p=function(){function w(S,R,I,b){I===void 0&&(I=null),b===void 0&&(b=null),this.name=S,this.creator=I,this.parentName=b,S=S.toLowerCase(),this.isCustomValue=!I&&S!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),c.addClass(S,this.parentName),I&&this.makeParentRegularClass()),this.properties=new Array;for(var D=0;D<R.length;D++)this.createProperty(R[D],this.isCustom)}return w.prototype.find=function(S){for(var R=0;R<this.properties.length;R++)if(this.properties[R].name==S)return this.properties[R];return null},w.prototype.findProperty=function(S){return this.fillAllProperties(),this.hashProperties[S]},w.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},w.prototype.resetAllProperties=function(){this.allProperties=void 0,this.hashProperties=void 0;for(var S=A.getChildrenClasses(this.name),R=0;R<S.length;R++)S[R].resetAllProperties()},Object.defineProperty(w.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),w.prototype.fillAllProperties=function(){var S=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var R={};this.properties.forEach(function(D){return R[D.name]=D});var I=this.parentName?A.findClass(this.parentName):null;if(I){var b=I.getAllProperties();b.forEach(function(D){var M=R[D.name];M?(M.mergeWith(D),S.addPropCore(M)):S.addPropCore(D)})}this.properties.forEach(function(D){S.hashProperties[D.name]||S.addPropCore(D)})}},w.prototype.addPropCore=function(S){this.allProperties.push(S),this.hashProperties[S.name]=S,S.alternativeName&&(this.hashProperties[S.alternativeName]=S)},w.prototype.isOverridedProp=function(S){return!!this.parentName&&!!A.findProperty(this.parentName,S)},w.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var S=0;S<this.properties.length;S++)this.properties[S].isCustom=!1;c.removeAllProperties(this.name),this.makeParentRegularClass()}},w.prototype.makeParentRegularClass=function(){if(this.parentName){var S=A.findClass(this.parentName);S&&S.hasRegularChildClass()}},w.prototype.createProperty=function(S,R){R===void 0&&(R=!1);var I=typeof S=="string"?S:S.name;if(I){var b=null,D=I.indexOf(w.typeSymbol);D>-1&&(b=I.substring(D+1),I=I.substring(0,D));var M=this.getIsPropertyNameRequired(I)||!!S.isRequired;I=this.getPropertyName(I);var L=new u(this,I,M);if(b&&(L.type=b),typeof S=="object"){if(S.type&&(L.type=S.type),S.default!==void 0&&(L.defaultValue=S.default),S.defaultFunc!==void 0&&(L.defaultValueFunc=S.defaultFunc),g.Helpers.isValueEmpty(S.isSerializable)||(L.isSerializable=S.isSerializable),g.Helpers.isValueEmpty(S.isLightSerializable)||(L.isLightSerializable=S.isLightSerializable),g.Helpers.isValueEmpty(S.maxLength)||(L.maxLength=S.maxLength),g.Helpers.isValueEmpty(S.displayName)||(L.displayName=S.displayName),g.Helpers.isValueEmpty(S.category)||(L.category=S.category),g.Helpers.isValueEmpty(S.categoryIndex)||(L.categoryIndex=S.categoryIndex),g.Helpers.isValueEmpty(S.nextToProperty)||(L.nextToProperty=S.nextToProperty),g.Helpers.isValueEmpty(S.visibleIndex)||(L.visibleIndex=S.visibleIndex),g.Helpers.isValueEmpty(S.showMode)||(L.showMode=S.showMode),g.Helpers.isValueEmpty(S.maxValue)||(L.maxValue=S.maxValue),g.Helpers.isValueEmpty(S.minValue)||(L.minValue=S.minValue),g.Helpers.isValueEmpty(S.dataList)||(L.dataList=S.dataList),g.Helpers.isValueEmpty(S.isDynamicChoices)||(L.isDynamicChoices=S.isDynamicChoices),g.Helpers.isValueEmpty(S.isBindable)||(L.isBindable=S.isBindable),g.Helpers.isValueEmpty(S.isUnique)||(L.isUnique=S.isUnique),g.Helpers.isValueEmpty(S.uniqueProperty)||(L.uniquePropertyName=S.uniqueProperty),g.Helpers.isValueEmpty(S.isArray)||(L.isArray=S.isArray),(S.visible===!0||S.visible===!1)&&(L.visible=S.visible),S.visibleIf&&(L.visibleIf=S.visibleIf),S.onExecuteExpression&&(L.onExecuteExpression=S.onExecuteExpression),S.onPropertyEditorUpdate&&(L.onPropertyEditorUpdate=S.onPropertyEditorUpdate),S.readOnly===!0&&(L.readOnly=!0),S.choices){var U=typeof S.choices=="function"?S.choices:null,N=typeof S.choices!="function"?S.choices:null;L.setChoices(N,U)}S.baseValue&&L.setBaseValue(S.baseValue),S.onGetValue&&(L.onGetValue=S.onGetValue),S.onSetValue&&(L.onSetValue=S.onSetValue),S.onSettingValue&&(L.onSettingValue=S.onSettingValue),S.isLocalizable&&(S.serializationProperty="loc"+L.name),S.serializationProperty&&(L.serializationProperty=S.serializationProperty,L.serializationProperty&&L.serializationProperty.indexOf("loc")==0&&(L.isLocalizable=!0)),S.isLocalizable&&(L.isLocalizable=S.isLocalizable),S.className&&(L.className=S.className),S.baseClassName&&(L.baseClassName=S.baseClassName),S.classNamePart&&(L.classNamePart=S.classNamePart),S.alternativeName&&(L.alternativeName=S.alternativeName),S.layout&&(L.layout=S.layout),S.dependsOn&&this.addDependsOnProperties(L,S.dependsOn)}return this.properties.push(L),R&&!this.isOverridedProp(L.name)&&(L.isCustom=!0,c.addProperty(this.name,L)),L}},w.prototype.addDependsOnProperties=function(S,R){if(Array.isArray(R))for(var I=0;I<R.length;I++)this.addDependsOnProperty(S,R[I]);else this.addDependsOnProperty(S,R)},w.prototype.addDependsOnProperty=function(S,R){var I=this.find(R);I||(I=A.findProperty(this.parentName,R)),I&&I.addDependedProperty(S.name)},w.prototype.getIsPropertyNameRequired=function(S){return S.length>0&&S[0]==w.requiredSymbol},w.prototype.getPropertyName=function(S){return this.getIsPropertyNameRequired(S)&&(S=S.slice(1)),S},w.requiredSymbol="!",w.typeSymbol=":",w}(),o=function(){function w(){this.classes={},this.alternativeNames={},this.childrenClasses={}}return w.prototype.getObjPropertyValue=function(S,R){if(this.isObjWrapper(S)){var I=S.getOriginalObj(),b=A.findProperty(I.getType(),R);if(b)return this.getObjPropertyValueCore(I,b)}var b=A.findProperty(S.getType(),R);return b?this.getObjPropertyValueCore(S,b):S[R]},w.prototype.setObjPropertyValue=function(S,R,I){if(S[R]!==I)if(S[R]&&S[R].setJson)S[R].setJson(I);else{if(Array.isArray(I)){for(var b=[],D=0;D<I.length;D++)b.push(I[D]);I=b}S[R]=I}},w.prototype.getObjPropertyValueCore=function(S,R){if(!R.isSerializable)return S[R.name];if(R.isLocalizable){if(R.isArray)return S[R.name];if(R.serializationProperty)return S[R.serializationProperty].text}return S.getPropertyValue(R.name)},w.prototype.isObjWrapper=function(S){return!!S.getOriginalObj&&!!S.getOriginalObj()},w.prototype.addClass=function(S,R,I,b){I===void 0&&(I=null),b===void 0&&(b=null),S=S.toLowerCase();var D=new p(S,R,I,b);if(this.classes[S]=D,b){b=b.toLowerCase();var M=this.childrenClasses[b];M||(this.childrenClasses[b]=[]),this.childrenClasses[b].push(D)}return D},w.prototype.removeClass=function(S){var R=this.findClass(S);if(R&&(delete this.classes[R.name],R.parentName)){var I=this.childrenClasses[R.parentName].indexOf(R);I>-1&&this.childrenClasses[R.parentName].splice(I,1)}},w.prototype.overrideClassCreatore=function(S,R){this.overrideClassCreator(S,R)},w.prototype.overrideClassCreator=function(S,R){S=S.toLowerCase();var I=this.findClass(S);I&&(I.creator=R)},w.prototype.getProperties=function(S){var R=this.findClass(S);return R?R.getAllProperties():[]},w.prototype.getPropertiesByObj=function(S){if(!S||!S.getType)return[];for(var R={},I=this.getProperties(S.getType()),b=0;b<I.length;b++)R[I[b].name]=I[b];var D=S.getDynamicType?this.getProperties(S.getDynamicType()):null;if(D&&D.length>0)for(var b=0;b<D.length;b++){var M=D[b];R[M.name]||(R[M.name]=M)}return Object.keys(R).map(function(L){return R[L]})},w.prototype.getDynamicPropertiesByObj=function(S,R){if(R===void 0&&(R=null),!S||!S.getType||!S.getDynamicType&&!R)return[];var I=R||S.getDynamicType();if(!I)return[];var b=this.getProperties(I);if(!b||b.length==0)return[];for(var D={},M=this.getProperties(S.getType()),L=0;L<M.length;L++)D[M[L].name]=M[L];for(var U=[],L=0;L<b.length;L++){var N=b[L];D[N.name]||U.push(N)}return U},w.prototype.hasOriginalProperty=function(S,R){return!!this.getOriginalProperty(S,R)},w.prototype.getOriginalProperty=function(S,R){var I=this.findProperty(S.getType(),R);return I||(this.isObjWrapper(S)?this.findProperty(S.getOriginalObj().getType(),R):null)},w.prototype.getProperty=function(S,R){var I=this.findProperty(S,R);if(!I)return I;var b=this.findClass(S);if(I.classInfo===b)return I;var D=new u(b,I.name,I.isRequired);return D.mergeWith(I),D.isArray=I.isArray,b.properties.push(D),b.resetAllProperties(),D},w.prototype.findProperty=function(S,R){var I=this.findClass(S);return I?I.findProperty(R):null},w.prototype.findProperties=function(S,R){var I=new Array,b=this.findClass(S);if(!b)return I;for(var D=0;D<R.length;D++){var M=b.findProperty(R[D]);M&&I.push(M)}return I},w.prototype.getAllPropertiesByName=function(S){for(var R=new Array,I=this.getAllClasses(),b=0;b<I.length;b++)for(var D=this.findClass(I[b]),M=0;M<D.properties.length;M++)if(D.properties[M].name==S){R.push(D.properties[M]);break}return R},w.prototype.getAllClasses=function(){var S=new Array;for(var R in this.classes)S.push(R);return S},w.prototype.createClass=function(S,R){R===void 0&&(R=void 0),S=S.toLowerCase();var I=this.findClass(S);if(!I)return null;if(I.creator)return I.creator(R);for(var b=I.parentName;b;){if(I=this.findClass(b),!I)return null;if(b=I.parentName,I.creator)return this.createCustomType(S,I.creator,R)}return null},w.prototype.createCustomType=function(S,R,I){I===void 0&&(I=void 0),S=S.toLowerCase();var b=R(I),D=S,M=b.getTemplate?b.getTemplate():b.getType();return b.getType=function(){return D},b.getTemplate=function(){return M},c.createProperties(b),b},w.prototype.getChildrenClasses=function(S,R){R===void 0&&(R=!1),S=S.toLowerCase();var I=[];return this.fillChildrenClasses(S,R,I),I},w.prototype.getRequiredProperties=function(S){for(var R=this.getProperties(S),I=[],b=0;b<R.length;b++)R[b].isRequired&&I.push(R[b].name);return I},w.prototype.addProperties=function(S,R){S=S.toLowerCase();for(var I=this.findClass(S),b=0;b<R.length;b++)this.addCustomPropertyCore(I,R[b])},w.prototype.addProperty=function(S,R){return this.addCustomPropertyCore(this.findClass(S),R)},w.prototype.addCustomPropertyCore=function(S,R){if(!S)return null;var I=S.createProperty(R,!0);return I&&S.resetAllProperties(),I},w.prototype.removeProperty=function(S,R){var I=this.findClass(S);if(!I)return!1;var b=I.find(R);b&&(this.removePropertyFromClass(I,b),I.resetAllProperties(),c.removeProperty(I.name,R))},w.prototype.removePropertyFromClass=function(S,R){var I=S.properties.indexOf(R);I<0||S.properties.splice(I,1)},w.prototype.fillChildrenClasses=function(S,R,I){var b=this.childrenClasses[S];if(b)for(var D=0;D<b.length;D++)(!R||b[D].creator)&&I.push(b[D]),this.fillChildrenClasses(b[D].name,R,I)},w.prototype.findClass=function(S){S=S.toLowerCase();var R=this.classes[S];if(!R){var I=this.alternativeNames[S];if(I&&I!=S)return this.findClass(I)}return R},w.prototype.isDescendantOf=function(S,R){if(!S||!R)return!1;S=S.toLowerCase(),R=R.toLowerCase();var I=this.findClass(S);if(!I)return!1;var b=I;do{if(b.name===R)return!0;b=this.classes[b.parentName]}while(b);return!1},w.prototype.addAlterNativeClassName=function(S,R){this.alternativeNames[R.toLowerCase()]=S.toLowerCase()},w.prototype.generateSchema=function(S){S===void 0&&(S=void 0),S||(S="survey");var R=this.findClass(S);if(!R)return null;var I={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{}};return this.generateSchemaProperties(R,I.properties,I.definitions),I},w.prototype.generateSchemaProperties=function(S,R,I){if(S)for(var b=0;b<S.properties.length;b++){var D=S.properties[b];R[D.name]=this.generateSchemaProperty(D,I)}},w.prototype.generateSchemaProperty=function(S,R){var I={type:S.schemaType()};if(S.hasChoices&&(I.enum=S.getChoices(null)),S.className&&(I.items={$ref:"#"+S.className},this.generateChemaClass(S.className,R)),S.baseClassName){var b=this.getChildrenClasses(S.baseClassName,!0);S.baseClassName=="question"&&b.push(this.findClass("panel")),I.items=[];for(var D=0;D<b.length;D++){var M=b[D].name;I.items.push({$ref:"#"+M}),this.generateChemaClass(M,R)}}return I},w.prototype.generateChemaClass=function(S,R){if(!R[S]){var I=this.findClass(S);if(I){var b=!!I.parentName&&I.parentName!="base";b&&this.generateChemaClass(I.parentName,R);var D={type:"object",$id:"#"+S};R[S]=D;var M={};this.generateSchemaProperties(I,M,R),b?D.allOf=[{$ref:"#"+I.parentName},{properties:M}]:D.properties=M}}},w.prototype.fillProperties=function(S,R,I){var b=this.findClass(S);if(b){b.parentName&&this.fillProperties(b.parentName,R,I);for(var D=0;D<b.properties.length;D++){var M=b.properties[D];this.addPropertyCore(M,R,I),I[M.name]=M,M.alternativeName&&(I[M.alternativeName]=M)}}},w.prototype.addPropertyCore=function(S,R,I){if(!I[S.name]){R.push(S);return}for(var b=-1,D=0;D<R.length;D++)if(R[D].name==S.name||R[D].alternativeName==S.name){b=D;break}S.mergeWith(R[b]),R[b]=S},w}(),a=function(){function w(S,R){this.type=S,this.message=R,this.description="",this.at=-1}return w.prototype.getFullDescription=function(){return this.message+(this.description?`
`+this.description:"")},w}(),d=function(w){y(S,w);function S(R,I){var b=w.call(this,"unknownproperty","The property '"+R+"' in class '"+I+"' is unknown.")||this;b.propertyName=R,b.className=I;var D=V.metaData.getProperties(I);if(D){b.description="The list of available properties are: ";for(var M=0;M<D.length;M++)M>0&&(b.description+=", "),b.description+=D[M].name;b.description+="."}return b}return S}(a),h=function(w){y(S,w);function S(R,I,b){var D=w.call(this,I,b)||this;D.baseClassName=R,D.type=I,D.message=b,D.description="The following types are available: ";for(var M=V.metaData.getChildrenClasses(R,!0),L=0;L<M.length;L++)L>0&&(D.description+=", "),D.description+="'"+M[L].name+"'";return D.description+=".",D}return S}(a),f=function(w){y(S,w);function S(R,I){var b=w.call(this,I,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+R+"'.")||this;return b.propertyName=R,b.baseClassName=I,b}return S}(h),l=function(w){y(S,w);function S(R,I){var b=w.call(this,I,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+R+"'.")||this;return b.propertyName=R,b.baseClassName=I,b}return S}(h),O=function(w){y(S,w);function S(R,I){var b=w.call(this,"requiredproperty","The property '"+R+"' is required in class '"+I+"'.")||this;return b.propertyName=R,b.className=I,b}return S}(a),V=function(){function w(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(w,"metaData",{get:function(){return w.metaDataValue},enumerable:!1,configurable:!0}),w.prototype.toJsonObject=function(S,R){return R===void 0&&(R=!1),this.toJsonObjectCore(S,null,R)},w.prototype.toObject=function(S,R){this.toObjectCore(S,R);var I=this.getRequiredError(R,S);I&&this.addNewError(I,S)},w.prototype.toObjectCore=function(S,R){if(S){var I=null,b=void 0,D=!0;if(R.getType&&(b=R.getType(),I=w.metaData.getProperties(b),D=!!b&&!w.metaData.isDescendantOf(b,"itemvalue")),!!I){R.startLoadingFromJson&&R.startLoadingFromJson(S),I=this.addDynamicProperties(R,S,I);for(var M in S)if(M!==w.typePropertyName){if(M===w.positionPropertyName){R[M]=S[M];continue}var L=this.findProperty(I,M);if(!L){D&&this.addNewError(new d(M.toString(),b),S);continue}this.valueToObj(S[M],R,L)}R.endLoadingFromJson&&R.endLoadingFromJson()}}},w.prototype.toJsonObjectCore=function(S,R,I){if(I===void 0&&(I=!1),!S||!S.getType)return S;if(typeof S.getData=="function")return S.getData();var b={};return R!=null&&!R.className&&(b[w.typePropertyName]=R.getObjType(S.getType())),this.propertiesToJson(S,w.metaData.getProperties(S.getType()),b,I),this.propertiesToJson(S,this.getDynamicProperties(S),b,I),b},w.prototype.getDynamicProperties=function(S){return A.getDynamicPropertiesByObj(S)},w.prototype.addDynamicProperties=function(S,R,I){if(!S.getDynamicPropertyName)return I;var b=S.getDynamicPropertyName();if(!b)return I;R[b]&&(S[b]=R[b]);for(var D=this.getDynamicProperties(S),M=[],L=0;L<I.length;L++)M.push(I[L]);for(var L=0;L<D.length;L++)M.push(D[L]);return M},w.prototype.propertiesToJson=function(S,R,I,b){b===void 0&&(b=!1);for(var D=0;D<R.length;D++)this.valueToJson(S,I,R[D],b)},w.prototype.valueToJson=function(S,R,I,b){if(b===void 0&&(b=!1),!(I.isSerializable===!1||I.isLightSerializable===!1&&this.lightSerializing)){var D=I.getValue(S);if(!(!b&&I.isDefaultValue(D))){if(this.isValueArray(D)){for(var M=[],L=0;L<D.length;L++)M.push(this.toJsonObjectCore(D[L],I,b));D=M.length>0?M:null}else D=this.toJsonObjectCore(D,I,b);var U=typeof S.getPropertyValue=="function"&&S.getPropertyValue(I.name,null)!==null;(b&&U||!I.isDefaultValue(D))&&(!A.onSerializingProperty||!A.onSerializingProperty(S,I,D,R))&&(R[I.name]=D)}}},w.prototype.valueToObj=function(S,R,I){if(S!=null){if(this.removePos(I,S),I!=null&&I.hasToUseSetValue){I.setValue(R,S,this);return}if(this.isValueArray(S)){this.valueToArray(S,R,I.name,I);return}var b=this.createNewObj(S,I);b.newObj&&(this.toObjectCore(S,b.newObj),S=b.newObj),b.error||(I!=null?I.setValue(R,S,this):R[I.name]=S)}},w.prototype.removePos=function(S,R){!S||!S.type||S.type.indexOf("value")<0||this.removePosFromObj(R)},w.prototype.removePosFromObj=function(S){if(S){if(Array.isArray(S))for(var R=0;R<S.length;R++)this.removePosFromObj(S[R]);S[w.positionPropertyName]&&delete S[w.positionPropertyName]}},w.prototype.isValueArray=function(S){return S&&Array.isArray(S)},w.prototype.createNewObj=function(S,R){var I={newObj:null,error:null},b=this.getClassNameForNewObj(S,R);return I.newObj=b?w.metaData.createClass(b,S):null,I.error=this.checkNewObjectOnErrors(I.newObj,S,R,b),I},w.prototype.getClassNameForNewObj=function(S,R){var I=R!=null&&R.className?R.className:void 0;if(I||(I=S[w.typePropertyName]),!I)return I;I=I.toLowerCase();var b=R.classNamePart;return b&&I.indexOf(b)<0&&(I+=b),I},w.prototype.checkNewObjectOnErrors=function(S,R,I,b){var D=null;return S?D=this.getRequiredError(S,R):I.baseClassName&&(b?D=new l(I.name,I.baseClassName):D=new f(I.name,I.baseClassName)),D&&this.addNewError(D,R),D},w.prototype.getRequiredError=function(S,R){if(!S.getType||typeof S.getData=="function")return null;var I=S.getType(),b=w.metaData.getRequiredProperties(I);if(!Array.isArray(b))return null;for(var D=0;D<b.length;D++){var M=A.findProperty(I,b[D]);if(!(!M||!g.Helpers.isValueEmpty(M.defaultValue))&&!R[M.name])return new O(M.name,I)}return null},w.prototype.addNewError=function(S,R){R&&R[w.positionPropertyName]&&(S.at=R[w.positionPropertyName].start),this.errors.push(S)},w.prototype.valueToArray=function(S,R,I,b){if(!(R[I]&&!this.isValueArray(R[I]))){R[I]&&S.length>0&&R[I].splice(0,R[I].length);var D=R[I]?R[I]:[];this.addValuesIntoArray(S,D,b),R[I]||(R[I]=D)}},w.prototype.addValuesIntoArray=function(S,R,I){for(var b=0;b<S.length;b++){var D=this.createNewObj(S[b],I);D.newObj?(S[b].name&&(D.newObj.name=S[b].name),S[b].valueName&&(D.newObj.valueName=S[b].valueName.toString()),R.push(D.newObj),this.toObjectCore(S[b],D.newObj)):D.error||R.push(S[b])}},w.prototype.findProperty=function(S,R){if(!S)return null;for(var I=0;I<S.length;I++){var b=S[I];if(b.name==R||b.alternativeName==R)return b}return null},w.typePropertyName="type",w.positionPropertyName="pos",w.metaDataValue=new o,w}(),A=V.metaData},"./src/list.ts":function(n,r,i){i.r(r),i.d(r,"defaultListCss",function(){return C}),i.d(r,"ListModel",function(){return E});var s=i("./src/jsonobject.ts"),m=i("./src/actions/container.ts"),g=i("./src/actions/action.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=i("./src/element-helper.ts"),T=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),x=function(v,u,c,p){var o=arguments.length,a=o<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,c):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(v,u,c,p);else for(var h=v.length-1;h>=0;h--)(d=v[h])&&(a=(o<3?d(a):o>3?d(u,c,a):d(u,c))||a);return o>3&&a&&Object.defineProperty(u,c,a),a},C={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemIcon:"sv-list__item-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},E=function(v){T(u,v);function u(c,p,o,a,d,h){var f=v.call(this)||this;return f.onSelectionChanged=p,f.allowSelection=o,f.onFilterStringChangedCallback=d,f.elementId=h,f.onItemClick=function(l){f.isItemDisabled(l)||(f.isExpanded=!1,f.allowSelection&&(f.selectedItem=l),f.onSelectionChanged&&f.onSelectionChanged(l))},f.isItemDisabled=function(l){return l.enabled!==void 0&&!l.enabled},f.isItemSelected=function(l){return f.areSameItems(f.selectedItem,l)},f.isItemFocused=function(l){return f.areSameItems(f.focusedItem,l)},f.getItemClass=function(l){return new y.CssClassBuilder().append(f.cssClasses.item).append(f.cssClasses.itemWithIcon,!!l.iconName).append(f.cssClasses.itemDisabled,f.isItemDisabled(l)).append(f.cssClasses.itemFocused,f.isItemFocused(l)).append(f.cssClasses.itemSelected,f.isItemSelected(l)).append(l.css).toString()},f.getItemIndent=function(l){var O=l.level||0;return(O+1)*u.INDENT+"px"},f.setItems(c),f.selectedItem=a,f}return u.prototype.hasText=function(c,p){if(!p)return!0;var o=(c.title||"").toLocaleLowerCase();return o.indexOf(p.toLocaleLowerCase())>-1},u.prototype.isItemVisible=function(c){return c.visible&&(!this.shouldProcessFilter||this.hasText(c,this.filterString))},Object.defineProperty(u.prototype,"visibleItems",{get:function(){var c=this;return this.visibleActions.filter(function(p){return c.isItemVisible(p)})},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),u.prototype.onFilterStringChanged=function(c){var p=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(c),this.isEmpty=this.renderedActions.filter(function(o){return p.isItemVisible(o)}).length===0},u.prototype.scrollToItem=function(c,p){var o=this;p===void 0&&(p=0),setTimeout(function(){if(o.listContainerHtmlElement){var a=o.listContainerHtmlElement.querySelector("."+c);a&&setTimeout(function(){a.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},p)}},p)},u.prototype.setItems=function(c,p){var o=this;p===void 0&&(p=!0),v.prototype.setItems.call(this,c,p),this.elementId&&this.renderedActions.forEach(function(a){a.elementId=o.elementId+a.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},u.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.actions||[]).length>u.MINELEMENTCOUNT,v.prototype.onSet.call(this)},u.prototype.getDefaultCssClasses=function(){return C},u.prototype.areSameItems=function(c,p){return this.areSameItemsCallback?this.areSameItemsCallback(c,p):!!c&&!!p&&c.id==p.id},Object.defineProperty(u.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new g.Action({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),u.prototype.goToItems=function(c){if(c.key==="ArrowDown"||c.keyCode===40){var p=c.target.parentElement,o=p.parentElement.querySelector("ul");o&&o.firstElementChild&&(P.ElementHelper.focusElement(o.firstElementChild),c.preventDefault())}},u.prototype.onMouseMove=function(c){this.resetFocusedItem()},u.prototype.onKeyDown=function(c){var p=c.target;c.key==="ArrowDown"||c.keyCode===40?(P.ElementHelper.focusElement(P.ElementHelper.getNextElementPreorder(p)),c.preventDefault()):(c.key==="ArrowUp"||c.keyCode===38)&&(P.ElementHelper.focusElement(P.ElementHelper.getNextElementPostorder(p)),c.preventDefault())},u.prototype.onPointerDown=function(c,p){},u.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},u.prototype.onClickSearchClearButton=function(c){c.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},u.prototype.resetFocusedItem=function(){this.focusedItem=void 0},u.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},u.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},u.prototype.initFocusedItem=function(){var c=this;this.focusedItem=this.visibleItems.filter(function(p){return p.visible&&c.isItemSelected(p)})[0],this.focusedItem||this.focusFirstVisibleItem()},u.prototype.focusNextVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var c=this.visibleItems,p=c.indexOf(this.focusedItem),o=c[p+1];o?this.focusedItem=o:this.focusFirstVisibleItem()}},u.prototype.focusPrevVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var c=this.visibleItems,p=c.indexOf(this.focusedItem),o=c[p-1];o?this.focusedItem=o:this.focusLastVisibleItem()}},u.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},u.prototype.initListContainerHtmlElement=function(c){this.listContainerHtmlElement=c},u.prototype.onLastItemRended=function(c){this.isAllDataLoaded||c===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=P.ElementHelper.hasVerticalScroller(this.scrollableContainer))},u.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},u.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},u.prototype.addScrollEventListener=function(c){c&&(this.scrollHandler=c),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},u.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},u.prototype.dispose=function(){v.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose()},u.INDENT=16,u.MINELEMENTCOUNT=10,x([Object(s.property)({defaultValue:!0,onSet:function(c,p){p.onSet()}})],u.prototype,"searchEnabled",void 0),x([Object(s.property)({defaultValue:!1})],u.prototype,"showFilter",void 0),x([Object(s.property)({defaultValue:!1})],u.prototype,"isExpanded",void 0),x([Object(s.property)({})],u.prototype,"selectedItem",void 0),x([Object(s.property)()],u.prototype,"focusedItem",void 0),x([Object(s.property)({onSet:function(c,p){p.onFilterStringChanged(p.filterString)}})],u.prototype,"filterString",void 0),x([Object(s.property)({defaultValue:!1})],u.prototype,"hasVerticalScroller",void 0),x([Object(s.property)({defaultValue:!0})],u.prototype,"isAllDataLoaded",void 0),x([Object(s.property)({defaultValue:!1})],u.prototype,"showSearchClearButton",void 0),x([Object(s.property)({defaultValue:!0})],u.prototype,"renderElements",void 0),u}(m.ActionContainer)},"./src/localizablestring.ts":function(n,r,i){i.r(r),i.d(r,"LocalizableString",function(){return P}),i.d(r,"LocalizableStrings",function(){return T});var s=i("./src/helpers.ts"),m=i("./src/surveyStrings.ts"),g=i("./src/settings.ts"),y=i("./src/base.ts"),P=function(){function x(C,E,v){E===void 0&&(E=!1),this.owner=C,this.useMarkdown=E,this.name=v,this.values={},this.htmlValues={},this.onStringChanged=new y.EventBase,this.onCreating()}return Object.defineProperty(x,"defaultLocale",{get:function(){return g.settings.defaultLocaleName},set:function(C){g.settings.defaultLocaleName=C},enumerable:!1,configurable:!0}),x.prototype.getIsMultiple=function(){return!1},Object.defineProperty(x.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var C=this.owner.getLocale();if(C||!this.sharedData)return C}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),x.prototype.strChanged=function(){this.searchableText=void 0,this.renderedText!==void 0&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(x.prototype,"text",{get:function(){return this.pureText},set:function(C){this.setLocaleText(this.locale,C)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"calculatedText",{get:function(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),x.prototype.calcText=function(){var C=this.pureText;return C&&this.owner&&this.owner.getProcessedText&&C.indexOf("{")>-1&&(C=this.owner.getProcessedText(C)),this.onGetTextCallback&&(C=this.onGetTextCallback(C)),C},Object.defineProperty(x.prototype,"pureText",{get:function(){var C=this.locale;C||(C=this.defaultLoc);var E=this.getValue(C);if(!E&&C===this.defaultLoc&&(E=this.getValue(m.surveyLocalization.defaultLocale)),!E){var v=this.getRootDialect(C);v&&(E=this.getValue(v))}return!E&&C!==this.defaultLoc&&(E=this.getValue(this.defaultLoc)),!E&&this.getLocalizationName()&&(E=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(E=this.onGetLocalizationTextCallback(E))),E||(E=""),E},enumerable:!1,configurable:!0}),x.prototype.getRootDialect=function(C){if(!C)return C;var E=C.indexOf("-");return E>-1?C.substring(0,E):""},x.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},x.prototype.getLocalizationStr=function(){var C=this.getLocalizationName();return C?m.surveyLocalization.getString(C,this.locale):""},Object.defineProperty(x.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),x.prototype.getLocaleText=function(C){C||(C=this.defaultLoc);var E=this.getValue(C);return E||""},x.prototype.getLocaleTextWithDefault=function(C){var E=this.getLocaleText(C);return!E&&this.onGetDefaultTextCallback?this.onGetDefaultTextCallback():E},x.prototype.setLocaleText=function(C,E){if(C=this.getValueLoc(C),!this.storeDefaultText&&E==this.getLocaleTextWithDefault(C)){if(E||C&&C!==this.defaultLoc)return;var v=m.surveyLocalization.defaultLocale,u=this.getValue(v);v&&u&&(this.setValue(v,E),this.fireStrChanged(v,u));return}if(!(!g.settings.storeDuplicatedTranslations&&E&&C&&C!=this.defaultLoc&&!this.getValue(C)&&E==this.getLocaleText(this.defaultLoc))){var c=this.curLocale;C||(C=this.defaultLoc);var p=this.onStrChanged&&C===c?this.pureText:void 0;delete this.htmlValues[C],E?typeof E=="string"&&(this.canRemoveLocValue(C,E)?this.setLocaleText(C,null):(this.setValue(C,E),C==this.defaultLoc&&this.deleteValuesEqualsToDefault(E))):this.getValue(C)&&this.deleteValue(C),this.fireStrChanged(C,p)}},Object.defineProperty(x.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),x.prototype.canRemoveLocValue=function(C,E){if(g.settings.storeDuplicatedTranslations||C===this.defaultLoc)return!1;var v=this.getRootDialect(C);if(v){var u=this.getLocaleText(v);return u?u==E:this.canRemoveLocValue(v,E)}else return E==this.getLocaleText(this.defaultLoc)},x.prototype.fireStrChanged=function(C,E){if(this.strChanged(),!!this.onStrChanged){var v=this.pureText;(C!==this.curLocale||E!==v)&&this.onStrChanged(E,v)}},x.prototype.hasNonDefaultText=function(){var C=this.getValuesKeys();return C.length==0?!1:C.length>1||C[0]!=this.defaultLoc},x.prototype.getLocales=function(){var C=this.getValuesKeys();return C.length==0?[]:C},x.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var C=this.getValuesKeys();return C.length==0?null:C.length==1&&C[0]==g.settings.defaultLocaleName&&!g.settings.serializeLocalizableStringAsObject?this.values[C[0]]:this.values},x.prototype.setJson=function(C){if(this.sharedData){this.sharedData.setJson(C);return}if(this.values={},this.htmlValues={},!!C){if(typeof C=="string")this.setLocaleText(null,C);else for(var E in C)this.setLocaleText(E,C[E]);this.strChanged()}},Object.defineProperty(x.prototype,"renderAs",{get:function(){return!this.owner||typeof this.owner.getRenderer!="function"?x.defaultRenderer:this.owner.getRenderer(this.name)||x.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"renderAsData",{get:function(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),x.prototype.equals=function(C){return this.sharedData?this.sharedData.equals(C):!C||!C.values?!1:s.Helpers.isTwoValueEquals(this.values,C.values,!1,!0,!1)},x.prototype.setFindText=function(C){if(this.searchText!=C){if(this.searchText=C,!this.searchableText){var E=this.textOrHtml;this.searchableText=E?E.toLowerCase():""}var v=this.searchableText,u=v&&C?v.indexOf(C):void 0;return u<0&&(u=void 0),(u!=null||this.searchIndex!=u)&&(this.searchIndex=u,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}},x.prototype.onChanged=function(){},x.prototype.onCreating=function(){},x.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var C=this.locale;if(C||(C=this.defaultLoc),this.htmlValues[C]!==void 0)return!!this.htmlValues[C];var E=this.calculatedText;if(!E||this.getLocalizationName()&&E===this.getLocalizationStr())return!1;var v=this.owner.getMarkdownHtml(E,this.name);return this.htmlValues[C]=v,!!v},x.prototype.getHtmlValue=function(){var C=this.locale;return C||(C=this.defaultLoc),this.htmlValues[C]},x.prototype.deleteValuesEqualsToDefault=function(C){if(!g.settings.storeDuplicatedTranslations)for(var E=this.getValuesKeys(),v=0;v<E.length;v++)E[v]!=this.defaultLoc&&this.getValue(E[v])==C&&this.deleteValue(E[v])},x.prototype.getValue=function(C){return this.sharedData?this.sharedData.getValue(C):this.values[this.getValueLoc(C)]},x.prototype.setValue=function(C,E){this.sharedData?this.sharedData.setValue(C,E):this.values[this.getValueLoc(C)]=E},x.prototype.deleteValue=function(C){this.sharedData?this.sharedData.deleteValue(C):delete this.values[this.getValueLoc(C)]},x.prototype.getValueLoc=function(C){return this.disableLocalization?g.settings.defaultLocaleName:C},x.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(x.prototype,"defaultLoc",{get:function(){return g.settings.defaultLocaleName},enumerable:!1,configurable:!0}),x.SerializeAsObject=!1,x.defaultRenderer="sv-string-viewer",x.editableRenderer="sv-string-editor",x}(),T=function(){function x(C){this.owner=C,this.values={}}return x.prototype.getIsMultiple=function(){return!0},Object.defineProperty(x.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){return this.getValue("")},set:function(C){this.setValue("",C)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join(`
`):""},set:function(C){this.value=C?C.split(`
`):[]},enumerable:!1,configurable:!0}),x.prototype.getLocaleText=function(C){var E=this.getValueCore(C,!C||C===this.locale);return!E||!Array.isArray(E)||E.length==0?"":E.join(`
`)},x.prototype.setLocaleText=function(C,E){var v=E?E.split(`
`):null;this.setValue(C,v)},x.prototype.getValue=function(C){return this.getValueCore(C)},x.prototype.getValueCore=function(C,E){if(E===void 0&&(E=!0),C=this.getLocale(C),this.values[C])return this.values[C];if(E){var v=g.settings.defaultLocaleName;if(C!==v&&this.values[v])return this.values[v]}return[]},x.prototype.setValue=function(C,E){C=this.getLocale(C);var v=s.Helpers.createCopy(this.values);!E||E.length==0?delete this.values[C]:this.values[C]=E,this.onValueChanged&&this.onValueChanged(v,this.values)},x.prototype.hasValue=function(C){return C===void 0&&(C=""),!this.isEmpty&&this.getValue(C).length>0},Object.defineProperty(x.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),x.prototype.getLocale=function(C){return C||(C=this.locale,C||g.settings.defaultLocaleName)},x.prototype.getLocales=function(){var C=this.getValuesKeys();return C.length==0?[]:C},x.prototype.getJson=function(){var C=this.getValuesKeys();return C.length==0?null:C.length==1&&C[0]==g.settings.defaultLocaleName&&!g.settings.serializeLocalizableStringAsObject?this.values[C[0]]:s.Helpers.createCopy(this.values)},x.prototype.setJson=function(C){if(this.values={},!!C)if(Array.isArray(C))this.setValue(null,C);else for(var E in C)this.setValue(E,C[E])},x.prototype.getValuesKeys=function(){return Object.keys(this.values)},x}()},"./src/localization/english.ts":function(n,r,i){i.r(r),i.d(r,"englishStrings",function(){return s});var s={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain visible pages or questions.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Tap to rate here...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} variant(s).",maxSelectError:"Please select no more than {0} variant(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",fileDragAreaPlaceholder:"Drop a file here or click the button below to load the file.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Choose file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:`There are no entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"There are no entries.",more:"More",tagboxDoneButtonCaption:"OK"}},"./src/martixBase.ts":function(n,r,i){i.r(r),i.d(r,"QuestionMatrixBaseModel",function(){return E});var s=i("./src/itemvalue.ts"),m=i("./src/question.ts"),g=i("./src/jsonobject.ts"),y=i("./src/conditions.ts"),P=i("./src/helpers.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),C=function(v,u,c,p){var o=arguments.length,a=o<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,c):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(v,u,c,p);else for(var h=v.length-1;h>=0;h--)(d=v[h])&&(a=(o<3?d(a):o>3?d(u,c,a):d(u,c))||a);return o>3&&a&&Object.defineProperty(u,c,a),a},E=function(v){x(u,v);function u(c){var p=v.call(this,c)||this;return p.generatedVisibleRows=null,p.generatedTotalRow=null,p.filteredRows=null,p.filteredColumns=null,p.columns=p.createColumnValues(),p.rows=p.createItemValues("rows"),p}return u.prototype.createColumnValues=function(){return this.createItemValues("columns")},u.prototype.getType=function(){return"matrixbase"},u.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(u.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(c){this.setPropertyValue("showHeader",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(c){this.setPropertyValue("columns",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(c){var p=this.processRowsOnSet(c);this.setPropertyValue("rows",p),this.filterItems()},enumerable:!1,configurable:!0}),u.prototype.processRowsOnSet=function(c){return c},u.prototype.getVisibleRows=function(){return[]},Object.defineProperty(u.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(c){this.setPropertyValue("rowsVisibleIf",c),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(c){this.setPropertyValue("columnsVisibleIf",c),this.filterItems()},enumerable:!1,configurable:!0}),u.prototype.runCondition=function(c,p){v.prototype.runCondition.call(this,c,p),this.runItemsCondition(c,p)},u.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):this.isLoadingFromJson||!this.data?!1:this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},u.prototype.onColumnsChanged=function(){},u.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},u.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},u.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},u.prototype.hasRowsAsItems=function(){return!0},u.prototype.runItemsCondition=function(c,p){var o=null;if(this.filteredRows&&!P.Helpers.isValueEmpty(this.defaultValue)){o=[];for(var a=0;a<this.filteredRows.length;a++)o.push(this.filteredRows[a])}var d=this.hasRowsAsItems()&&this.runConditionsForRows(c,p),h=this.runConditionsForColumns(c,p);return d=h||d,d&&(this.isClearValueOnHidden&&(this.filteredColumns||this.filteredRows)&&this.clearIncorrectValues(),o&&this.restoreNewVisibleRowsValues(o),this.clearGeneratedRows(),h&&this.onColumnsChanged(),this.onRowsChanged()),d},u.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},u.prototype.runConditionsForRows=function(c,p){var o=!!this.survey&&this.survey.areInvisibleElementsShowing,a=!o&&this.rowsVisibleIf?new y.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var d=s.ItemValue.runConditionsForItems(this.rows,this.filteredRows,a,c,p,!o);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),d},u.prototype.runConditionsForColumns=function(c,p){var o=!!this.survey&&!this.survey.areInvisibleElementsShowing,a=o&&this.columnsVisibleIf?new y.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var d=s.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,a,c,p,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),d},u.prototype.clearIncorrectValues=function(){var c=this.value;if(c){var p=null,o=!1,a=this.filteredRows?this.filteredRows:this.rows,d=this.filteredColumns?this.filteredColumns:this.columns;for(var h in c)s.ItemValue.getItemByValue(a,h)&&s.ItemValue.getItemByValue(d,c[h])?(p==null&&(p={}),p[h]=c[h]):o=!0;o&&(this.value=p),v.prototype.clearIncorrectValues.call(this)}},u.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var c=this.getUnbindValue(this.value),p=this.rows,o=0;o<p.length;o++){var a=p[o].value;c[a]&&!p[o].isVisible&&delete c[a]}this.isTwoValueEquals(c,this.value)||(this.value=c)}},u.prototype.restoreNewVisibleRowsValues=function(c){var p=this.filteredRows?this.filteredRows:this.rows,o=this.defaultValue,a=this.getUnbindValue(this.value),d=!1;for(var h in o)s.ItemValue.getItemByValue(p,h)&&!s.ItemValue.getItemByValue(c,h)&&(a==null&&(a={}),a[h]=o[h],d=!0);d&&(this.value=a)},u.prototype.needResponsiveWidth=function(){return!0},u.prototype.getTableCss=function(){return new T.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()},Object.defineProperty(u.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth","")},set:function(c){this.setPropertyValue("columnMinWidth",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth","")},set:function(c){this.setPropertyValue("rowTitleWidth",c)},enumerable:!1,configurable:!0}),C([Object(g.property)({defaultValue:"middle"})],u.prototype,"verticalAlign",void 0),C([Object(g.property)()],u.prototype,"alternateRows",void 0),u}(m.Question);g.Serializer.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1}],void 0,"question")},"./src/multiSelectListModel.ts":function(n,r,i){i.r(r),i.d(r,"MultiSelectListModel",function(){return P});var s=i("./src/jsonobject.ts"),m=i("./src/list.ts"),g=function(){var T=function(x,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,v){E.__proto__=v}||function(E,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(E[u]=v[u])},T(x,C)};return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(x,C);function E(){this.constructor=x}x.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}}(),y=function(T,x,C,E){var v=arguments.length,u=v<3?x:E===null?E=Object.getOwnPropertyDescriptor(x,C):E,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(T,x,C,E);else for(var p=T.length-1;p>=0;p--)(c=T[p])&&(u=(v<3?c(u):v>3?c(x,C,u):c(x,C))||u);return v>3&&u&&Object.defineProperty(x,C,u),u},P=function(T){g(x,T);function x(C,E,v,u,c,p){var o=T.call(this,C,E,v,void 0,c,p)||this;return o.onItemClick=function(a){o.isItemDisabled(a)||(o.isExpanded=!1,o.isItemSelected(a)?(o.selectedItems.splice(o.selectedItems.indexOf(a),1)[0],o.onSelectionChanged&&o.onSelectionChanged(a,"removed")):(o.selectedItems.push(a),o.onSelectionChanged&&o.onSelectionChanged(a,"added")))},o.isItemDisabled=function(a){return a.enabled!==void 0&&!a.enabled},o.isItemSelected=function(a){return!!o.allowSelection&&o.selectedItems.filter(function(d){return o.areSameItems(d,a)}).length>0},o.setSelectedItems(u||[]),o}return x.prototype.updateItemState=function(){var C=this;this.actions.forEach(function(E){var v=C.isItemSelected(E);E.visible=C.hideSelectedItems?!v:!0})},x.prototype.updateState=function(){var C=this;this.updateItemState(),this.isEmpty=this.renderedActions.filter(function(E){return C.isItemVisible(E)}).length===0},x.prototype.setSelectedItems=function(C){this.selectedItems=C,this.updateState()},x.prototype.selectFocusedItem=function(){T.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},y([Object(s.property)()],x.prototype,"hideSelectedItems",void 0),x}(m.ListModel)},"./src/notifier.ts":function(n,r,i){i.r(r),i.d(r,"Notifier",function(){return C});var s=i("./src/base.ts"),m=i("./src/settings.ts"),g=i("./src/jsonobject.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=i("./src/actions/container.ts"),T=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),x=function(E,v,u,c){var p=arguments.length,o=p<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,u):c,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(E,v,u,c);else for(var d=E.length-1;d>=0;d--)(a=E[d])&&(o=(p<3?a(o):p>3?a(v,u,o):a(v,u))||o);return p>3&&o&&Object.defineProperty(v,u,o),o},C=function(E){T(v,E);function v(u){var c=E.call(this)||this;return c.cssClasses=u,c.timeout=m.settings.notifications.lifetime,c.timer=void 0,c.actionsVisibility={},c.actionBar=new P.ActionContainer,c.actionBar.updateCallback=function(p){c.actionBar.actions.forEach(function(o){return o.cssClasses={}})},c.css=c.cssClasses.root,c}return v.prototype.getCssClass=function(u){return new y.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.info,u!=="error"&&u!=="success").append(this.cssClasses.error,u==="error").append(this.cssClasses.success,u==="success").append(this.cssClasses.shown,this.active).toString()},v.prototype.updateActionsVisibility=function(u){var c=this;this.actionBar.actions.forEach(function(p){return p.visible=c.actionsVisibility[p.id]===u})},v.prototype.notify=function(u,c,p){var o=this;c===void 0&&(c="info"),p===void 0&&(p=!1),this.isDisplayed=!0,setTimeout(function(){o.updateActionsVisibility(c),o.message=u,o.active=!0,o.css=o.getCssClass(c),o.timer&&(clearTimeout(o.timer),o.timer=void 0),p||(o.timer=setTimeout(function(){o.timer=void 0,o.active=!1,o.css=o.getCssClass(c)},o.timeout))},1)},v.prototype.addAction=function(u,c){u.visible=!1,u.innerCss=this.cssClasses.button;var p=this.actionBar.addAction(u);this.actionsVisibility[p.id]=c},x([Object(g.property)({defaultValue:!1})],v.prototype,"active",void 0),x([Object(g.property)({defaultValue:!1})],v.prototype,"isDisplayed",void 0),x([Object(g.property)()],v.prototype,"message",void 0),x([Object(g.property)()],v.prototype,"css",void 0),v}(s.Base)},"./src/page.ts":function(n,r,i){i.r(r),i.d(r,"PageModel",function(){return x});var s=i("./src/jsonobject.ts"),m=i("./src/panel.ts"),g=i("./src/utils/cssClassBuilder.ts"),y=i("./src/drag-drop-page-helper-v1.ts"),P=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),T=function(C,E,v,u){var c=arguments.length,p=c<3?E:u===null?u=Object.getOwnPropertyDescriptor(E,v):u,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(C,E,v,u);else for(var a=C.length-1;a>=0;a--)(o=C[a])&&(p=(c<3?o(p):c>3?o(E,v,p):o(E,v))||p);return c>3&&p&&Object.defineProperty(E,v,p),p},x=function(C){P(E,C);function E(v){v===void 0&&(v="");var u=C.call(this,v)||this;return u.hasShownValue=!1,u.timeSpent=0,u.locTitle.onGetTextCallback=function(c){return u.canShowPageNumber()&&c?u.num+". "+c:c},u.createLocalizableString("navigationTitle",u,!0),u.createLocalizableString("navigationDescription",u,!0),u.dragDropPageHelper=new y.DragDropPageHelperV1(u),u}return E.prototype.getType=function(){return"page"},E.prototype.toString=function(){return this.name},Object.defineProperty(E.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),E.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},E.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(E.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(v){this.setLocalizableStringText("navigationTitle",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(v){this.setLocalizableStringText("navigationDescription",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),E.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(E.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(v){this.setPropertyValue("passed",v)},enumerable:!1,configurable:!0}),E.prototype.delete=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},E.prototype.onFirstRendering=function(){this.wasShown||C.prototype.onFirstRendering.call(this)},Object.defineProperty(E.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(v){this.setPropertyValue("visibleIndex",v)},enumerable:!1,configurable:!0}),E.prototype.canRenderFirstRows=function(){return!this.isDesignMode||this.visibleIndex==0},Object.defineProperty(E.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),E.prototype.calcCssClasses=function(v){var u={page:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(u.page,v.page),v.pageTitle&&(u.pageTitle=v.pageTitle),v.pageDescription&&(u.pageDescription=v.pageDescription),v.row&&(u.row=v.row),v.pageRow&&(u.pageRow=v.pageRow),v.rowMultiple&&(u.rowMultiple=v.rowMultiple),v.rowCompact&&(u.rowCompact=v.rowCompact),this.survey&&this.survey.updatePageCssClasses(this,u),u},Object.defineProperty(E.prototype,"cssTitle",{get:function(){return this.cssClasses.page?new g.CssClassBuilder().append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cssRoot",{get:function(){return!this.cssClasses.page||!this.survey?"":new g.CssClassBuilder().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(v){this.setPropertyValue("navigationButtonsVisibility",v.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),E.prototype.setWasShown=function(v){if(v!=this.hasShownValue&&(this.hasShownValue=v,!(this.isDesignMode||v!==!0))){for(var u=this.elements,c=0;c<u.length;c++)u[c].isPanel&&u[c].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},E.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},E.prototype.getAllPanels=function(v,u){v===void 0&&(v=!1),u===void 0&&(u=!1);var c=new Array;return this.addPanelsIntoList(c,v,u),c},E.prototype.getPanels=function(v,u){return v===void 0&&(v=!1),u===void 0&&(u=!1),this.getAllPanels(v,u)},Object.defineProperty(E.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(v){this.setPropertyValue("maxTimeToFinish",v)},enumerable:!1,configurable:!0}),E.prototype.onNumChanged=function(v){},E.prototype.onVisibleChanged=function(){this.isRandomizing||(C.prototype.onVisibleChanged.call(this),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))},E.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},E.prototype.dragDropStart=function(v,u,c){c===void 0&&(c=-1),this.dragDropPageHelper.dragDropStart(v,u,c)},E.prototype.dragDropMoveTo=function(v,u,c){return u===void 0&&(u=!1),c===void 0&&(c=!1),this.dragDropPageHelper.dragDropMoveTo(v,u,c)},E.prototype.dragDropFinish=function(v){return v===void 0&&(v=!1),this.dragDropPageHelper.dragDropFinish(v)},E.prototype.ensureRowsVisibility=function(){C.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(v){return v.ensureRowsVisibility()})},T([Object(s.property)({defaultValue:-1,onSet:function(v,u){return u.onNumChanged(v)}})],E.prototype,"num",void 0),E}(m.PanelModelBase);s.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(C){return!!C.survey&&(C.survey.progressBarType==="buttons"||C.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(C){return!!C.survey&&C.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new x},"panelbase")},"./src/panel.ts":function(n,r,i){i.r(r),i.d(r,"QuestionRowModel",function(){return o}),i.d(r,"PanelModelBase",function(){return a}),i.d(r,"PanelModel",function(){return d});var s=i("./src/jsonobject.ts"),m=i("./src/helpers.ts"),g=i("./src/base.ts"),y=i("./src/survey-element.ts"),P=i("./src/question.ts"),T=i("./src/questionfactory.ts"),x=i("./src/error.ts"),C=i("./src/settings.ts"),E=i("./src/utils/utils.ts"),v=i("./src/utils/cssClassBuilder.ts"),u=i("./src/drag-drop-panel-helper-v1.ts"),c=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),p=function(h,f,l,O){var V=arguments.length,A=V<3?f:O===null?O=Object.getOwnPropertyDescriptor(f,l):O,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,f,l,O);else for(var S=h.length-1;S>=0;S--)(w=h[S])&&(A=(V<3?w(A):V>3?w(f,l,A):w(f,l))||A);return V>3&&A&&Object.defineProperty(f,l,A),A},o=function(h){c(f,h);function f(l){var O=h.call(this)||this;return O.panel=l,O._scrollableParent=void 0,O._updateVisibility=void 0,O.idValue=f.getRowId(),O.visible=l.areInvisibleElementsShowing,O.createNewArray("elements"),O.createNewArray("visibleElements"),O}return f.getRowId=function(){return"pr_"+f.rowCounter++},f.prototype.startLazyRendering=function(l,O){var V=this;O===void 0&&(O=E.findScrollableParent),this._scrollableParent=O(l),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var A=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!A,A&&(this._updateVisibility=function(){var w=Object(E.isElementVisible)(l,50);!V.isNeedRender&&w&&(V.isNeedRender=!0,V.stopLazyRendering())},setTimeout(function(){V._scrollableParent&&V._scrollableParent.addEventListener&&V._scrollableParent.addEventListener("scroll",V._updateVisibility),V.ensureVisibility()},10))},f.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},f.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},f.prototype.setIsLazyRendering=function(l){this.isLazyRenderingValue=l,this.isNeedRender=!l},f.prototype.isLazyRendering=function(){return this.isLazyRenderingValue===!0},Object.defineProperty(f.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(l){this.setPropertyValue("visible",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(l){this.setPropertyValue("isneedrender",l)},enumerable:!1,configurable:!0}),f.prototype.updateVisible=function(){var l=this.calcVisible();this.setWidth(),this.visible=l},f.prototype.addElement=function(l){this.elements.push(l),this.updateVisible()},Object.defineProperty(f.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),f.prototype.setWidth=function(){var l,O=this.visibleElements.length;if(O!=0){for(var V=this.visibleElements.length===1,A=0,w=[],S=0;S<this.elements.length;S++){var R=this.elements[S];if(this.setElementMaxMinWidth(R),R.isVisible){R.isSingleInRow=V;var I=this.getElementWidth(R);I&&(R.renderWidth=this.getRenderedWidthFromWidth(I),w.push(R)),A<O-1&&!(this.panel.isDefaultV2Theme||!((l=this.panel.parentQuestion)===null||l===void 0)&&l.isDefaultV2Theme)?R.rightIndent=1:R.rightIndent=0,A++}else R.renderWidth=""}for(var S=0;S<this.elements.length;S++){var R=this.elements[S];!R.isVisible||w.indexOf(R)>-1||(w.length==0?R.renderWidth=(100/O).toFixed(6)+"%":R.renderWidth=this.getRenderedCalcWidth(R,w,O))}}},f.prototype.setElementMaxMinWidth=function(l){l.width&&typeof l.width=="string"&&l.width.indexOf("%")===-1&&(l.minWidth=l.width,l.maxWidth=l.width)},f.prototype.getRenderedCalcWidth=function(l,O,V){for(var A="100%",w=0;w<O.length;w++)A+=" - "+O[w].renderWidth;var S=V-O.length;return S>1&&(A="("+A+")/"+S.toString()),"calc("+A+")"},f.prototype.getElementWidth=function(l){var O=l.width;return!O||typeof O!="string"?"":O.trim()},f.prototype.getRenderedWidthFromWidth=function(l){return m.Helpers.isNumber(l)?l+"px":l},f.prototype.calcVisible=function(){for(var l=[],O=0;O<this.elements.length;O++)this.elements[O].isVisible&&l.push(this.elements[O]);return this.needToUpdateVisibleElements(l)&&this.setPropertyValue("visibleElements",l),l.length>0},f.prototype.needToUpdateVisibleElements=function(l){if(l.length!==this.visibleElements.length)return!0;for(var O=0;O<l.length;O++)if(l[O]!==this.visibleElements[O])return!0;return!1},f.prototype.dispose=function(){h.prototype.dispose.call(this),this.stopLazyRendering()},f.prototype.getRowCss=function(){return new v.CssClassBuilder().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||!!this.panel.originalPage&&!this.panel.survey.isShowingPreview).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},f.rowCounter=100,f}(g.Base),a=function(h){c(f,h);function f(l){l===void 0&&(l="");var O=h.call(this,l)||this;return O.isQuestionsReady=!1,O.questionsValue=new Array,O.isRandomizing=!1,O.createNewArray("rows"),O.elementsValue=O.createNewArray("elements",O.onAddElement.bind(O),O.onRemoveElement.bind(O)),O.id=f.getPanelId(),O.addExpressionProperty("visibleIf",function(V,A){O.visible=A===!0},function(V){return!O.areInvisibleElementsShowing}),O.addExpressionProperty("enableIf",function(V,A){O.readOnly=A===!1}),O.addExpressionProperty("requiredIf",function(V,A){O.isRequired=A===!0}),O.createLocalizableString("requiredErrorText",O),O.registerPropertyChangedHandlers(["questionTitleLocation"],function(){O.onVisibleChanged.bind(O),O.updateElementCss(!0)}),O.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){O.updateVisibleIndexes()}),O.dragDropPanelHelper=new u.DragDropPanelHelperV1(O),O}return f.getPanelId=function(){return"sp_"+f.panelCounter++},f.prototype.getType=function(){return"panelbase"},f.prototype.setSurveyImpl=function(l,O){h.prototype.setSurveyImpl.call(this,l,O),this.isDesignMode&&this.onVisibleChanged();for(var V=0;V<this.elements.length;V++)this.elements[V].setSurveyImpl(l,O)},f.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(f.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.title.length>0||this.showTitle&&this.isDesignMode&&C.settings.allowShowEmptyTitleInDesignMode},enumerable:!1,configurable:!0}),f.prototype.canShowTitle=function(){return!0},Object.defineProperty(f.prototype,"_showDescription",{get:function(){return this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&C.settings.allowShowEmptyTitleInDesignMode&&C.settings.allowShowEmptyDescriptionInDesignMode},enumerable:!1,configurable:!0}),f.prototype.localeChanged=function(){h.prototype.localeChanged.call(this);for(var l=0;l<this.elements.length;l++)this.elements[l].localeChanged()},f.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this);for(var l=0;l<this.elements.length;l++)this.elements[l].locStrsChanged()},Object.defineProperty(f.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(l){this.setLocalizableStringText("requiredErrorText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(l){this.setPropertyValue("questionsOrder",l)},enumerable:!1,configurable:!0}),f.prototype.canRandomize=function(l){return l&&this.questionsOrder!=="initial"||this.questionsOrder==="random"},f.prototype.randomizeElements=function(l){if(!(!this.canRandomize(l)||this.isRandomizing)){this.isRandomizing=!0;for(var O=[],V=this.elements,A=0;A<V.length;A++)O.push(V[A]);var w=m.Helpers.randomizeArray(O);this.setArrayPropertyDirectly("elements",w,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(f.prototype,"areQuestionsRandomized",{get:function(){var l=this.questionsOrder=="default"&&this.survey?this.survey.questionsOrder:this.questionsOrder;return l=="random"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(l){this.setPropertyValue("parent",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"depth",{get:function(){return this.parent==null?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(l){this.setPropertyValue("visibleIf",l)},enumerable:!1,configurable:!0}),f.prototype.calcCssClasses=function(l){var O={panel:{},error:{},row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(O.panel,l.panel),this.copyCssClasses(O.error,l.error),l.pageRow&&(O.pageRow=l.pageRow),l.rowCompact&&(O.rowCompact=l.rowCompact),l.row&&(O.row=l.row),l.rowMultiple&&(O.rowMultiple=l.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,O),O},Object.defineProperty(f.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(l){this.setPropertyValue("id",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.getPanel=function(){return this},f.prototype.getLayoutType=function(){return"row"},f.prototype.isLayoutTypeSupported=function(l){return l!=="flow"},Object.defineProperty(f.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var l=0;l<this.elements.length;l++){var O=this.elements[l];if(O.isPanel)for(var V=O.questions,A=0;A<V.length;A++)this.questionsValue.push(V[A]);else this.questionsValue.push(O)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),f.prototype.getValidName=function(l){return l&&l.trim()},f.prototype.getQuestionByName=function(l){for(var O=this.questions,V=0;V<O.length;V++)if(O[V].name==l)return O[V];return null},f.prototype.getElementByName=function(l){for(var O=this.elements,V=0;V<O.length;V++){var A=O[V];if(A.name==l)return A;var w=A.getPanel();if(w){var S=w.getElementByName(l);if(S)return S}}return null},f.prototype.getQuestionByValueName=function(l){for(var O=this.questions,V=0;V<O.length;V++)if(O[V].getValueName()==l)return O[V];return null},f.prototype.getValue=function(){var l={};return this.collectValues(l,0),l},f.prototype.collectValues=function(l,O){var V=this.elements;O===0&&(V=this.questions);for(var A=0;A<V.length;A++){var w=V[A];if(w.isPanel||w.isPage){var S={};w.collectValues(S,O-1)&&(l[w.name]=S)}else{var R=w;if(!R.isEmpty()){var I=R.getValueName();if(l[I]=R.value,this.data){var b=this.data.getComment(I);b&&(l[I+g.Base.commentSuffix]=b)}}}}return!0},f.prototype.getDisplayValue=function(l){for(var O={},V=this.questions,A=0;A<V.length;A++){var w=V[A];if(!w.isEmpty()){var S=l?w.title:w.getValueName();O[S]=w.getDisplayValue(l)}}return O},f.prototype.getComments=function(){var l={};if(!this.data)return l;for(var O=this.questions,V=0;V<O.length;V++){var A=O[V],w=this.data.getComment(A.getValueName());w&&(l[A.getValueName()]=w)}return l},f.prototype.clearIncorrectValues=function(){for(var l=0;l<this.elements.length;l++)this.elements[l].clearIncorrectValues()},f.prototype.clearErrors=function(){for(var l=0;l<this.elements.length;l++)this.elements[l].clearErrors();this.errors=[]},f.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(f.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),f.prototype.getElementsInDesign=function(l){return this.elements},f.prototype.containsElement=function(l){for(var O=0;O<this.elements.length;O++){var V=this.elements[O];if(V==l)return!0;var A=V.getPanel();if(A&&A.containsElement(l))return!0}return!1},Object.defineProperty(f.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(l){this.setPropertyValue("isRequired",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(l){this.setPropertyValue("requiredIf",l)},enumerable:!1,configurable:!0}),f.prototype.searchText=function(l,O){h.prototype.searchText.call(this,l,O);for(var V=0;V<this.elements.length;V++)this.elements[V].searchText(l,O)},f.prototype.hasErrors=function(l,O,V){return l===void 0&&(l=!0),O===void 0&&(O=!1),V===void 0&&(V=null),!this.validate(l,O,V)},f.prototype.validate=function(l,O,V){return l===void 0&&(l=!0),O===void 0&&(O=!1),V===void 0&&(V=null),V=V||{fireCallback:l,focuseOnFirstError:O,firstErrorQuestion:null,result:!1},V.result!==!0&&(V.result=!1),this.hasErrorsCore(V),V.firstErrorQuestion&&V.firstErrorQuestion.focus(!0),!V.result},f.prototype.hasErrorsInPanels=function(l){var O=[];if(this.hasRequiredError(l,O),this.survey){var V=this.survey.validatePanel(this);V&&(O.push(V),l.result=!0)}l.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,O),this.errors=O)},f.prototype.getErrorCustomText=function(l,O){return this.survey?this.survey.getSurveyErrorCustomText(this,l,O):l},f.prototype.hasRequiredError=function(l,O){if(this.isRequired){var V=[];if(this.addQuestionsToList(V,!0),V.length!=0){for(var A=0;A<V.length;A++)if(!V[A].isEmpty())return;l.result=!0,O.push(new x.OneAnswerRequiredError(this.requiredErrorText,this)),l.focuseOnFirstError&&!l.firstErrorQuestion&&(l.firstErrorQuestion=V[0])}}},f.prototype.hasErrorsCore=function(l){for(var O=this.elements,V=null,A=0;A<O.length;A++)if(V=O[A],!!V.isVisible)if(V.isPanel)V.hasErrorsCore(l);else{var w=V;if(w.isReadOnly)continue;w.validate(l.fireCallback,l)||(l.focuseOnFirstError&&l.firstErrorQuestion==null&&(l.firstErrorQuestion=w),l.result=!0)}this.hasErrorsInPanels(l),this.updateContainsErrors()},f.prototype.getContainsErrors=function(){var l=h.prototype.getContainsErrors.call(this);if(l)return l;for(var O=this.elements,V=0;V<O.length;V++)if(O[V].containsErrors)return!0;return!1},f.prototype.updateElementVisibility=function(){for(var l=0;l<this.elements.length;l++){var O=this.elements[l];O.setPropertyValue("isVisible",O.isVisible),O.isPanel&&O.updateElementVisibility()}},f.prototype.getFirstQuestionToFocus=function(l,O){if(l===void 0&&(l=!1),O===void 0&&(O=!1),!l&&!O&&this.isCollapsed)return null;for(var V=this.elements,A=0;A<V.length;A++){var w=V[A];if(!(!w.isVisible||!O&&w.isCollapsed))if(w.isPanel){var S=w.getFirstQuestionToFocus(l,O);if(S)return S}else{var R=w.getFirstQuestionToFocus(l);if(R)return R}}return null},f.prototype.focusFirstQuestion=function(){var l=this.getFirstQuestionToFocus();l&&l.focus()},f.prototype.focusFirstErrorQuestion=function(){var l=this.getFirstQuestionToFocus(!0);l&&l.focus()},f.prototype.addQuestionsToList=function(l,O,V){O===void 0&&(O=!1),V===void 0&&(V=!1),this.addElementsToList(l,O,V,!1)},f.prototype.addPanelsIntoList=function(l,O,V){O===void 0&&(O=!1),V===void 0&&(V=!1),this.addElementsToList(l,O,V,!0)},f.prototype.addElementsToList=function(l,O,V,A){O&&!this.visible||this.addElementsToListCore(l,this.elements,O,V,A)},f.prototype.addElementsToListCore=function(l,O,V,A,w){for(var S=0;S<O.length;S++){var R=O[S];V&&!R.visible||((w&&R.isPanel||!w&&!R.isPanel)&&l.push(R),R.isPanel?R.addElementsToListCore(l,R.elements,V,A,w):A&&this.addElementsToListCore(l,R.getElementsInDesign(!1),V,A,w))}},f.prototype.updateCustomWidgets=function(){for(var l=0;l<this.elements.length;l++)this.elements[l].updateCustomWidgets()},Object.defineProperty(f.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(l){this.setPropertyValue("questionTitleLocation",l.toLowerCase())},enumerable:!1,configurable:!0}),f.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},f.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},f.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},f.prototype.getChildrenLayoutType=function(){return"row"},f.prototype.getProgressInfo=function(){return y.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(f.prototype,"root",{get:function(){for(var l=this;l.parent;)l=l.parent;return l},enumerable:!1,configurable:!0}),f.prototype.childVisibilityChanged=function(){var l=this.getIsPageVisible(null),O=this.getPropertyValue("isVisible",!0);l!==O&&this.onVisibleChanged()},f.prototype.createRowAndSetLazy=function(l){var O=this.createRow();return O.setIsLazyRendering(this.isLazyRenderInRow(l)),O},f.prototype.createRow=function(){return new o(this)},f.prototype.onSurveyLoad=function(){for(var l=0;l<this.elements.length;l++)this.elements[l].onSurveyLoad();this.onElementVisibilityChanged(this)},f.prototype.onFirstRendering=function(){h.prototype.onFirstRendering.call(this);for(var l=0;l<this.elements.length;l++)this.elements[l].onFirstRendering();this.onRowsChanged()},f.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var l=0;l<this.elements.length;l++)this.elements[l].isPanel&&this.elements[l].updateRows();this.onRowsChanged()}},Object.defineProperty(f.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),f.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(l){l.ensureVisibility()})},f.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},f.prototype.onAddElement=function(l,O){var V=this;if(l.setSurveyImpl(this.surveyImpl),l.parent=this,this.markQuestionListDirty(),this.canBuildRows()){var A=C.settings.supportCreatorV2?this.getDragDropInfo():void 0;this.dragDropPanelHelper.updateRowsOnElementAdded(l,O,A,this)}if(l.isPanel){var w=l;this.survey&&this.survey.panelAdded(w,O,this,this.root)}else if(this.survey){var S=l;this.survey.questionAdded(S,O,this,this.root)}this.addElementCallback&&this.addElementCallback(l),l.registerPropertyChangedHandlers(["visible","isVisible"],function(){V.onElementVisibilityChanged(l)},this.id),l.registerPropertyChangedHandlers(["startWithNewLine"],function(){V.onElementStartWithNewLineChanged(l)},this.id),this.onElementVisibilityChanged(this)},f.prototype.onRemoveElement=function(l){l.parent=null,this.markQuestionListDirty(),l.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(l),!this.isRandomizing&&(l.isPanel?this.survey&&this.survey.panelRemoved(l):this.survey&&this.survey.questionRemoved(l),this.removeElementCallback&&this.removeElementCallback(l),this.onElementVisibilityChanged(this))},f.prototype.onElementVisibilityChanged=function(l){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(l),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},f.prototype.onElementStartWithNewLineChanged=function(l){this.onRowsChanged()},f.prototype.updateRowsVisibility=function(l){for(var O=this.rows,V=0;V<O.length;V++){var A=O[V];if(A.elements.indexOf(l)>-1){A.updateVisible(),A.visible&&!A.isNeedRender&&(A.isNeedRender=!0);break}}},f.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"},f.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var l=new Array,O=0;O<this.elements.length;O++){var V=this.elements[O],A=O==0||V.startWithNewLine,w=A?this.createRowAndSetLazy(l.length):l[l.length-1];A&&l.push(w),w.addElement(V)}for(var O=0;O<l.length;O++)l[O].updateVisible();return l},f.prototype.isLazyRenderInRow=function(l){return!this.survey||!this.survey.isLazyRendering?!1:l>=C.settings.lazyRowsRenderingStartRow||!this.canRenderFirstRows()},f.prototype.canRenderFirstRows=function(){return this.isPage},f.prototype.getDragDropInfo=function(){var l=this.getPage(this.parent);return l?l.getDragDropInfo():void 0},f.prototype.updateRowsOnElementRemoved=function(l){this.canBuildRows()&&this.updateRowsRemoveElementFromRow(l,this.findRowByElement(l))},f.prototype.updateRowsRemoveElementFromRow=function(l,O){if(!(!O||!O.panel)){var V=O.elements.indexOf(l);V<0||(O.elements.splice(V,1),O.elements.length>0?(O.elements[0].startWithNewLine=!0,O.updateVisible()):O.index>=0&&O.panel.rows.splice(O.index,1))}},f.prototype.findRowByElement=function(l){for(var O=this.rows,V=0;V<O.length;V++)if(O[V].elements.indexOf(l)>-1)return O[V];return null},f.prototype.elementWidthChanged=function(l){if(!this.isLoadingFromJson){var O=this.findRowByElement(l);O&&O.updateVisible()}},Object.defineProperty(f.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),f.prototype.getRenderedTitle=function(l){return this.textProcessor!=null?this.textProcessor.processText(l,!0):l},Object.defineProperty(f.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(l){l!==this.visible&&(this.setPropertyValue("visible",l),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),f.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.isClearValueOnHiddenContainer&&!this.isLoadingFromJson))for(var l=this.questions,O=0;O<l.length;O++)this.isVisible?l[O].updateValueWithDefaults():l[O].clearValueIfInvisible()},Object.defineProperty(f.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),f.prototype.getIsPageVisible=function(l){if(!this.visible)return!1;for(var O=0;O<this.elements.length;O++)if(this.elements[O]!=l&&this.elements[O].isVisible)return!0;return!1},f.prototype.setVisibleIndex=function(l){if(!this.isVisible||l<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=l;var O=l;l+=this.beforeSetVisibleIndex(l);for(var V=this.getPanelStartIndex(l),A=V,w=0;w<this.elements.length;w++)A+=this.elements[w].setVisibleIndex(A);return this.isContinueNumbering()&&(l+=A-V),l-O},f.prototype.updateVisibleIndexes=function(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},f.prototype.resetVisibleIndexes=function(){for(var l=0;l<this.elements.length;l++)this.elements[l].setVisibleIndex(-1)},f.prototype.beforeSetVisibleIndex=function(l){return 0},f.prototype.getPanelStartIndex=function(l){return l},f.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(f.prototype,"isReadOnly",{get:function(){var l=!!this.parent&&this.parent.isReadOnly,O=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||l||O},enumerable:!1,configurable:!0}),f.prototype.onReadOnlyChanged=function(){for(var l=0;l<this.elements.length;l++){var O=this.elements[l];O.setPropertyValue("isReadOnly",O.isReadOnly)}h.prototype.onReadOnlyChanged.call(this)},f.prototype.updateElementCss=function(l){h.prototype.updateElementCss.call(this,l);for(var O=0;O<this.elements.length;O++){var V=this.elements[O];V.updateElementCss(l)}},Object.defineProperty(f.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(l){this.setPropertyValue("enableIf",l)},enumerable:!1,configurable:!0}),f.prototype.addElement=function(l,O){return O===void 0&&(O=-1),this.canAddElement(l)?(O<0||O>=this.elements.length?this.elements.push(l):this.elements.splice(O,0,l),!0):!1},f.prototype.insertElementAfter=function(l,O){var V=this.elements.indexOf(O);V>=0&&this.addElement(l,V+1)},f.prototype.insertElementBefore=function(l,O){var V=this.elements.indexOf(O);V>=0&&this.addElement(l,V)},f.prototype.canAddElement=function(l){return!!l&&l.isLayoutTypeSupported(this.getChildrenLayoutType())},f.prototype.addQuestion=function(l,O){return O===void 0&&(O=-1),this.addElement(l,O)},f.prototype.addPanel=function(l,O){return O===void 0&&(O=-1),this.addElement(l,O)},f.prototype.addNewQuestion=function(l,O,V){O===void 0&&(O=null),V===void 0&&(V=-1);var A=T.QuestionFactory.Instance.createQuestion(l,O);return this.addQuestion(A,V)?A:null},f.prototype.addNewPanel=function(l){l===void 0&&(l=null);var O=this.createNewPanel(l);return this.addPanel(O)?O:null},f.prototype.indexOf=function(l){return this.elements.indexOf(l)},f.prototype.createNewPanel=function(l){var O=s.Serializer.createClass("panel");return O.name=l,O},f.prototype.removeElement=function(l){var O=this.elements.indexOf(l);if(O<0){for(var V=0;V<this.elements.length;V++)if(this.elements[V].removeElement(l))return!0;return!1}return this.elements.splice(O,1),!0},f.prototype.removeQuestion=function(l){this.removeElement(l)},f.prototype.runCondition=function(l,O){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var V=this.elements.slice(),A=0;A<V.length;A++)V[A].runCondition(l,O);this.runConditionCore(l,O)}},f.prototype.onAnyValueChanged=function(l){for(var O=this.elements,V=0;V<O.length;V++)O[V].onAnyValueChanged(l)},f.prototype.checkBindings=function(l,O){for(var V=this.elements,A=0;A<V.length;A++)V[A].checkBindings(l,O)},f.prototype.dragDropAddTarget=function(l){this.dragDropPanelHelper.dragDropAddTarget(l)},f.prototype.dragDropFindRow=function(l){return this.dragDropPanelHelper.dragDropFindRow(l)},f.prototype.dragDropMoveElement=function(l,O,V){this.dragDropPanelHelper.dragDropMoveElement(l,O,V)},f.prototype.needResponsiveWidth=function(){var l=!1;return this.elements.forEach(function(O){O.needResponsiveWidth()&&(l=!0)}),this.rows.forEach(function(O){O.elements.length>1&&(l=!0)}),l},Object.defineProperty(f.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),f.prototype.dispose=function(){if(h.prototype.dispose.call(this),this.rows){for(var l=0;l<this.rows.length;l++)this.rows[l].dispose();this.rows.splice(0,this.rows.length)}for(var l=0;l<this.elements.length;l++)this.elements[l].dispose();this.elements.splice(0,this.elements.length)},f.panelCounter=100,p([Object(s.property)({defaultValue:!0})],f.prototype,"showTitle",void 0),p([Object(s.property)({defaultValue:!0})],f.prototype,"showDescription",void 0),f}(y.SurveyElement),d=function(h){c(f,h);function f(l){l===void 0&&(l="");var O=h.call(this,l)||this;return O.createNewArray("footerActions"),O.registerPropertyChangedHandlers(["width"],function(){O.parent&&O.parent.elementWidthChanged(O)}),O.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){O.onIndentChanged()}),O}return f.prototype.getType=function(){return"panel"},Object.defineProperty(f.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),f.prototype.getSurvey=function(l){return l===void 0&&(l=!1),l?this.parent?this.parent.getSurvey(l):null:h.prototype.getSurvey.call(this,l)},f.prototype.onSurveyLoad=function(){h.prototype.onSurveyLoad.call(this),this.onIndentChanged()},f.prototype.onSetData=function(){h.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(f.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(l){this.setPage(this.parent,l)},enumerable:!1,configurable:!0}),f.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},f.prototype.moveTo=function(l,O){return O===void 0&&(O=null),this.moveToBase(this.parent,l,O)},Object.defineProperty(f.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),f.prototype.getTitleOwner=function(){return this},Object.defineProperty(f.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(l){this.setPropertyValue("showNumber",l),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(l){this.setPropertyValue("showQuestionNumbers",l),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(l){this.setPropertyValue("questionStartIndex",l)},enumerable:!1,configurable:!0}),f.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:h.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(f.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),f.prototype.setNo=function(l){this.setPropertyValue("no",m.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},f.prototype.beforeSetVisibleIndex=function(l){var O=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(O=l),this.setPropertyValue("visibleIndex",O),this.setNo(O),O<0?0:1},f.prototype.getPanelStartIndex=function(l){return this.showQuestionNumbers=="off"?-1:this.showQuestionNumbers=="onpanel"?0:l},f.prototype.isContinueNumbering=function(){return this.showQuestionNumbers!="off"&&this.showQuestionNumbers!="onpanel"},f.prototype.notifySurveyOnVisibilityChanged=function(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},f.prototype.hasErrorsCore=function(l){h.prototype.hasErrorsCore.call(this,l),this.isCollapsed&&l.result&&l.fireCallback&&this.expand()},f.prototype.getRenderedTitle=function(l){if(!l){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return h.prototype.getRenderedTitle.call(this,l)},Object.defineProperty(f.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(l){this.setPropertyValue("innerIndent",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(l){this.setPropertyValue("startWithNewLine",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(l){this.setPropertyValue("allowAdaptiveActions",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(l){this.setPropertyValue("innerPaddingLeft",l)},enumerable:!1,configurable:!0}),f.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},f.prototype.getIndentSize=function(l){if(l<1)return"";var O=this.survey.css;return!O||!O.question.indent?"":l*O.question.indent+"px"},f.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(l){(l instanceof P.Question||l instanceof f)&&l.clearOnDeletingContainer()})},Object.defineProperty(f.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"footerToolbarCss",{get:function(){var l;return this.footerToolbarCssValue||((l=this.cssClasses.panel)===null||l===void 0?void 0:l.footer)},set:function(l){this.footerToolbarCssValue=l},enumerable:!1,configurable:!0}),f.prototype.getFooterToolbar=function(){var l=this,O;if(!this.footerToolbarValue){var V=this.footerActions;this.hasEditButton&&V.push({id:"cancel-preview",title:this.survey.editText,innerCss:this.survey.cssNavigationEdit,action:function(){l.cancelPreview()}}),this.onGetFooterActionsCallback?V=this.onGetFooterActionsCallback():V=(O=this.survey)===null||O===void 0?void 0:O.getUpdatedPanelFooterActions(this,V),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions),this.footerToolbarValue.containerCss=this.footerToolbarCss,this.footerToolbarValue.setItems(V)}return this.footerToolbarValue},Object.defineProperty(f.prototype,"hasEditButton",{get:function(){return this.survey&&this.survey.state==="preview"?this.depth===1:!1},enumerable:!1,configurable:!0}),f.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(f.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),f.prototype.getCssError=function(l){var O=this.isDefaultV2Theme,V=new v.CssClassBuilder().append(this.cssClasses.error.root).append(this.cssClasses.error.outsideQuestion,O).append(this.cssClasses.error.aboveQuestion,O);return V.append("panel-error-root",V.isEmpty()).toString()},f.prototype.onVisibleChanged=function(){h.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},f.prototype.needResponsiveWidth=function(){return this.startWithNewLine?h.prototype.needResponsiveWidth.call(this):!0},f.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},f.prototype.getHasFrameV2=function(){return h.prototype.getHasFrameV2.call(this)&&(!this.originalPage||this.survey.isShowingPreview)},f.prototype.getIsNested=function(){return h.prototype.getIsNested.call(this)&&this.parent!==void 0},f.prototype.getCssRoot=function(l){return new v.CssClassBuilder().append(h.prototype.getCssRoot.call(this,l)).append(l.container).append(l.asPage,!!this.originalPage&&!this.survey.isShowingPreview).append(l.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},f.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},f}(a);s.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0},"visibleIf:condition","enableIf:condition","requiredIf:condition","readOnly:boolean",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]}],function(){return new a}),s.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},"isRequired:switch",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return C.settings.maxWidth}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(h){var f=h?h.survey:null;return!f||!f.pages||f.pages.length>1},choices:function(h){var f=h?h.survey:null;return f?f.pages.map(function(l){return{value:l.name,text:l.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new d},"panelbase"),T.ElementFactory.Instance.registerElement("panel",function(h){return new d(h)})},"./src/popup-dropdown-view-model.ts":function(n,r,i){i.r(r),i.d(r,"PopupDropdownViewModel",function(){return C});var s=i("./src/jsonobject.ts"),m=i("./src/utils/popup.ts"),g=i("./src/popup-view-model.ts"),y=i("./src/utils/devices.ts"),P=i("./src/settings.ts"),T=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),x=function(E,v,u,c){var p=arguments.length,o=p<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,u):c,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(E,v,u,c);else for(var d=E.length-1;d>=0;d--)(a=E[d])&&(o=(p<3?a(o):p>3?a(v,u,o):a(v,u))||o);return p>3&&o&&Object.defineProperty(v,u,o),o},C=function(E){T(v,E);function v(u,c){var p=E.call(this,u)||this;return p.targetElement=c,p.scrollEventCallBack=function(o){if(p.isOverlay&&y.IsTouch){o.stopPropagation(),o.preventDefault();return}p.hidePopup()},p.resizeEventCallback=function(){var o=window.visualViewport;document.documentElement.style.setProperty("--sv-popup-overlay-height",o.height*o.scale+"px")},p.resizeWindowCallback=function(){p.isOverlay||p.updatePosition(!0,!1)},p.clientY=0,p.isTablet=!1,p.touchStartEventCallback=function(o){p.clientY=o.touches[0].clientY},p.touchMoveEventCallback=function(o){for(var a=o.target;a!==p.container;){if(window.getComputedStyle(a).overflowY==="auto"&&a.scrollHeight!==a.offsetHeight){var d=a.scrollHeight,h=a.scrollTop,f=a.clientHeight,l=p.clientY-o.changedTouches[0].clientY;if(!(l>0&&Math.abs(d-f-h)<1)&&!(l<0&&h<=0))return}a=a.parentElement}o.preventDefault()},p.model.onRecalculatePosition.add(function(o,a){p.isOverlay||p.updatePosition(a.isResetHeight)}),p}return v.prototype.calculateIsTablet=function(u,c){var p=Math.min(u,c);this.isTablet=p>=v.tabletSizeBreakpoint},v.prototype._updatePosition=function(){if(this.targetElement){var u=this.targetElement.getBoundingClientRect(),c=this.container.children[0];if(c){var p=c.children[0];if(p){var o=p.querySelector(".sv-popup__scrolling-content"),a=window.getComputedStyle(p),d=parseFloat(a.marginLeft)||0,h=parseFloat(a.marginRight)||0,f=p.offsetHeight-o.offsetHeight+o.scrollHeight,l=p.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=u.width+"px");var O=this.model.verticalPosition,V=this.getActualHorizontalPosition();window&&(f=Math.ceil(Math.min(f,window.innerHeight*.9,window.visualViewport.height)),O=m.PopupUtils.updateVerticalPosition(u,f,this.model.verticalPosition,this.model.showPointer,window.innerHeight)),this.popupDirection=m.PopupUtils.calculatePopupDirection(O,V);var A=m.PopupUtils.calculatePosition(u,f,l+d+h,O,V,this.showHeader,this.model.positionMode);if(window){var w=m.PopupUtils.updateVerticalDimensions(A.top,f,window.innerHeight);w&&(this.height=w.height+"px",A.top=w.top);var S=m.PopupUtils.updateHorizontalDimensions(A.left,l,window.innerWidth,V,this.model.positionMode,{left:d,right:h});S&&(this.width=S.width?S.width+"px":void 0,A.left=S.left)}this.left=A.left+"px",this.top=A.top+"px",this.showHeader&&(this.pointerTarget=m.PopupUtils.calculatePointerTarget(u,A.top,A.left,O,V,d,h)),this.pointerTarget.top+="px",this.pointerTarget.left+="px"}}}},v.prototype.getActualHorizontalPosition=function(){var u=this.model.horizontalPosition,c=!!document&&document.defaultView.getComputedStyle(document.body).direction=="rtl";return c&&(this.model.horizontalPosition==="left"?u="right":this.model.horizontalPosition==="right"&&(u="left")),u},v.prototype.getStyleClass=function(){return E.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--tablet",this.isTablet&&this.isOverlay).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&this.showHeader)},v.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},v.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},v.prototype.updateOnShowing=function(){var u=P.settings.environment.root;this.prevActiveElement=u.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),window.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(window.innerWidth,window.innerHeight),this.resizeEventCallback()),window.addEventListener("scroll",this.scrollEventCallBack)},Object.defineProperty(v.prototype,"shouldCreateResizeCallback",{get:function(){return!!window.visualViewport&&this.isOverlay&&y.IsTouch},enumerable:!1,configurable:!0}),v.prototype.updatePosition=function(u,c){var p=this;c===void 0&&(c=!0),u&&(this.height="auto"),c?setTimeout(function(){p._updatePosition()},1):this._updatePosition()},v.prototype.updateOnHiding=function(){E.prototype.updateOnHiding.call(this),window.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),window.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},v.tabletSizeBreakpoint=600,x([Object(s.property)()],v.prototype,"isTablet",void 0),x([Object(s.property)({defaultValue:"left"})],v.prototype,"popupDirection",void 0),x([Object(s.property)({defaultValue:{left:"0px",top:"0px"}})],v.prototype,"pointerTarget",void 0),v}(g.PopupBaseViewModel)},"./src/popup-modal-view-model.ts":function(n,r,i){i.r(r),i.d(r,"PopupModalViewModel",function(){return g});var s=i("./src/popup-view-model.ts"),m=function(){var y=function(P,T){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(x[E]=C[E])},y(P,T)};return function(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");y(P,T);function x(){this.constructor=P}P.prototype=T===null?Object.create(T):(x.prototype=T.prototype,new x)}}(),g=function(y){m(P,y);function P(T){return y.call(this,T)||this}return P.prototype.getStyleClass=function(){return y.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},P.prototype.getShowFooter=function(){return!0},P.prototype.createFooterActionBar=function(){var T=this;y.prototype.createFooterActionBar.call(this),this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply",action:function(){T.apply()}})},Object.defineProperty(P.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),P.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},P.prototype.clickOutside=function(){},P.prototype.onKeyDown=function(T){(T.key==="Escape"||T.keyCode===27)&&this.model.onCancel(),y.prototype.onKeyDown.call(this,T)},P}(s.PopupBaseViewModel)},"./src/popup-survey.ts":function(n,r,i){i.r(r),i.d(r,"PopupSurveyModel",function(){return T}),i.d(r,"SurveyWindowModel",function(){return x});var s=i("./src/base.ts"),m=i("./src/survey.ts"),g=i("./src/jsonobject.ts"),y=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),P=function(C,E,v,u){var c=arguments.length,p=c<3?E:u===null?u=Object.getOwnPropertyDescriptor(E,v):u,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(C,E,v,u);else for(var a=C.length-1;a>=0;a--)(o=C[a])&&(p=(c<3?o(p):c>3?o(E,v,p):o(E,v))||p);return c>3&&p&&Object.defineProperty(E,v,p),p},T=function(C){y(E,C);function E(v,u){u===void 0&&(u=null);var c=C.call(this)||this;return c.closeOnCompleteTimeout=0,u?c.surveyValue=u:c.surveyValue=c.createSurvey(v),c.surveyValue.showTitle=!1,typeof document<"u"&&(c.windowElement=document.createElement("div")),c.survey.onComplete.add(function(p,o){c.onSurveyComplete()}),c.registerPropertyChangedHandlers(["isShowing"],function(){c.showingChangedCallback&&c.showingChangedCallback()}),c.registerPropertyChangedHandlers(["isExpanded"],function(){c.onExpandedChanged()}),c.width=new s.ComputedUpdater(function(){return c.survey.width}),c.width=c.survey.width,c.updateCss(),c.onCreating(),c}return E.prototype.onCreating=function(){},E.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(E.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(v){this.setPropertyValue("isShowing",v)},enumerable:!1,configurable:!0}),E.prototype.show=function(){this.isShowing=!0},E.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(E.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(v){this.setPropertyValue("isExpanded",v)},enumerable:!1,configurable:!0}),E.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(E.prototype,"title",{get:function(){return this.survey.title},set:function(v){this.survey.title=v},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locTitle",{get:function(){return this.survey.locTitle},enumerable:!1,configurable:!0}),E.prototype.expand=function(){this.isExpanded=!0},E.prototype.collapse=function(){this.isExpanded=!1},E.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(E.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cssRoot",{get:function(){return this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cssHeaderTitle",{get:function(){return this.getPropertyValue("cssHeaderTitle","")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"renderedWidth",{get:function(){var v=this.getPropertyValue("width","60%");return v&&!isNaN(v)&&(v=v+"px"),v},enumerable:!1,configurable:!0}),E.prototype.updateCss=function(){if(!(!this.css||!this.css.window)){var v=this.css.window;this.setPropertyValue("cssRoot",v.root),this.setPropertyValue("cssBody",v.body);var u=v.header;u&&(this.setPropertyValue("cssHeaderRoot",u.root),this.setPropertyValue("cssHeaderTitle",u.title),this.updateCssButton())}},E.prototype.updateCssButton=function(){var v=this.css.window?this.css.window.header:null;v&&this.setCssButton(this.isExpanded?v.buttonExpanded:v.buttonCollapsed)},E.prototype.setCssButton=function(v){v&&this.setPropertyValue("cssButton",v)},E.prototype.createSurvey=function(v){return new m.SurveyModel(v)},E.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var v=this,u=null,c=function(){v.hide(),typeof window<"u"&&window.clearInterval(u)};u=typeof window<"u"?window.setInterval(c,this.closeOnCompleteTimeout*1e3):0}},P([Object(g.property)()],E.prototype,"width",void 0),E}(s.Base),x=function(C){y(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E}(T)},"./src/popup-utils.ts":function(n,r,i){i.r(r),i.d(r,"createPopupModalViewModel",function(){return y}),i.d(r,"createPopupViewModel",function(){return P});var s=i("./src/popup.ts"),m=i("./src/popup-dropdown-view-model.ts"),g=i("./src/popup-modal-view-model.ts");function y(T){var x=new s.PopupModel(T.componentName,T.data,"top","left",!1,!0,T.onCancel,T.onApply,T.onHide,T.onShow,T.cssClass,T.title);x.displayMode=T.displayMode||"popup";var C=new g.PopupModalViewModel(x);return C.initializePopupContainer(),C}function P(T,x){return T.isModal?new g.PopupModalViewModel(T):new m.PopupDropdownViewModel(T,x)}},"./src/popup-view-model.ts":function(n,r,i){i.r(r),i.d(r,"FOCUS_INPUT_SELECTOR",function(){return E}),i.d(r,"PopupBaseViewModel",function(){return v});var s=i("./src/base.ts"),m=i("./src/jsonobject.ts"),g=i("./src/utils/cssClassBuilder.ts"),y=i("./src/actions/container.ts"),P=i("./src/settings.ts"),T=i("./src/utils/utils.ts"),x=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),C=function(u,c,p,o){var a=arguments.length,d=a<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,p):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(u,c,p,o);else for(var f=u.length-1;f>=0;f--)(h=u[f])&&(d=(a<3?h(d):a>3?h(c,p,d):h(c,p))||d);return a>3&&d&&Object.defineProperty(c,p,d),d},E='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',v=function(u){x(c,u);function c(p){var o=u.call(this)||this;return o.model=p,o}return c.prototype.getLocale=function(){return this.locale?this.locale:u.prototype.getLocale.call(this)},c.prototype.hidePopup=function(){this.model.isVisible=!1},c.prototype.getStyleClass=function(){return new g.CssClassBuilder().append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},c.prototype.getShowFooter=function(){return this.isOverlay},c.prototype.getShowHeader=function(){return!1},c.prototype.getPopupHeaderTemplate=function(){},c.prototype.createFooterActionBar=function(){var p=this;this.footerToolbarValue=new y.ActionContainer,this.footerToolbar.updateCallback=function(a){p.footerToolbarValue.actions.forEach(function(d){return d.cssClasses={item:"sv-popup__body-footer-item sv-popup__button"}})};var o=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel",action:function(){p.cancel()}}];o=this.model.updateFooterActions(o),this.footerToolbarValue.setItems(o)},c.prototype.resetDimensionsAndPositionStyleProperties=function(){var p="inherit";this.top=p,this.left=p,this.height=p,this.width=p,this.minWidth=p},c.prototype.setupModel=function(p){var o=this;this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"),this._model=p;var a=function(){p.isVisible||o.updateOnHiding(),o.isVisible=p.isVisible};p.registerPropertyChangedHandlers(["isVisible"],a,"PopupBaseViewModel"),a()},Object.defineProperty(c.prototype,"model",{get:function(){return this._model},set:function(p){this.setupModel(p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isOverlay",{get:function(){return this.model.displayMode==="overlay"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),c.prototype.onKeyDown=function(p){p.key==="Tab"||p.keyCode===9?this.trapFocus(p):(p.key==="Escape"||p.keyCode===27)&&this.hidePopup()},c.prototype.trapFocus=function(p){var o=this.container.querySelectorAll(E),a=o[0],d=o[o.length-1];p.shiftKey?P.settings.environment.root.activeElement===a&&(d.focus(),p.preventDefault()):P.settings.environment.root.activeElement===d&&(a.focus(),p.preventDefault())},c.prototype.switchFocus=function(){this.isFocusedContent&&this.focusFirstInput()},c.prototype.updateOnShowing=function(){this.prevActiveElement=P.settings.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus()},c.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus()},c.prototype.focusFirstInput=function(){var p=this;setTimeout(function(){if(p.container){var o=p.container.querySelector(p.model.focusFirstInputSelector||E);o?o.focus():p.container.children[0].focus()}},100)},c.prototype.clickOutside=function(){this.hidePopup()},c.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},c.prototype.dispose=function(){u.prototype.dispose.call(this),this.unmountPopupContainer(),this.container=void 0,this.footerToolbarValue&&this.footerToolbarValue.dispose()},c.prototype.initializePopupContainer=function(){if(!this.createdContainer){var p=document.createElement("div");this.container=this.createdContainer=p}Object(T.getElement)(P.settings.environment.popupMountContainer).appendChild(this.container)},c.prototype.unmountPopupContainer=function(){this.createdContainer.remove()},C([Object(m.property)({defaultValue:"0px"})],c.prototype,"top",void 0),C([Object(m.property)({defaultValue:"0px"})],c.prototype,"left",void 0),C([Object(m.property)({defaultValue:"auto"})],c.prototype,"height",void 0),C([Object(m.property)({defaultValue:"auto"})],c.prototype,"width",void 0),C([Object(m.property)({defaultValue:"auto"})],c.prototype,"minWidth",void 0),C([Object(m.property)({defaultValue:!1})],c.prototype,"isVisible",void 0),C([Object(m.property)()],c.prototype,"locale",void 0),c}(s.Base)},"./src/popup.ts":function(n,r,i){i.r(r),i.d(r,"PopupModel",function(){return P}),i.d(r,"createDialogOptions",function(){return T});var s=i("./src/base.ts"),m=i("./src/jsonobject.ts"),g=function(){var x=function(C,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(v[c]=u[c])},x(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");x(C,E);function v(){this.constructor=C}C.prototype=E===null?Object.create(E):(v.prototype=E.prototype,new v)}}(),y=function(x,C,E,v){var u=arguments.length,c=u<3?C:v===null?v=Object.getOwnPropertyDescriptor(C,E):v,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(x,C,E,v);else for(var o=x.length-1;o>=0;o--)(p=x[o])&&(c=(u<3?p(c):u>3?p(C,E,c):p(C,E))||c);return u>3&&c&&Object.defineProperty(C,E,c),c},P=function(x){g(C,x);function C(E,v,u,c,p,o,a,d,h,f,l,O){u===void 0&&(u="bottom"),c===void 0&&(c="left"),p===void 0&&(p=!0),o===void 0&&(o=!1),a===void 0&&(a=function(){}),d===void 0&&(d=function(){return!0}),h===void 0&&(h=function(){}),f===void 0&&(f=function(){}),l===void 0&&(l=""),O===void 0&&(O="");var V=x.call(this)||this;return V.focusFirstInputSelector="",V.onVisibilityChanged=V.addEvent(),V.onFooterActionsCreated=V.addEvent(),V.onRecalculatePosition=V.addEvent(),V.contentComponentName=E,V.contentComponentData=v,V.verticalPosition=u,V.horizontalPosition=c,V.showPointer=p,V.isModal=o,V.onCancel=a,V.onApply=d,V.onHide=h,V.onShow=f,V.cssClass=l,V.title=O,V}return Object.defineProperty(C.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(E){if(this.isVisible!==E)if(this.setPropertyValue("isVisible",E),this.onVisibilityChanged.fire(this,{model:this,isVisible:E}),this.isVisible){var v=this.contentComponentData.model;v&&v.refresh&&v.refresh(),this.onShow()}else this.onHide()},enumerable:!1,configurable:!0}),C.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},C.prototype.recalculatePosition=function(E){this.onRecalculatePosition.fire(this,{isResetHeight:E})},C.prototype.updateFooterActions=function(E){var v={actions:E};return this.onFooterActionsCreated.fire(this,v),v.actions},y([Object(m.property)()],C.prototype,"contentComponentName",void 0),y([Object(m.property)()],C.prototype,"contentComponentData",void 0),y([Object(m.property)({defaultValue:"bottom"})],C.prototype,"verticalPosition",void 0),y([Object(m.property)({defaultValue:"left"})],C.prototype,"horizontalPosition",void 0),y([Object(m.property)({defaultValue:!1})],C.prototype,"showPointer",void 0),y([Object(m.property)({defaultValue:!1})],C.prototype,"isModal",void 0),y([Object(m.property)({defaultValue:!0})],C.prototype,"isFocusedContent",void 0),y([Object(m.property)({defaultValue:function(){}})],C.prototype,"onCancel",void 0),y([Object(m.property)({defaultValue:function(){return!0}})],C.prototype,"onApply",void 0),y([Object(m.property)({defaultValue:function(){}})],C.prototype,"onHide",void 0),y([Object(m.property)({defaultValue:function(){}})],C.prototype,"onShow",void 0),y([Object(m.property)({defaultValue:""})],C.prototype,"cssClass",void 0),y([Object(m.property)({defaultValue:""})],C.prototype,"title",void 0),y([Object(m.property)({defaultValue:"popup"})],C.prototype,"displayMode",void 0),y([Object(m.property)({defaultValue:"flex"})],C.prototype,"positionMode",void 0),C}(s.Base);function T(x,C,E,v,u,c,p,o,a){return u===void 0&&(u=function(){}),c===void 0&&(c=function(){}),a===void 0&&(a="popup"),{componentName:x,data:C,onApply:E,onCancel:v,onHide:u,onShow:c,cssClass:p,title:o,displayMode:a}}},"./src/question.ts":function(n,r,i){i.r(r),i.d(r,"Question",function(){return a});var s=i("./src/helpers.ts"),m=i("./src/jsonobject.ts"),g=i("./src/survey-element.ts"),y=i("./src/error.ts"),P=i("./src/validator.ts"),T=i("./src/localizablestring.ts"),x=i("./src/conditions.ts"),C=i("./src/questionCustomWidgets.ts"),E=i("./src/settings.ts"),v=i("./src/rendererFactory.ts"),u=i("./src/utils/cssClassBuilder.ts"),c=i("./src/utils/utils.ts"),p=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),o=function(h,f,l,O){var V=arguments.length,A=V<3?f:O===null?O=Object.getOwnPropertyDescriptor(f,l):O,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,f,l,O);else for(var S=h.length-1;S>=0;S--)(w=h[S])&&(A=(V<3?w(A):V>3?w(f,l,A):w(f,l))||A);return V>3&&A&&Object.defineProperty(f,l,A),A},a=function(h){p(f,h);function f(l){var O=h.call(this,l)||this;return O.customWidgetData={isNeedRender:!0},O.isReadyValue=!0,O.onReadyChanged=O.addEvent(),O.isRunningValidatorsValue=!1,O.isValueChangedInSurvey=!1,O.allowNotifyValueChanged=!0,O.id=f.getQuestionId(),O.onCreating(),O.createNewArray("validators",function(V){V.errorOwner=O}),O.addExpressionProperty("visibleIf",function(V,A){O.visible=A===!0},function(V){return!O.areInvisibleElementsShowing}),O.addExpressionProperty("enableIf",function(V,A){O.readOnly=A===!1}),O.addExpressionProperty("requiredIf",function(V,A){O.isRequired=A===!0}),O.createLocalizableString("commentText",O,!0,"otherItemText"),O.locTitle.onGetDefaultTextCallback=function(){return O.name},O.locTitle.storeDefaultText=!0,O.createLocalizableString("requiredErrorText",O),O.registerPropertyChangedHandlers(["width"],function(){O.updateQuestionCss(),O.parent&&O.parent.elementWidthChanged(O)}),O.registerPropertyChangedHandlers(["isRequired"],function(){!O.isRequired&&O.errors.length>0&&O.validate(),O.locTitle.strChanged(),O.clearCssClasses()}),O.registerPropertyChangedHandlers(["indent","rightIndent"],function(){O.onIndentChanged()}),O.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){O.initCommentFromSurvey()}),O.registerFunctionOnPropertiesValueChanged(["no","readOnly"],function(){O.updateQuestionCss()}),O.registerPropertyChangedHandlers(["isMobile"],function(){O.onMobileChanged()}),O}return f.getQuestionId=function(){return"sq_"+f.questionCounter++},f.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&E.settings.readOnlyCommentRenderMode==="div"},f.prototype.setIsMobile=function(l){},f.prototype.createLocTitleProperty=function(){var l=this,O=h.prototype.createLocTitleProperty.call(this);return O.onGetTextCallback=function(V){return V||(V=l.name),l.survey?l.survey.getUpdatedQuestionTitle(l,V):V},this.locProcessedTitle=new T.LocalizableString(this,!0),this.locProcessedTitle.sharedData=O,O},f.prototype.getSurvey=function(l){return l===void 0&&(l=!1),l?this.parent?this.parent.getSurvey(l):null:this.onGetSurvey?this.onGetSurvey():h.prototype.getSurvey.call(this)},f.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(f.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(l){var O=this.getValueName();this.setPropertyValue("valueName",l),this.onValueNameChanged(O)},enumerable:!1,configurable:!0}),f.prototype.onValueNameChanged=function(l){this.survey&&(this.survey.questionRenamed(this,this.name,l||this.name),this.initDataFromSurvey())},f.prototype.onNameChanged=function(l){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,l,this.valueName?this.valueName:l)},Object.defineProperty(f.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaLabelledBy",{get:function(){return this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),f.prototype.choicesLoaded=function(){},Object.defineProperty(f.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(l){this.setPage(this.parent,l)},enumerable:!1,configurable:!0}),f.prototype.getPanel=function(){return null},f.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Object.defineProperty(f.prototype,"isFlowLayout",{get:function(){return this.getLayoutType()==="flow"},enumerable:!1,configurable:!0}),f.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},f.prototype.isLayoutTypeSupported=function(l){return l!=="flow"},Object.defineProperty(f.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(l){l!=this.visible&&(this.setPropertyValue("visible",l),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),f.prototype.onVisibleChanged=function(){this.setPropertyValue("isVisible",this.isVisible),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Object.defineProperty(f.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(l){this.setPropertyValue("useDisplayValuesInDynamicTexts",l)},enumerable:!1,configurable:!0}),f.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(f.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(l){this.setPropertyValue("visibleIf",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()},enumerable:!1,configurable:!0}),f.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(f.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(l){this.setPropertyValue("hideNumber",l),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"question"},Object.defineProperty(f.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),f.prototype.moveTo=function(l,O){return O===void 0&&(O=null),this.moveToBase(this.parent,l,O)},f.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:h.prototype.getProgressInfo.call(this)},f.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},f.prototype.setSurveyImpl=function(l,O){h.prototype.setSurveyImpl.call(this,l),this.survey&&(this.survey.questionCreated(this),O!==!0&&this.runConditions())},Object.defineProperty(f.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(l){this.parent!==l&&(this.delete(),this.setPropertyValue("parent",l),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),f.prototype.onParentChanged=function(){},Object.defineProperty(f.prototype,"hasTitle",{get:function(){return this.getTitleLocation()!=="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(l){var O=this.titleLocation=="hidden"||l=="hidden";this.setPropertyValue("titleLocation",l.toLowerCase()),this.updateQuestionCss(),O&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),f.prototype.getTitleOwner=function(){return this},f.prototype.getIsTitleRenderedAsString=function(){return this.titleLocation==="hidden"},f.prototype.notifySurveyVisibilityChanged=function(){!this.survey||this.isLoadingFromJson||(this.survey.questionVisibilityChanged(this,this.isVisible),this.isClearValueOnHidden&&(this.visible||this.clearValueIfInvisible(),this.isVisible&&this.updateValueWithDefaults()))},f.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var l=this.getTitleLocationCore();return l==="left"&&!this.isAllowTitleLeft&&(l="top"),l},f.prototype.getTitleLocationCore=function(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(f.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&this.getTitleLocation()==="left"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&this.getTitleLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&this.getTitleLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var l=this.getTitleLocation();return l==="left"||l==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"errorLocation",{get:function(){return this.survey?this.survey.questionErrorLocation:"top"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),f.prototype.getDefaultTitleValue=function(){return this.name},f.prototype.getDefaultTitleTagName=function(){return E.settings.titleTags.question},Object.defineProperty(f.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(l){this.setPropertyValue("descriptionLocation",l),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasDescriptionUnderTitle",{get:function(){return this.getDescriptionLocation()=="underTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasDescriptionUnderInput",{get:function(){return this.getDescriptionLocation()=="underInput"},enumerable:!1,configurable:!0}),f.prototype.getDescriptionLocation=function(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},f.prototype.needClickTitleFunction=function(){return h.prototype.needClickTitleFunction.call(this)||this.hasInput},f.prototype.processTitleClick=function(){var l=this;if(h.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){l.focus()},1),!0},Object.defineProperty(f.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(l){this.setLocalizableStringText("requiredErrorText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(l){this.setLocalizableStringText("commentText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(l){this.commentPlaceholder=l},enumerable:!1,configurable:!0}),f.prototype.getAllErrors=function(){return this.errors.slice()},f.prototype.getErrorByType=function(l){for(var O=0;O<this.errors.length;O++)if(this.errors[O].getErrorType()===l)return this.errors[O];return null},Object.defineProperty(f.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),f.prototype.updateCustomWidget=function(){this.customWidgetValue=C.CustomWidgetCollection.Instance.getCustomWidget(this)},f.prototype.localeChanged=function(){h.prototype.localeChanged.call(this),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(f.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.updateCommentElements=function(){if(!(!this.autoGrowComment||!Array.isArray(this.commentElements)))for(var l=0;l<this.commentElements.length;l++){var O=this.commentElements[l];O&&Object(c.increaseHeightByContent)(O)}},f.prototype.onCommentInput=function(l){this.isInputTextUpdate?l.target&&(this.comment=l.target.value):this.updateCommentElements()},f.prototype.onCommentChange=function(l){this.comment=l.target.value,this.comment!==l.target.value&&(l.target.value=this.comment)},f.prototype.afterRenderQuestionElement=function(l){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,l)},f.prototype.afterRender=function(l){var O=this;this.survey&&(this.survey.afterRenderQuestion(this,l),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,l),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(V){var A=E.settings.environment.root,w=A.getElementById(V);w&&O.commentElements.push(w)}),this.updateCommentElements()),this.checkForResponsiveness(l))},f.prototype.getCommentElementsId=function(){return[this.commentId]},f.prototype.beforeDestroyQuestionElement=function(l){this.commentElements=void 0},Object.defineProperty(f.prototype,"processedTitle",{get:function(){var l=this.locProcessedTitle.textOrHtml;return l||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(l){this.startWithNewLine!=l&&this.setPropertyValue("startWithNewLine",l)},enumerable:!1,configurable:!0}),f.prototype.calcCssClasses=function(l){var O={error:{}};return this.copyCssClasses(O,l.question),this.copyCssClasses(O.error,l.error),this.updateCssClasses(O,l),this.survey&&this.survey.updateQuestionCssClasses(this,O),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(O),O},Object.defineProperty(f.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),f.prototype.setCssRoot=function(l){this.setPropertyValue("cssRoot",l)},f.prototype.getCssRoot=function(l){return new u.CssClassBuilder().append(h.prototype.getCssRoot.call(this,l)).append(this.isFlowLayout&&!this.isDesignMode?l.flowRoot:l.mainRoot).append(l.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(l.hasError,this.errors.length>0).append(l.small,!this.width).append(l.answered,this.isAnswered).toString()},Object.defineProperty(f.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),f.prototype.setCssHeader=function(l){this.setPropertyValue("cssHeader",l)},f.prototype.getCssHeader=function(l){return new u.CssClassBuilder().append(l.header).append(l.headerTop,this.hasTitleOnTop).append(l.headerLeft,this.hasTitleOnLeft).append(l.headerBottom,this.hasTitleOnBottom).toString()},Object.defineProperty(f.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),f.prototype.setCssContent=function(l){this.setPropertyValue("cssContent",l)},f.prototype.getCssContent=function(l){return new u.CssClassBuilder().append(l.content).append(l.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(f.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),f.prototype.setCssTitle=function(l){this.setPropertyValue("cssTitle",l)},f.prototype.getCssTitle=function(l){return new u.CssClassBuilder().append(h.prototype.getCssTitle.call(this,l)).append(l.titleOnAnswer,!this.containsErrors&&this.isAnswered).toString()},Object.defineProperty(f.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),f.prototype.setCssDescription=function(l){this.setPropertyValue("cssDescription",l)},f.prototype.getCssDescription=function(l){return new u.CssClassBuilder().append(l.description,this.hasDescriptionUnderTitle).append(l.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},f.prototype.getIsErrorsModeTooltip=function(){return h.prototype.getIsErrorsModeTooltip.call(this)&&!this.customWidget},f.prototype.showErrorOnCore=function(l){return!this.isErrorsModeTooltip&&!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.errorLocation===l},Object.defineProperty(f.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),f.prototype.getIsTooltipErrorSupportedByParent=function(){return this.parentQuestion?this.parentQuestion.getIsTooltipErrorInsideSupported():h.prototype.getIsTooltipErrorSupportedByParent.call(this)},Object.defineProperty(f.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme&&!(this.hasParent&&this.getIsTooltipErrorSupportedByParent())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.errorLocation==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.errorLocation==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),f.prototype.setCssError=function(l){this.setPropertyValue("cssError",l)},f.prototype.getCssError=function(l){return new u.CssClassBuilder().append(l.error.root).append(l.error.outsideQuestion,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(l.error.belowQuestion,this.showErrorsBelowQuestion).append(l.error.aboveQuestion,this.showErrorsAboveQuestion).append(l.error.tooltip,this.isErrorsModeTooltip).append(l.error.locationTop,this.showErrorOnTop).append(l.error.locationBottom,this.showErrorOnBottom).toString()},f.prototype.getRootCss=function(){return new u.CssClassBuilder().append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},f.prototype.updateElementCss=function(l){h.prototype.updateElementCss.call(this,l),l&&this.updateQuestionCss(!0),this.onIndentChanged()},f.prototype.updateQuestionCss=function(l){this.isLoadingFromJson||!this.survey||l!==!0&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},f.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},f.prototype.updateElementCssCore=function(l){this.setCssRoot(this.getCssRoot(l)),this.setCssHeader(this.getCssHeader(l)),this.setCssContent(this.getCssContent(l)),this.setCssTitle(this.getCssTitle(l)),this.setCssDescription(this.getCssDescription(l)),this.setCssError(this.getCssError(l))},f.prototype.updateCssClasses=function(l,O){if(O.question){var V=O[this.getCssType()],A=new u.CssClassBuilder().append(l.title).append(O.question.titleRequired,this.isRequired);l.title=A.toString();var w=new u.CssClassBuilder().append(l.root).append(V,this.isRequired&&!!O.question.required);if(V==null)l.root=w.toString();else if(typeof V=="string"||V instanceof String)l.root=w.append(V.toString()).toString();else{l.root=w.toString();for(var S in V)l[S]=V[S]}}},f.prototype.getCssType=function(){return this.getType()},Object.defineProperty(f.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),f.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},f.prototype.getIndentSize=function(l){return l<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":l*this.cssClasses.indent+"px"},f.prototype.focus=function(l){if(l===void 0&&(l=!1),!this.isDesignMode){this.survey&&(this.expandAllParents(this),this.survey.scrollElementToTop(this,this,null,this.id));var O=l?this.getFirstErrorInputElementId():this.getFirstInputElementId();g.SurveyElement.FocusElement(O)&&this.fireCallback(this.focusCallback)}},f.prototype.expandAllParents=function(l){l&&(l.isCollapsed&&l.expand(),this.expandAllParents(l.parent),this.expandAllParents(l.parentQuestion))},f.prototype.focusIn=function(){this.survey&&this.survey.whenQuestionFocusIn(this)},f.prototype.fireCallback=function(l){l&&l()},f.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},f.prototype.onCreating=function(){},f.prototype.getFirstQuestionToFocus=function(l){return this.hasInput&&(!l||this.currentErrorCount>0)?this:null},f.prototype.getFirstInputElementId=function(){return this.inputId},f.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},f.prototype.getProcessedTextValue=function(l){var O=l.name.toLocaleLowerCase();l.isExists=Object.keys(f.TextPreprocessorValuesMap).indexOf(O)!==-1||this[l.name]!==void 0,l.value=this[f.TextPreprocessorValuesMap[O]||l.name]},f.prototype.supportComment=function(){var l=this.getPropertyByName("showCommentArea");return!l||l.visible},f.prototype.supportOther=function(){return!1},Object.defineProperty(f.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(l){this.setPropertyValue("isRequired",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(l){this.setPropertyValue("requiredIf",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(l){this.supportComment()&&this.setPropertyValue("showCommentArea",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(l){this.showCommentArea=l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(l){this.setPropertyValue("id",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(l){!this.supportOther()||this.showOtherItem==l||(this.setPropertyValue("showOtherItem",l),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(l){this.showOtherItem=l},enumerable:!1,configurable:!0}),f.prototype.hasOtherChanged=function(){},Object.defineProperty(f.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isReadOnly",{get:function(){var l=!!this.parent&&this.parent.isReadOnly,O=!!this.parentQuestion&&this.parentQuestion.isReadOnly,V=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||l||V||O},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isInputReadOnly",{get:function(){if(this.forceIsInputReadOnly!==void 0)return this.forceIsInputReadOnly;var l=E.settings.supportCreatorV2&&this.isDesignMode;return this.isReadOnly||l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),f.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),h.prototype.onReadOnlyChanged.call(this)},Object.defineProperty(f.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(l){this.setPropertyValue("enableIf",l)},enumerable:!1,configurable:!0}),f.prototype.surveyChoiceItemVisibilityChange=function(){},f.prototype.runCondition=function(l,O){this.isDesignMode||(O||(O={}),O.question=this,this.runConditionCore(l,O),this.isValueChangedDirectly||(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,l,O)))},Object.defineProperty(f.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),f.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var l=s.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(l=this.survey.getUpdatedQuestionNo(this,l)),l},f.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},f.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.onIndentChanged()},f.prototype.onSetData=function(){h.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},f.prototype.initDataFromSurvey=function(){if(this.data){var l=this.data.getValue(this.getValueName());(!s.Helpers.isValueEmpty(l)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(l),this.initCommentFromSurvey()}},f.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},f.prototype.runExpression=function(l){if(!(!this.survey||!l))return this.survey.runExpression(l)},Object.defineProperty(f.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"questionValue",{get:function(){return this.getPropertyValue("value")},set:function(l){this.setPropertyValue("value",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"questionComment",{get:function(){return this.getPropertyValue("comment")},set:function(l){this.setPropertyValue("comment",l),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.getValueCore()},set:function(l){this.setNewValue(l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),f.prototype.clearValue=function(){this.value!==void 0&&(this.value=void 0),this.comment&&(this.comment=void 0)},f.prototype.unbindValue=function(){this.clearValue()},f.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},f.prototype.getUnbindValue=function(l){return this.isValueSurveyElement(l)?l:s.Helpers.getUnbindValue(l)},f.prototype.isValueSurveyElement=function(l){return l?Array.isArray(l)?l.length>0?this.isValueSurveyElement(l[0]):!1:!!l.getType&&!!l.onPropertyChanged:!1},f.prototype.canClearValueAsInvisible=function(){return this.isVisible&&this.isParentVisible||this.page&&this.page.isStartPage?!1:!this.survey||!this.valueName?!0:!this.survey.hasVisibleQuestionByValueName(this.valueName)},Object.defineProperty(f.prototype,"isParentVisible",{get:function(){for(var l=this.parent;l;){if(!l.isVisible)return!1;l=l.parent}return!0},enumerable:!1,configurable:!0}),f.prototype.clearValueIfInvisible=function(l){l===void 0&&(l="onHidden"),this.clearIfInvisible!=="none"&&(l==="onHidden"&&this.clearIfInvisible==="onComplete"||l==="none"&&(this.clearIfInvisible==="default"||this.clearIfInvisible==="none")||this.clearValueIfInvisibleCore())},f.prototype.clearValueIfInvisibleCore=function(){this.canClearValueAsInvisible()&&this.clearValue()},Object.defineProperty(f.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(l){this.setPropertyValue("clearIfInvisible",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),f.prototype.getDisplayValue=function(l,O){O===void 0&&(O=void 0);var V=this.calcDisplayValue(l,O);return this.survey&&(V=this.survey.getQuestionDisplayValue(this,V)),this.displayValueCallback?this.displayValueCallback(V):V},f.prototype.calcDisplayValue=function(l,O){if(O===void 0&&(O=void 0),this.customWidget){var V=this.customWidget.getDisplayValue(this,O);if(V)return V}return O=O??this.createValueCopy(),this.isValueEmpty(O)?this.getDisplayValueEmpty():this.getDisplayValueCore(l,O)},f.prototype.getDisplayValueCore=function(l,O){return O},f.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(f.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(l){if(this.isValueExpression(l)){this.defaultValueExpression=l.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(l)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(l){this.setPropertyValue("defaultValueExpression",l),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resizeStyle",{get:function(){return this.autoGrowComment?"none":"both"},enumerable:!1,configurable:!0}),f.prototype.getPlainData=function(l){var O=this;if(l||(l={includeEmpty:!0,includeQuestionTypes:!1}),l.includeEmpty||!this.isEmpty()){var V={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(A){return typeof A=="object"?JSON.stringify(A):A}};return l.includeQuestionTypes===!0&&(V.questionType=this.getType()),(l.calculations||[]).forEach(function(A){V[A.propertyName]=O[A.propertyName]}),this.hasComment&&(V.isNode=!0,V.data=[{name:0,isComment:!0,title:"Comment",value:E.settings.commentSuffix,displayValue:this.comment,getString:function(A){return typeof A=="object"?JSON.stringify(A):A},isNode:!1}]),V}},Object.defineProperty(f.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(l){this.setPropertyValue("correctAnswer",this.convertDefaultValue(l))},enumerable:!1,configurable:!0}),f.prototype.convertDefaultValue=function(l){return l},Object.defineProperty(f.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"correctAnswerCount",{get:function(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0},enumerable:!1,configurable:!0}),f.prototype.getQuizQuestionCount=function(){return 1},f.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},f.prototype.checkIfAnswerCorrect=function(){var l=this.isTwoValueEquals(this.value,this.correctAnswer,!E.settings.comparator.caseSensitive,!0),O={result:l,correctAnswer:l?1:0};return this.survey&&this.survey.onCorrectQuestionAnswer(this,O),O.result},f.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},f.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(f.prototype,"isClearValueOnHidden",{get:function(){return this.clearIfInvisible==="none"||this.clearIfInvisible==="onComplete"?!1:this.clearIfInvisible==="onHidden"?!0:!!this.survey&&this.survey.isClearValueOnHidden},enumerable:!1,configurable:!0}),f.prototype.getQuestionFromArray=function(l,O){return null},f.prototype.getDefaultValue=function(){return this.defaultValue},f.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue)},f.prototype.getDefaultRunner=function(l,O){return!l&&O&&(l=new x.ExpressionRunner(O)),l&&(l.expression=O),l},f.prototype.setDefaultValue=function(){var l=this;this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(O){s.Helpers.isTwoValueEquals(l.value,O)||(l.value=O)})},f.prototype.isValueExpression=function(l){return!!l&&typeof l=="string"&&l.length>0&&l[0]=="="},f.prototype.setValueAndRunExpression=function(l,O,V,A,w){var S=this;A===void 0&&(A=null),w===void 0&&(w=null);var R=function(I){S.runExpressionSetValue(I,V)};this.runDefaultValueExpression(l,A,w,R)||R(O)},f.prototype.convertFuncValuetoQuestionValue=function(l){return s.Helpers.convertValToQuestionVal(l)},f.prototype.runExpressionSetValue=function(l,O){O(this.convertFuncValuetoQuestionValue(l))},f.prototype.runDefaultValueExpression=function(l,O,V,A){var w=this;return O===void 0&&(O=null),V===void 0&&(V=null),!l||!this.data?!1:(A||(A=function(S){w.runExpressionSetValue(S,function(R){s.Helpers.isTwoValueEquals(w.value,R)||(w.value=R)})}),O||(O=this.data.getFilteredValues()),V||(V=this.data.getFilteredProperties()),l&&l.canRun&&(l.onRunComplete=function(S){S==null&&(S=w.defaultValue),w.isChangingViaDefaultValue=!0,A(S),w.isChangingViaDefaultValue=!1},l.run(O,V)),!0)},Object.defineProperty(f.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(l){if(l){var O=l.toString().trim();O!==l&&(l=O,l===this.comment&&this.setPropertyValueDirectly("comment",l))}this.comment!=l&&(this.setQuestionComment(l),this.updateCommentElements())},enumerable:!1,configurable:!0}),f.prototype.getCommentAreaCss=function(l){return l===void 0&&(l=!1),new u.CssClassBuilder().append("form-group",l).append(this.cssClasses.formGroup,!l).append(this.cssClasses.commentArea).toString()},f.prototype.getQuestionComment=function(){return this.questionComment},f.prototype.setQuestionComment=function(l){this.setNewComment(l)},f.prototype.isEmpty=function(){return this.isValueEmpty(this.value)},Object.defineProperty(f.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(l){this.setPropertyValue("isAnswered",l)},enumerable:!1,configurable:!0}),f.prototype.updateIsAnswered=function(){var l=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),l!==this.isAnswered&&this.updateQuestionCss()},f.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(f.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(l){this.setPropertyValue("validators",l)},enumerable:!1,configurable:!0}),f.prototype.getValidators=function(){return this.validators},f.prototype.getSupportedValidators=function(){for(var l=[],O=this.getType();O;){var V=E.settings.supportedValidators[O];if(V)for(var A=V.length-1;A>=0;A--)l.splice(0,0,V[A]);var w=m.Serializer.findClass(O);O=w.parentName}return l},f.prototype.addSupportedValidators=function(l,O){},f.prototype.addConditionObjectsByContext=function(l,O){l.push({name:this.getValueName(),text:this.processedTitle,question:this})},f.prototype.getConditionJson=function(l,O){var V=new m.JsonObject().toJsonObject(this);return V.type=this.getType(),V},f.prototype.hasErrors=function(l,O){l===void 0&&(l=!0),O===void 0&&(O=null);var V=this.errors.length>0,A=this.checkForErrors(!!O&&O.isOnValueChanged===!0);return l&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,A),this.errors=A),this.updateContainsErrors(),V!=A.length>0&&this.updateQuestionCss(),this.isCollapsed&&O&&l&&A.length>0&&this.expand(),A.length>0},f.prototype.validate=function(l,O){return l===void 0&&(l=!0),O===void 0&&(O=null),!this.hasErrors(l,O)},Object.defineProperty(f.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),f.prototype.addError=function(l){if(l){var O=null;typeof l=="string"||l instanceof String?O=new y.CustomError(l,this.survey):O=l,this.errors.push(O)}},f.prototype.removeError=function(l){var O=this.errors,V=O.indexOf(l);V!==-1&&O.splice(V,1)},f.prototype.checkForErrors=function(l){var O=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(O,l),O},f.prototype.canCollectErrors=function(){return!this.isReadOnly},f.prototype.collectErrors=function(l,O){if(this.onCheckForErrors(l,O),!(l.length>0||!this.canRunValidators(O))){var V=this.runValidators();if(V.length>0){l.length=0;for(var A=0;A<V.length;A++)l.push(V[A])}if(this.survey&&l.length==0){var w=this.fireSurveyValidation();w&&l.push(w)}}},f.prototype.canRunValidators=function(l){return!0},f.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},f.prototype.onCheckForErrors=function(l,O){var V=this;if(!O&&this.hasRequiredError()){var A=new y.AnswerRequiredError(this.requiredErrorText,this);A.onUpdateErrorTextCallback=function(w){w.text=V.requiredErrorText},l.push(A)}},f.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(f.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),f.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},f.prototype.runValidators=function(){var l=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new P.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(O){l.doOnAsyncCompleted(O)},this.validatorRunner.run(this)},f.prototype.doOnAsyncCompleted=function(l){for(var O=0;O<l.length;O++)this.errors.push(l[O]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},f.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},f.prototype.setNewValue=function(l){var O=this.isAnswered;this.setNewValueInData(l),this.allowNotifyValueChanged&&this.onValueChanged(),this.isAnswered!=O&&this.updateQuestionCss()},f.prototype.isTextValue=function(){return!1},Object.defineProperty(f.prototype,"isSurveyInputTextUpdate",{get:function(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1},enumerable:!1,configurable:!0}),f.prototype.getDataLocNotification=function(){return this.isInputTextUpdate?"text":!1},Object.defineProperty(f.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),f.prototype.setNewValueInData=function(l){l=this.valueToData(l),this.isValueChangedInSurvey||this.setValueCore(l)},f.prototype.getValueCore=function(){return this.questionValue},f.prototype.setValueCore=function(l){this.setQuestionValue(l),this.data!=null&&this.canSetValueToSurvey()&&(l=this.valueForSurvey,this.data.setValue(this.getValueName(),l,this.getDataLocNotification(),this.allowNotifyValueChanged))},f.prototype.canSetValueToSurvey=function(){return!0},f.prototype.valueFromData=function(l){return l},f.prototype.valueToData=function(l){return l},f.prototype.onValueChanged=function(){},f.prototype.setNewComment=function(l){this.questionComment!==l&&(this.questionComment=l,this.data!=null&&this.data.setComment(this.getValueName(),l,this.isSurveyInputTextUpdate?"text":!1))},f.prototype.getValidName=function(l){return d(l)},f.prototype.updateValueFromSurvey=function(l){l=this.getUnbindValue(l),this.valueFromDataCallback&&(l=this.valueFromDataCallback(l)),this.setQuestionValue(this.valueFromData(l)),this.updateIsAnswered()},f.prototype.updateCommentFromSurvey=function(l){this.questionComment=l},f.prototype.onChangeQuestionValue=function(l){},f.prototype.setValueChangedDirectly=function(){this.isValueChangedDirectly=!0},f.prototype.setQuestionValue=function(l,O){O===void 0&&(O=!0);var V=this.isTwoValueEquals(this.questionValue,l);!V&&!this.isChangingViaDefaultValue&&this.setValueChangedDirectly(),this.questionValue=l,V||this.onChangeQuestionValue(l),!V&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),O&&this.updateIsAnswered()},f.prototype.onSurveyValueChanged=function(l){},f.prototype.setVisibleIndex=function(l){return(!this.isVisible||!this.hasTitle&&!E.settings.setQuestionVisibleIndexForHiddenTitle||this.hideNumber&&!E.settings.setQuestionVisibleIndexForHiddenNumber)&&(l=-1),this.setPropertyValue("visibleIndex",l),this.setPropertyValue("no",this.calcNo()),l<0?0:1},f.prototype.removeElement=function(l){return!1},f.prototype.supportGoNextPageAutomatic=function(){return!1},f.prototype.supportGoNextPageError=function(){return!0},f.prototype.clearIncorrectValues=function(){},f.prototype.clearOnDeletingContainer=function(){},f.prototype.clearErrors=function(){this.errors=[]},f.prototype.clearUnusedValues=function(){},f.prototype.onAnyValueChanged=function(l){},f.prototype.checkBindings=function(l,O){if(!(this.bindings.isEmpty()||!this.data))for(var V=this.bindings.getPropertiesByValueName(l),A=0;A<V.length;A++){var w=V[A];this.isValueEmpty(O)&&s.Helpers.isNumber(this[w])&&(O=0),this[w]=O}},f.prototype.getComponentName=function(){return v.RendererFactory.Instance.getRendererByQuestion(this)},f.prototype.isDefaultRendering=function(){return!!this.customWidget||this.renderAs==="default"||this.getComponentName()==="default"},f.prototype.getErrorCustomText=function(l,O){return this.survey?this.survey.getSurveyErrorCustomText(this,l,O):l},f.prototype.getValidatorTitle=function(){return null},Object.defineProperty(f.prototype,"validatedValue",{get:function(){return this.value},set:function(l){this.value=l},enumerable:!1,configurable:!0}),f.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},f.prototype.transformToMobileView=function(){},f.prototype.transformToDesktopView=function(){},f.prototype.needResponsiveWidth=function(){return!1},f.prototype.supportResponsiveness=function(){return!1},f.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},f.prototype.checkForResponsiveness=function(l){var O=this;if(this.needResponsiveness())if(this.isCollapsed){var V=function(){O.isExpanded&&(O.initResponsiveness(l),O.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],V,"for-responsiveness")}else this.initResponsiveness(l)},f.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},f.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},f.prototype.initResponsiveness=function(l){var O=this;if(this.destroyResizeObserver(),l&&this.isDefaultRendering()){var V=this.getObservedElementSelector();if(!V)return;var A=l.querySelector(V);if(!A)return;var w=!1,S=void 0;this.resizeObserver=new ResizeObserver(function(){var R=l.querySelector(V);!S&&O.isDefaultRendering()&&(S=R.scrollWidth),w||!Object(c.isContainerVisible)(R)?w=!1:w=O.processResponsiveness(S,Object(c.getElementWidth)(R))}),this.onMobileChangedCallback=function(){setTimeout(function(){var R=l.querySelector(V);O.processResponsiveness(S,Object(c.getElementWidth)(R))},0)},this.resizeObserver.observe(l)}},f.prototype.getCompactRenderAs=function(){return"default"},f.prototype.getDesktopRenderAs=function(){return"default"},f.prototype.processResponsiveness=function(l,O){if(O=Math.round(O),Math.abs(l-O)>2){var V=this.renderAs;return l>O?this.renderAs=this.getCompactRenderAs():this.renderAs=this.getDesktopRenderAs(),V!==this.renderAs}return!1},f.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.renderAs=this.getDesktopRenderAs())},f.prototype.dispose=function(){h.prototype.dispose.call(this),this.destroyResizeObserver()},f.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},f.questionCounter=100,o([Object(m.property)({defaultValue:!1,onSet:function(l,O){O.setIsMobile(l)}})],f.prototype,"isMobile",void 0),o([Object(m.property)()],f.prototype,"forceIsInputReadOnly",void 0),o([Object(m.property)({localizable:!0})],f.prototype,"commentPlaceholder",void 0),o([Object(m.property)()],f.prototype,"renderAs",void 0),o([Object(m.property)({defaultValue:!1})],f.prototype,"inMatrixMode",void 0),f}(g.SurveyElement);function d(h){if(!h)return h;for(h=h.trim().replace(/[\{\}]+/g,"");h&&h[0]===E.settings.expressionDisableConversionChar;)h=h.substring(1);return h}m.Serializer.addClass("question",[{name:"!name",onSettingValue:function(h,f){return d(f)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return E.settings.minWidth}},{name:"maxWidth",defaultFunc:function(){return E.settings.maxWidth}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(h){var f=h?h.survey:null;return!f||!f.pages||f.pages.length>1},choices:function(h){var f=h?h.survey:null;return f?f.pages.map(function(l){return{value:l.name,text:l.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(h,f){h&&f&&(f.placeholder=h.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(h){if(!h)return!0;if(h.titleLocation==="hidden")return!1;var f=h?h.parent:null,l=!f||f.showQuestionNumbers!=="off";if(!l)return!1;var O=h?h.survey:null;return!O||O.showQuestionNumbers!=="off"||!!f&&f.showQuestionNumbers==="onpanel"}},{name:"valueName",onSettingValue:function(h,f){return d(f)}},"enableIf:condition","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden"]},"isRequired:switch","requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:switch",{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(h){return h.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(h){return h.showCommentArea},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(h){return h.hasComment}}]),m.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function(n,r,i){i.r(r),i.d(r,"QuestionCustomWidget",function(){return m}),i.d(r,"CustomWidgetCollection",function(){return g});var s=i("./src/base.ts"),m=function(){function y(P,T){this.name=P,this.widgetJson=T,this.htmlTemplate=T.htmlTemplate?T.htmlTemplate:""}return y.prototype.afterRender=function(P,T){var x=this;this.widgetJson.afterRender&&(P.localeChangedCallback=function(){x.widgetJson.willUnmount&&x.widgetJson.willUnmount(P,T),x.widgetJson.afterRender(P,T)},this.widgetJson.afterRender(P,T))},y.prototype.willUnmount=function(P,T){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(P,T)},y.prototype.getDisplayValue=function(P,T){return T===void 0&&(T=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(P,T):null},y.prototype.isFit=function(P){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(P):!1},Object.defineProperty(y.prototype,"canShowInToolbox",{get:function(){return this.widgetJson.showInToolbox===!1||g.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showInToolbox",{get:function(){return this.widgetJson.showInToolbox!==!1},set:function(P){this.widgetJson.showInToolbox=P},enumerable:!1,configurable:!0}),y.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},y.prototype.activatedByChanged=function(P){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(P)},y.prototype.isLibraryLoaded=function(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0},Object.defineProperty(y.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),y}(),g=function(){function y(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new s.Event}return Object.defineProperty(y.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),y.prototype.add=function(P,T){T===void 0&&(T="property"),this.addCustomWidget(P,T)},y.prototype.addCustomWidget=function(P,T){T===void 0&&(T="property");var x=P.name;x||(x="widget_"+this.widgets.length+1);var C=new m(x,P);return this.widgetsValues.push(C),C.init(),this.widgetsActivatedBy[x]=T,C.activatedByChanged(T),this.onCustomWidgetAdded.fire(C,null),C},y.prototype.getActivatedBy=function(P){var T=this.widgetsActivatedBy[P];return T||"property"},y.prototype.setActivatedBy=function(P,T){if(!(!P||!T)){var x=this.getCustomWidgetByName(P);x&&(this.widgetsActivatedBy[P]=T,x.activatedByChanged(T))}},y.prototype.clear=function(){this.widgetsValues=[]},y.prototype.getCustomWidgetByName=function(P){for(var T=0;T<this.widgets.length;T++)if(this.widgets[T].name==P)return this.widgets[T];return null},y.prototype.getCustomWidget=function(P){for(var T=0;T<this.widgetsValues.length;T++)if(this.widgetsValues[T].isFit(P))return this.widgetsValues[T];return null},y.Instance=new y,y}()},"./src/question_baseselect.ts":function(n,r,i){i.r(r),i.d(r,"QuestionSelectBase",function(){return a}),i.d(r,"QuestionCheckboxBase",function(){return d});var s=i("./src/jsonobject.ts"),m=i("./src/survey.ts"),g=i("./src/question.ts"),y=i("./src/itemvalue.ts"),P=i("./src/surveyStrings.ts"),T=i("./src/error.ts"),x=i("./src/choicesRestful.ts"),C=i("./src/conditions.ts"),E=i("./src/helpers.ts"),v=i("./src/settings.ts"),u=i("./src/utils/cssClassBuilder.ts"),c=i("./src/utils/utils.ts"),p=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),o=function(h,f,l,O){var V=arguments.length,A=V<3?f:O===null?O=Object.getOwnPropertyDescriptor(f,l):O,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(h,f,l,O);else for(var S=h.length-1;S>=0;S--)(w=h[S])&&(A=(V<3?w(A):V>3?w(f,l,A):w(f,l))||A);return V>3&&A&&Object.defineProperty(f,l,A),A},a=function(h){p(f,h);function f(l){var O=h.call(this,l)||this;O.otherItemValue=new y.ItemValue("other"),O.dependedQuestions=[],O.noneItemValue=new y.ItemValue(v.settings.noneItemValue),O.isSettingDefaultValue=!1,O.isSettingComment=!1,O.isRunningChoices=!1,O.isFirstLoadChoicesFromUrl=!0,O.isUpdatingChoicesDependedQuestions=!1,O.prevIsOtherSelected=!1;var V=O.createLocalizableString("noneText",O.noneItemValue,!0,"noneItemText");O.noneItemValue.locOwner=O,O.noneItemValue.setLocText(V),O.createItemValues("choices"),O.registerPropertyChangedHandlers(["choices"],function(){O.filterItems()||O.onVisibleChoicesChanged()}),O.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","showNoneItem"],function(){O.onVisibleChoicesChanged()}),O.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){O.onVisibleChanged()}),O.createNewArray("visibleChoices"),O.setNewRestfulProperty();var A=O.createLocalizableString("otherText",O.otherItemValue,!0,"otherItemText");return O.createLocalizableString("otherErrorText",O,!0,"otherRequiredError"),O.otherItemValue.locOwner=O,O.otherItemValue.setLocText(A),O.choicesByUrl.createItemValue=function(w){return O.createItemValue(w)},O.choicesByUrl.beforeSendRequestCallback=function(){O.onBeforeSendRequest()},O.choicesByUrl.getResultCallback=function(w){O.onLoadChoicesFromUrl(w)},O.choicesByUrl.updateResultCallback=function(w,S){return O.survey?O.survey.updateChoicesFromServer(O,w,S):w},O}return f.prototype.getType=function(){return"selectbase"},f.prototype.dispose=function(){h.prototype.dispose.call(this);for(var l=0;l<this.dependedQuestions.length;l++)this.dependedQuestions[l].choicesFromQuestion="";this.removeFromDependedQuestion(this.getQuestionWithChoices())},Object.defineProperty(f.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),f.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},f.prototype.getItemValueType=function(){return"itemvalue"},f.prototype.createItemValue=function(l,O){var V=s.Serializer.createClass(this.getItemValueType(),l);return O&&(V.text=O),V},f.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},f.prototype.isLayoutTypeSupported=function(l){return!0},f.prototype.localeChanged=function(){h.prototype.localeChanged.call(this),this.choicesOrder!=="none"&&this.updateVisibleChoices()},f.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(y.ItemValue.locStrsChanged(this.choicesFromUrl),y.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(f.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(l){this.showCommentArea?this.setOtherValueInternally(l):this.comment=l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(l){this.setPropertyValue("otherValue",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNoneSelected",{get:function(){return this.hasNone&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(l){this.setPropertyValue("showNoneItem",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(l){this.showNoneItem=l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(l){this.setLocalizableStringText("noneText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(l){this.setPropertyValue("choicesVisibleIf",l),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(l){this.setPropertyValue("choicesEnableIf",l),this.filterItems()},enumerable:!1,configurable:!0}),f.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},f.prototype.runCondition=function(l,O){h.prototype.runCondition.call(this,l,O),!this.isUsingCarrayForward&&(this.runItemsEnableCondition(l,O),this.runItemsCondition(l,O))},f.prototype.isTextValue=function(){return!0},f.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0,h.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},f.prototype.getIsMultipleValue=function(){return!1},f.prototype.convertDefaultValue=function(l){if(l==null||l==null)return l;if(this.getIsMultipleValue()){if(!Array.isArray(l))return[l]}else if(Array.isArray(l)&&l.length>0)return l[0];return l},f.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var l=this.getDataFilteredValues(),O=this.getDataFilteredProperties();return this.runItemsEnableCondition(l,O),this.runItemsCondition(l,O)},f.prototype.runItemsCondition=function(l,O){this.setConditionalChoicesRunner();var V=this.runConditionsForItems(l,O);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),V&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),V},f.prototype.runItemsEnableCondition=function(l,O){var V=this;this.setConditionalEnableChoicesRunner();var A=y.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,l,O,function(w,S){return S&&V.onEnableItemCallBack(w)});A&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},f.prototype.onAfterRunItemsEnableCondition=function(){},f.prototype.onEnableItemCallBack=function(l){return!0},f.prototype.onSelectedItemValuesChangedHandler=function(l){},f.prototype.getSingleSelectedItem=function(){var l=this.selectedItemValues;if(this.isEmpty())return null;var O=y.ItemValue.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(O),!O&&!l&&this.updateSelectedItemValues(),O||l||(this.isOtherSelected?this.otherItem:this.createItemValue(this.value))},f.prototype.onGetSingleSelectedItem=function(l){},f.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new C.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},f.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new C.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},f.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},f.prototype.changeItemVisisbility=function(){var l=this;return this.canSurveyChangeItemVisibility()?function(O,V){return l.survey.getChoiceItemVisibility(l,O,V)}:null},f.prototype.runConditionsForItems=function(l,O){this.filteredChoicesValue=[];var V=this.changeItemVisisbility();return y.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,l,O,!this.survey||!this.survey.areInvisibleElementsShowing,function(A,w){return V?V(A,w):w})},f.prototype.getHasOther=function(l){return this.getIsItemValue(l,this.otherItem)},f.prototype.getIsItemValue=function(l,O){return l===O.value},Object.defineProperty(f.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),f.prototype.createRestful=function(){return new x.ChoicesRestful},f.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(f.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(l){this.setPropertyValue("autoOtherMode",l)},enumerable:!1,configurable:!0}),f.prototype.getQuestionComment=function(){return this.showCommentArea?h.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?h.prototype.getQuestionComment.call(this):this.otherValueCore},f.prototype.selectOtherValueFromComment=function(l){this.value=l?this.otherItem.value:void 0},f.prototype.setQuestionComment=function(l){if(this.showCommentArea){h.prototype.setQuestionComment.call(this,l);return}this.onUpdateCommentOnAutoOtherMode(l),this.getStoreOthersAsComment()?h.prototype.setQuestionComment.call(this,l):this.setOtherValueInternally(l),this.updateChoicesDependedQuestions()},f.prototype.onUpdateCommentOnAutoOtherMode=function(l){if(this.autoOtherMode){this.prevOtherValue=void 0;var O=this.isOtherSelected;(!O&&l||O&&!l)&&this.selectOtherValueFromComment(!!l)}},f.prototype.setOtherValueInternally=function(l){!this.isSettingComment&&l!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=l,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},f.prototype.clearValue=function(){h.prototype.clearValue.call(this),this.prevOtherValue=void 0},f.prototype.updateCommentFromSurvey=function(l){h.prototype.updateCommentFromSurvey.call(this,l),this.prevOtherValue=void 0},Object.defineProperty(f.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(O){this.setPropertyValue("renderedValue",O);var O=this.rendredValueToData(O);this.isTwoValueEquals(O,this.value)||(this.value=O)},enumerable:!1,configurable:!0}),f.prototype.setQuestionValue=function(l,O,V){if(O===void 0&&(O=!0),V===void 0&&(V=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,l))&&(h.prototype.setQuestionValue.call(this,l,O),this.setPropertyValue("renderedValue",this.rendredValueFromData(l)),this.updateChoicesDependedQuestions(),!(this.hasComment||!V))){var A=this.isOtherSelected;if(A&&this.prevOtherValue){var w=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=w}!A&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.otherValue="")}},f.prototype.setNewValue=function(l){this.resetSelectedItemValues(),l=this.valueFromData(l),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(l))&&(this.cachedValueForUrlRequests=l),h.prototype.setNewValue.call(this,l)},f.prototype.valueFromData=function(l){var O=y.ItemValue.getItemByValue(this.activeChoices,l);return O?O.value:h.prototype.valueFromData.call(this,l)},f.prototype.rendredValueFromData=function(l){return this.getStoreOthersAsComment()?l:this.renderedValueFromDataCore(l)},f.prototype.rendredValueToData=function(l){return this.getStoreOthersAsComment()?l:this.rendredValueToDataCore(l)},f.prototype.renderedValueFromDataCore=function(l){return this.hasUnknownValue(l,!0,!1)?(this.otherValue=l,this.otherItem.value):this.valueFromData(l)},f.prototype.rendredValueToDataCore=function(l){return l==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(l=this.otherValue),l},f.prototype.needConvertRenderedOtherToDataValue=function(){var l=this.otherValue;return!l||(l=l.trim(),!l)?!1:this.hasUnknownValue(l,!0,!1)},f.prototype.updateSelectedItemValues=function(){if(!this.waitingGetChoiceDisplayValueResponse){var l=this.getIsMultipleValue();l?this.updateMultipleSelectedItemValues():this.updateSingleSelectedItemValues()}},f.prototype.updateSingleSelectedItemValues=function(){var l=this;this.survey&&!this.isEmpty()&&!y.ItemValue.getItemByValue(this.choices,this.value)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.survey.getChoiceDisplayValue({question:this,values:[this.value],setItems:function(O){l.waitingGetChoiceDisplayValueResponse=!1,!(!O||!O.length)&&(l.selectedItemValues=l.createItemValue(l.value,O[0]))}}))},f.prototype.updateMultipleSelectedItemValues=function(){var l=this,O=this.value,V=O.some(function(A){return!y.ItemValue.getItemByValue(l.choices,A)});this.survey&&!this.isEmpty()&&V&&(this.waitingGetChoiceDisplayValueResponse=!0,this.survey.getChoiceDisplayValue({question:this,values:O,setItems:function(A){l.waitingGetChoiceDisplayValueResponse=!1,!(!A||!A.length)&&(l.selectedItemValues=A.map(function(w,S){return l.createItemValue(l.value[S],w)}))}}))},f.prototype.resetSelectedItemValues=function(){this.selectedItemValues=null},f.prototype.hasUnknownValue=function(l,O,V,A){if(O===void 0&&(O=!1),V===void 0&&(V=!0),A===void 0&&(A=!1),!A&&this.isValueEmpty(l)||O&&l==this.otherItem.value||this.hasNone&&l==this.noneItem.value)return!1;var w=V?this.getFilteredChoices():this.activeChoices;return y.ItemValue.getItemByValue(w,l)==null},f.prototype.isValueDisabled=function(l){var O=y.ItemValue.getItemByValue(this.getFilteredChoices(),l);return!!O&&!O.isEnabled},Object.defineProperty(f.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(l){l&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(l.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(l){this.setPropertyValue("choices",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(l){var O=this.getQuestionWithChoices();O&&O.removeFromDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",l)},enumerable:!1,configurable:!0}),f.prototype.addIntoDependedQuestion=function(l){!l||l.dependedQuestions.indexOf(this)>-1||l.dependedQuestions.push(this)},f.prototype.removeFromDependedQuestion=function(l){if(l){var O=l.dependedQuestions.indexOf(this);O>-1&&l.dependedQuestions.splice(O,1)}},Object.defineProperty(f.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(l){this.setPropertyValue("choicesFromQuestionMode",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(l){this.setPropertyValue("hideIfChoicesEmpty",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(l){this.setPropertyValue("keepIncorrectValues",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(l){this.setPropertyValue("storeOthersAsComment",l)},enumerable:!1,configurable:!0}),f.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(f.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(l){l=l.toLowerCase(),l!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",l),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(l){this.setLocalizableStringText("otherText",l),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(l){this.otherPlaceholder=l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(l){this.setLocalizableStringText("otherErrorText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enabledChoices",{get:function(){for(var l=[],O=this.visibleChoices,V=0;V<O.length;V++)O[V].isEnabled&&l.push(O[V]);return l},enumerable:!1,configurable:!0}),f.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson){var l=new Array,O=this.calcVisibleChoices();O||(O=[]);for(var V=0;V<O.length;V++)l.push(O[V]);this.setPropertyValue("visibleChoices",l)}},f.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var l=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(l,this.isAddDefaultItems),l},f.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.hasNone&&!this.hasOther&&this.choicesOrder=="none"},f.prototype.setCanShowOptionItemCallback=function(l){this.canShowOptionItemCallback=l,l&&this.onVisibleChoicesChanged()},Object.defineProperty(f.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),f.prototype.addToVisibleChoices=function(l,O){O&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem")),this.canShowOptionItem(this.newItemValue,O,!1)&&l.push(this.newItemValue)),this.supportNone()&&this.canShowOptionItem(this.noneItem,O,this.hasNone)&&l.push(this.noneItem),this.supportOther()&&this.canShowOptionItem(this.otherItem,O,this.hasOther)&&l.push(this.otherItem)},f.prototype.canShowOptionItem=function(l,O,V){var A=O&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(l):!0)||V;if(this.canSurveyChangeItemVisibility()){var w=this.changeItemVisisbility();return w(l,A)}return A},f.prototype.isItemInList=function(l){return l===this.otherItem?this.hasOther:l===this.noneItem?this.hasNone:l!==this.newItemValue},Object.defineProperty(f.prototype,"isAddDefaultItems",{get:function(){return v.settings.supportCreatorV2&&v.settings.showDefaultItemsInCreatorV2&&this.isDesignMode&&!this.customWidget&&!this.isContentElement},enumerable:!1,configurable:!0}),f.prototype.getPlainData=function(l){var O=this;l===void 0&&(l={includeEmpty:!0,includeQuestionTypes:!1});var V=h.prototype.getPlainData.call(this,l);if(V){var A=Array.isArray(this.value)?this.value:[this.value];V.isNode=!0,V.data=(V.data||[]).concat(A.map(function(w,S){var R=y.ItemValue.getItemByValue(O.visibleChoices,w),I={name:S,title:"Choice",value:w,displayValue:O.getChoicesDisplayValue(O.visibleChoices,w),getString:function(b){return typeof b=="object"?JSON.stringify(b):b},isNode:!1};return R&&(l.calculations||[]).forEach(function(b){I[b.propertyName]=R[b.propertyName]}),O.isOtherSelected&&O.otherItemValue===R&&(I.isOther=!0,I.displayValue=O.otherValue),I}))}return V},f.prototype.getDisplayValueCore=function(l,O){return this.getChoicesDisplayValue(this.visibleChoices,O)},f.prototype.getDisplayValueEmpty=function(){return y.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},f.prototype.getChoicesDisplayValue=function(l,O){if(O==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var V=y.ItemValue.getTextOrHtmlByValue(l,O);return V==""&&O?O:V},f.prototype.getDisplayArrayValue=function(l,O,V){for(var A=this.visibleChoices,w=[],S=0;S<O.length;S++){var R=V?V(S):O[S],I=this.getChoicesDisplayValue(A,R);I&&w.push(I)}return w.join(", ")},f.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(f.prototype,"activeChoices",{get:function(){var l=this.getQuestionWithChoices();return this.isUsingCarrayForward=!!l,this.isUsingCarrayForward?(this.addIntoDependedQuestion(l),this.getChoicesFromQuestion(l)):this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),f.prototype.getQuestionWithChoices=function(){if(!this.choicesFromQuestion||!this.data)return null;var l=this.data.findQuestionByName(this.choicesFromQuestion);return l&&l.visibleChoices&&Array.isArray(l.dependedQuestions)&&l!==this?l:null},f.prototype.getChoicesFromQuestion=function(l){for(var O=[],V=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0,A=l.visibleChoices,w=0;w<A.length;w++)if(!this.isBuiltInChoice(A[w],l)){if(V===void 0){O.push(this.copyChoiceItem(A[w]));continue}var S=l.isItemSelected(A[w]);(S&&V||!S&&!V)&&O.push(this.copyChoiceItem(A[w]))}return this.choicesFromQuestionMode==="selected"&&l.isOtherSelected&&l.comment&&O.push(this.createItemValue(l.otherItem.value,l.comment)),O},f.prototype.copyChoiceItem=function(l){var O=this.createItemValue(l.value);return O.setData(l),O},Object.defineProperty(f.prototype,"hasActiveChoices",{get:function(){var l=this.visibleChoices;(!l||l.length==0)&&(this.onVisibleChoicesChanged(),l=this.visibleChoices);for(var O=0;O<l.length;O++)if(!this.isBuiltInChoice(l[O],this))return!0;return!1},enumerable:!1,configurable:!0}),f.prototype.isHeadChoice=function(l,O){return!1},f.prototype.isFootChoice=function(l,O){return l===O.noneItem||l===O.otherItem||l===O.newItemValue},f.prototype.isBuiltInChoice=function(l,O){return this.isHeadChoice(l,O)||this.isFootChoice(l,O)},f.prototype.getChoices=function(){return this.choices},f.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},f.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},f.prototype.isSupportProperty=function(l){return!this.isDesignMode||this.getPropertyByName(l).visible},f.prototype.onCheckForErrors=function(l,O){var V=this;if(h.prototype.onCheckForErrors.call(this,l,O),!(!this.hasOther||!this.isOtherSelected||this.otherValue)){var A=new T.OtherEmptyError(this.otherErrorText,this);A.onUpdateErrorTextCallback=function(w){w.text=V.otherErrorText},l.push(A)}},f.prototype.setSurveyImpl=function(l,O){h.prototype.setSurveyImpl.call(this,l,O),this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},f.prototype.setSurveyCore=function(l){h.prototype.setSurveyCore.call(this,l),l&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},f.prototype.getStoreOthersAsComment=function(){return this.isSettingDefaultValue||this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||!this.choicesByUrl.isEmpty&&!this.choicesFromUrl},f.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),h.prototype.onSurveyLoad.call(this)},f.prototype.onAnyValueChanged=function(l){h.prototype.onAnyValueChanged.call(this,l),l!=this.getValueName()&&this.runChoicesByUrl(),l&&l==this.choicesFromQuestion&&this.onVisibleChoicesChanged()},f.prototype.updateValueFromSurvey=function(l){var O="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(l)&&!this.getHasOther(l)?(O=this.getCommentFromValue(l),l=this.setOtherValueIntoValue(l)):O=this.data.getComment(this.getValueName())),h.prototype.updateValueFromSurvey.call(this,l),O&&this.setNewComment(O)},f.prototype.getCommentFromValue=function(l){return l},f.prototype.setOtherValueIntoValue=function(l){return this.otherItem.value},f.prototype.onOtherValueInput=function(l){this.isInputTextUpdate?l.target&&(this.otherValue=l.target.value):this.updateCommentElements()},f.prototype.onOtherValueChange=function(l){this.otherValue=l.target.value,this.otherValue!==l.target.value&&(l.target.value=this.otherValue)},f.prototype.runChoicesByUrl=function(){if(!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices)){var l=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;l||(l=this.survey),l&&(this.isReadyValue=this.isChoicesLoaded||this.choicesByUrl.isEmpty,this.isRunningChoices=!0,this.choicesByUrl.run(l),this.isRunningChoices=!1)}},f.prototype.onBeforeSendRequest=function(){v.settings.disableOnGettingChoicesFromWeb===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},f.prototype.onLoadChoicesFromUrl=function(l){if(this.enableOnLoadingChoices&&(this.readOnly=!1),!this.isReadOnly){var O=[];this.choicesByUrl&&this.choicesByUrl.error&&O.push(this.choicesByUrl.error),this.errors=O}var V=null,A=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,A=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var w=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,A);if(l&&(l.length>0||this.choicesByUrl.allowEmptyResponse)&&(V=new Array,y.ItemValue.setData(V,l)),V)for(var S=0;S<V.length;S++)V[S].locOwner=this;if(this.choicesFromUrl=V,this.filterItems(),this.onVisibleChoicesChanged(),V){var R=this.updateCachedValueForUrlRequests(w,V);if(R&&!this.isReadOnly){var I=!this.isTwoValueEquals(this.value,R.value);try{this.isValueEmpty(R.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=I,I?this.value=R.value:this.setQuestionValue(R.value)}finally{this.allowNotifyValueChanged=!0}}}this.choicesLoaded()},f.prototype.createCachedValueForUrlRequests=function(l,O){if(this.isValueEmpty(l))return null;if(Array.isArray(l)){for(var V=[],A=0;A<l.length;A++)V.push(this.createCachedValueForUrlRequests(l[A],!0));return V}var w=O?!this.hasUnknownValue(l):!0;return{value:l,isExists:w}},f.prototype.updateCachedValueForUrlRequests=function(l,O){if(this.isValueEmpty(l))return null;if(Array.isArray(l)){for(var V=[],A=0;A<l.length;A++){var w=this.updateCachedValueForUrlRequests(l[A],O);if(w&&!this.isValueEmpty(w.value)){var S=w.value,I=y.ItemValue.getItemByValue(O,w.value);I&&(S=I.value),V.push(S)}}return{value:V}}var R=l.isExists&&this.hasUnknownValue(l.value)?null:l.value,I=y.ItemValue.getItemByValue(O,R);return I&&(R=I.value),{value:R}},f.prototype.updateChoicesDependedQuestions=function(){if(!(this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions)){this.isUpdatingChoicesDependedQuestions=!0;for(var l=0;l<this.dependedQuestions.length;l++){var O=this.dependedQuestions[l];O.onVisibleChoicesChanged(),O.clearIncorrectValuesCore()}this.isUpdatingChoicesDependedQuestions=!1}},f.prototype.onSurveyValueChanged=function(l){h.prototype.onSurveyValueChanged.call(this,l),this.updateChoicesDependedQuestions()},f.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},f.prototype.isVisibleCore=function(){var l=h.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!l)return l;var O=this.getFilteredChoices();return!O||O.length>0},f.prototype.sortVisibleChoices=function(l){var O=this.choicesOrder.toLowerCase();return O=="asc"?this.sortArray(l,1):O=="desc"?this.sortArray(l,-1):O=="random"?this.randomizeArray(l):l},f.prototype.sortArray=function(l,O){return l.sort(function(V,A){return E.Helpers.compareStrings(V.calculatedText,A.calculatedText)*O})},f.prototype.randomizeArray=function(l){return E.Helpers.randomizeArray(l)},f.prototype.clearIncorrectValues=function(){this.hasValueToClearIncorrectValues()&&(this.survey&&this.survey.questionCountByValueName(this.getValueName())>1||this.choicesByUrl&&!this.choicesByUrl.isEmpty&&(!this.choicesFromUrl||this.choicesFromUrl.length==0)||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore()))},f.prototype.hasValueToClearIncorrectValues=function(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()},f.prototype.clearValueIfInvisibleCore=function(){h.prototype.clearValueIfInvisibleCore.call(this),this.clearIncorrectValues()},f.prototype.isItemSelected=function(l){return l===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(l)},f.prototype.isItemSelectedCore=function(l){return l.value===this.value},f.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},f.prototype.clearIncorrectValuesCore=function(){var l=this.value;this.canClearValueAnUnknow(l)&&this.clearValue()},f.prototype.canClearValueAnUnknow=function(l){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(l,!0,!0,!0)},f.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},f.prototype.clearUnusedValues=function(){h.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},f.prototype.getColumnClass=function(){return new u.CssClassBuilder().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},f.prototype.getItemIndex=function(l){return this.visibleChoices.indexOf(l)},f.prototype.getItemClass=function(l){var O={item:l},V=this.getItemClassCore(l,O);return O.css=V,this.survey&&this.survey.updateChoiceItemCss(this,O),O.css},f.prototype.getCurrentColCount=function(){return this.colCount},f.prototype.getItemClassCore=function(l,O){var V=new u.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.errors.length>0),A=this.isReadOnly||!l.isEnabled,w=this.isItemSelected(l)||this.isOtherSelected&&this.otherItem.value===l.value,S=!A&&!w&&!(this.survey&&this.survey.isDesignMode),R=l===this.noneItem;return O.isDisabled=A,O.isChecked=w,O.isNone=R,V.append(this.cssClasses.itemDisabled,A).append(this.cssClasses.itemChecked,w).append(this.cssClasses.itemHover,S).append(this.cssClasses.itemNone,R).toString()},f.prototype.getLabelClass=function(l){return new u.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(l)).toString()},f.prototype.getControlLabelClass=function(l){return new u.CssClassBuilder().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(l)).toString()||void 0},Object.defineProperty(f.prototype,"headItems",{get:function(){var l=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(O){return l.isHeadChoice(O,l)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"footItems",{get:function(){var l=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(O){return l.isFootChoice(O,l)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"dataChoices",{get:function(){var l=this;return this.visibleChoices.filter(function(O){return!l.isBuiltInChoice(O,l)})},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"columns",{get:function(){var l=[],O=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var V=!this.separateSpecialChoices&&!this.isDesignMode?this.visibleChoices:this.dataChoices;if(v.settings.showItemsInOrder=="column")for(var A=0,w=V.length%O,S=0;S<O;S++){for(var R=[],I=A;I<A+Math.floor(V.length/O);I++)R.push(V[I]);w>0&&(w--,R.push(V[I]),I++),A=I,l.push(R)}else for(var S=0;S<O;S++){for(var R=[],I=S;I<V.length;I+=O)R.push(V[I]);l.push(R)}}return l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rowLayout",{get:function(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"blockedRow",{get:function(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),f.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0;var l=this.isReadyValue;this.isReadyValue=!0,this.onReadyChanged&&this.onReadyChanged.fire(this,{question:this,isReady:!0,oldIsReady:l}),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},f.prototype.getItemValueWrapperComponentName=function(l){var O=this.survey;return O?O.getItemValueWrapperComponentName(l,this):m.SurveyModel.TemplateRendererComponentName},f.prototype.getItemValueWrapperComponentData=function(l){var O=this.survey;return O?O.getItemValueWrapperComponentData(l,this):l},f.prototype.ariaItemChecked=function(l){return this.renderedValue===l.value?"true":"false"},f.prototype.isOtherItem=function(l){return this.hasOther&&l.value==this.otherItem.value},Object.defineProperty(f.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),f.prototype.getSelectBaseRootCss=function(){return new u.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootRow,this.rowLayout).toString()},f.prototype.getAriaItemLabel=function(l){return l.locText.renderedHtml},f.prototype.getItemId=function(l){return this.inputId+"_"+this.getItemIndex(l)},Object.defineProperty(f.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),f.prototype.getItemEnabled=function(l){return!this.isInputReadOnly&&l.isEnabled},f.prototype.afterRender=function(l){h.prototype.afterRender.call(this,l),this.rootElement=l},f.prototype.beforeDestroyQuestionElement=function(l){h.prototype.beforeDestroyQuestionElement.call(this,l),this.rootElement=void 0},f.prototype.focusOtherComment=function(){var l=this;this.rootElement&&setTimeout(function(){var O=l.rootElement.querySelector("textarea");O&&O.focus()},10)},f.prototype.onValueChanged=function(){h.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},f.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(f.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(l){this.setPropertyValue("itemComponent",l)},enumerable:!1,configurable:!0}),f.prototype.updateCssClasses=function(l,O){if(h.prototype.updateCssClasses.call(this,l,O),this.dropdownListModel){var V={};Object(c.mergeValues)(O.list,V),Object(c.mergeValues)(l.list,V),l.list=V}},f.prototype.calcCssClasses=function(l){var O=h.prototype.calcCssClasses.call(this,l);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(O.popup,O.list),O},o([Object(s.property)({onSet:function(l,O){O.onSelectedItemValuesChangedHandler(l)}})],f.prototype,"selectedItemValues",void 0),o([Object(s.property)()],f.prototype,"separateSpecialChoices",void 0),o([Object(s.property)({localizable:!0})],f.prototype,"otherPlaceholder",void 0),f}(g.Question),d=function(h){p(f,h);function f(l){return h.call(this,l)||this}return Object.defineProperty(f.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:1)},set:function(l){l<0||l>5||this.isFlowLayout||(this.setPropertyValue("colCount",l),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),f.prototype.clickItemHandler=function(l,O){var V=[].concat(this.renderedValue||[]),A=V.indexOf(l.value);O?A<0&&V.push(l.value):A>-1&&V.splice(A,1),this.renderedValue=V},f.prototype.onParentChanged=function(){h.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},f.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},f.prototype.getSearchableItemValueKeys=function(l){l.push("choices")},f}(a);s.Serializer.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_selectbase",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return P.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(h){return!!h.choicesFromQuestion}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"ChoicesRestful",onGetValue:function(h){return h.choicesByUrl.getData()},onSetValue:function(h,f){h.choicesByUrl.setData(f)}},"hideIfChoicesEmpty:boolean",{name:"choicesVisibleIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(h){return!h.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(h){return h.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(h){return h.hasNone}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(h){return h.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(h){return h.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),s.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function(n,r,i){i.r(r),i.d(r,"QuestionBooleanModel",function(){return C});var s=i("./src/questionfactory.ts"),m=i("./src/jsonobject.ts"),g=i("./src/question.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=i("./src/utils/utils.ts"),T=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),x=function(E,v,u,c){var p=arguments.length,o=p<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,u):c,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(E,v,u,c);else for(var d=E.length-1;d>=0;d--)(a=E[d])&&(o=(p<3?a(o):p>3?a(v,u,o):a(v,u))||o);return p>3&&o&&Object.defineProperty(v,u,o),o},C=function(E){T(v,E);function v(u){var c=E.call(this,u)||this;return c.createLocalizableString("labelFalse",c,!0,"booleanUncheckedLabel"),c.createLocalizableString("labelTrue",c,!0,"booleanCheckedLabel"),c}return v.prototype.getType=function(){return"boolean"},v.prototype.isLayoutTypeSupported=function(u){return!0},v.prototype.supportGoNextPageAutomatic=function(){return this.renderAs!=="checkbox"},Object.defineProperty(v.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(u){this.isReadOnly||this.setBooleanValue(u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(u){this.booleanValue=u},enumerable:!1,configurable:!0}),v.prototype.setBooleanValue=function(u){this.isValueEmpty(u)?(this.value=null,this.booleanValueRendered=null):(this.value=u==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=u)},Object.defineProperty(v.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(u){u===!0&&(u="true"),u===!1&&(u="false"),u===void 0&&(u="indeterminate"),this.setPropertyValue("defaultValue",u),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),v.prototype.getDefaultValue=function(){return this.defaultValue=="indeterminate"||this.defaultValue===void 0?null:this.defaultValue=="true"?this.getValueTrue():this.getValueFalse()},Object.defineProperty(v.prototype,"locTitle",{get:function(){var u=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(u.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isLabelRendered",{get:function(){return this.titleLocation==="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(u){this.setLocalizableStringText("labelTrue",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isDeterminated",{get:function(){return this.booleanValue!==null},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(u){this.setLocalizableStringText("labelFalse",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),v.prototype.getValueTrue=function(){return this.valueTrue!==void 0?this.valueTrue:!0},v.prototype.getValueFalse=function(){return this.valueFalse!==void 0?this.valueFalse:!1},v.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1),this.defaultValue=="indeterminate"&&this.setBooleanValue(null)},v.prototype.isDefaultValueSet=function(u,c){return this.defaultValue==u||c!==void 0&&this.defaultValue===c},v.prototype.getDisplayValueCore=function(u,c){return c==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},v.prototype.getItemCssValue=function(u){return new y.CssClassBuilder().append(u.item).append(u.itemOnError,this.errors.length>0).append(u.itemDisabled,this.isReadOnly).append(u.itemHover,!this.isDesignMode).append(u.itemChecked,!!this.booleanValue).append(u.itemIndeterminate,this.booleanValue===null).toString()},v.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},v.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},v.prototype.getLabelCss=function(u){return new y.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!u||this.isReadOnly).toString()},Object.defineProperty(v.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:this.booleanValue===null&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),v.prototype.getCheckedLabel=function(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse},v.prototype.setQuestionValue=function(u,c){c===void 0&&(c=!0),u==="true"&&this.valueTrue!=="true"&&(u=!0),u==="false"&&this.valueFalse!=="false"&&(u=!1),u==="indeterminate"&&(u=null),E.prototype.setQuestionValue.call(this,u,c)},v.prototype.onLabelClick=function(u,c){return this.allowClick&&(Object(P.preventDefaults)(u),this.booleanValue=c),!0},v.prototype.calculateBooleanValueByEvent=function(u,c){var p=document.defaultView.getComputedStyle(u.target).direction=="rtl";this.booleanValue=p?!c:c},v.prototype.onSwitchClickModel=function(u){if(this.allowClick){Object(P.preventDefaults)(u);var c=u.offsetX/u.target.offsetWidth>.5;this.calculateBooleanValueByEvent(u,c);return}return!0},v.prototype.onKeyDownCore=function(u){if(u.key==="ArrowLeft"||u.key==="ArrowRight"){Object(P.preventDefaults)(u),this.calculateBooleanValueByEvent(u,u.key==="ArrowRight");return}return!0},v.prototype.getRadioItemClass=function(u,c){var p=void 0;return u.radioItem&&(p=u.radioItem),u.radioItemChecked&&c===this.booleanValue&&(p=(p?p+" ":"")+u.radioItemChecked),p},v.prototype.supportResponsiveness=function(){return!0},v.prototype.getCompactRenderAs=function(){return"radio"},v.prototype.createActionContainer=function(u){return E.prototype.createActionContainer.call(this,this.renderAs!=="checkbox")},x([Object(m.property)()],v.prototype,"booleanValueRendered",void 0),x([Object(m.property)()],v.prototype,"showTitle",void 0),x([Object(m.property)({localizable:!0})],v.prototype,"label",void 0),x([Object(m.property)()],v.prototype,"valueTrue",void 0),x([Object(m.property)()],v.prototype,"valueFalse",void 0),v}(g.Question);m.Serializer.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new C("")},"question"),s.QuestionFactory.Instance.registerQuestion("boolean",function(E){return new C(E)})},"./src/question_buttongroup.ts":function(n,r,i){i.r(r),i.d(r,"ButtonGroupItemValue",function(){return x}),i.d(r,"QuestionButtonGroupModel",function(){return C}),i.d(r,"ButtonGroupItemModel",function(){return E});var s=i("./src/jsonobject.ts"),m=i("./src/itemvalue.ts"),g=i("./src/question_baseselect.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),T=function(v,u,c,p){var o=arguments.length,a=o<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,c):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(v,u,c,p);else for(var h=v.length-1;h>=0;h--)(d=v[h])&&(a=(o<3?d(a):o>3?d(u,c,a):d(u,c))||a);return o>3&&a&&Object.defineProperty(u,c,a),a},x=function(v){P(u,v);function u(c,p,o){p===void 0&&(p=null),o===void 0&&(o="buttongroupitemvalue");var a=v.call(this,c,p,o)||this;return a.typeName=o,a}return u.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},T([Object(s.property)()],u.prototype,"iconName",void 0),T([Object(s.property)()],u.prototype,"iconSize",void 0),T([Object(s.property)()],u.prototype,"showCaption",void 0),u}(m.ItemValue),C=function(v){P(u,v);function u(c){return v.call(this,c)||this}return u.prototype.getType=function(){return"buttongroup"},u.prototype.getItemValueType=function(){return"buttongroupitemvalue"},u.prototype.supportOther=function(){return!1},u}(g.QuestionCheckboxBase);s.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new C("")},"checkboxbase"),s.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(v){return new x(v)},"itemvalue");var E=function(){function v(u,c,p){this.question=u,this.item=c,this.index=p}return Object.defineProperty(v.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showCaption",{get:function(){return this.item.showCaption||this.item.showCaption===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"labelClass",{get:function(){return new y.CssClassBuilder().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),v.prototype.onChange=function(){this.question.renderedValue=this.item.value},v}()},"./src/question_checkbox.ts":function(n,r,i){i.r(r),i.d(r,"QuestionCheckboxModel",function(){return C});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question_baseselect.ts"),y=i("./src/helpers.ts"),P=i("./src/itemvalue.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){var c=E.call(this,u)||this;c.selectAllItemValue=new P.ItemValue("selectall"),c.invisibleOldValues={},c.isChangingValueOnClearIncorrect=!1;var p=c.createLocalizableString("selectAllText",c.selectAllItem,!0,"selectAllItemText");return c.selectAllItem.locOwner=c,c.selectAllItem.setLocText(p),c.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){c.onVisibleChoicesChanged()}),c}return v.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},Object.defineProperty(v.prototype,"ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),v.prototype.getType=function(){return"checkbox"},v.prototype.onCreating=function(){E.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},v.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(v.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(u){this.setPropertyValue("valuePropertyName",u)},enumerable:!1,configurable:!0}),v.prototype.getQuestionFromArray=function(u,c){if(u&&u===this.valuePropertyName){var p=this.value;if(Array.isArray(p)&&c<p.length)return this}return null},Object.defineProperty(v.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(u){this.setLocalizableStringText("selectAllText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(u){this.setPropertyValue("showSelectAllItem",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(u){this.showSelectAllItem=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isAllSelected",{get:function(){var u=this.value;if(!u||!Array.isArray(u)||this.isItemSelected(this.noneItem))return!1;var c=this.visibleChoices.length;this.hasOther&&c--,this.hasNone&&c--,this.hasSelectAll&&c--;var p=u.length;return this.isOtherSelected&&p--,p===c},set:function(u){u?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),v.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},v.prototype.selectAll=function(){for(var u=[],c=0;c<this.visibleChoices.length;c++){var p=this.visibleChoices[c];p===this.noneItem||p===this.otherItem||p===this.selectAllItem||u.push(p.value)}this.renderedValue=u},v.prototype.isItemSelectedCore=function(u){if(u===this.selectAllItem)return this.isAllSelected;var c=this.renderedValue;if(!c||!Array.isArray(c))return!1;for(var p=0;p<c.length;p++)if(this.isTwoValueEquals(c[p],u.value))return!0;return!1},v.prototype.getRealValue=function(u){return u&&(this.valuePropertyName?u[this.valuePropertyName]:u)},Object.defineProperty(v.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(u){u<0&&(u=0),this.setPropertyValue("maxSelectedChoices",u),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selectedChoices",{get:function(){if(this.isEmpty())return[];var u=this.renderedValue,c=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,this.visibleChoices):this.visibleChoices,p=u.map(function(o){return P.ItemValue.getItemByValue(c,o)}).filter(function(o){return!!o});return!p.length&&!this.selectedItemValues&&this.updateSelectedItemValues(),this.validateItemValues(p)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),v.prototype.validateItemValues=function(u){if(u.length)return u;var c=this.selectedItemValues;if(c&&c.length)return this.defaultSelectedItemValues=[].concat(c),c;var p=this.renderedValue;return p.map(function(o){return new P.ItemValue(o)})},v.prototype.onEnableItemCallBack=function(u){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(u):!0},v.prototype.onAfterRunItemsEnableCondition=function(){if(this.maxSelectedChoices<1){this.selectAllItem.setIsEnabled(!0),this.otherItem.setIsEnabled(!0);return}this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.maxSelectedChoices>=this.activeChoices.length),this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},v.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var u=this.value,c=Array.isArray(u)?u.length:0;return c>=this.maxSelectedChoices},v.prototype.getItemClassCore=function(u,c){return this.value,c.isSelectAllItem=u===this.selectAllItem,new T.CssClassBuilder().append(E.prototype.getItemClassCore.call(this,u,c)).append(this.cssClasses.itemSelectAll,c.isSelectAllItem).toString()},v.prototype.updateValueFromSurvey=function(u){E.prototype.updateValueFromSurvey.call(this,u),this.invisibleOldValues={}},v.prototype.setDefaultValue=function(){E.prototype.setDefaultValue.call(this);var u=this.defaultValue;if(Array.isArray(u))for(var c=0;c<u.length;c++){var p=this.getRealValue(u[c]);this.canClearValueAnUnknow(p)&&this.addIntoInvisibleOldValues(p)}},v.prototype.addIntoInvisibleOldValues=function(u){this.invisibleOldValues[u]=u},v.prototype.hasValueToClearIncorrectValues=function(){return E.prototype.hasValueToClearIncorrectValues.call(this)||!y.Helpers.isValueEmpty(this.invisibleOldValues)},v.prototype.setNewValue=function(u){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),u=this.valueFromData(u);var c=this.value;if(u||(u=[]),c||(c=[]),!this.isTwoValueEquals(c,u)){if(this.hasNone){var p=this.noneIndexInArray(c),o=this.noneIndexInArray(u);p>-1?o>-1&&u.length>1&&u.splice(o,1):o>-1&&(u.splice(0,u.length),u.push(this.noneItem.value))}E.prototype.setNewValue.call(this,u)}},v.prototype.getIsMultipleValue=function(){return!0},v.prototype.getCommentFromValue=function(u){var c=this.getFirstUnknownIndex(u);return c<0?"":u[c]},v.prototype.setOtherValueIntoValue=function(u){var c=this.getFirstUnknownIndex(u);return c<0||u.splice(c,1,this.otherItem.value),u},v.prototype.getFirstUnknownIndex=function(u){if(!Array.isArray(u))return-1;for(var c=0;c<u.length;c++)if(this.hasUnknownValue(u[c],!1,!1))return c;return-1},v.prototype.noneIndexInArray=function(u){if(!u||!Array.isArray(u))return-1;for(var c=this.noneItem.value,p=0;p<u.length;p++)if(u[p]==c)return p;return-1},v.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&E.prototype.canUseFilteredChoices.call(this)},v.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},v.prototype.addToVisibleChoices=function(u,c){this.supportSelectAll()&&this.canShowOptionItem(this.selectAllItem,c,this.hasSelectAll)&&u.unshift(this.selectAllItem),E.prototype.addToVisibleChoices.call(this,u,c)},v.prototype.isHeadChoice=function(u,c){return u===c.selectAllItem},v.prototype.isItemInList=function(u){return u==this.selectAllItem?this.hasSelectAll:E.prototype.isItemInList.call(this,u)},v.prototype.getDisplayValueCore=function(u,c){if(!Array.isArray(c))return E.prototype.getDisplayValueCore.call(this,u,c);var p=this.valuePropertyName,o=function(a){var d=c[a];return p&&d[p]&&(d=d[p]),d};return this.getDisplayArrayValue(u,c,o)},v.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},v.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},v.prototype.clearIncorrectAndDisabledValues=function(u){var c=this.value,p=!1,o=this.restoreValuesFromInvisible();if(!(!c&&o.length==0)){if(!Array.isArray(c)||c.length==0){if(this.isChangingValueOnClearIncorrect=!0,u||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,o.length==0)return;c=[]}for(var a=[],d=0;d<c.length;d++){var h=this.getRealValue(c[d]),f=this.canClearValueAnUnknow(h);!u&&!f||u&&!this.isValueDisabled(h)?a.push(c[d]):(p=!0,f&&this.addIntoInvisibleOldValues(c[d]))}for(var d=0;d<o.length;d++)a.push(o[d]),p=!0;p&&(this.isChangingValueOnClearIncorrect=!0,a.length==0?this.clearValue():this.value=a,this.isChangingValueOnClearIncorrect=!1)}},v.prototype.restoreValuesFromInvisible=function(){for(var u=[],c=this.visibleChoices,p=0;p<c.length;p++){var o=c[p].value;y.Helpers.isTwoValueEquals(o,this.invisibleOldValues[o])&&(this.isItemSelected(c[p])||u.push(o),delete this.invisibleOldValues[o])}return u},v.prototype.getConditionJson=function(u,c){u===void 0&&(u=null);var p=E.prototype.getConditionJson.call(this);return(u=="contains"||u=="notcontains")&&(p.type="radiogroup"),p},v.prototype.isAnswerCorrect=function(){return y.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},v.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},v.prototype.getIsItemValue=function(u,c){return!u||!Array.isArray(u)?!1:u.indexOf(c.value)>=0},v.prototype.valueFromData=function(u){if(!u)return u;if(!Array.isArray(u))return[E.prototype.valueFromData.call(this,u)];for(var c=[],p=0;p<u.length;p++){var o=P.ItemValue.getItemByValue(this.activeChoices,u[p]);o?c.push(o.value):c.push(u[p])}return c},v.prototype.rendredValueFromData=function(u){return u=this.convertValueFromObject(u),E.prototype.rendredValueFromData.call(this,u)},v.prototype.rendredValueToData=function(u){return u=E.prototype.rendredValueToData.call(this,u),this.convertValueToObject(u)},v.prototype.convertValueFromObject=function(u){return this.valuePropertyName?y.Helpers.convertArrayObjectToValue(u,this.valuePropertyName):u},v.prototype.convertValueToObject=function(u){if(!this.valuePropertyName)return u;var c=void 0;return this.survey&&this.survey.questionCountByValueName(this.getValueName())>1&&(c=this.data.getValue(this.getValueName())),y.Helpers.convertArrayValueToObject(u,this.valuePropertyName,c)},v.prototype.renderedValueFromDataCore=function(u){if((!u||!Array.isArray(u))&&(u=[]),!this.hasActiveChoices)return u;for(var c=0;c<u.length;c++){if(u[c]==this.otherItem.value)return u;if(this.hasUnknownValue(u[c],!0,!1)){this.otherValue=u[c];var p=u.slice();return p[c]=this.otherItem.value,p}}return u},v.prototype.rendredValueToDataCore=function(u){if(!u||!u.length)return u;for(var c=0;c<u.length;c++)if(u[c]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var p=u.slice();return p[c]=this.otherValue,p}return u},v.prototype.selectOtherValueFromComment=function(u){var c=[],p=this.renderedValue;if(Array.isArray(p))for(var o=0;o<p.length;o++)p[o]!==this.otherItem.value&&c.push(p[o]);u&&c.push(this.otherItem.value),this.value=c},Object.defineProperty(v.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),v}(g.QuestionCheckboxBase);s.Serializer.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(E){return E.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new C("")},"checkboxbase"),m.QuestionFactory.Instance.registerQuestion("checkbox",function(E){var v=new C(E);return v.choices=m.QuestionFactory.DefaultChoices,v})},"./src/question_comment.ts":function(n,r,i){i.r(r),i.d(r,"QuestionCommentModel",function(){return x});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question_textbase.ts"),y=i("./src/utils/utils.ts"),P=i("./src/settings.ts"),T=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),x=function(C){T(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return Object.defineProperty(E.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(v){this.setPropertyValue("rows",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(v){this.setPropertyValue("cols",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(v){this.setPropertyValue("acceptCarriageReturn",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(v){this.setPropertyValue("autoGrow",v)},enumerable:!1,configurable:!0}),E.prototype.getType=function(){return"comment"},E.prototype.afterRenderQuestionElement=function(v){var u=P.settings.environment.root;this.element=u.getElementById(this.inputId)||v,this.updateElement(),C.prototype.afterRenderQuestionElement.call(this,v)},E.prototype.updateElement=function(){var v=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(y.increaseHeightByContent)(v.element)},1)},E.prototype.beforeDestroyQuestionElement=function(v){C.prototype.beforeDestroyQuestionElement.call(this,v),this.element=void 0},E.prototype.onInput=function(v){this.isInputTextUpdate?this.value=v.target.value:this.updateElement(),this.updateRemainingCharacterCounter(v.target.value)},E.prototype.onKeyDown=function(v){!this.acceptCarriageReturn&&(v.key==="Enter"||v.keyCode===13)&&(v.preventDefault(),v.stopPropagation())},E.prototype.onValueChanged=function(){C.prototype.onValueChanged.call(this),this.updateElement()},E.prototype.setNewValue=function(v){!this.acceptCarriageReturn&&v&&(v=v.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),C.prototype.setNewValue.call(this,v)},Object.defineProperty(E.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),E}(g.QuestionTextBase);s.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new x("")},"textbase"),m.QuestionFactory.Instance.registerQuestion("comment",function(C){return new x(C)})},"./src/question_custom.ts":function(n,r,i){i.r(r),i.d(r,"ComponentQuestionJSON",function(){return C}),i.d(r,"ComponentCollection",function(){return E}),i.d(r,"QuestionCustomModelBase",function(){return v}),i.d(r,"QuestionCustomModel",function(){return u}),i.d(r,"QuestionCompositeModel",function(){return p});var s=i("./src/question.ts"),m=i("./src/jsonobject.ts"),g=i("./src/survey-element.ts"),y=i("./src/helpers.ts"),P=i("./src/textPreProcessor.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),C=function(){function o(a,d){this.name=a,this.json=d;var h=this;m.Serializer.addClass(a,[],function(f){return E.Instance.createQuestion(f?f.name:"",h)},"question"),this.onInit()}return o.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},o.prototype.onCreated=function(a){this.json.onCreated&&this.json.onCreated(a)},o.prototype.onLoaded=function(a){this.json.onLoaded&&this.json.onLoaded(a)},o.prototype.onAfterRender=function(a,d){this.json.onAfterRender&&this.json.onAfterRender(a,d)},o.prototype.onAfterRenderContentElement=function(a,d,h){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(a,d,h)},o.prototype.onUpdateQuestionCssClasses=function(a,d,h){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(a,d,h)},o.prototype.onPropertyChanged=function(a,d,h){this.json.onPropertyChanged&&this.json.onPropertyChanged(a,d,h)},o.prototype.onValueChanged=function(a,d,h){this.json.onValueChanged&&this.json.onValueChanged(a,d,h)},o.prototype.onValueChanging=function(a,d,h){return this.json.onValueChanging?this.json.onValueChanging(a,d,h):h},o.prototype.onItemValuePropertyChanged=function(a,d,h,f,l){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(a,{obj:d,propertyName:h,name:f,newValue:l})},o.prototype.getDisplayValue=function(a,d,h){return this.json.getDisplayValue?this.json.getDisplayValue(h):h.getDisplayValue(a,d)},Object.defineProperty(o.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),o}(),E=function(){function o(){this.customQuestionValues=[]}return o.prototype.add=function(a){if(a){var d=a.name;if(!d)throw"Attribute name is missed";if(d=d.toLowerCase(),this.getCustomQuestionByName(d))throw"There is already registered custom question with name '"+d+"'";if(m.Serializer.findClass(d))throw"There is already class with name '"+d+"'";var h=new C(d,a);this.onAddingJson&&this.onAddingJson(d,h.isComposite),this.customQuestionValues.push(h)}},Object.defineProperty(o.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),o.prototype.getCustomQuestionByName=function(a){for(var d=0;d<this.customQuestionValues.length;d++)if(this.customQuestionValues[d].name==a)return this.customQuestionValues[d];return null},o.prototype.clear=function(){for(var a=0;a<this.customQuestionValues.length;a++)m.Serializer.removeClass(this.customQuestionValues[a].name);this.customQuestionValues=[]},o.prototype.createQuestion=function(a,d){return d.isComposite?this.createCompositeModel(a,d):this.createCustomModel(a,d)},o.prototype.createCompositeModel=function(a,d){return this.onCreateComposite?this.onCreateComposite(a,d):new p(a,d)},o.prototype.createCustomModel=function(a,d){return this.onCreateCustom?this.onCreateCustom(a,d):new u(a,d)},o.Instance=new o,o}(),v=function(o){x(a,o);function a(d,h){var f=o.call(this,d)||this;return f.customQuestion=h,m.CustomPropertiesCollection.createProperties(f),g.SurveyElement.CreateDisabledDesignElements=!0,f.createWrapper(),g.SurveyElement.CreateDisabledDesignElements=!1,f.customQuestion&&f.customQuestion.onCreated(f),f}return a.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},a.prototype.locStrsChanged=function(){o.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},a.prototype.createWrapper=function(){},a.prototype.onPropertyValueChanged=function(d,h,f){o.prototype.onPropertyValueChanged.call(this,d,h,f),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,d,f)},a.prototype.itemValuePropertyChanged=function(d,h,f,l){o.prototype.itemValuePropertyChanged.call(this,d,h,f,l),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,d,d.ownerPropertyName,h,l)},a.prototype.onFirstRendering=function(){var d=this.getElement();d&&d.onFirstRendering(),o.prototype.onFirstRendering.call(this)},a.prototype.getProgressInfo=function(){var d=o.prototype.getProgressInfo.call(this);return this.getElement()&&(d=this.getElement().getProgressInfo()),this.isRequired&&d.requiredQuestionCount==0&&(d.requiredQuestionCount=1,this.isEmpty()||(d.answeredQuestionCount=1)),d},a.prototype.initElement=function(d){d&&(d.setSurveyImpl(this),d.disableDesignActions=!0)},a.prototype.setSurveyImpl=function(d,h){o.prototype.setSurveyImpl.call(this,d,h),this.initElement(this.getElement())},a.prototype.onSurveyLoad=function(){o.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},a.prototype.afterRenderQuestionElement=function(d){},a.prototype.afterRender=function(d){o.prototype.afterRender.call(this,d),this.customQuestion&&this.customQuestion.onAfterRender(this,d)},a.prototype.onUpdateQuestionCssClasses=function(d,h){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,d,h)},a.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),o.prototype.setQuestionValue.call(this,d,h),this.updateElementCss()},a.prototype.setNewValue=function(d){o.prototype.setNewValue.call(this,d),this.updateElementCss()},a.prototype.getSurveyData=function(){return this},a.prototype.getTextProcessor=function(){return this.textProcessor},a.prototype.getValue=function(d){return this.value},a.prototype.setValue=function(d,h,f,l){if(this.data){var O=this.convertDataName(d);this.data.setValue(O,this.convertDataValue(d,h),f,l),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,d,h)}},a.prototype.getQuestionByName=function(d){},a.prototype.isValueChanging=function(d,h){if(this.customQuestion){var f=h;if(h=this.customQuestion.onValueChanging(this,d,h),!y.Helpers.isTwoValueEquals(h,f)){var l=this.getQuestionByName(d);if(l)return l.value=h,!0}}return!1},a.prototype.convertDataName=function(d){return this.getValueName()},a.prototype.convertDataValue=function(d,h){return h},a.prototype.getVariable=function(d){return this.data?this.data.getVariable(d):null},a.prototype.setVariable=function(d,h){this.data&&this.data.setVariable(d,h)},a.prototype.getComment=function(d){return this.data?this.data.getComment(this.getValueName()):""},a.prototype.setComment=function(d,h,f){this.data&&this.data.setComment(this.getValueName(),h,f)},a.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},a.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},a.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},a.prototype.findQuestionByName=function(d){return this.data?this.data.findQuestionByName(d):null},a.prototype.addElement=function(d,h){},a.prototype.removeElement=function(d){return!1},a.prototype.getQuestionTitleLocation=function(){return"left"},a.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},a.prototype.getChildrenLayoutType=function(){return"row"},a.prototype.elementWidthChanged=function(d){},Object.defineProperty(a.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(d){return-1},a.prototype.ensureRowsVisibility=function(){},a.prototype.getContentDisplayValueCore=function(d,h,f){return f?this.customQuestion.getDisplayValue(d,h,f):o.prototype.getDisplayValueCore.call(this,d,h)},a}(s.Question),u=function(o){x(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getTemplate=function(){return"custom"},a.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion()},a.prototype.getElement=function(){return this.contentQuestion},a.prototype.onAnyValueChanged=function(d){o.prototype.onAnyValueChanged.call(this,d),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(d)},a.prototype.getQuestionByName=function(d){return this.contentQuestion},a.prototype.setValue=function(d,h,f,l){this.isValueChanging(d,h)||o.prototype.setValue.call(this,d,h,f,l)},a.prototype.onSetData=function(){o.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},a.prototype.hasErrors=function(d,h){if(d===void 0&&(d=!0),h===void 0&&(h=null),!this.contentQuestion)return!1;var f=this.contentQuestion.hasErrors(d,h);this.errors=[];for(var l=0;l<this.contentQuestion.errors.length;l++)this.errors.push(this.contentQuestion.errors[l]);return f||(f=o.prototype.hasErrors.call(this,d,h)),this.updateElementCss(),f},a.prototype.focus=function(d){d===void 0&&(d=!1),this.contentQuestion?this.contentQuestion.focus(d):o.prototype.focus.call(this,d)},Object.defineProperty(a.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),a.prototype.createQuestion=function(){var d=this,h=this.customQuestion.json,f=null;if(h.questionJSON){var l=h.questionJSON.type;if(!l||!m.Serializer.findClass(l))throw"type attribute in questionJSON is empty or incorrect";f=m.Serializer.createClass(l),this.initElement(f),f.fromJSON(h.questionJSON)}else h.createQuestion&&(f=h.createQuestion(),this.initElement(f));return f&&(f.isContentElement=!0,f.name||(f.name="question"),f.onUpdateCssClassesCallback=function(O){d.onUpdateQuestionCssClasses(f,O)}),f},a.prototype.onSurveyLoad=function(){o.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.contentQuestion.value)},a.prototype.runCondition=function(d,h){o.prototype.runCondition.call(this,d,h),this.contentQuestion&&this.contentQuestion.runCondition(d,h)},a.prototype.convertDataName=function(d){if(!this.contentQuestion)return o.prototype.convertDataName.call(this,d);var h=d.replace(this.contentQuestion.getValueName(),this.getValueName());return h.indexOf(this.getValueName())==0?h:o.prototype.convertDataName.call(this,d)},a.prototype.convertDataValue=function(d,h){return this.convertDataName(d)==o.prototype.convertDataName.call(this,d)?this.contentQuestion.value:h},a.prototype.canSetValueToSurvey=function(){return!1},a.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),o.prototype.setQuestionValue.call(this,d,h),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.contentQuestion.value,d)&&(this.contentQuestion.value=this.getUnbindValue(d))},a.prototype.onSurveyValueChanged=function(d){o.prototype.onSurveyValueChanged.call(this,d),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(d)},a.prototype.getValueCore=function(){return this.contentQuestion?this.contentQuestion.value:o.prototype.getValueCore.call(this)},a.prototype.initElement=function(d){var h=this;o.prototype.initElement.call(this,d),d&&(d.parent=this,d.afterRenderQuestionCallback=function(f,l){h.customQuestion&&h.customQuestion.onAfterRenderContentElement(h,f,l)})},a.prototype.updateElementCss=function(d){this.contentQuestion&&this.questionWrapper.updateElementCss(d),o.prototype.updateElementCss.call(this,d)},a.prototype.updateElementCssCore=function(d){this.contentQuestion&&(d=this.contentQuestion.cssClasses),o.prototype.updateElementCssCore.call(this,d)},a.prototype.getDisplayValueCore=function(d,h){return o.prototype.getContentDisplayValueCore.call(this,d,h,this.contentQuestion)},a}(v),c=function(o){x(a,o);function a(d,h){var f=o.call(this,h)||this;return f.composite=d,f.variableName=h,f}return Object.defineProperty(a.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),a}(P.QuestionTextProcessor),p=function(o){x(a,o);function a(d,h){var f=o.call(this,d,h)||this;return f.customQuestion=h,f.settingNewValue=!1,f.textProcessing=new c(f,a.ItemVariableName),f}return a.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},a.prototype.getTemplate=function(){return"composite"},a.prototype.getElement=function(){return this.contentPanel},a.prototype.getCssRoot=function(d){return new T.CssClassBuilder().append(o.prototype.getCssRoot.call(this,d)).append(d.composite).toString()},Object.defineProperty(a.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),a.prototype.hasErrors=function(d,h){d===void 0&&(d=!0),h===void 0&&(h=null);var f=o.prototype.hasErrors.call(this,d,h);return this.contentPanel&&this.contentPanel.hasErrors(d,!1,h)||f},a.prototype.updateElementCss=function(d){o.prototype.updateElementCss.call(this,d),this.contentPanel&&this.contentPanel.updateElementCss(d)},a.prototype.getTextProcessor=function(){return this.textProcessing},a.prototype.findQuestionByName=function(d){if(this.contentPanel){var h=this.contentPanel.getQuestionByName(d);if(h)return h}return o.prototype.findQuestionByName.call(this,d)},a.prototype.clearValueIfInvisibleCore=function(){o.prototype.clearValueIfInvisibleCore.call(this);for(var d=this.contentPanel.questions,h=0;h<d.length;h++)d[h].clearValueIfInvisible()},a.prototype.onAnyValueChanged=function(d){o.prototype.onAnyValueChanged.call(this,d);for(var h=this.contentPanel.questions,f=0;f<h.length;f++)h[f].onAnyValueChanged(d)},a.prototype.createPanel=function(){var d=this,h=m.Serializer.createClass("panel");h.showQuestionNumbers="off",h.renderWidth="100%";var f=this.customQuestion.json;return f.elementsJSON&&h.fromJSON({elements:f.elementsJSON}),f.createElements&&f.createElements(h,this),this.initElement(h),h.readOnly=this.isReadOnly,h.questions.forEach(function(l){return l.onUpdateCssClassesCallback=function(O){d.onUpdateQuestionCssClasses(l,O)}}),this.setAfterRenderCallbacks(h),h},a.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),o.prototype.onReadOnlyChanged.call(this)},a.prototype.onSurveyLoad=function(){if(this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),o.prototype.onSurveyLoad.call(this),this.contentPanel){var d=this.contentPanel.getValue();y.Helpers.isValueEmpty(d)||(this.value=d)}},a.prototype.setIsContentElement=function(d){d.isContentElement=!0;for(var h=d.elements,f=0;f<h.length;f++){var l=h[f];l.isPanel?this.setIsContentElement(l):l.isContentElement=!0}},a.prototype.setVisibleIndex=function(d){var h=o.prototype.setVisibleIndex.call(this,d);return this.isVisible&&this.contentPanel&&(h+=this.contentPanel.setVisibleIndex(d)),h},a.prototype.runCondition=function(d,h){if(o.prototype.runCondition.call(this,d,h),this.contentPanel){var f=d[a.ItemVariableName];d[a.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(d,h),delete d[a.ItemVariableName],f&&(d[a.ItemVariableName]=f)}},a.prototype.getValue=function(d){var h=this.value;return h?h[d]:null},a.prototype.getQuestionByName=function(d){return this.contentPanel?this.contentPanel.getQuestionByName(d):void 0},a.prototype.setValue=function(d,h,f,l){if(!this.settingNewValue&&!this.isValueChanging(d,h)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel){var O=this.contentPanel.getValue();this.isTwoValueEquals(this.getValueCore(),O)||this.setValueCore(O)}if(o.prototype.setValue.call(this,d,h,f,l),this.contentPanel){var V=this.contentPanel.getQuestionByName(d);V&&!this.isTwoValueEquals(h,V.value)&&(V.value=h)}this.settingNewValue=!1}},a.prototype.addConditionObjectsByContext=function(d,h){if(this.contentPanel)for(var f=this.contentPanel.questions,l=this.name,O=this.title,V=0;V<f.length;V++)d.push({name:l+"."+f[V].name,text:O+"."+f[V].title,question:f[V]})},a.prototype.convertDataValue=function(d,h){var f=this.value;return f||(f={}),this.isValueEmpty(h)&&!this.isEditingSurveyElement?delete f[d]:f[d]=h,f},a.prototype.setQuestionValue=function(d,h){h===void 0&&(h=!0),o.prototype.setQuestionValue.call(this,d,h),this.settingNewValue=!0;for(var f=this.contentPanel.questions,l=0;l<f.length;l++){var O=f[l].getValueName(),V=d?d[O]:void 0,A=f[l];this.isTwoValueEquals(A.value,V)||(A.value=V)}this.settingNewValue=!1},a.prototype.getDisplayValueCore=function(d,h){return o.prototype.getContentDisplayValueCore.call(this,d,h,this.contentPanel)},a.prototype.setAfterRenderCallbacks=function(d){var h=this;if(!(!d||!this.customQuestion))for(var f=d.questions,l=0;l<f.length;l++)f[l].afterRenderQuestionCallback=function(O,V){h.customQuestion.onAfterRenderContentElement(h,O,V)}},a.ItemVariableName="composite",a}(v)},"./src/question_dropdown.ts":function(n,r,i){i.r(r),i.d(r,"QuestionDropdownModel",function(){return v});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question_baseselect.ts"),y=i("./src/itemvalue.ts"),P=i("./src/utils/cssClassBuilder.ts"),T=i("./src/dropdownListModel.ts"),x=i("./src/settings.ts"),C=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),E=function(u,c,p,o){var a=arguments.length,d=a<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,p):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(u,c,p,o);else for(var f=u.length-1;f>=0;f--)(h=u[f])&&(d=(a<3?h(d):a>3?h(c,p,d):h(c,p))||d);return a>3&&d&&Object.defineProperty(c,p,d),d},v=function(u){C(c,u);function c(p){var o=u.call(this,p)||this;return o.lastSelectedItemValue=null,o.minMaxChoices=[],o.onOpened=o.addEvent(),o.createLocalizableString("placeholder",o,!1,!0),o.createLocalizableString("clearCaption",o,!1,!0),o.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){o.onVisibleChoicesChanged()}),o.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices"],function(){o.updateReadOnlyText()}),o.updateReadOnlyText(),o}return c.prototype.updateReadOnlyText=function(){var p=this.selectedItem?"":this.placeholder;this.renderAs=="select"&&(this.isOtherSelected?p=this.otherText:this.isNoneSelected?p=this.noneText:this.selectedItem&&(p=this.selectedItemText)),this.readOnlyText=p},c.prototype.locStrsChanged=function(){u.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(c.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(p){this.allowClear=p},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(p){this.placeholder=p},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(p){this.setLocalizableStringText("placeholder",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(p){this.setLocalizableStringText("clearCaption",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),c.prototype.getType=function(){return"dropdown"},Object.defineProperty(c.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),c.prototype.onGetSingleSelectedItem=function(p){p&&(this.lastSelectedItemValue=p)},c.prototype.supportGoNextPageAutomatic=function(){return!0},c.prototype.getChoices=function(){var p=u.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return p;for(var o=[],a=0;a<p.length;a++)o.push(p[a]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var a=this.choicesMin;a<=this.choicesMax;a+=this.choicesStep)this.minMaxChoices.push(new y.ItemValue(a))}return o=o.concat(this.minMaxChoices),o},Object.defineProperty(c.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(p){this.setPropertyValue("choicesMin",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(p){this.setPropertyValue("choicesMax",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(p){p<1&&(p=1),this.setPropertyValue("choicesStep",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(p){this.setPropertyValue("autocomplete",p)},enumerable:!1,configurable:!0}),c.prototype.getControlClass=function(){return new P.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(c.prototype,"selectedItemLocText",{get:function(){var p=this.suggestedItem||this.selectedItem;return p==null?void 0:p.locText},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selectedItemText",{get:function(){var p=this.selectedItem;return p?p.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropdownListModel",{get:function(){return this.renderAs!=="select"&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new T.DropdownListModel(this)),this.dropdownListModelValue},set:function(p){this.dropdownListModelValue=p},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"popupModel",{get:function(){var p;return(p=this.dropdownListModel)===null||p===void 0?void 0:p.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaExpanded",{get:function(){return this.popupModel.isVisible},enumerable:!1,configurable:!0}),c.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},c.prototype.onSelectedItemValuesChangedHandler=function(p){var o;(o=this.dropdownListModel)===null||o===void 0||o.setInputStringFromSelectedItem(p)},c.prototype.hasUnknownValue=function(p,o,a,d){return this.choicesLazyLoadEnabled?!1:u.prototype.hasUnknownValue.call(this,p,o,a,d)},c.prototype.needConvertRenderedOtherToDataValue=function(){var p,o=(p=this.otherValue)===null||p===void 0?void 0:p.trim();return o?u.prototype.hasUnknownValue.call(this,o,!0,!1):!1},c.prototype.onVisibleChoicesChanged=function(){u.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},c.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},c.prototype.getInputId=function(){return this.inputId+"_0"},c.prototype.clearValue=function(){var p;u.prototype.clearValue.call(this),this.lastSelectedItemValue=null,(p=this.dropdownListModel)===null||p===void 0||p.clear()},c.prototype.onClick=function(p){this.onOpenedCallBack&&this.onOpenedCallBack()},c.prototype.onKeyUp=function(p){var o=p.which||p.keyCode;o===46&&(this.clearValue(),p.preventDefault(),p.stopPropagation())},c.prototype.dispose=function(){u.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},E([Object(s.property)()],c.prototype,"allowClear",void 0),E([Object(s.property)({onSet:function(p,o){o.dropdownListModel&&o.dropdownListModel.setSearchEnabled(p)}})],c.prototype,"searchEnabled",void 0),E([Object(s.property)({defaultValue:!1})],c.prototype,"inputHasValue",void 0),E([Object(s.property)({defaultValue:""})],c.prototype,"readOnlyText",void 0),E([Object(s.property)()],c.prototype,"choicesLazyLoadEnabled",void 0),E([Object(s.property)({defaultValue:25})],c.prototype,"choicesLazyLoadPageSize",void 0),E([Object(s.property)()],c.prototype,"suggestedItem",void 0),c}(g.QuestionSelectBase);s.Serializer.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:x.settings.questions.dataList},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new v("")},"selectbase"),m.QuestionFactory.Instance.registerQuestion("dropdown",function(u){var c=new v(u);return c.choices=m.QuestionFactory.DefaultChoices,c})},"./src/question_empty.ts":function(n,r,i){i.r(r),i.d(r,"QuestionEmptyModel",function(){return y});var s=i("./src/jsonobject.ts"),m=i("./src/question.ts"),g=function(){var P=function(T,x){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(C[v]=E[v])},P(T,x)};return function(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");P(T,x);function C(){this.constructor=T}T.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}}(),y=function(P){g(T,P);function T(x){return P.call(this,x)||this}return T.prototype.getType=function(){return"empty"},T}(m.Question);s.Serializer.addClass("empty",[],function(){return new y("")},"question")},"./src/question_expression.ts":function(n,r,i){i.r(r),i.d(r,"QuestionExpressionModel",function(){return x}),i.d(r,"getCurrecyCodes",function(){return C});var s=i("./src/helpers.ts"),m=i("./src/question.ts"),g=i("./src/jsonobject.ts"),y=i("./src/questionfactory.ts"),P=i("./src/conditions.ts"),T=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),x=function(E){T(v,E);function v(u){var c=E.call(this,u)||this;return c.createLocalizableString("format",c),c.registerPropertyChangedHandlers(["expression"],function(){c.expressionRunner&&(c.expressionRunner=new P.ExpressionRunner(c.expression))}),c.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){c.updateFormatedValue()}),c}return v.prototype.getType=function(){return"expression"},Object.defineProperty(v.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(u){this.setLocalizableStringText("format",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(u){this.setPropertyValue("expression",u)},enumerable:!1,configurable:!0}),v.prototype.locCalculation=function(){this.expressionIsRunning=!0},v.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},v.prototype.runCondition=function(u,c){var p=this;E.prototype.runCondition.call(this,u,c),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=new P.ExpressionRunner(this.expression)),this.expressionRunner.onRunComplete=function(o){s.Helpers.isTwoValueEquals(o,p.value)||(p.value=o),p.unlocCalculation()},this.expressionRunner.run(u,c))},v.prototype.canCollectErrors=function(){return!0},v.prototype.hasRequiredError=function(){return!1},Object.defineProperty(v.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(u){u<-1||u>20||this.setPropertyValue("maximumFractionDigits",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(u){u<-1||u>20||this.setPropertyValue("minimumFractionDigits",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"runIfReadOnly",{get:function(){return this.runIfReadOnlyValue===!0},set:function(u){this.runIfReadOnlyValue=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),v.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},v.prototype.onValueChanged=function(){this.updateFormatedValue()},v.prototype.updateValueFromSurvey=function(u){E.prototype.updateValueFromSurvey.call(this,u),this.updateFormatedValue()},v.prototype.getDisplayValueCore=function(u,c){var p=this.isValueEmpty(c)?this.defaultValue:c,o="";if(!this.isValueEmpty(p)){var a=this.getValueAsStr(p);o=this.format?this.format.format(a):a}return this.survey&&(o=this.survey.getExpressionDisplayValue(this,p,o)),o},Object.defineProperty(v.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(u){this.setPropertyValue("displayStyle",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(u){C().indexOf(u)<0||this.setPropertyValue("currency",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(u){this.setPropertyValue("useGrouping",u)},enumerable:!1,configurable:!0}),v.prototype.getValueAsStr=function(u){if(this.displayStyle=="date"){var c=new Date(u);if(c&&c.toLocaleDateString)return c.toLocaleDateString()}if(this.displayStyle!="none"&&s.Helpers.isNumber(u)){var p=this.getLocale();p||(p="en");var o={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(o.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(o.minimumFractionDigits=this.minimumFractionDigits),u.toLocaleString(p,o)}return u.toString()},v}(m.Question);function C(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}g.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return C()},default:"USD"},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new x("")},"question"),y.QuestionFactory.Instance.registerQuestion("expression",function(E){return new x(E)})},"./src/question_file.ts":function(n,r,i){i.r(r),i.d(r,"QuestionFileModel",function(){return c}),i.d(r,"FileLoader",function(){return p});var s=i("./src/question.ts"),m=i("./src/jsonobject.ts"),g=i("./src/questionfactory.ts"),y=i("./src/error.ts"),P=i("./src/utils/cssClassBuilder.ts"),T=i("./src/utils/utils.ts"),x=i("./src/actions/container.ts"),C=i("./src/actions/action.ts"),E=i("./src/helpers.ts"),v=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),u=function(o,a,d,h){var f=arguments.length,l=f<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,d):h,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(o,a,d,h);else for(var V=o.length-1;V>=0;V--)(O=o[V])&&(l=(f<3?O(l):f>3?O(a,d,l):O(a,d))||l);return f>3&&l&&Object.defineProperty(a,d,l),l},c=function(o){v(a,o);function a(d){var h=o.call(this,d)||this;return h.isUploading=!1,h.isDragging=!1,h.onUploadStateChanged=h.addEvent(),h.onStateChanged=h.addEvent(),h.mobileFileNavigator=new x.ActionContainer,h.dragCounter=0,h.onDragEnter=function(f){h.isInputReadOnly||(f.preventDefault(),h.isDragging=!0,h.dragCounter++)},h.onDragOver=function(f){if(h.isInputReadOnly)return f.returnValue=!1,!1;f.dataTransfer.dropEffect="copy",f.preventDefault()},h.onDrop=function(f){if(!h.isInputReadOnly){h.isDragging=!1,h.dragCounter=0,f.preventDefault();var l=f.dataTransfer;h.onChange(l)}},h.onDragLeave=function(f){h.isInputReadOnly||(h.dragCounter--,h.dragCounter===0&&(h.isDragging=!1))},h.doChange=function(f){var l=f.target||f.srcElement;h.onChange(l)},h.doClean=function(f){if(f.currentTarget||f.srcElement,h.needConfirmRemoveFile){var l=Object(T.confirmAction)(h.confirmRemoveAllMessage);if(!l)return}h.rootElement&&(h.rootElement.querySelectorAll("input")[0].value=""),h.clear()},h.doDownloadFile=function(f,l){Object(T.detectIEOrEdge)()&&(f.preventDefault(),Object(T.loadFileFromBase64)(l.content,l.name))},h.fileIndexAction=new C.Action({id:"fileIndex",title:h.getFileIndexCaption(),enabled:!1}),h.prevFileAction=new C.Action({id:"prevPage",iconSize:16,action:function(){h.indexToShow=h.previewValue.length&&(h.indexToShow-1+h.previewValue.length)%h.previewValue.length||0,h.fileIndexAction.title=h.getFileIndexCaption()}}),h.nextFileAction=new C.Action({id:"nextPage",iconSize:16,action:function(){h.indexToShow=h.previewValue.length&&(h.indexToShow+1)%h.previewValue.length||0,h.fileIndexAction.title=h.getFileIndexCaption()}}),h.mobileFileNavigator.actions=[h.prevFileAction,h.fileIndexAction,h.nextFileAction],h}return Object.defineProperty(a.prototype,"mobileFileNavigatorVisible",{get:function(){return this.isMobile&&this.containsMultiplyFiles},enumerable:!1,configurable:!0}),a.prototype.updateElementCssCore=function(d){o.prototype.updateElementCssCore.call(this,d),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},a.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.previewValue.length)},a.prototype.isPreviewVisible=function(d){return!this.isMobile||d===this.indexToShow},a.prototype.getType=function(){return"file"},a.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},Object.defineProperty(a.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(d){this.setPropertyValue("showPreview",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(d){this.setPropertyValue("allowMultiple",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(d){this.setPropertyValue("imageHeight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(d){this.setPropertyValue("imageWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(d){this.setPropertyValue("acceptedTypes",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(d){this.setPropertyValue("storeDataAsText",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(d){this.setPropertyValue("waitForUpload",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(d){this.setPropertyValue("allowImagesPreview",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(d){this.setPropertyValue("maxSize",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(d){this.setPropertyValue("needConfirmRemoveFile",d)},enumerable:!1,configurable:!0}),a.prototype.getConfirmRemoveMessage=function(d){return this.confirmRemoveMessage.format(d)},Object.defineProperty(a.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),a.prototype.clear=function(d){var h=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(f,l){f==="success"&&(h.value=void 0,h.errors=[],d&&d(),h.indexToShow=0,h.fileIndexAction.title=h.getFileIndexCaption())}))},Object.defineProperty(a.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showRemoveButton",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showRemoveButtonBottom",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButtonBottom},enumerable:!1,configurable:!0}),a.prototype.defaultImage=function(d){return!this.canPreviewImage(d)&&!!this.cssClasses.defaultImage},a.prototype.removeFile=function(d){this.removeFileByContent(this.value.filter(function(h){return h.name===d})[0])},a.prototype.removeFileByContent=function(d){var h=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,d.name,function(f,l){if(f==="success"){var O=h.value;Array.isArray(O)?h.value=O.filter(function(V){return!E.Helpers.isTwoValueEquals(V,d,!0)}):h.value=void 0}})},a.prototype.loadFiles=function(d){var h=this;if(this.survey&&(this.errors=[],!!this.allFilesOk(d))){var f=function(){h.stateChanged("loading");var l=[];h.storeDataAsText?d.forEach(function(O){var V=new FileReader;V.onload=function(A){l=l.concat([{name:O.name,type:O.type,content:V.result}]),l.length===d.length&&(h.value=(h.value||[]).concat(l))},V.readAsDataURL(O)}):h.survey&&h.survey.uploadFiles(h,h.name,d,function(O,V){O==="error"&&h.stateChanged("error"),O==="success"&&(h.value=(h.value||[]).concat(V.map(function(A){return{name:A.file.name,type:A.file.type,content:A.content}})))})};this.allowMultiple?f():this.clear(f)}},a.prototype.canPreviewImage=function(d){return this.allowImagesPreview&&!!d&&this.isFileImage(d)},a.prototype.loadPreview=function(d){var h=this;if(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!d)){var f=Array.isArray(d)?d:d?[d]:[];this.storeDataAsText?f.forEach(function(l){var O=l.content||l;h.previewValue.push({name:l.name,type:l.type,content:O})}):(this._previewLoader&&this._previewLoader.dispose(),this.isReadyValue=!1,this._previewLoader=new p(this,function(l,O){l==="loaded"&&O.forEach(function(V){h.previewValue.push(V)}),h.isReadyValue=!0,h.onReadyChanged&&h.onReadyChanged.fire(h,{question:h,isReady:!0,oldIsReady:!1}),h._previewLoader.dispose(),h._previewLoader=void 0}),this._previewLoader.load(f)),this.indexToShow=this.previewValue.length>0&&this.indexToShow>0?this.indexToShow-1:0,this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1}},a.prototype.onCheckForErrors=function(d,h){o.prototype.onCheckForErrors.call(this,d,h),this.isUploading&&this.waitForUpload&&d.push(new y.UploadingFileError(this.getLocalizationString("uploadingFile"),this))},a.prototype.stateChanged=function(d){this.currentState!=d&&(d==="loading"&&(this.isUploading=!0),d==="loaded"&&(this.isUploading=!1),d==="error"&&(this.isUploading=!1),this.currentState=d,this.onStateChanged.fire(this,{state:d}),this.onUploadStateChanged.fire(this,{state:d}))},a.prototype.allFilesOk=function(d){var h=this,f=this.errors?this.errors.length:0;return(d||[]).forEach(function(l){h.maxSize>0&&l.size>h.maxSize&&h.errors.push(new y.ExceedSizeError(h.maxSize,h))}),f===this.errors.length},a.prototype.isFileImage=function(d){if(!d||!d.content||!d.content.substring)return!1;var h="data:image",f=d.content&&d.content.substring(0,h.length);f=f&&f.toLowerCase();var l=f===h||!!d.type&&d.type.toLowerCase().indexOf("image/")===0;return l},a.prototype.getPlainData=function(d){d===void 0&&(d={includeEmpty:!0});var h=o.prototype.getPlainData.call(this,d);if(h&&!this.isEmpty()){h.isNode=!1;var f=Array.isArray(this.value)?this.value:[this.value];h.data=f.map(function(l,O){return{name:O,title:"File",value:l.content&&l.content||l,displayValue:l.name&&l.name||l,getString:function(V){return typeof V=="object"?JSON.stringify(V):V},isNode:!1}})}return h},a.prototype.getChooseFileCss=function(){var d=this.isAnswered;return new P.CssClassBuilder().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!d).append(this.cssClasses.chooseFileAsTextDisabled,!d&&this.isInputReadOnly).append(this.cssClasses.chooseFileAsIcon,d).toString()},a.prototype.getReadOnlyFileCss=function(){return new P.CssClassBuilder().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(a.prototype,"fileRootCss",{get:function(){return new P.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),a.prototype.getFileDecoratorCss=function(){return new P.CssClassBuilder().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},a.prototype.onChange=function(d){if(window.FileReader&&!(!d||!d.files||d.files.length<1)){for(var h=[],f=this.allowMultiple?d.files.length:1,l=0;l<f;l++)h.push(d.files[l]);d.value="",this.loadFiles(h)}},a.prototype.onChangeQuestionValue=function(d){o.prototype.onChangeQuestionValue.call(this,d),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(d)},a.prototype.endLoadingFromJson=function(){o.prototype.endLoadingFromJson.call(this),this.loadPreview(this.value)},a.prototype.afterRender=function(d){this.rootElement=d,o.prototype.afterRender.call(this,d)},a.prototype.doRemoveFile=function(d){if(this.needConfirmRemoveFile){var h=Object(T.confirmAction)(this.getConfirmRemoveMessage(d.name));if(!h)return}var f=this.previewValue.indexOf(d);this.removeFileByContent(f===-1?d:this.value[f])},u([Object(m.property)()],a.prototype,"isDragging",void 0),u([Object(m.propertyArray)({})],a.prototype,"previewValue",void 0),u([Object(m.property)({defaultValue:"empty"})],a.prototype,"currentState",void 0),u([Object(m.property)({defaultValue:0})],a.prototype,"indexToShow",void 0),u([Object(m.property)({defaultValue:!1})],a.prototype,"containsMultiplyFiles",void 0),u([Object(m.property)({localizable:{defaultStr:"confirmRemoveFile"}})],a.prototype,"confirmRemoveMessage",void 0),u([Object(m.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],a.prototype,"confirmRemoveAllMessage",void 0),u([Object(m.property)({localizable:{defaultStr:"noFileChosen"}})],a.prototype,"noFileChosenCaption",void 0),u([Object(m.property)({localizable:{defaultStr:"chooseFileCaption"}})],a.prototype,"chooseButtonCaption",void 0),u([Object(m.property)({localizable:{defaultStr:"clearCaption"}})],a.prototype,"clearButtonCaption",void 0),u([Object(m.property)({localizable:{defaultStr:"removeFileCaption"}})],a.prototype,"removeFileCaption",void 0),u([Object(m.property)({localizable:{defaultStr:"loadingFile"}})],a.prototype,"loadingFileTitle",void 0),u([Object(m.property)({localizable:{defaultStr:"chooseFile"}})],a.prototype,"chooseFileTitle",void 0),u([Object(m.property)({localizable:{defaultStr:"fileDragAreaPlaceholder"}})],a.prototype,"dragAreaPlaceholder",void 0),a}(s.Question);m.Serializer.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"}],function(){return new c("")},"question"),g.QuestionFactory.Instance.registerQuestion("file",function(o){return new c(o)});var p=function(){function o(a,d){this.fileQuestion=a,this.callback=d,this.loaded=[]}return o.prototype.load=function(a){var d=this;a.forEach(function(h){d.fileQuestion.survey&&d.fileQuestion.survey.downloadFile(d.fileQuestion,d.fileQuestion.name,h,function(f,l){!d.fileQuestion||!d.callback||(f==="success"?(d.loaded.push({content:l,name:h.name,type:h.type}),d.loaded.length===a.length&&d.callback("loaded",d.loaded)):d.callback("error",d.loaded))})})},o.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},o}()},"./src/question_html.ts":function(n,r,i){i.r(r),i.d(r,"QuestionHtmlModel",function(){return P});var s=i("./src/questionnonvalue.ts"),m=i("./src/jsonobject.ts"),g=i("./src/questionfactory.ts"),y=function(){var T=function(x,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,v){E.__proto__=v}||function(E,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(E[u]=v[u])},T(x,C)};return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(x,C);function E(){this.constructor=x}x.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}}(),P=function(T){y(x,T);function x(C){var E=T.call(this,C)||this,v=E.createLocalizableString("html",E);return v.onGetTextCallback=function(u){return E.survey&&!E.ignoreHtmlProgressing?E.processHtml(u):u},E}return x.prototype.getType=function(){return"html"},Object.defineProperty(x.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),x.prototype.getProcessedText=function(C){return this.ignoreHtmlProgressing?C:T.prototype.getProcessedText.call(this,C)},Object.defineProperty(x.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(C){this.setLocalizableStringText("html",C)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),x.prototype.processHtml=function(C){return this.survey?this.survey.processHtml(C,"html-question"):this.html},x}(s.QuestionNonValue);m.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new P("")},"nonvalue"),g.QuestionFactory.Instance.registerQuestion("html",function(T){return new P(T)})},"./src/question_image.ts":function(n,r,i){i.r(r),i.d(r,"QuestionImageModel",function(){return c});var s=i("./src/questionnonvalue.ts"),m=i("./src/jsonobject.ts"),g=i("./src/questionfactory.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),T=function(o,a,d,h){var f=arguments.length,l=f<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,d):h,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(o,a,d,h);else for(var V=o.length-1;V>=0;V--)(O=o[V])&&(l=(f<3?O(l):f>3?O(a,d,l):O(a,d))||l);return f>3&&l&&Object.defineProperty(a,d,l),l},x=["youtube.com","youtu.be"],C=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],E="https://www.youtube.com/",v="embed";function u(o){if(!o)return!1;o=o.toLowerCase();for(var a=0;a<x.length;a++)if(o.indexOf(x[a])!==-1)return!0;return!1}var c=function(o){P(a,o);function a(d){var h=o.call(this,d)||this,f=h.createLocalizableString("imageLink",h,!1);return f.onGetTextCallback=function(l){return p(l)},h.createLocalizableString("altText",h,!1),h.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return h.calculateRenderedMode()}),h}return a.prototype.getType=function(){return"image"},Object.defineProperty(a.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.onSurveyLoad=function(){o.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(a.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(d){this.setLocalizableStringText("imageLink",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(d){this.setLocalizableStringText("altText",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(d){this.setPropertyValue("imageHeight",d)},enumerable:!1,configurable:!0}),a.prototype.getRenderedSize=function(d){return isNaN(Number(d))?d:d+"px"},Object.defineProperty(a.prototype,"renderedHeight",{get:function(){return this.imageHeight?this.getRenderedSize(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(d){this.setPropertyValue("imageWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedWidth",{get:function(){return this.imageWidth?this.getRenderedSize(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(d){this.setPropertyValue("imageFit",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(d){this.setPropertyValue("contentMode",d),d==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),a.prototype.getImageCss=function(){var d=this.getPropertyByName("imageHeight"),h=this.getPropertyByName("imageWidth"),f=d.isDefaultValue(this.imageHeight)&&h.isDefaultValue(this.imageWidth);return new y.CssClassBuilder().append(this.cssClasses.image).append(this.cssClasses.adaptive,f).toString()},a.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},a.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},a.prototype.setRenderedMode=function(d){this.setPropertyValue("renderedMode",d)},a.prototype.calculateRenderedMode=function(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},a.prototype.isYoutubeVideo=function(){return u(this.imageLink)},a.prototype.isVideo=function(){var d=this.imageLink;if(!d)return!1;d=d.toLowerCase();for(var h=0;h<C.length;h++)if(d.endsWith(C[h]))return!0;return!1},T([Object(m.property)({defaultValue:!1})],a.prototype,"contentNotLoaded",void 0),a}(s.QuestionNonValue);function p(o){if(!o||!u(o))return o;var a=o.toLocaleLowerCase();if(a.indexOf(v)>-1)return o;for(var d="",h=o.length-1;h>=0&&!(o[h]==="="||o[h]==="/");h--)d=o[h]+d;return E+v+"/"+d}m.Serializer.addClass("image",[{name:"imageLink",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new c("")},"nonvalue"),g.QuestionFactory.Instance.registerQuestion("image",function(o){return new c(o)})},"./src/question_imagepicker.ts":function(n,r,i){i.r(r),i.d(r,"ImageItemValue",function(){return u}),i.d(r,"QuestionImagePickerModel",function(){return c});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question_baseselect.ts"),y=i("./src/itemvalue.ts"),P=i("./src/helpers.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=i("./src/settings.ts"),C=i("./src/utils/utils.ts"),E=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),v=function(p,o,a,d){var h=arguments.length,f=h<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,a):d,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,o,a,d);else for(var O=p.length-1;O>=0;O--)(l=p[O])&&(f=(h<3?l(f):h>3?l(o,a,f):l(o,a))||f);return h>3&&f&&Object.defineProperty(o,a,f),f},u=function(p){E(o,p);function o(a,d,h){d===void 0&&(d=null),h===void 0&&(h="imageitemvalue");var f=p.call(this,a,d,h)||this;return f.typeName=h,f.createLocalizableString("imageLink",f,!1),f}return o.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(o.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(a){this.setLocalizableStringText("imageLink",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),o.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},o.prototype.getMarkdownHtml=function(a,d){return this.locOwner?this.locOwner.getMarkdownHtml(a,d):void 0},o.prototype.getRenderer=function(a){return this.locOwner?this.locOwner.getRenderer(a):null},o.prototype.getRendererContext=function(a){return this.locOwner?this.locOwner.getRendererContext(a):a},o.prototype.getProcessedText=function(a){return this.locOwner?this.locOwner.getProcessedText(a):a},o.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},v([Object(s.property)({defaultValue:!1})],o.prototype,"contentNotLoaded",void 0),o}(y.ItemValue),c=function(p){E(o,p);function o(a){var d=p.call(this,a)||this;return d.isResponsiveValue=!1,d.onContentLoaded=function(h,f){h.contentNotLoaded=!1;var l=f.target;d.contentMode=="video"?h.aspectRatio=l.videoWidth/l.videoHeight:h.aspectRatio=l.naturalWidth/l.naturalHeight,d._width&&d.processResponsiveness(0,d._width)},d.colCount=0,d.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){d._width&&d.processResponsiveness(0,d._width)}),d.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){d.calcIsResponsive()}),d.calcIsResponsive(),d}return o.prototype.getType=function(){return"imagepicker"},o.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(o.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),o.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(o.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.supportOther=function(){return!1},o.prototype.supportNone=function(){return!1},o.prototype.isAnswerCorrect=function(){return this.multiSelect?P.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):p.prototype.isAnswerCorrect.call(this)},Object.defineProperty(o.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(a){this.setPropertyValue("multiSelect",a)},enumerable:!1,configurable:!0}),o.prototype.isItemSelected=function(a){var d=this.value,h=a;if(this.isValueEmpty(d)||!h.imageLink||h.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(d,a.value);if(!Array.isArray(d))return!1;for(var f=0;f<d.length;f++)if(this.isTwoValueEquals(d[f],a.value))return!0;return!1},o.prototype.getItemEnabled=function(a){var d=a;return!d.imageLink||d.contentNotLoaded?!1:p.prototype.getItemEnabled.call(this,a)},o.prototype.clearIncorrectValues=function(){if(this.multiSelect){var a=this.value;if(!a)return;if(!Array.isArray(a)||a.length==0){this.clearValue();return}for(var d=[],h=0;h<a.length;h++)this.hasUnknownValue(a[h],!0)||d.push(a[h]);if(d.length==a.length)return;d.length==0?this.clearValue():this.value=d}else p.prototype.clearIncorrectValues.call(this)},o.prototype.getDisplayValueCore=function(a,d){return!this.multiSelect&&!Array.isArray(d)?p.prototype.getDisplayValueCore.call(this,a,d):this.getDisplayArrayValue(a,d)},Object.defineProperty(o.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(a){this.setPropertyValue("showLabel",a)},enumerable:!1,configurable:!0}),o.prototype.endLoadingFromJson=function(){p.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},o.prototype.getValueCore=function(){var a=p.prototype.getValueCore.call(this);return a!==void 0?a:this.multiSelect?[]:a},o.prototype.convertValToArrayForMultSelect=function(a){return!this.multiSelect||this.isValueEmpty(a)||Array.isArray(a)?a:[a]},o.prototype.renderedValueFromDataCore=function(a){return this.convertValToArrayForMultSelect(a)},o.prototype.rendredValueToDataCore=function(a){return this.convertValToArrayForMultSelect(a)},Object.defineProperty(o.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(a){this.setPropertyValue("imageHeight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedImageHeight",{get:function(){var a=this.isResponsive?this.responsiveImageHeight:this.imageHeight;return(a||150)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(a){this.setPropertyValue("imageWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedImageWidth",{get:function(){var a=this.isResponsive?this.responsiveImageWidth:this.imageWidth;return(a||200)+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(a){this.setPropertyValue("imageFit",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(a){this.setPropertyValue("contentMode",a),a==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),o.prototype.convertDefaultValue=function(a){return a},Object.defineProperty(o.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),o.prototype.isFootChoice=function(a,d){return!1},o.prototype.getSelectBaseRootCss=function(){return new T.CssClassBuilder().append(p.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()},Object.defineProperty(o.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"exactSizesAreEmpty",{get:function(){var a=this;return!["imageHeight","imageWidth"].some(function(d){return a[d]!==void 0&&a[d]!==null})},enumerable:!1,configurable:!0}),o.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},o.prototype.getObservedElementSelector=function(){return Object(C.classesToSelector)(this.cssClasses.root)},o.prototype.supportResponsiveness=function(){return!0},o.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},o.prototype.getCurrentColCount=function(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount},o.prototype.processResponsiveness=function(a,d){this._width=d=Math.floor(d);var h=function(U,N,W){var z=Math.floor(U/(N+W));return(z+1)*(N+W)-W<=U&&z++,z};if(this.isResponsive){var f=this.choices.length+(this.isDesignMode?1:0),l=this.gapBetweenItems||0,O=this.minImageWidth,V=this.maxImageWidth,A=this.maxImageHeight,w=this.minImageHeight,S=this.colCount,R;if(S===0)if((l+O)*f-l>d){var I=h(d,O,l);R=Math.floor((d-l*(I-1))/I)}else R=Math.floor((d-l*(f-1))/f);else{var b=h(d,O,l);b<S?(this.responsiveColCount=b>=1?b:1,S=this.responsiveColCount):this.responsiveColCount=S,R=Math.floor((d-l*(S-1))/S)}R=Math.max(O,Math.min(R,V));var D=Number.MIN_VALUE;this.choices.forEach(function(U){var N=R/U.aspectRatio;D=N>D?N:D}),D>A?D=A:D<w&&(D=w);var M=this.responsiveImageWidth,L=this.responsiveImageHeight;return this.responsiveImageWidth=R,this.responsiveImageHeight=D,M!==this.responsiveImageWidth||L!==this.responsiveImageHeight}return!1},o.prototype.afterRender=function(a){p.prototype.afterRender.call(this,a);var d=this.survey.getCss().variables;d&&(this.gapBetweenItems=Number.parseInt(window.getComputedStyle(a).getPropertyValue(d.imagepickerGapBetweenItems))||0)},v([Object(s.property)({})],o.prototype,"responsiveImageHeight",void 0),v([Object(s.property)({})],o.prototype,"responsiveImageWidth",void 0),v([Object(s.property)({})],o.prototype,"isResponsiveValue",void 0),v([Object(s.property)({})],o.prototype,"maxImageWidth",void 0),v([Object(s.property)({})],o.prototype,"minImageWidth",void 0),v([Object(s.property)({})],o.prototype,"maxImageHeight",void 0),v([Object(s.property)({})],o.prototype,"minImageHeight",void 0),v([Object(s.property)({})],o.prototype,"responsiveColCount",void 0),o}(g.QuestionCheckboxBase);s.Serializer.addClass("imageitemvalue",[],function(p){return new u(p)},"itemvalue"),s.Serializer.addProperty("imageitemvalue",{name:"imageLink",serializationProperty:"locImageLink"}),s.Serializer.addClass("responsiveImageSize",[],void 0,"number"),s.Serializer.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return x.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return x.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return x.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return x.settings.supportCreatorV2}}],function(){return new c("")},"checkboxbase"),s.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),s.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),s.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),s.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),m.QuestionFactory.Instance.registerQuestion("imagepicker",function(p){var o=new c(p);return o})},"./src/question_matrix.ts":function(n,r,i){i.r(r),i.d(r,"MatrixRowModel",function(){return o}),i.d(r,"MatrixCells",function(){return a}),i.d(r,"QuestionMatrixModel",function(){return d});var s=i("./src/helpers.ts"),m=i("./src/itemvalue.ts"),g=i("./src/martixBase.ts"),y=i("./src/jsonobject.ts"),P=i("./src/base.ts"),T=i("./src/surveyStrings.ts"),x=i("./src/error.ts"),C=i("./src/questionfactory.ts"),E=i("./src/localizablestring.ts"),v=i("./src/question_dropdown.ts"),u=i("./src/settings.ts"),c=i("./src/utils/cssClassBuilder.ts"),p=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),o=function(h){p(f,h);function f(l,O,V,A){var w=h.call(this)||this;return w.fullName=O,w.item=l,w.data=V,w.value=A,w.cellClick=function(S){w.value=S.value},w.registerPropertyChangedHandlers(["value"],function(){w.data&&w.data.onMatrixRowChanged(w)}),w}return Object.defineProperty(f.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(l){l=this.data.getCorrectedRowValue(l),this.setPropertyValue("value",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rowClasses",{get:function(){var l=this.data.cssClasses,O=!!this.data.getErrorByType("requiredinallrowserror");return new c.CssClassBuilder().append(l.row).append(l.rowError,O&&this.isValueEmpty(this.value)).toString()},enumerable:!1,configurable:!0}),f}(P.Base),a=function(){function h(f){this.cellsOwner=f,this.values={}}return Object.defineProperty(h.prototype,"isEmpty",{get:function(){return Object.keys(this.values).length==0},enumerable:!1,configurable:!0}),h.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},h.prototype.setCellText=function(f,l,O){if(f=this.getCellRowColumnValue(f,this.rows),l=this.getCellRowColumnValue(l,this.columns),!(!f||!l)){if(O)this.values[f]||(this.values[f]={}),this.values[f][l]||(this.values[f][l]=this.createString()),this.values[f][l].text=O;else if(this.values[f]&&this.values[f][l]){var V=this.values[f][l];V.text="",V.isEmpty&&(delete this.values[f][l],Object.keys(this.values[f]).length==0&&delete this.values[f])}this.valuesChanged()}},h.prototype.setDefaultCellText=function(f,l){this.setCellText(u.settings.matrixDefaultRowName,f,l)},h.prototype.getCellLocText=function(f,l){return f=this.getCellRowColumnValue(f,this.rows),l=this.getCellRowColumnValue(l,this.columns),!f||!l||!this.values[f]||!this.values[f][l]?null:this.values[f][l]},h.prototype.getDefaultCellLocText=function(f,l){return this.getCellLocText(u.settings.matrixDefaultRowName,f)},h.prototype.getCellDisplayLocText=function(f,l){var O=this.getCellLocText(f,l);return O&&!O.isEmpty||(O=this.getCellLocText(u.settings.matrixDefaultRowName,l),O&&!O.isEmpty)?O:(typeof l=="number"&&(l=l>=0&&l<this.columns.length?this.columns[l]:null),l&&l.locText?l.locText:null)},h.prototype.getCellText=function(f,l){var O=this.getCellLocText(f,l);return O?O.calculatedText:null},h.prototype.getDefaultCellText=function(f){var l=this.getCellLocText(u.settings.matrixDefaultRowName,f);return l?l.calculatedText:null},h.prototype.getCellDisplayText=function(f,l){var O=this.getCellDisplayLocText(f,l);return O?O.calculatedText:null},Object.defineProperty(h.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),h.prototype.getCellRowColumnValue=function(f,l){if(f==null)return null;if(typeof f=="number"){if(f<0||f>=l.length)return null;f=l[f].value}return f.value?f.value:f},h.prototype.getJson=function(){if(this.isEmpty)return null;var f={};for(var l in this.values){var O={},V=this.values[l];for(var A in V)O[A]=V[A].getJson();f[l]=O}return f},h.prototype.setJson=function(f){if(this.values={},f){for(var l in f)if(l!="pos"){var O=f[l];this.values[l]={};for(var V in O)if(V!="pos"){var A=this.createString();A.setJson(O[V]),this.values[l][V]=A}}}this.valuesChanged()},h.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var f in this.values){var l=this.values[f];for(var O in l)l[O].strChanged()}},h.prototype.createString=function(){return new E.LocalizableString(this.cellsOwner,!0)},h}(),d=function(h){p(f,h);function f(l){var O=h.call(this,l)||this;return O.isRowChanging=!1,O.emptyLocalizableString=new E.LocalizableString(O),O.cellsValue=new a(O),O.cellsValue.onValuesChanged=function(){O.updateHasCellText(),O.propertyValueChanged("cells",O.cells,O.cells)},O.registerPropertyChangedHandlers(["columns"],function(){O.onColumnsChanged()}),O.registerPropertyChangedHandlers(["rows"],function(){O.filterItems()||O.onRowsChanged()}),O.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){O.updateVisibilityBasedOnRows()}),O}return f.prototype.getType=function(){return"matrix"},Object.defineProperty(f.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(l){this.setPropertyValue("isAllRowRequired",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(l){l=l.toLowerCase(),l!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",l),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(l){this.setPropertyValue("hideIfRowsEmpty",l)},enumerable:!1,configurable:!0}),f.prototype.getRows=function(){return this.rows},f.prototype.getColumns=function(){return this.visibleColumns},f.prototype.addColumn=function(l,O){var V=new m.ItemValue(l,O);return this.columns.push(V),V},f.prototype.getItemClass=function(l,O){var V=l.value==O.value,A=this.isReadOnly,w=!V&&!A;return new c.CssClassBuilder().append(this.cssClasses.cell,this.hasCellText).append(this.hasCellText?this.cssClasses.cellText:this.cssClasses.label).append(this.cssClasses.itemOnError,!this.hasCellText&&this.errors.length>0).append(this.hasCellText?this.cssClasses.cellTextSelected:this.cssClasses.itemChecked,V).append(this.hasCellText?this.cssClasses.cellTextDisabled:this.cssClasses.itemDisabled,A).append(this.cssClasses.itemHover,w&&!this.hasCellText).toString()},Object.defineProperty(f.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),f.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},f.prototype.getQuizQuestionCount=function(){for(var l=0,O=0;O<this.rows.length;O++)this.isValueEmpty(this.correctAnswer[this.rows[O].value])||l++;return l},f.prototype.getCorrectAnswerCount=function(){for(var l=0,O=this.value,V=0;V<this.rows.length;V++){var A=this.rows[V].value;!this.isValueEmpty(O[A])&&this.isTwoValueEquals(this.correctAnswer[A],O[A])&&l++}return l},f.prototype.getVisibleRows=function(){var l=new Array,O=this.value;O||(O={});for(var V=this.filteredRows?this.filteredRows:this.rows,A=0;A<V.length;A++){var w=V[A];this.isValueEmpty(w.value)||l.push(this.createMatrixRow(w,this.id+"_"+w.value.toString().replace(/\s/g,"_"),O[w.value]))}return this.generatedVisibleRows=l,l},f.prototype.sortVisibleRows=function(l){if(this.survey&&this.survey.isDesignMode)return l;var O=this.rowsOrder.toLowerCase();return O==="random"?s.Helpers.randomizeArray(l):l},f.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},f.prototype.processRowsOnSet=function(l){return this.sortVisibleRows(l)},Object.defineProperty(f.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cells",{get:function(){return this.cellsValue},set:function(l){this.cells.setJson(l&&l.getJson?l.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),f.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},f.prototype.setCellText=function(l,O,V){this.cells.setCellText(l,O,V)},f.prototype.getCellText=function(l,O){return this.cells.getCellText(l,O)},f.prototype.setDefaultCellText=function(l,O){this.cells.setDefaultCellText(l,O)},f.prototype.getDefaultCellText=function(l){return this.cells.getDefaultCellText(l)},f.prototype.getCellDisplayText=function(l,O){return this.cells.getCellDisplayText(l,O)},f.prototype.getCellDisplayLocText=function(l,O){var V=this.cells.getCellDisplayLocText(l,O);return V||this.emptyLocalizableString},f.prototype.supportGoNextPageAutomatic=function(){return this.hasValuesInAllRows()},f.prototype.onCheckForErrors=function(l,O){h.prototype.onCheckForErrors.call(this,l,O),(!O||this.errors.length>0)&&this.hasErrorInRows()&&l.push(new x.RequiredInAllRowsError(null,this))},f.prototype.hasErrorInRows=function(){return this.isAllRowRequired?!this.hasValuesInAllRows():!1},f.prototype.hasValuesInAllRows=function(){var l=this.generatedVisibleRows;if(l||(l=this.visibleRows),!l)return!0;for(var O=0;O<l.length;O++)if(this.isValueEmpty(l[O].value))return!1;return!0},f.prototype.getIsAnswered=function(){return h.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},f.prototype.createMatrixRow=function(l,O,V){var A=new o(l,O,this,V);return this.onMatrixRowCreated(A),A},f.prototype.onMatrixRowCreated=function(l){},f.prototype.setQuestionValue=function(l,O){if(O===void 0&&(O=!0),h.prototype.setQuestionValue.call(this,l,this.isRowChanging||O),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var V=this.value;if(V||(V={}),this.rows.length==0)this.generatedVisibleRows[0].value=V;else for(var A=0;A<this.generatedVisibleRows.length;A++){var w=this.generatedVisibleRows[A],S=V[w.name];this.isValueEmpty(S)&&(S=null),this.generatedVisibleRows[A].value=S}this.updateIsAnswered(),this.isRowChanging=!1}},f.prototype.getDisplayValueCore=function(l,O){var V={};for(var A in O){var w=l?m.ItemValue.getTextOrHtmlByValue(this.rows,A):A;w||(w=A);var S=m.ItemValue.getTextOrHtmlByValue(this.columns,O[A]);S||(S=O[A]),V[w]=S}return V},f.prototype.getPlainData=function(l){var O=this;l===void 0&&(l={includeEmpty:!0});var V=h.prototype.getPlainData.call(this,l);if(V){var A=this.createValueCopy();V.isNode=!0,V.data=Object.keys(A||{}).map(function(w){var S=O.rows.filter(function(b){return b.value===w})[0],R={name:w,title:S?S.text:"row",value:A[w],displayValue:m.ItemValue.getTextOrHtmlByValue(O.visibleColumns,A[w]),getString:function(b){return typeof b=="object"?JSON.stringify(b):b},isNode:!1},I=m.ItemValue.getItemByValue(O.visibleColumns,A[w]);return I&&(l.calculations||[]).forEach(function(b){R[b.propertyName]=I[b.propertyName]}),R})}return V},f.prototype.addConditionObjectsByContext=function(l,O){for(var V=0;V<this.rows.length;V++){var A=this.rows[V];A.value&&l.push({name:this.getValueName()+"."+A.value,text:this.processedTitle+"."+A.calculatedText,question:this})}},f.prototype.getConditionJson=function(l,O){if(O===void 0&&(O=null),!O)return h.prototype.getConditionJson.call(this);var V=new v.QuestionDropdownModel(O);V.choices=this.columns;var A=new y.JsonObject().toJsonObject(V);return A.type=V.getType(),A},f.prototype.clearValueIfInvisibleCore=function(){h.prototype.clearValueIfInvisibleCore.call(this),this.hasRows&&this.clearInvisibleValuesInRows()},f.prototype.getFirstInputElementId=function(){var l=this.generatedVisibleRows;return l||(l=this.visibleRows),l.length>0&&this.visibleColumns.length>0?this.inputId+"_"+l[0].name+"_0":h.prototype.getFirstInputElementId.call(this)},f.prototype.onMatrixRowChanged=function(l){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(l.value);else{var O=this.value;O||(O={}),O[l.name]=l.value,this.setNewValue(O)}this.isRowChanging=!1}},f.prototype.getCorrectedRowValue=function(l){for(var O=0;O<this.columns.length;O++)if(l===this.columns[O].value)return l;for(var O=0;O<this.columns.length;O++)if(this.isTwoValueEquals(l,this.columns[O].value))return this.columns[O].value;return l},f.prototype.getSearchableItemValueKeys=function(l){l.push("columns"),l.push("rows")},Object.defineProperty(f.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),f.prototype.getColumnHeaderWrapperComponentName=function(l){return this.SurveyModel.getElementWrapperComponentName({column:l},"column-header")},f.prototype.getColumnHeaderWrapperComponentData=function(l){return this.SurveyModel.getElementWrapperComponentData({column:l},"column-header")},f.prototype.getRowHeaderWrapperComponentName=function(l){return this.SurveyModel.getElementWrapperComponentName({row:l},"row-header")},f.prototype.getRowHeaderWrapperComponentData=function(l){return this.SurveyModel.getElementWrapperComponentData({row:l},"row-header")},f}(g.QuestionMatrixBaseModel);y.Serializer.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return T.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return T.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean","hideIfRowsEmpty:boolean"],function(){return new d("")},"matrixbase"),C.QuestionFactory.Instance.registerQuestion("matrix",function(h){var f=new d(h);return f.rows=C.QuestionFactory.DefaultRows,f.columns=C.QuestionFactory.DefaultColums,f})},"./src/question_matrixdropdown.ts":function(n,r,i){i.r(r),i.d(r,"MatrixDropdownRowModel",function(){return T}),i.d(r,"QuestionMatrixDropdownModel",function(){return x});var s=i("./src/question_matrixdropdownbase.ts"),m=i("./src/jsonobject.ts"),g=i("./src/itemvalue.ts"),y=i("./src/questionfactory.ts"),P=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),T=function(C){P(E,C);function E(v,u,c,p){var o=C.call(this,c,p)||this;return o.name=v,o.item=u,o.buildCells(p),o}return Object.defineProperty(E.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),E}(s.MatrixDropdownRowModelBase),x=function(C){P(E,C);function E(v){var u=C.call(this,v)||this;return u.createLocalizableString("totalText",u,!0),u.registerPropertyChangedHandlers(["rows"],function(){u.clearGeneratedRows(),u.resetRenderedTable(),u.filterItems()||u.onRowsChanged(),u.clearIncorrectValues()}),u.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){u.updateVisibilityBasedOnRows()}),u}return E.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(E.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(v){this.setLocalizableStringText("totalText",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),E.prototype.getFooterText=function(){return this.locTotalText},E.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(E.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(v){this.setPropertyValue("hideIfRowsEmpty",v)},enumerable:!1,configurable:!0}),E.prototype.getDisplayValueCore=function(v,u){if(!u)return u;var c=this.visibleRows,p={};if(!c)return p;for(var o=0;o<c.length;o++){var a=c[o].rowName,d=u[a];if(d){if(v){var h=g.ItemValue.getTextOrHtmlByValue(this.rows,a);h&&(a=h)}p[a]=this.getRowDisplayValue(v,c[o],d)}}return p},E.prototype.getConditionObjectRowName=function(v){return"."+this.rows[v].value},E.prototype.getConditionObjectRowText=function(v){return"."+this.rows[v].calculatedText},E.prototype.getConditionObjectsRowIndeces=function(){for(var v=[],u=0;u<this.rows.length;u++)v.push(u);return v},E.prototype.setNewValue=function(v){v&&typeof v!="object"||C.prototype.setNewValue.call(this,v)},E.prototype.clearIncorrectValues=function(){var v=this.value;if(v){var u=null,c=!1,p=this.filteredRows?this.filteredRows:this.rows;for(var o in v)g.ItemValue.getItemByValue(p,o)?(u==null&&(u={}),u[o]=v[o]):c=!0;c&&(this.value=u),C.prototype.clearIncorrectValues.call(this)}},E.prototype.clearValueIfInvisibleCore=function(){C.prototype.clearValueIfInvisibleCore.call(this),this.clearInvisibleValuesInRows()},E.prototype.generateRows=function(){var v=new Array,u=this.filteredRows?this.filteredRows:this.rows;if(!u||u.length===0)return v;var c=this.value;c||(c={});for(var p=0;p<u.length;p++)u[p].value&&v.push(this.createMatrixRow(u[p],c[u[p].value]));return v},E.prototype.createMatrixRow=function(v,u){return new T(v.value,v,this,u)},E.prototype.getSearchableItemValueKeys=function(v){v.push("rows")},E.prototype.updateProgressInfoByValues=function(v){var u=this.value;u||(u={});for(var c=0;c<this.rows.length;c++){var p=this.rows[c],o=u[p.value];this.updateProgressInfoByRow(v,o||{})}},E}(s.QuestionMatrixDropdownModelBase);m.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new x("")},"matrixdropdownbase"),y.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(C){var E=new x(C);return E.choices=[1,2,3,4,5],E.rows=y.QuestionFactory.DefaultRows,s.QuestionMatrixDropdownModelBase.addDefaultColumns(E),E})},"./src/question_matrixdropdownbase.ts":function(n,r,i){i.r(r),i.d(r,"MatrixDropdownCell",function(){return d}),i.d(r,"MatrixDropdownTotalCell",function(){return h}),i.d(r,"MatrixDropdownRowModelBase",function(){return l}),i.d(r,"MatrixDropdownTotalRowModel",function(){return O}),i.d(r,"QuestionMatrixDropdownModelBase",function(){return V});var s=i("./src/jsonobject.ts"),m=i("./src/martixBase.ts"),g=i("./src/helpers.ts"),y=i("./src/base.ts"),P=i("./src/survey-element.ts"),T=i("./src/textPreProcessor.ts"),x=i("./src/itemvalue.ts"),C=i("./src/questionfactory.ts"),E=i("./src/functionsfactory.ts"),v=i("./src/settings.ts"),u=i("./src/error.ts"),c=i("./src/utils/cssClassBuilder.ts"),p=i("./src/question_matrixdropdowncolumn.ts"),o=i("./src/question_matrixdropdownrendered.ts"),a=function(){var A=function(w,S){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,I){R.__proto__=I}||function(R,I){for(var b in I)Object.prototype.hasOwnProperty.call(I,b)&&(R[b]=I[b])},A(w,S)};return function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");A(w,S);function R(){this.constructor=w}w.prototype=S===null?Object.create(S):(R.prototype=S.prototype,new R)}}(),d=function(){function A(w,S,R){this.column=w,this.row=S,this.data=R,this.questionValue=this.createQuestion(w,S,R),this.questionValue.updateCustomWidget()}return A.prototype.locStrsChanged=function(){this.question.locStrsChanged()},A.prototype.createQuestion=function(w,S,R){var I=R.createQuestion(this.row,this.column);return I.validateValueCallback=function(){return R.validateCell(S,w.name,S.value)},s.CustomPropertiesCollection.getProperties(w.getType()).forEach(function(b){var D=b.name;w[D]!==void 0&&(I[D]=w[D])}),I},Object.defineProperty(A.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"value",{get:function(){return this.question.value},set:function(w){this.question.value=w},enumerable:!1,configurable:!0}),A.prototype.runCondition=function(w,S){this.question.runCondition(w,S)},A}(),h=function(A){a(w,A);function w(S,R,I){var b=A.call(this,S,R,I)||this;return b.column=S,b.row=R,b.data=I,b.updateCellQuestion(),b}return w.prototype.createQuestion=function(S,R,I){var b=s.Serializer.createClass("expression");return b.setSurveyImpl(R),b},w.prototype.locStrsChanged=function(){this.updateCellQuestion(),A.prototype.locStrsChanged.call(this)},w.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(S){delete S.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},w.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var S=this.column.totalType+"InArray";return E.FunctionFactory.Instance.hasFunction(S)?S+"({self}, '"+this.column.name+"')":""},w}(d),f=function(A){a(w,A);function w(S,R,I){var b=A.call(this,R)||this;return b.row=S,b.variableName=R,b.parentTextProcessor=I,b}return w.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(w.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),w.prototype.getValues=function(){return this.row.value},w.prototype.getQuestionByName=function(S){return this.row.getQuestionByName(S)},w.prototype.onCustomProcessText=function(S){return S.name==l.IndexVariableName?(S.isExists=!0,S.value=this.row.rowIndex,!0):S.name==l.RowValueVariableName?(S.isExists=!0,S.value=this.row.rowName,!0):!1},w}(T.QuestionTextProcessor),l=function(){function A(w,S){var R=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=w,this.subscribeToChanges(S),this.textPreProcessor=new f(this,A.RowVariableName,w?w.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(R.getSurvey().isDesignMode)return!0;R.showHideDetailPanel()},this.idValue=A.getId()}return A.getId=function(){return"srow_"+A.idCounter++},Object.defineProperty(A.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"value",{get:function(){for(var w={},S=this.questions,R=0;R<S.length;R++){var I=S[R];I.isEmpty()||(w[I.getValueName()]=I.value),I.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(w[I.getValueName()+y.Base.commentSuffix]=I.comment)}return w},set:function(w){this.isSettingValue=!0,this.subscribeToChanges(w);for(var S=this.questions,R=0;R<S.length;R++){var I=S[R],b=this.getCellValue(w,I.getValueName()),D=I.comment,M=w?w[I.getValueName()+y.Base.commentSuffix]:"";M==null&&(M=""),I.updateValueFromSurvey(b),(M||this.isTwoValueEquals(D,I.comment))&&I.updateCommentFromSurvey(M),I.onSurveyValueChanged(b)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"hasPanel",{get:function(){return this.data?this.data.hasDetailPanel(this):!1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isDetailPanelShowing",{get:function(){return this.data?this.data.getIsDetailPanelShowing(this):!1},enumerable:!1,configurable:!0}),A.prototype.setIsDetailPanelShowing=function(w){this.data&&this.data.setIsDetailPanelShowing(this,w),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},A.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},A.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},A.prototype.hideDetailPanel=function(w){w===void 0&&(w=!1),this.setIsDetailPanelShowing(!1),w&&(this.detailPanelValue=null)},A.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var w=this.detailPanelValue.questions,S=this.data.getRowValue(this.data.getRowIndex(this));if(!g.Helpers.isValueEmpty(S))for(var R=0;R<w.length;R++){var I=w[R].getValueName();g.Helpers.isValueEmpty(S[I])||(w[R].value=S[I])}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},A.prototype.getAllValues=function(){return this.value},A.prototype.getFilteredValues=function(){var w=this.getAllValues(),S={row:w};for(var R in w)S[R]=w[R];return S},A.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},A.prototype.runCondition=function(w,S){this.data&&(w[A.OwnerVariableName]=this.data.value),w[A.IndexVariableName]=this.rowIndex,w[A.RowValueVariableName]=this.rowName,S||(S={}),S[A.RowVariableName]=this;for(var R=0;R<this.cells.length;R++)w[A.RowVariableName]=this.value,this.cells[R].runCondition(w,S);this.detailPanel&&this.detailPanel.runCondition(w,S)},A.prototype.clearValue=function(){for(var w=this.questions,S=0;S<w.length;S++)w[S].clearValue()},A.prototype.onAnyValueChanged=function(w){for(var S=this.questions,R=0;R<S.length;R++)S[R].onAnyValueChanged(w)},A.prototype.getDataValueCore=function(w,S){var R=this.getSurvey();return R?R.getDataValueCore(w,S):w[S]},A.prototype.getValue=function(w){var S=this.getQuestionByName(w);return S?S.value:null},A.prototype.setValue=function(w,S){this.setValueCore(w,S,!1)},A.prototype.getVariable=function(w){},A.prototype.setVariable=function(w,S){},A.prototype.getComment=function(w){var S=this.getQuestionByName(w);return S?S.comment:""},A.prototype.setComment=function(w,S,R){this.setValueCore(w,S,!0)},A.prototype.findQuestionByName=function(w){if(w){var S=A.RowVariableName+".";if(w.indexOf(S)===0)return this.getQuestionByName(w.substring(S.length));var R=this.getSurvey();return R?R.getQuestionByName(w):null}},A.prototype.setValueCore=function(w,S,R){if(!this.isSettingValue){this.updateQuestionsValue(w,S,R);var I=this.value,b=R?w+y.Base.commentSuffix:w,D=S,M=this.getQuestionByName(w),L=this.data.onRowChanging(this,b,I);if(M&&!this.isTwoValueEquals(L,D)&&(this.isSettingValue=!0,R?M.comment=L:M.value=L,this.isSettingValue=!1,I=this.value),!(this.data.isValidateOnValueChanging&&this.hasQuestonError(M))){var U=S==null&&!M||R&&!S&&!!M&&M.autoOtherMode;this.data.onRowChanged(this,b,I,U),this.onAnyValueChanged(A.RowVariableName)}}},A.prototype.updateQuestionsValue=function(w,S,R){if(this.detailPanel){var I=this.getQuestionByColumnName(w),b=this.detailPanel.getQuestionByName(w);if(!(!I||!b)){var D=this.isTwoValueEquals(S,R?I.comment:I.value),M=D?b:I;this.isSettingValue=!0,R?M.comment=S:M.value=S,this.isSettingValue=!1}}},A.prototype.hasQuestonError=function(w){if(!w)return!1;if(w.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(w.isEmpty())return!1;var S=this.getCellByColumnName(w.name);return!S||!S.column||!S.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,w)},Object.defineProperty(A.prototype,"isEmpty",{get:function(){var w=this.value;if(g.Helpers.isValueEmpty(w))return!0;for(var S in w)if(w[S]!==void 0&&w[S]!==null)return!1;return!0},enumerable:!1,configurable:!0}),A.prototype.getQuestionByColumn=function(w){var S=this.getCellByColumn(w);return S?S.question:null},A.prototype.getCellByColumn=function(w){for(var S=0;S<this.cells.length;S++)if(this.cells[S].column==w)return this.cells[S];return null},A.prototype.getCellByColumnName=function(w){for(var S=0;S<this.cells.length;S++)if(this.cells[S].column.name==w)return this.cells[S];return null},A.prototype.getQuestionByColumnName=function(w){var S=this.getCellByColumnName(w);return S?S.question:null},Object.defineProperty(A.prototype,"questions",{get:function(){for(var w=[],S=0;S<this.cells.length;S++)w.push(this.cells[S].question);for(var R=this.detailPanel?this.detailPanel.questions:[],S=0;S<R.length;S++)w.push(R[S]);return w},enumerable:!1,configurable:!0}),A.prototype.getQuestionByName=function(w){var S=this.getQuestionByColumnName(w);return S||(this.detailPanel?this.detailPanel.getQuestionByName(w):null)},A.prototype.getQuestionsByName=function(w){var S=[],R=this.getQuestionByColumnName(w);return R&&S.push(R),this.detailPanel&&(R=this.detailPanel.getQuestionByName(w),R&&S.push(R)),S},A.prototype.getSharedQuestionByName=function(w){return this.data?this.data.getSharedQuestionByName(w,this):null},A.prototype.clearIncorrectValues=function(w){for(var S in w){var R=this.getQuestionByName(S);if(R){var I=R.value;R.clearIncorrectValues(),this.isTwoValueEquals(I,R.value)||this.setValue(S,R.value)}else!this.getSharedQuestionByName(S)&&S.indexOf(v.settings.matrixTotalValuePostFix)<0&&this.setValue(S,null)}},A.prototype.getLocale=function(){return this.data?this.data.getLocale():""},A.prototype.getMarkdownHtml=function(w,S){return this.data?this.data.getMarkdownHtml(w,S):void 0},A.prototype.getRenderer=function(w){return this.data?this.data.getRenderer(w):null},A.prototype.getRendererContext=function(w){return this.data?this.data.getRendererContext(w):w},A.prototype.getProcessedText=function(w){return this.data?this.data.getProcessedText(w):w},A.prototype.locStrsChanged=function(){for(var w=0;w<this.cells.length;w++)this.cells[w].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},A.prototype.updateCellQuestionOnColumnChanged=function(w,S,R){var I=this.getCellByColumn(w);I&&this.updateCellOnColumnChanged(I,S,R)},A.prototype.updateCellQuestionOnColumnItemValueChanged=function(w,S,R,I,b,D){var M=this.getCellByColumn(w);M&&this.updateCellOnColumnItemValueChanged(M,S,R,I,b,D)},A.prototype.onQuestionReadOnlyChanged=function(w){for(var S=this.questions,R=0;R<S.length;R++){var I=S[R];I.setPropertyValue("isReadOnly",I.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=w)},A.prototype.hasErrors=function(w,S,R){var I=!1,b=this.cells;if(!b)return I;for(var D=0;D<b.length;D++)if(b[D]){var M=b[D].question;!M||!M.visible||(M.onCompletedAsyncValidators=function(U){R()},!(S&&S.isOnValueChanged===!0&&M.isEmpty())&&(I=M.hasErrors(w,S)||I))}if(this.hasPanel){this.ensureDetailPanel();var L=this.detailPanel.hasErrors(w,!1,S);!S.hideErroredPanel&&L&&w&&(S.isSingleDetailPanel&&(S.hideErroredPanel=!0),this.showDetailPanel()),I=L||I}return I},A.prototype.updateCellOnColumnChanged=function(w,S,R){w.question[S]=R},A.prototype.updateCellOnColumnItemValueChanged=function(w,S,R,I,b,D){var M=w.question[S];if(Array.isArray(M)){var L=I==="value"?D:R.value,U=x.ItemValue.getItemByValue(M,L);U&&(U[I]=b)}},A.prototype.buildCells=function(w){this.isSettingValue=!0;for(var S=this.data.columns,R=0;R<S.length;R++){var I=S[R];if(I.isVisible){var b=this.createCell(I);this.cells.push(b);var D=this.getCellValue(w,I.name);if(!g.Helpers.isValueEmpty(D)){b.question.value=D;var M=I.name+y.Base.commentSuffix;w&&!g.Helpers.isValueEmpty(w[M])&&(b.question.comment=w[M])}}}this.isSettingValue=!1},A.prototype.isTwoValueEquals=function(w,S){return g.Helpers.isTwoValueEquals(w,S,!1,!0,!1)},A.prototype.getCellValue=function(w,S){return this.editingObj?s.Serializer.getObjPropertyValue(this.editingObj,S):w?w[S]:void 0},A.prototype.createCell=function(w){return new d(w,this,this.data)},A.prototype.getSurveyData=function(){return this},A.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},A.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(A.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),A.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},A.prototype.subscribeToChanges=function(w){var S=this;!w||!w.getType||!w.onPropertyChanged||w!==this.editingObj&&(this.editingObjValue=w,this.onEditingObjPropertyChanged=function(R,I){S.updateOnSetValue(I.name,I.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},A.prototype.updateOnSetValue=function(w,S){this.isSettingValue=!0;for(var R=this.getQuestionsByName(w),I=0;I<R.length;I++)R[I].value=S;this.isSettingValue=!1},A.RowVariableName="row",A.OwnerVariableName="self",A.IndexVariableName="rowIndex",A.RowValueVariableName="rowValue",A.idCounter=1,A}(),O=function(A){a(w,A);function w(S){var R=A.call(this,S,null)||this;return R.buildCells(null),R}return w.prototype.createCell=function(S){return new h(S,this,this.data)},w.prototype.setValue=function(S,R){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},w.prototype.runCondition=function(S,R){var I=0,b;do b=g.Helpers.getUnbindValue(this.value),A.prototype.runCondition.call(this,S,R),I++;while(!g.Helpers.isTwoValueEquals(b,this.value)&&I<3)},w.prototype.updateCellOnColumnChanged=function(S,R,I){S.updateCellQuestion()},w}(l),V=function(A){a(w,A);function w(S){var R=A.call(this,S)||this;return R.isRowChanging=!1,R.lockResetRenderedTable=!1,R.isDoingonAnyValueChanged=!1,R.createItemValues("choices"),R.createLocalizableString("placeholder",R,!1,!0),R.createLocalizableString("keyDuplicationError",R,!1,!0),R.detailPanelValue=R.createNewDetailPanel(),R.detailPanel.selectedElementInDesign=R,R.detailPanel.renderWidth="100%",R.detailPanel.isInteractiveDesignElement=!1,R.detailPanel.showTitle=!1,R.registerPropertyChangedHandlers(["columns","cellType"],function(){R.updateColumnsAndRows()}),R.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){R.clearRowsAndResetRenderedTable()}),R.registerPropertyChangedHandlers(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){R.resetRenderedTable()}),R.registerPropertyChangedHandlers(["isMobile"],function(){R.columnLayout==="vertical"&&R.resetRenderedTable()}),R}return Object.defineProperty(w,"defaultCellType",{get:function(){return v.settings.matrixDefaultCellType},set:function(S){v.settings.matrixDefaultCellType=S},enumerable:!1,configurable:!0}),w.addDefaultColumns=function(S){for(var R=C.QuestionFactory.DefaultColums,I=0;I<R.length;I++)S.addColumn(R[I])},w.prototype.createColumnValues=function(){var S=this;return this.createNewArray("columns",function(R){R.colOwner=S,S.onAddColumn&&S.onAddColumn(R),S.survey&&S.survey.matrixColumnAdded(S,R)},function(R){R.colOwner=null,S.onRemoveColumn&&S.onRemoveColumn(R)})},w.prototype.getType=function(){return"matrixdropdownbase"},w.prototype.dispose=function(){A.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(w.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),w.prototype.beginUpdate=function(){this.isUpdating=!0},w.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},w.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},w.prototype.itemValuePropertyChanged=function(S,R,I,b){A.prototype.itemValuePropertyChanged.call(this,S,R,I,b),S.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(w.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(S){this.setPropertyValue("columnLayout",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(S){this.columnLayout=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isColumnLayoutHorizontal",{get:function(){return this.isMobile?!0:this.columnLayout!="vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isUniqueCaseSensitive",{get:function(){return this.isUniqueCaseSensitiveValue!==void 0?this.isUniqueCaseSensitiveValue:v.settings.comparator.caseSensitive},set:function(S){this.isUniqueCaseSensitiveValue=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(S){this.setPropertyValue("detailPanelMode",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),w.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(w.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),w.prototype.createNewDetailPanel=function(){return s.Serializer.createClass("panel")},Object.defineProperty(w.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),w.prototype.getFooterText=function(){return null},Object.defineProperty(w.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),w.prototype.canRemoveRow=function(S){return!0},w.prototype.onPointerDown=function(S,R){},w.prototype.onRowsChanged=function(){this.resetRenderedTable(),A.prototype.onRowsChanged.call(this)},w.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly()},w.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var S=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[S],S)}},w.prototype.onEndRowRemoving=function(S){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():S&&this.renderedTable.onRemovedRow(S)},Object.defineProperty(w.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(S){this.setPropertyValue("renderedTable",S)},enumerable:!1,configurable:!0}),w.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},w.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},w.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var S=0;S<this.generatedVisibleRows.length;S++)this.generatedVisibleRows[S].dispose();A.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(w.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),w.prototype.createRenderedTable=function(){return new o.QuestionMatrixDropdownRenderedTable(this)},w.prototype.onMatrixRowCreated=function(S){if(this.survey)for(var R={rowValue:S.value,row:S,column:null,columnName:null,cell:null,cellQuestion:null,value:null},I=0;I<this.visibleColumns.length;I++){R.column=this.visibleColumns[I],R.columnName=R.column.name;var b=S.cells[I];R.cell=b,R.cellQuestion=b.question,R.value=b.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(R),this.survey.matrixCellCreated(this,R)}},Object.defineProperty(w.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",v.settings.matrixDefaultCellType)},set:function(S){S=S.toLowerCase(),this.setPropertyValue("cellType",S)},enumerable:!1,configurable:!0}),w.prototype.updateColumnsCellType=function(){for(var S=0;S<this.columns.length;S++)this.columns[S].defaultCellTypeChanged()},w.prototype.updateColumnsIndexes=function(S){for(var R=0;R<S.length;R++)S[R].setIndex(R)},Object.defineProperty(w.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(S){S<0||S>4||this.setPropertyValue("columnColCount",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(S){this.setPropertyValue("horizontalScroll",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(S){this.setPropertyValue("allowAdaptiveActions",S),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=S)},enumerable:!1,configurable:!0}),w.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},w.prototype.hasChoices=function(){return this.choices.length>0},w.prototype.onColumnPropertyChanged=function(S,R,I){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var b=0;b<this.generatedVisibleRows.length;b++)this.generatedVisibleRows[b].updateCellQuestionOnColumnChanged(S,R,I);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(S,R,I),this.onColumnsChanged(),R=="isRequired"&&this.resetRenderedTable()}},w.prototype.onColumnItemValuePropertyChanged=function(S,R,I,b,D,M){if(this.generatedVisibleRows)for(var L=0;L<this.generatedVisibleRows.length;L++)this.generatedVisibleRows[L].updateCellQuestionOnColumnItemValueChanged(S,R,I,b,D,M)},w.prototype.onShowInMultipleColumnsChanged=function(S){this.clearGeneratedRows(),this.resetRenderedTable()},w.prototype.onColumnCellTypeChanged=function(S){this.clearGeneratedRows(),this.resetRenderedTable()},w.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(w.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),w.prototype.getAddRowLocation=function(){return"default"},w.prototype.getShowColumnsIfEmpty=function(){return!1},w.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},w.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(w.prototype,"hasTotal",{get:function(){for(var S=0;S<this.columns.length;S++)if(this.columns[S].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),w.prototype.getCellType=function(){return this.cellType},w.prototype.getCustomCellType=function(S,R,I){if(!this.survey)return I;var b={rowValue:R.value,row:R,column:S,columnName:S.name,cellType:I};return this.survey.matrixCellCreating(this,b),b.cellType},w.prototype.getConditionJson=function(S,R){if(S===void 0&&(S=null),R===void 0&&(R=null),!R)return A.prototype.getConditionJson.call(this);for(var I="",b=R.length-1;b>=0&&R[b]!=".";b--)I=R[b]+I;var D=this.getColumnByName(I);if(!D)return null;var M=D.createCellQuestion(null);return M?M.getConditionJson(S):null},w.prototype.clearIncorrectValues=function(){var S=this.visibleRows;if(S)for(var R=0;R<S.length;R++)S[R].clearIncorrectValues(this.getRowValue(R))},w.prototype.clearErrors=function(){A.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(S){S.clearErrors()})},w.prototype.localeChanged=function(){A.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(S){S.localeChanged()})},w.prototype.runFuncForCellQuestions=function(S){if(this.generatedVisibleRows)for(var R=0;R<this.generatedVisibleRows.length;R++)for(var I=this.generatedVisibleRows[R],b=0;b<I.cells.length;b++)S(I.cells[b].question)},w.prototype.runCondition=function(S,R){A.prototype.runCondition.call(this,S,R);var I=0,b;do b=g.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(S,R),this.runTotalsCondition(S,R),I++;while(!g.Helpers.isTwoValueEquals(b,this.totalValue)&&I<3)},w.prototype.shouldRunColumnExpression=function(){return!1},w.prototype.runCellsCondition=function(S,R){if(this.generatedVisibleRows){for(var I=this.getRowConditionValues(S),b=this.generatedVisibleRows,D=0;D<b.length;D++)b[D].runCondition(I,R);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},w.prototype.checkColumnsVisibility=function(){for(var S=!1,R=0;R<this.visibleColumns.length;R++)this.visibleColumns[R].visibleIf&&(S=this.isColumnVisibilityChanged(this.visibleColumns[R])||S);S&&this.resetRenderedTable()},w.prototype.checkColumnsRenderedRequired=function(){for(var S=this.generatedVisibleRows,R=0;R<this.visibleColumns.length;R++){var I=this.visibleColumns[R];if(I.requiredIf){for(var b=S.length>0,D=0;D<S.length;D++)if(!S[D].cells[R].question.isRequired){b=!1;break}I.updateIsRenderedRequired(b)}}},w.prototype.isColumnVisibilityChanged=function(S){for(var R=S.hasVisibleCell,I=!1,b=this.generatedVisibleRows,D=0;D<b.length;D++){var M=b[D].cells[S.index];if(M&&M.question&&M.question.isVisible){I=!0;break}}return R!=I&&(S.hasVisibleCell=I),R!=I},w.prototype.runTotalsCondition=function(S,R){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(S),R)},w.prototype.getRowConditionValues=function(S){var R=S;R||(R={});var I={};return this.isValueEmpty(this.totalValue)||(I=JSON.parse(JSON.stringify(this.totalValue))),R.row={},R.totalRow=I,R},w.prototype.locStrsChanged=function(){A.prototype.locStrsChanged.call(this);for(var S=this.columns,R=0;R<S.length;R++)S[R].locStrsChanged();var I=this.generatedVisibleRows;if(I){for(var R=0;R<I.length;R++)I[R].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},w.prototype.getColumnByName=function(S){for(var R=0;R<this.columns.length;R++)if(this.columns[R].name==S)return this.columns[R];return null},w.prototype.getColumnName=function(S){return this.getColumnByName(S)},w.prototype.getColumnWidth=function(S){var R;return S.minWidth?S.minWidth:this.columnMinWidth?this.columnMinWidth:((R=v.settings.matrix.columnWidthsByType[S.cellType])===null||R===void 0?void 0:R.minWidth)||""},Object.defineProperty(w.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(S){this.setPropertyValue("choices",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(S){this.setLocalizableStringText("placeholder",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(S){this.placeholder=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(S){this.setLocalizableStringText("keyDuplicationError",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"storeOthersAsComment",{get:function(){return this.survey?this.survey.storeOthersAsComment:!1},enumerable:!1,configurable:!0}),w.prototype.addColumn=function(S,R){R===void 0&&(R=null);var I=new p.MatrixDropdownColumn(S,R);return this.columns.push(I),I},w.prototype.getVisibleRows=function(){var S=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(R){return S.onMatrixRowCreated(R)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},w.prototype.updateValueOnRowsGeneration=function(S){for(var R=this.createNewValue(!0),I=this.createNewValue(),b=0;b<S.length;b++){var D=S[b];if(!D.editingObj){var M=this.getRowValue(b),L=D.value;this.isTwoValueEquals(M,L)||(I=this.getNewValueOnRowChanged(D,"",L,!1,I).value)}}this.isTwoValueEquals(R,I)||(this.isRowChanging=!0,this.setNewValue(I),this.isRowChanging=!1)},Object.defineProperty(w.prototype,"totalValue",{get:function(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value},enumerable:!1,configurable:!0}),w.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var S={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),S)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(w.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),w.prototype.onSurveyLoad=function(){A.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},w.prototype.getRowValue=function(S){if(S<0)return null;var R=this.visibleRows;if(S>=R.length)return null;var I=this.createNewValue();return this.getRowValueCore(R[S],I)},w.prototype.checkIfValueInRowDuplicated=function(S,R){if(!this.generatedVisibleRows)return!1;for(var I=!1,b=0;b<this.generatedVisibleRows.length;b++){var D=this.generatedVisibleRows[b];if(S!==D&&g.Helpers.isTwoValueEquals(D.getValue(R.name),R.value,!0,this.isUniqueCaseSensitive)){I=!0;break}}return I?this.addDuplicationError(R):R.clearErrors(),I},w.prototype.setRowValue=function(S,R){if(S<0)return null;var I=this.visibleRows;if(S>=I.length)return null;I[S].value=R,this.onRowChanged(I[S],"",R,!1)},w.prototype.generateRows=function(){return null},w.prototype.generateTotalRow=function(){return new O(this)},w.prototype.createNewValue=function(S){S===void 0&&(S=!1);var R=this.value?this.createValueCopy():{};return S&&this.isMatrixValueEmpty(R)?null:R},w.prototype.getRowValueCore=function(S,R,I){I===void 0&&(I=!1);var b=R&&R[S.rowName]?R[S.rowName]:null;return!b&&I&&(b={},R&&(R[S.rowName]=b)),b},w.prototype.getRowObj=function(S){var R=this.getRowValueCore(S,this.value);return R&&R.getType?R:null},w.prototype.getRowDisplayValue=function(S,R,I){if(!I||R.editingObj)return I;for(var b=Object.keys(I),D=0;D<b.length;D++){var M=b[D],L=R.getQuestionByName(M);if(L||(L=this.getSharedQuestionByName(M,R)),L){var U=L.getDisplayValue(S,I[M]);S&&L.title&&L.title!==M?(I[L.title]=U,delete I[M]):I[M]=U}}return I},w.prototype.getPlainData=function(S){var R=this;S===void 0&&(S={includeEmpty:!0});var I=A.prototype.getPlainData.call(this,S);return I&&(I.isNode=!0,I.data=this.visibleRows.map(function(b){var D={name:b.rowName,title:b.text,value:b.value,displayValue:R.getRowDisplayValue(!1,b,b.value),getString:function(M){return typeof M=="object"?JSON.stringify(M):M},isNode:!0,data:b.cells.map(function(M){return M.question.getPlainData(S)}).filter(function(M){return!!M})};return(S.calculations||[]).forEach(function(M){D[M.propertyName]=b[M.propertyName]}),D})),I},w.prototype.addConditionObjectsByContext=function(S,R){var I=R?R===!0||this.columns.indexOf(R)>-1:!1,b=this.getConditionObjectsRowIndeces();I&&b.push(-1);for(var D=0;D<b.length;D++){var M=b[D],L=M>-1?this.getConditionObjectRowName(M):"row";if(L)for(var U=M>-1?this.getConditionObjectRowText(M):"row",N=M>-1||R===!0,W=N&&M===-1?".":"",z=(N?this.getValueName():"")+W+L+".",Q=(N?this.processedTitle:"")+W+U+".",$=0;$<this.columns.length;$++){var Y=this.columns[$];if(!(M===-1&&R===Y)){var q={name:z+Y.name,text:Q+Y.fullTitle,question:this};M===-1&&R===!0&&(q.context=this),S.push(q)}}}},w.prototype.getConditionObjectRowName=function(S){return""},w.prototype.getConditionObjectRowText=function(S){return this.getConditionObjectRowName(S)},w.prototype.getConditionObjectsRowIndeces=function(){return[]},w.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return P.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var S=y.Base.createProgressInfo();return this.updateProgressInfoByValues(S),S.requiredQuestionCount===0&&this.isRequired&&(S.requiredQuestionCount=1,S.requiredAnsweredQuestionCount=this.isEmpty()?0:1),S},w.prototype.updateProgressInfoByValues=function(S){},w.prototype.updateProgressInfoByRow=function(S,R){for(var I=0;I<this.columns.length;I++){var b=this.columns[I];if(b.templateQuestion.hasInput){S.questionCount+=1,S.requiredQuestionCount+=b.isRequired;var D=!g.Helpers.isValueEmpty(R[b.name]);S.answeredQuestionCount+=D?1:0,S.requiredAnsweredQuestionCount+=D&&b.isRequired?1:0}}},w.prototype.getCellQuestions=function(){var S=[];return this.runFuncForCellQuestions(function(R){S.push(R)}),S},w.prototype.onBeforeValueChanged=function(S){},w.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var S=this.createNewValue(),R=0;R<this.generatedVisibleRows.length;R++){var I=this.generatedVisibleRows[R];this.generatedVisibleRows[R].value=this.getRowValueCore(I,S)}this.isRowChanging=!1}},w.prototype.setQuestionValue=function(S){A.prototype.setQuestionValue.call(this,S,!1),this.onSetQuestionValue(),this.updateIsAnswered()},w.prototype.supportGoNextPageAutomatic=function(){var S=this.generatedVisibleRows;if(S||(S=this.visibleRows),!S)return!0;for(var R=0;R<S.length;R++){var I=this.generatedVisibleRows[R].cells;if(I)for(var b=0;b<I.length;b++){var D=I[b].question;if(D&&(!D.supportGoNextPageAutomatic()||!D.value))return!1}}return!0},w.prototype.getContainsErrors=function(){return A.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(S){return S.containsErrors},!1)},w.prototype.getIsAnswered=function(){return A.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(S){return S.isAnswered},!0)},w.prototype.checkForAnswersOrErrors=function(S,R){R===void 0&&(R=!1);var I=this.generatedVisibleRows;if(!I)return!1;for(var b=0;b<I.length;b++){var D=I[b].cells;if(D){for(var M=0;M<D.length;M++)if(D[M]){var L=D[M].question;if(L&&L.isVisible){if(S(L)){if(!R)return!0}else if(R)return!1}}}}return!!R},w.prototype.hasErrors=function(S,R){S===void 0&&(S=!0),R===void 0&&(R=null);var I=this.hasErrorInRows(S,R),b=this.isValueDuplicated();return A.prototype.hasErrors.call(this,S,R)||I||b},w.prototype.getIsRunningValidators=function(){if(A.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var S=0;S<this.generatedVisibleRows.length;S++){var R=this.generatedVisibleRows[S].cells;if(R){for(var I=0;I<R.length;I++)if(R[I]){var b=R[I].question;if(b&&b.isRunningValidators)return!0}}}return!1},w.prototype.getAllErrors=function(){var S=A.prototype.getAllErrors.call(this),R=this.generatedVisibleRows;if(R===null)return S;for(var I=0;I<R.length;I++)for(var b=R[I],D=0;D<b.cells.length;D++){var M=b.cells[D].question.getAllErrors();M&&M.length>0&&(S=S.concat(M))}return S},w.prototype.hasErrorInRows=function(S,R){var I=this,b=this.generatedVisibleRows;this.generatedVisibleRows||(b=this.visibleRows);var D=!1;if(R||(R={}),!b)return R;R.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var M=0;M<b.length;M++)D=b[M].hasErrors(S,R,function(){I.raiseOnCompletedAsyncValidators()})||D;return D},w.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var S=this.getUniqueColumns(),R=!1,I=0;I<S.length;I++)R=this.isValueInColumnDuplicated(S[I])||R;return R},w.prototype.isValueInColumnDuplicated=function(S){for(var R=[],I=!1,b=0;b<this.generatedVisibleRows.length;b++)I=this.isValueDuplicatedInRow(this.generatedVisibleRows[b],S,R)||I;return I},w.prototype.getUniqueColumns=function(){for(var S=new Array,R=0;R<this.columns.length;R++)this.columns[R].isUnique&&S.push(this.columns[R]);return S},w.prototype.isValueDuplicatedInRow=function(S,R,I){var b=S.getQuestionByColumn(R);if(!b||b.isEmpty())return!1;for(var D=b.value,M=0;M<I.length;M++)if(g.Helpers.isTwoValueEquals(D,I[M],!0,this.isUniqueCaseSensitive))return this.addDuplicationError(b),!0;return I.push(D),!1},w.prototype.addDuplicationError=function(S){S.addError(new u.KeyDuplicationError(this.keyDuplicationError,this))},w.prototype.getFirstQuestionToFocus=function(S){return this.getFirstCellQuestion(S)},w.prototype.getFirstInputElementId=function(){var S=this.getFirstCellQuestion(!1);return S?S.inputId:A.prototype.getFirstInputElementId.call(this)},w.prototype.getFirstErrorInputElementId=function(){var S=this.getFirstCellQuestion(!0);return S?S.inputId:A.prototype.getFirstErrorInputElementId.call(this)},w.prototype.getFirstCellQuestion=function(S){if(!this.generatedVisibleRows)return null;for(var R=0;R<this.generatedVisibleRows.length;R++)for(var I=this.generatedVisibleRows[R].cells,b=0;b<I.length;b++)if(!S||I[b].question.currentErrorCount>0)return I[b].question;return null},w.prototype.onReadOnlyChanged=function(){if(A.prototype.onReadOnlyChanged.call(this),!!this.generateRows)for(var S=0;S<this.visibleRows.length;S++)this.visibleRows[S].onQuestionReadOnlyChanged(this.isReadOnly)},w.prototype.createQuestion=function(S,R){return this.createQuestionCore(S,R)},w.prototype.createQuestionCore=function(S,R){var I=R.createCellQuestion(S);return I.setSurveyImpl(S),I.setParentQuestion(this),I.inMatrixMode=!0,I},w.prototype.deleteRowValue=function(S,R){return S&&(delete S[R.rowName],this.isObject(S)&&Object.keys(S).length==0?null:S)},w.prototype.onAnyValueChanged=function(S){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged||!this.generatedVisibleRows)){this.isDoingonAnyValueChanged=!0;for(var R=this.visibleRows,I=0;I<R.length;I++)R[I].onAnyValueChanged(S);var b=this.visibleTotalRow;b&&b.onAnyValueChanged(S),this.isDoingonAnyValueChanged=!1}},w.prototype.isObject=function(S){return S!==null&&typeof S=="object"},w.prototype.getOnCellValueChangedOptions=function(S,R,I){var b=function(D){for(var M=0;M<S.cells.length;M++){var L=S.cells[M].column;if(L&&L.name===D)return S.cells[M].question}return null};return{row:S,columnName:R,rowValue:I,value:I?I[R]:null,getCellQuestion:b}},w.prototype.onCellValueChanged=function(S,R,I){if(this.survey){var b=this.getOnCellValueChangedOptions(S,R,I);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(b),this.survey.matrixCellValueChanged(this,b)}},w.prototype.validateCell=function(S,R,I){if(this.survey){var b=this.getOnCellValueChangedOptions(S,R,I);return this.survey.matrixCellValidate(this,b)}},Object.defineProperty(w.prototype,"isValidateOnValueChanging",{get:function(){return this.survey?this.survey.isValidateOnValueChanging:!1},enumerable:!1,configurable:!0}),w.prototype.onRowChanging=function(S,R,I){if(!this.survey&&!this.cellValueChangingCallback)return I?I[R]:null;var b=this.getOnCellValueChangedOptions(S,R,I),D=this.getRowValueCore(S,this.createNewValue(),!0);return b.oldValue=D?D[R]:null,this.cellValueChangingCallback&&(b.value=this.cellValueChangingCallback(S,R,b.value,b.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,b),b.value},w.prototype.onRowChanged=function(S,R,I,b){var D=R?this.getRowObj(S):null;if(D){var M=null;I&&!b&&(M=I[R]),this.isRowChanging=!0,D[R]=M,this.isRowChanging=!1,this.onCellValueChanged(S,R,D)}else{var L=this.createNewValue(!0),U=this.getNewValueOnRowChanged(S,R,I,b,this.createNewValue());if(this.isTwoValueEquals(L,U.value))return;this.isRowChanging=!0,this.setNewValue(U.value),this.isRowChanging=!1,R&&this.onCellValueChanged(S,R,U.rowValue)}},w.prototype.getNewValueOnRowChanged=function(S,R,I,b,D){var M=this.getRowValueCore(S,D,!0);b&&delete M[R];for(var L=0;L<S.cells.length;L++){var U=S.cells[L].question.getValueName();delete M[U]}if(I){I=JSON.parse(JSON.stringify(I));for(var U in I)this.isValueEmpty(I[U])||(M[U]=I[U])}return this.isObject(M)&&Object.keys(M).length===0&&(D=this.deleteRowValue(D,S)),{value:D,rowValue:M}},w.prototype.getRowIndex=function(S){return this.generatedVisibleRows?this.visibleRows.indexOf(S):-1},w.prototype.getElementsInDesign=function(S){S===void 0&&(S=!1);var R;return this.detailPanelMode=="none"?R=A.prototype.getElementsInDesign.call(this,S):R=S?[this.detailPanel]:this.detailElements,this.columns.concat(R)},w.prototype.hasDetailPanel=function(S){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(S):this.detailElements.length>0},w.prototype.getIsDetailPanelShowing=function(S){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var R=this.visibleRows.indexOf(S)==0;return R&&(S.detailPanel||S.showDetailPanel()),R}return this.getPropertyValue("isRowShowing"+S.id,!1)},w.prototype.setIsDetailPanelShowing=function(S,R){if(R!=this.getIsDetailPanelShowing(S)&&(this.setPropertyValue("isRowShowing"+S.id,R),this.updateDetailPanelButtonCss(S),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(S,R),R&&this.detailPanelMode==="underRowSingle"))for(var I=this.visibleRows,b=0;b<I.length;b++)I[b].id!==S.id&&I[b].isDetailPanelShowing&&I[b].hideDetailPanel()},w.prototype.getDetailPanelButtonCss=function(S){var R=new c.CssClassBuilder().append(this.getPropertyValue("detailButtonCss"+S.id));return R.append(this.cssClasses.detailButton,R.toString()==="").toString()},w.prototype.getDetailPanelIconCss=function(S){var R=new c.CssClassBuilder().append(this.getPropertyValue("detailIconCss"+S.id));return R.append(this.cssClasses.detailIcon,R.toString()==="").toString()},w.prototype.getDetailPanelIconId=function(S){return this.getIsDetailPanelShowing(S)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},w.prototype.updateDetailPanelButtonCss=function(S){var R=this.cssClasses,I=this.getIsDetailPanelShowing(S),b=new c.CssClassBuilder().append(R.detailIcon).append(R.detailIconExpanded,I);this.setPropertyValue("detailIconCss"+S.id,b.toString());var D=new c.CssClassBuilder().append(R.detailButton).append(R.detailButtonExpanded,I);this.setPropertyValue("detailButtonCss"+S.id,D.toString())},w.prototype.createRowDetailPanel=function(S){if(this.isDesignMode)return this.detailPanel;var R=this.createNewDetailPanel();R.readOnly=this.isReadOnly;var I=this.detailPanel.toJSON();return new s.JsonObject().toObject(I,R),R.renderWidth="100%",R.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(S,R),R},w.prototype.getSharedQuestionByName=function(S,R){if(!this.survey||!this.valueName)return null;var I=this.getRowIndex(R);return I<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,S,I)},w.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+v.settings.matrixTotalValuePostFix,this.totalValue,!1)},w.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var S=this.parent.data;return S&&S.getTextProcessor?S.getTextProcessor():null},w.prototype.getQuestionFromArray=function(S,R){return R>=this.visibleRows.length?null:this.visibleRows[R].getQuestionByName(S)},w.prototype.isMatrixValueEmpty=function(S){if(S){if(Array.isArray(S)){for(var R=0;R<S.length;R++)if(this.isObject(S[R])&&Object.keys(S[R]).length>0)return!1;return!0}return Object.keys(S).length==0}},Object.defineProperty(w.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),w.prototype.getCellTemplateData=function(S){return this.SurveyModel.getMatrixCellTemplateData(S)},w.prototype.getCellWrapperComponentName=function(S){return this.SurveyModel.getElementWrapperComponentName(S,S.row instanceof O?"row-footer":"cell")},w.prototype.getCellWrapperComponentData=function(S){return this.SurveyModel.getElementWrapperComponentData(S,S.row instanceof O?"row-footer":"cell")},w.prototype.getColumnHeaderWrapperComponentName=function(S){return this.SurveyModel.getElementWrapperComponentName(S,"column-header")},w.prototype.getColumnHeaderWrapperComponentData=function(S){return this.SurveyModel.getElementWrapperComponentData(S,"column-header")},w.prototype.getRowHeaderWrapperComponentName=function(S){return this.SurveyModel.getElementWrapperComponentName(S,"row-header")},w.prototype.getRowHeaderWrapperComponentData=function(S){return this.SurveyModel.getElementWrapperComponentData(S,"row-header")},Object.defineProperty(w.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),w.prototype.getRootCss=function(){return new c.CssClassBuilder().append(A.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},w.prototype.getIsTooltipErrorInsideSupported=function(){return!0},w}(m.QuestionMatrixBaseModel);s.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},"horizontalScroll:boolean",{name:"choices:itemvalue[]",uniqueProperty:"value"},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return p.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new V("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function(n,r,i){i.r(r),i.d(r,"matrixDropdownColumnTypes",function(){return x}),i.d(r,"MatrixDropdownColumn",function(){return C});var s=i("./src/jsonobject.ts"),m=i("./src/base.ts"),g=i("./src/question_expression.ts"),y=i("./src/settings.ts"),P=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();function T(E,v,u,c){E.storeOthersAsComment=u?u.storeOthersAsComment:!1,(!E.choices||E.choices.length==0)&&E.choicesByUrl.isEmpty&&(E.choices=u.choices),E.choicesByUrl.isEmpty||E.choicesByUrl.run(c.getTextProcessor())}var x={dropdown:{onCellQuestionUpdate:function(E,v,u,c){T(E,v,u,c),E.locPlaceholder&&E.locPlaceholder.isEmpty&&!u.locPlaceholder.isEmpty&&(E.optionsCaption=u.optionsCaption)}},checkbox:{onCellQuestionUpdate:function(E,v,u,c){T(E,v,u,c),E.colCount=v.colCount>-1?v.colCount:u.columnColCount}},radiogroup:{onCellQuestionUpdate:function(E,v,u,c){T(E,v,u,c),E.colCount=v.colCount>-1?v.colCount:u.columnColCount}},tagbox:{},text:{},comment:{},boolean:{onCellQuestionUpdate:function(E,v,u,c){E.renderAs=v.renderAs}},expression:{},rating:{}},C=function(E){P(v,E);function v(u,c){c===void 0&&(c=null);var p=E.call(this)||this;return p.colOwnerValue=null,p.indexValue=-1,p._isVisible=!0,p._hasVisibleCell=!0,p.previousChoicesId=void 0,p.createLocalizableString("totalFormat",p),p.createLocalizableString("cellHint",p),p.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){p.doShowInMultipleColumnsChanged()}),p.updateTemplateQuestion(),p.name=u,c?p.title=c:p.templateQuestion.locTitle.strChanged(),p}return v.getColumnTypes=function(){var u=[];for(var c in x)u.push(c);return u},v.prototype.getOriginalObj=function(){return this.templateQuestion},v.prototype.getClassNameProperty=function(){return"cellType"},v.prototype.getSurvey=function(u){return this.colOwner?this.colOwner.survey:null},v.prototype.endLoadingFromJson=function(){var u=this;E.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return u.getSurvey()}},v.prototype.getDynamicPropertyName=function(){return"cellType"},v.prototype.getDynamicType=function(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)},Object.defineProperty(v.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(u){this.colOwnerValue=u,u&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),v.prototype.locStrsChanged=function(){E.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},v.prototype.addUsedLocales=function(u){E.prototype.addUsedLocales.call(this,u),this.templateQuestion.addUsedLocales(u)},Object.defineProperty(v.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),v.prototype.setIndex=function(u){this.indexValue=u},v.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(v.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(u){u=u.toLocaleLowerCase(),this.updateTemplateQuestion(u),this.setPropertyValue("cellType",u),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),v.prototype.setIsVisible=function(u){this._isVisible=u},Object.defineProperty(v.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(u){this._hasVisibleCell=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(u){this.templateQuestion.name=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(u){this.templateQuestion.title=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(u){this.templateQuestion.isRequired=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(u){this.setPropertyValue("isRenderedRequired",u)},enumerable:!1,configurable:!0}),v.prototype.updateIsRenderedRequired=function(u){this.isRenderedRequired=u||this.isRequired},Object.defineProperty(v.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(u){this.templateQuestion.requiredErrorText=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(u){this.templateQuestion.readOnly=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(u){this.templateQuestion.hasOther=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(u){this.templateQuestion.visibleIf=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(u){this.templateQuestion.enableIf=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(u){this.templateQuestion.requiredIf=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(u){this.setPropertyValue("isUnique",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(u){this.setPropertyValue("showInMultipleColumns",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(u){this.templateQuestion.validators=u},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(u){this.setPropertyValue("totalType",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(u){this.setPropertyValue("totalExpression",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasTotal",{get:function(){return this.totalType!="none"||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(u){this.setLocalizableStringText("totalFormat",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(u){this.setLocalizableStringText("cellHint",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(u){this.setPropertyValue("renderAs",u),this.templateQuestion&&(this.templateQuestion.renderAs=u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(u){u<-1||u>20||this.setPropertyValue("totalMaximumFractionDigits",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(u){u<-1||u>20||this.setPropertyValue("totalMinimumFractionDigits",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(u){this.setPropertyValue("totalDisplayStyle",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(u){Object(g.getCurrecyCodes)().indexOf(u)<0||this.setPropertyValue("totalCurrency",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(u){this.setPropertyValue("minWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(u){this.setPropertyValue("width",u)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(u){u<-1||u>4||this.setPropertyValue("colCount",u)},enumerable:!1,configurable:!0}),v.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},v.prototype.getMarkdownHtml=function(u,c){return this.colOwner?this.colOwner.getMarkdownHtml(u,c):void 0},v.prototype.getRenderer=function(u){return this.colOwner?this.colOwner.getRenderer(u):null},v.prototype.getRendererContext=function(u){return this.colOwner?this.colOwner.getRendererContext(u):u},v.prototype.getProcessedText=function(u){return this.colOwner?this.colOwner.getProcessedText(u):u},v.prototype.createCellQuestion=function(u){var c=this.calcCellQuestionType(u),p=this.createNewQuestion(c);return this.callOnCellQuestionUpdate(p,u),p},v.prototype.startLoadingFromJson=function(u){E.prototype.startLoadingFromJson.call(this,u),u&&!u.cellType&&u.choices&&(u.cellType=this.colOwner.getCellType())},v.prototype.updateCellQuestion=function(u,c,p){p===void 0&&(p=null),this.setQuestionProperties(u,p)},v.prototype.callOnCellQuestionUpdate=function(u,c){var p=u.getType(),o=x[p];o&&o.onCellQuestionUpdate&&o.onCellQuestionUpdate(u,this,this.colOwner,c)},v.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},v.prototype.calcCellQuestionType=function(u){var c=this.getDefaultCellQuestionType();return u&&this.colOwner&&(c=this.colOwner.getCustomCellType(this,u,c)),c},v.prototype.getDefaultCellQuestionType=function(u){return u||(u=this.cellType),u!=="default"?u:this.colOwner?this.colOwner.getCellType():y.settings.matrixDefaultCellType},v.prototype.updateTemplateQuestion=function(u){var c=this,p=this.getDefaultCellQuestionType(u),o=this.templateQuestion?this.templateQuestion.getType():"";p!==o&&(this.templateQuestion&&this.removeProperties(o),this.templateQuestionValue=this.createNewQuestion(p),this.templateQuestion.locOwner=this,this.addProperties(p),this.templateQuestion.onPropertyChanged.add(function(a,d){c.propertyValueChanged(d.name,d.oldValue,d.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(a,d){c.doItemValuePropertyChanged(d.propertyName,d.obj,d.name,d.newValue,d.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return c.getSurvey()}),this.templateQuestion.locTitle.strChanged())},v.prototype.createNewQuestion=function(u){var c=s.Serializer.createClass(u);return c||(c=s.Serializer.createClass("text")),c.loadingOwner=this,c.isEditableTemplateElement=!0,c.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(c),this.setParentQuestionToTemplate(c),c},v.prototype.setParentQuestionToTemplate=function(u){this.colOwner&&this.colOwner.isQuestion&&u.setParentQuestion(this.colOwner)},v.prototype.setQuestionProperties=function(u,c){var p=this;if(c===void 0&&(c=null),this.templateQuestion){var o=new s.JsonObject().toJsonObject(this.templateQuestion,!0);c&&c(o),o.type=u.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete o.choices,delete o.itemComponent,new s.JsonObject().toObject(o,u),u.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,u.loadedChoicesFromServerCallback=function(){if(p.isShowInMultipleColumns&&!(p.previousChoicesId&&p.previousChoicesId!==u.id)){p.previousChoicesId=u.id;var a=u.visibleChoices;p.templateQuestion.choices=a,p.propertyValueChanged("choices",a,a)}}}},v.prototype.propertyValueChanged=function(u,c,p){E.prototype.propertyValueChanged.call(this,u,c,p),u==="isRequired"&&this.updateIsRenderedRequired(p),!(!this.colOwner||this.isLoadingFromJson)&&(this.isShowInMultipleColumns&&["visibleChoices","choices"].indexOf(u)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this),s.Serializer.hasOriginalProperty(this,u)&&this.colOwner.onColumnPropertyChanged(this,u,p))},v.prototype.doItemValuePropertyChanged=function(u,c,p,o,a){s.Serializer.hasOriginalProperty(c,p)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,u,c,p,o,a)},v.prototype.doShowInMultipleColumnsChanged=function(){this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},v.prototype.getProperties=function(u){return s.Serializer.getDynamicPropertiesByObj(this,u)},v.prototype.removeProperties=function(u){for(var c=this.getProperties(u),p=0;p<c.length;p++){var o=c[p];delete this[o.name],o.serializationProperty&&delete this[o.serializationProperty]}},v.prototype.addProperties=function(u){for(var c=this.templateQuestion,p=this.getProperties(u),o=0;o<p.length;o++){var a=p[o];this.addProperty(c,a.name,!1),a.serializationProperty&&this.addProperty(c,a.serializationProperty,!0),a.alternativeName&&this.addProperty(c,a.alternativeName,!1)}},v.prototype.addProperty=function(u,c,p){var o={configurable:!0,get:function(){return u[c]}};p||(o.set=function(a){u[c]=a}),Object.defineProperty(this,c,o)},v}(m.Base);s.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(E,v){E&&v&&(v.placeholder=E.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var E=C.getColumnTypes();return E.splice(0,0,"default"),E}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(E,v){E&&v&&(v.value=E.minWidth)}},"width","visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(E){return E?E.isSupportMultipleColumns:!1}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return Object(g.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new C("")})},"./src/question_matrixdropdownrendered.ts":function(n,r,i){i.r(r),i.d(r,"QuestionMatrixDropdownRenderedCell",function(){return u}),i.d(r,"QuestionMatrixDropdownRenderedRow",function(){return c}),i.d(r,"QuestionMatrixDropdownRenderedTable",function(){return p});var s=i("./src/jsonobject.ts"),m=i("./src/base.ts"),g=i("./src/itemvalue.ts"),y=i("./src/actions/action.ts"),P=i("./src/actions/adaptive-container.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=i("./src/actions/container.ts"),C=i("./src/settings.ts"),E=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),v=function(o,a,d,h){var f=arguments.length,l=f<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,d):h,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(o,a,d,h);else for(var V=o.length-1;V>=0;V--)(O=o[V])&&(l=(f<3?O(l):f>3?O(a,d,l):O(a,d))||l);return f>3&&l&&Object.defineProperty(a,d,l),l},u=function(){function o(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isDragHandlerCell=!1,this.classNameValue="",this.idValue=o.counter++}return Object.defineProperty(o.prototype,"hasQuestion",{get:function(){return!!this.question},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),o.prototype.showErrorOnCore=function(a){return this.getShowErrorLocation(a)&&(!this.isChoice||this.isFirstChoice)},o.prototype.getShowErrorLocation=function(a){return this.hasQuestion&&this.question.showErrorOnCore(a)},Object.defineProperty(o.prototype,"item",{get:function(){return this.itemValue},set:function(a){this.itemValue=a,a&&(a.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isFirstChoice",{get:function(){return this.choiceIndex===0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"className",{get:function(){var a=new T.CssClassBuilder().append(this.classNameValue);return this.hasQuestion&&a.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),a.toString()},set:function(a){this.classNameValue=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.cell.column.cellHint===" ")return"";if(this.cell.column.cellHint)return this.cell.column.locCellHint.renderedHtml;if(this.cell.column.isShowInMultipleColumns)return this.item?this.item.locText.renderedHtml:""}return this.question&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),o.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},o.prototype.calculateFinalClassName=function(a){var d=this.cell.question.cssClasses,h=new T.CssClassBuilder().append(d.itemValue,!!d).append(d.asCell,!!d);return h.append(a.cell,h.isEmpty()&&!!a).append(a.choiceCell,this.isChoice).toString()},o.counter=1,o}(),c=function(o){E(a,o);function a(d,h){h===void 0&&(h=!1);var f=o.call(this)||this;return f.cssClasses=d,f.isDetailRow=h,f.cells=[],f.idValue=a.counter++,f}return Object.defineProperty(a.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"className",{get:function(){return new T.CssClassBuilder().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),a.counter=1,v([Object(s.property)({defaultValue:!1})],a.prototype,"isGhostRow",void 0),v([Object(s.property)({defaultValue:!1})],a.prototype,"isAdditionalClasses",void 0),a}(m.Base),p=function(o){E(a,o);function a(d){var h=o.call(this)||this;return h.matrix=d,h.renderedRowsChangedCallback=function(){},h.hasActionCellInRowsValues={},h.build(),h}return Object.defineProperty(a.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),a.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(a.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowRowsDragAndDrop",{get:function(){return this.matrix.allowRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),a.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},a.prototype.updateShowTableAndAddRow=function(){var d=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",d);var h=this.matrix.canAddRow&&d,f=h,l=h;f&&(this.matrix.getAddRowLocation()==="default"?f=!this.matrix.isColumnLayoutHorizontal:f=this.matrix.getAddRowLocation()!=="bottom"),l&&this.matrix.getAddRowLocation()!=="topBottom"&&(l=!f),this.setPropertyValue("showAddRowOnTop",f),this.setPropertyValue("showAddRowOnBottom",l)},a.prototype.onAddedRow=function(d,h){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var f=this.getRenderedRowIndexByIndex(h);this.rowsActions.splice(h,0,this.buildRowActions(d)),this.addHorizontalRow(this.rows,d,this.matrix.visibleRows.length==1&&!this.matrix.showHeader,f),this.updateShowTableAndAddRow()}},a.prototype.getRenderedRowIndexByIndex=function(d){for(var h=0,f=0,l=0;l<this.rows.length;l++){if(f===d){this.rows[l].isDetailRow&&h++;break}h++,this.rows[l].isDetailRow||f++}return f<d?this.rows.length:h},a.prototype.getRenderedDataRowCount=function(){for(var d=0,h=0;h<this.rows.length;h++)this.rows[h].isDetailRow||d++;return d},a.prototype.onRemovedRow=function(d){var h=this.getRenderedRowIndex(d);if(!(h<0)){this.rowsActions.splice(h,1);var f=1;h<this.rows.length-1&&this.rows[h+1].isDetailRow&&f++,this.rows.splice(h,f),this.updateShowTableAndAddRow()}},a.prototype.onDetailPanelChangeVisibility=function(d,h){var f=this.getRenderedRowIndex(d);if(!(f<0)){var l=f<this.rows.length-1&&this.rows[f+1].isDetailRow?f+1:-1;if(!(h&&l>-1||!h&&l<0))if(h){var O=this.createDetailPanelRow(d,this.rows[f]);this.rows.splice(f+1,0,O)}else this.rows.splice(l,1)}},a.prototype.getRenderedRowIndex=function(d){for(var h=0;h<this.rows.length;h++)if(this.rows[h].row==d)return h;return-1},a.prototype.buildRowsActions=function(){this.rowsActions=[];for(var d=this.matrix.visibleRows,h=0;h<d.length;h++)this.rowsActions.push(this.buildRowActions(d[h]))},a.prototype.createRenderedRow=function(d,h){return h===void 0&&(h=!1),new c(d,h)},a.prototype.buildHeader=function(){var d=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,h=d||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",h),!!h){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var f=0;f<this.matrix.visibleColumns.length;f++){var l=this.matrix.visibleColumns[f];l.hasVisibleCell&&(l.isShowInMultipleColumns?this.createMutlipleColumnsHeader(l):this.headerRow.cells.push(this.createHeaderCell(l)))}else{for(var O=this.matrix.visibleRows,f=0;f<O.length;f++){var V=this.createTextCell(O[f].locText);V.row=O[f],this.headerRow.cells.push(V)}this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null))}},a.prototype.buildFooter=function(){if(this.showFooter){this.footerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.footerRow.cells.push(this.createTextCell(this.matrix.getFooterText()));for(var d=this.matrix.visibleTotalRow.cells,h=0;h<d.length;h++){var f=d[h];if(f.column.hasVisibleCell)if(f.column.isShowInMultipleColumns)this.createMutlipleColumnsFooter(this.footerRow,f);else{var l=this.createEditCell(f);f.column&&this.setHeaderCellWidth(f.column,l),this.footerRow.cells.push(l)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null))}},a.prototype.buildRows=function(){var d=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=d},a.prototype.hasActionCellInRows=function(d){return this.hasActionCellInRowsValues[d]===void 0&&(this.hasActionCellInRowsValues[d]=this.hasActionsCellInLocaltion(d)),this.hasActionCellInRowsValues[d]},a.prototype.hasActionsCellInLocaltion=function(d){var h=this;return d=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some(function(f,l){return!h.isValueEmpty(h.getRowActions(l,d))})},a.prototype.canRemoveRow=function(d){return this.matrix.canRemoveRow(d)},a.prototype.buildHorizontalRows=function(){for(var d=this.matrix.visibleRows,h=[],f=0;f<d.length;f++)this.addHorizontalRow(h,d[f],f==0&&!this.matrix.showHeader);return h},a.prototype.addHorizontalRow=function(d,h,f,l){l===void 0&&(l=-1);var O=this.createHorizontalRow(h,f);O.row=h,l<0&&(l=d.length),d.splice(l,0,O),h.isDetailPanelShowing&&d.splice(l+1,0,this.createDetailPanelRow(h,O))},a.prototype.getRowDragCell=function(d){var h=new u;return h.isDragHandlerCell=!0,h.className=this.getActionsCellClassName(),h.row=this.matrix.visibleRows[d],h},a.prototype.getActionsCellClassName=function(){return new T.CssClassBuilder().append(this.cssClasses.actionsCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal).toString()},a.prototype.getRowActionsCell=function(d,h){var f=this.getRowActions(d,h);if(!this.isValueEmpty(f)){var l=new u,O=this.matrix.allowAdaptiveActions?new P.AdaptiveActionContainer:new x.ActionContainer;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(O.cssClasses=this.matrix.survey.getCss().actionBar),O.setItems(f);var V=new g.ItemValue(O);return l.item=V,l.isActionsCell=!0,l.className=this.getActionsCellClassName(),l.row=this.matrix.visibleRows[d],l}return null},a.prototype.getRowActions=function(d,h){var f=this.rowsActions[d];return Array.isArray(f)?f.filter(function(l){return l.location||(l.location="start"),l.location===h}):[]},a.prototype.buildRowActions=function(d){var h=[];return this.setDefaultRowActions(d,h),this.matrix.survey&&(h=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,d,h)),h},Object.defineProperty(a.prototype,"showRemoveButtonAsIcon",{get:function(){return C.settings.matrixRenderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"},enumerable:!1,configurable:!0}),a.prototype.setDefaultRowActions=function(d,h){var f=this.matrix;this.hasRemoveRows&&this.canRemoveRow(d)&&(this.showRemoveButtonAsIcon?h.push(new y.Action({id:"remove-row",iconName:"icon-delete",component:"sv-action-bar-item",innerCss:new T.CssClassBuilder().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:f.removeRowText,enabled:!f.isInputReadOnly,data:{row:d,question:f},action:function(){f.removeRowUI(d)}})):h.push(new y.Action({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:d,question:this.matrix}}))),d.hasPanel&&h.push(new y.Action({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:d,question:this.matrix}}))},a.prototype.createHorizontalRow=function(d,h){var f=this.createRenderedRow(this.cssClasses);if(this.allowRowsDragAndDrop){var l=this.matrix.visibleRows.indexOf(d);f.cells.push(this.getRowDragCell(l))}if(this.addRowActionsCell(d,f,"start"),this.matrix.hasRowText){var O=this.createTextCell(d.locText);O.row=d,f.cells.push(O),h&&this.setHeaderCellWidth(null,O),O.className=new T.CssClassBuilder().append(O.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.detailRowText,d.hasPanel).toString()}for(var V=0;V<d.cells.length;V++){var A=d.cells[V];if(A.column.hasVisibleCell)if(A.column.isShowInMultipleColumns)this.createMutlipleEditCells(f,A);else{var O=this.createEditCell(A);f.cells.push(O),h&&this.setHeaderCellWidth(A.column,O)}}return this.addRowActionsCell(d,f,"end"),f},a.prototype.addRowActionsCell=function(d,h,f){var l=this.matrix.visibleRows.indexOf(d);if(this.hasActionCellInRows(f)){var O=this.getRowActionsCell(l,f);if(O)h.cells.push(O);else{var V=new u;V.isEmpty=!0,h.cells.push(V)}}},a.prototype.createDetailPanelRow=function(d,h){var f=this.matrix.isDesignMode,l=this.createRenderedRow(this.cssClasses,!0);l.row=d;var O=new u;this.matrix.hasRowText&&(O.colSpans=2),O.isEmpty=!0,f||l.cells.push(O);var V=null;this.hasActionCellInRows("end")&&(V=new u,V.isEmpty=!0);var A=new u;return A.panel=d.detailPanel,A.colSpans=h.cells.length-(f?0:O.colSpans)-(V?V.colSpans:0),A.className=this.cssClasses.detailPanelCell,l.cells.push(A),V&&l.cells.push(V),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(l),l},a.prototype.buildVerticalRows=function(){for(var d=this.matrix.columns,h=[],f=0;f<d.length;f++){var l=d[f];l.isVisible&&l.hasVisibleCell&&(l.isShowInMultipleColumns?this.createMutlipleVerticalRows(h,l,f):h.push(this.createVerticalRow(l,f)))}return this.hasActionCellInRows("end")&&h.push(this.createEndVerticalActionRow()),h},a.prototype.createMutlipleVerticalRows=function(d,h,f){var l=this.getMultipleColumnChoices(h);if(l)for(var O=0;O<l.length;O++)d.push(this.createVerticalRow(h,f,l[O],O))},a.prototype.createVerticalRow=function(d,h,f,l){f===void 0&&(f=null),l===void 0&&(l=-1);var O=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var V=f?f.locText:d.locTitle,A=this.createTextCell(V);A.column=d,A.className=new T.CssClassBuilder().append(A.className).append(this.cssClasses.rowTextCell).toString(),f||this.setRequriedToHeaderCell(d,A),O.cells.push(A)}for(var w=this.matrix.visibleRows,S=0;S<w.length;S++){var R=f,I=l>=0?l:S,b=w[S].cells[h],D=f?b.question.visibleChoices:void 0;D&&I<D.length&&(R=D[I]);var M=this.createEditCell(b,R);M.item=R,M.choiceIndex=I,O.cells.push(M)}return this.matrix.hasTotal&&O.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[h])),O},a.prototype.createEndVerticalActionRow=function(){var d=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&d.cells.push(this.createEmptyCell());for(var h=this.matrix.visibleRows,f=0;f<h.length;f++)d.cells.push(this.getRowActionsCell(f,"end"));return this.matrix.hasTotal&&d.cells.push(this.createEmptyCell()),d},a.prototype.createMutlipleEditCells=function(d,h,f){f===void 0&&(f=!1);var l=f?this.getMultipleColumnChoices(h.column):h.question.visibleChoices;if(l)for(var O=0;O<l.length;O++){var V=this.createEditCell(h,f?void 0:l[O]);f||(this.setItemCellCssClasses(V),V.choiceIndex=O),d.cells.push(V)}},a.prototype.setItemCellCssClasses=function(d){d.className=new T.CssClassBuilder().append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,d.isRadio).append(this.cssClasses.checkboxCell,d.isCheckbox).toString()},a.prototype.createEditCell=function(d,h){h===void 0&&(h=void 0);var f=new u;return f.cell=d,f.row=d.row,f.question=d.question,f.matrix=this.matrix,f.item=h,f.isOtherChoice=!!h&&!!d.question&&d.question.otherItem===h,f.className=f.calculateFinalClassName(this.cssClasses),f},a.prototype.createMutlipleColumnsFooter=function(d,h){this.createMutlipleEditCells(d,h,!0)},a.prototype.createMutlipleColumnsHeader=function(d){var h=this.getMultipleColumnChoices(d);if(h)for(var f=0;f<h.length;f++){var l=this.createTextCell(h[f].locText);this.setHeaderCell(d,l),this.setHeaderCellCssClasses(l),this.headerRow.cells.push(l)}},a.prototype.getMultipleColumnChoices=function(d){var h=d.templateQuestion.choices;return h&&Array.isArray(h)&&h.length==0?this.matrix.choices:(h=d.templateQuestion.visibleChoices,!h||!Array.isArray(h)?null:h)},a.prototype.setHeaderCellCssClasses=function(d,h){d.className=new T.CssClassBuilder().append(this.cssClasses.headerCell).append(this.cssClasses.emptyCell,!!d.isEmpty).append(this.cssClasses.cell+"--"+h,!!h).toString()},a.prototype.createHeaderCell=function(d){var h=d?this.createTextCell(d.locTitle):this.createEmptyCell();h.column=d,this.setHeaderCell(d,h);var f=d&&d.cellType!=="default"?d.cellType:this.matrix.cellType;return this.setHeaderCellCssClasses(h,f),h},a.prototype.setHeaderCell=function(d,h){this.setHeaderCellWidth(d,h),this.setRequriedToHeaderCell(d,h)},a.prototype.setHeaderCellWidth=function(d,h){h.minWidth=d!=null?this.matrix.getColumnWidth(d):this.matrix.getRowTitleWidth(),h.width=d!=null?d.width:this.matrix.getRowTitleWidth()},a.prototype.setRequriedToHeaderCell=function(d,h){d&&d.isRequired&&this.matrix.survey&&(h.requiredText=this.matrix.survey.requiredText)},a.prototype.createRemoveRowCell=function(d){var h=new u;return h.row=d,h.isRemoveRow=this.canRemoveRow(d),this.cssClasses.cell&&(h.className=this.cssClasses.cell),h},a.prototype.createTextCell=function(d){var h=new u;return h.locTitle=d,d&&d.strChanged(),this.cssClasses.cell&&(h.className=this.cssClasses.cell),h},a.prototype.createEmptyCell=function(){var d=this.createTextCell(null);return d.isEmpty=!0,d},v([Object(s.propertyArray)({onPush:function(d,h,f){f.renderedRowsChangedCallback()}})],a.prototype,"rows",void 0),a}(m.Base)},"./src/question_matrixdynamic.ts":function(n,r,i){i.r(r),i.d(r,"MatrixDynamicRowModel",function(){return c}),i.d(r,"QuestionMatrixDynamicModel",function(){return p});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question_matrixdropdownbase.ts"),y=i("./src/error.ts"),P=i("./src/settings.ts"),T=i("./src/utils/utils.ts"),x=i("./src/dragdrop/matrix-rows.ts"),C=i("./src/utils/cssClassBuilder.ts"),E=i("./src/question_matrixdropdownrendered.ts"),v=i("./src/utils/dragOrClickHelper.ts"),u=function(){var a=function(d,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var O in l)Object.prototype.hasOwnProperty.call(l,O)&&(f[O]=l[O])},a(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");a(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),c=function(a){u(d,a);function d(h,f,l){var O=a.call(this,f,l)||this;return O.index=h,O.buildCells(l),O}return Object.defineProperty(d.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"shortcutText",{get:function(){var h=this.data,f=h.visibleRows.indexOf(this)+1,l=this.cells.length>1?this.cells[1].questionValue:void 0,O=this.cells.length>0?this.cells[0].questionValue:void 0;return l&&l.value||O&&O.value||""+f},enumerable:!1,configurable:!0}),d}(g.MatrixDropdownRowModelBase),p=function(a){u(d,a);function d(h){var f=a.call(this,h)||this;f.rowCounter=0,f.initialRowCount=2,f.setRowCountValueFromData=!1,f.startDragMatrixRow=function(O,V){f.dragDropMatrixRows.startDrag(O,f.draggedRow,f,O.target)},f.createLocalizableString("confirmDeleteText",f,!1,"confirmDelete");var l=f.createLocalizableString("addRowText",f);return l.onGetTextCallback=function(O){return O||f.defaultAddRowText},f.createLocalizableString("removeRowText",f,!1,"removeRow"),f.createLocalizableString("emptyRowsText",f,!1,!0),f.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){f.updateShowTableAndAddRow()}),f.registerPropertyChangedHandlers(["allowRowsDragAndDrop"],function(){f.clearRowsAndResetRenderedTable()}),f.dragOrClickHelper=new v.DragOrClickHelper(f.startDragMatrixRow),f}return d.prototype.setSurveyImpl=function(h,f){a.prototype.setSurveyImpl.call(this,h,f),this.dragDropMatrixRows=new x.DragDropMatrixRows(this.survey,null,!0)},d.prototype.isBanStartDrag=function(h){var f=h.target;return f.getAttribute("contenteditable")==="true"||f.nodeName==="INPUT"},d.prototype.onPointerDown=function(h,f){!f||!this.allowRowsDragAndDrop||this.isBanStartDrag(h)||f.isDetailPanelShowing||(this.draggedRow=f,this.dragOrClickHelper.onPointerDown(h))},d.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(d.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(h){this.setPropertyValue("confirmDelete",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(h){this.setPropertyValue("keyName",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(h){this.setPropertyValue("defaultRowValue",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(h){this.setPropertyValue("defaultValueFromLastRow",h)},enumerable:!1,configurable:!0}),d.prototype.isDefaultValueEmpty=function(){return a.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},d.prototype.valueFromData=function(h){if(this.minRowCount<1)return a.prototype.valueFromData.call(this,h);Array.isArray(h)||(h=[]);for(var f=h.length;f<this.minRowCount;f++)h.push({});return h},d.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){a.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.rowCount==0)){for(var h=[],f=0;f<this.rowCount;f++)h.push(this.defaultRowValue);this.value=h}},d.prototype.moveRowByIndex=function(h,f){var l=this.createNewValue();if(!(!Array.isArray(l)&&Math.max(h,f)>=l.length)){var O=l[h];l.splice(h,1),l.splice(f,0,O),this.value=l}},d.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},Object.defineProperty(d.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(h){if(!(h<0||h>P.settings.matrixMaximumRowCount)){this.setRowCountValueFromData=!1;var f=this.rowCountValue;if(this.rowCountValue=h,this.value&&this.value.length>h){var l=this.value;l.splice(h),this.value=l}if(this.isUpdateLocked){this.initialRowCount=h;return}if(this.generatedVisibleRows||f==0){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(h);for(var O=f;O<h;O++){var V=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(V),this.onMatrixRowCreated(V)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),d.prototype.updateProgressInfoByValues=function(h){var f=this.value;Array.isArray(f)||(f=[]);for(var l=0;l<this.rowCount;l++){var O=l<f.length?f[l]:{};this.updateProgressInfoByRow(h,O)}},d.prototype.getValueForNewRow=function(){var h=null;return this.onGetValueForNewRowCallBack&&(h=this.onGetValueForNewRowCallBack(this)),h},Object.defineProperty(d.prototype,"allowRowsDragAndDrop",{get:function(){return this.readOnly?!1:this.getPropertyValue("allowRowsDragAndDrop")},set:function(h){this.setPropertyValue("allowRowsDragAndDrop",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),d.prototype.createRenderedTable=function(){return new o(this)},Object.defineProperty(d.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(h){this.setPropertyValue("rowCount",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(h){h<0&&(h=0),this.setPropertyValue("minRowCount",h),h>this.maxRowCount&&(this.maxRowCount=h),this.rowCount<h&&(this.rowCount=h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(h){h<=0||(h>P.settings.matrixMaximumRowCount&&(h=P.settings.matrixMaximumRowCount),h!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",h),h<this.minRowCount&&(this.minRowCount=h),this.rowCount>h&&(this.rowCount=h)))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(h){this.setPropertyValue("allowAddRows",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(h){this.setPropertyValue("allowRemoveRows",h),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"canRemoveRows",{get:function(){var h=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(h):h},enumerable:!1,configurable:!0}),d.prototype.canRemoveRow=function(h){return this.survey?this.survey.matrixAllowRemoveRow(this,h.index,h):!0},d.prototype.addRowUI=function(){this.addRow(!0)},d.prototype.getQuestionToFocusOnAddingRow=function(){for(var h=this.visibleRows[this.visibleRows.length-1],f=0;f<h.cells.length;f++){var l=h.cells[f].question;if(l&&l.isVisible&&!l.isReadOnly)return l}return null},d.prototype.addRow=function(h){var f=this.rowCount,l={question:this,canAddRow:this.canAddRow};if(this.survey&&this.survey.matrixBeforeRowAdded(l),!!l.canAddRow&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),h&&f!==this.rowCount)){var O=this.getQuestionToFocusOnAddingRow();O&&O.focus()}},Object.defineProperty(d.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(h){this.setPropertyValue("detailPanelShowOnAdding",h)},enumerable:!1,configurable:!0}),d.prototype.hasRowsAsItems=function(){return!1},d.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,a.prototype.unbindValue.call(this)},d.prototype.isValueSurveyElement=function(h){return this.isEditingSurveyElement||a.prototype.isValueSurveyElement.call(this,h)},d.prototype.addRowCore=function(){var h=this.rowCount;this.rowCount=this.rowCount+1;var f=this.getDefaultRowValue(!0),l=null;if(this.isValueEmpty(f)||(l=this.createNewValue(),l.length==this.rowCount&&(l[l.length-1]=f,this.value=l)),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(f))){var O=this.visibleRows[this.rowCount-1];this.isValueEmpty(O.value)||(l||(l=this.createNewValue()),!this.isValueSurveyElement(l)&&!this.isTwoValueEquals(l[l.length-1],O.value)&&(l[l.length-1]=O.value,this.value=l))}this.survey&&h+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},d.prototype.getDefaultRowValue=function(h){for(var f=null,l=0;l<this.columns.length;l++){var O=this.columns[l].templateQuestion;O&&!this.isValueEmpty(O.getDefaultValue())&&(f=f||{},f[this.columns[l].name]=O.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var V in this.defaultRowValue)f=f||{},f[V]=this.defaultRowValue[V];if(h&&this.defaultValueFromLastRow){var A=this.value;if(A&&Array.isArray(A)&&A.length>=this.rowCount-1){var w=A[this.rowCount-2];for(var V in w)f=f||{},f[V]=w[V]}}return f},d.prototype.removeRowUI=function(h){if(h&&h.rowName){var f=this.visibleRows.indexOf(h);if(f<0)return;h=f}this.removeRow(h)},d.prototype.isRequireConfirmOnRowDelete=function(h){if(!this.confirmDelete||h<0||h>=this.rowCount)return!1;var f=this.createNewValue();return this.isValueEmpty(f)||!Array.isArray(f)||h>=f.length?!1:!this.isValueEmpty(f[h])},d.prototype.removeRow=function(h,f){if(this.canRemoveRows&&!(h<0||h>=this.rowCount)){var l=this.visibleRows&&h<this.visibleRows.length?this.visibleRows[h]:null;f===void 0&&(f=this.isRequireConfirmOnRowDelete(h)),!(f&&!Object(T.confirmAction)(this.confirmDeleteText))&&(l&&this.survey&&!this.survey.matrixRowRemoving(this,h,l)||(this.onStartRowAddingRemoving(),this.removeRowCore(h),this.onEndRowRemoving(l)))}},d.prototype.removeRowCore=function(h){var f=this.generatedVisibleRows?this.generatedVisibleRows[h]:null;if(this.generatedVisibleRows&&h<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(h,1),this.rowCountValue--,this.value){var l=[];Array.isArray(this.value)&&h<this.value.length?l=this.createValueCopy():l=this.createNewValue(),l.splice(h,1),l=this.deleteRowValue(l,null),this.isRowChanging=!0,this.value=l,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,h,f)},Object.defineProperty(d.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(h){this.setLocalizableStringText("confirmDeleteText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(h){this.setLocalizableStringText("addRowText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(h){this.setPropertyValue("addRowLocation",h)},enumerable:!1,configurable:!0}),d.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(d.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(h){this.setPropertyValue("hideColumnsIfEmpty",h)},enumerable:!1,configurable:!0}),d.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(d.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(h){this.setLocalizableStringText("removeRowText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(h){this.setLocalizableStringText("emptyRowsText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),d.prototype.getDisplayValueCore=function(h,f){if(!f||!Array.isArray(f))return f;for(var l=this.getUnbindValue(f),O=this.visibleRows,V=0;V<O.length&&V<l.length;V++){var A=l[V];A&&(l[V]=this.getRowDisplayValue(h,O[V],A))}return l},d.prototype.getConditionObjectRowName=function(h){return"["+h.toString()+"]"},d.prototype.getConditionObjectsRowIndeces=function(){for(var h=[],f=Math.max(this.rowCount,1),l=0;l<Math.min(P.settings.matrixMaxRowCountInCondition,f);l++)h.push(l);return h},d.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(d.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.onCheckForErrors=function(h,f){a.prototype.onCheckForErrors.call(this,h,f),!f&&this.hasErrorInMinRows()&&h.push(new y.MinRowCountError(this.minRowCount,this))},d.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var h=0,f=0;f<this.generatedVisibleRows.length;f++){var l=this.generatedVisibleRows[f];l.isEmpty||h++}return h<this.minRowCount},d.prototype.getUniqueColumns=function(){var h=a.prototype.getUniqueColumns.call(this);if(this.keyName){var f=this.getColumnByName(this.keyName);f&&h.indexOf(f)<0&&h.push(f)}return h},d.prototype.generateRows=function(){var h=new Array;if(this.rowCount===0)return h;for(var f=this.createNewValue(),l=0;l<this.rowCount;l++)h.push(this.createMatrixRow(this.getRowValueByIndex(f,l)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=f),h},d.prototype.createMatrixRow=function(h){return new c(this.rowCounter++,this,h)},d.prototype.getInsertedDeletedIndex=function(h,f){for(var l=Math.min(h.length,f.length),O=0;O<l;O++)if(f[O]!==h[O].editingObj)return O;return l},d.prototype.isEditingObjectValueChanged=function(){var h=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(h))return!1;var f=this.lastDeletedRow;this.lastDeletedRow=void 0;var l=this.generatedVisibleRows;if(!Array.isArray(h)||Math.abs(l.length-h.length)>1)return!1;var O=this.getInsertedDeletedIndex(l,h);if(l.length>h.length){this.lastDeletedRow=l[O];var V=l[O];l.splice(O,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(V)}else{var A=void 0;f&&f.editingObj===h[O]?A=f:A=this.createMatrixRow(h[O]),l.splice(O,0,A),f||this.onMatrixRowCreated(A),this.isRendredTableCreated&&this.renderedTable.onAddedRow(A,O)}return this.setPropertyValueDirectly("rowCount",h.length),!0},d.prototype.onBeforeValueChanged=function(h){if(!(!h||!Array.isArray(h))){var f=h.length;if(f!=this.rowCount&&!(!this.setRowCountValueFromData&&f<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=f,!!this.generatedVisibleRows)){if(f==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var l=this.getRowValueByIndex(h,f-1),O=this.createMatrixRow(l);this.generatedVisibleRows.push(O),this.onMatrixRowCreated(O),this.onEndRowAdding()}else this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged();this.setRowCountValueFromData=!1}}},d.prototype.createNewValue=function(){var h=this.createValueCopy();(!h||!Array.isArray(h))&&(h=[]),h.length>this.rowCount&&h.splice(this.rowCount);var f=this.getDefaultRowValue(!1);f=f||{};for(var l=h.length;l<this.rowCount;l++)h.push(this.getUnbindValue(f));return h},d.prototype.deleteRowValue=function(h,f){for(var l=!0,O=0;O<h.length;O++)if(this.isObject(h[O])&&Object.keys(h[O]).length>0){l=!1;break}return l?null:h},d.prototype.getRowValueByIndex=function(h,f){return Array.isArray(h)&&f>=0&&f<h.length?h[f]:null},d.prototype.getRowValueCore=function(h,f,l){if(l===void 0&&(l=!1),!this.generatedVisibleRows)return{};var O=this.getRowValueByIndex(f,this.generatedVisibleRows.indexOf(h));return!O&&l&&(O={}),O},d.prototype.getAddRowButtonCss=function(h){return h===void 0&&(h=!1),new C.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,h).toString()},d.prototype.getRemoveRowButtonCss=function(){return new C.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},d.prototype.getRootCss=function(){var h;return new C.CssClassBuilder().append(a.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(!((h=this.renderedTable)===null||h===void 0)&&h.showTable)).toString()},d}(g.QuestionMatrixDropdownModelBase),o=function(a){u(d,a);function d(){return a!==null&&a.apply(this,arguments)||this}return d.prototype.setDefaultRowActions=function(h,f){a.prototype.setDefaultRowActions.call(this,h,f)},d}(E.QuestionMatrixDropdownRenderedTable);s.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:P.settings.matrixMaximumRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(a){return!a||a.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(a){return!a||a.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(a){return a.detailPanelMode!=="none"}},"allowRowsDragAndDrop:switch"],function(){return new p("")},"matrixdropdownbase"),m.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(a){var d=new p(a);return d.choices=[1,2,3,4,5],g.QuestionMatrixDropdownModelBase.addDefaultColumns(d),d})},"./src/question_multipletext.ts":function(n,r,i){i.r(r),i.d(r,"MultipleTextItemModel",function(){return u}),i.d(r,"QuestionMultipleTextModel",function(){return c});var s=i("./src/base.ts"),m=i("./src/survey-element.ts"),g=i("./src/question.ts"),y=i("./src/question_text.ts"),P=i("./src/jsonobject.ts"),T=i("./src/questionfactory.ts"),x=i("./src/helpers.ts"),C=i("./src/utils/cssClassBuilder.ts"),E=i("./src/settings.ts"),v=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),u=function(p){v(o,p);function o(a,d){a===void 0&&(a=null),d===void 0&&(d=null);var h=p.call(this)||this;return h.editorValue=h.createEditor(a),h.editor.questionTitleTemplateCallback=function(){return""},h.editor.titleLocation="left",d&&(h.title=d),h}return o.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(o.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),o.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(o.prototype,"name",{get:function(){return this.editor.name},set:function(a){this.editor.name=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),o.prototype.createEditor=function(a){return new y.QuestionTextModel(a)},o.prototype.addUsedLocales=function(a){p.prototype.addUsedLocales.call(this,a),this.editor.addUsedLocales(a)},o.prototype.localeChanged=function(){p.prototype.localeChanged.call(this),this.editor.localeChanged()},o.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},o.prototype.setData=function(a){this.data=a,a&&(this.editor.defaultValue=a.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=a)},Object.defineProperty(o.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(a){this.editor.isRequired=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(a){this.editor.inputType=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this.editor.title},set:function(a){this.editor.title=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(a){this.editor.maxLength=a},enumerable:!1,configurable:!0}),o.prototype.getMaxLength=function(){var a=this.getSurvey();return x.Helpers.getMaxLength(this.maxLength,a?a.maxTextLength:-1)},Object.defineProperty(o.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(a){this.editor.placeholder=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(a){this.placeholder=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(a){this.editor.requiredErrorText=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this.editor.size},set:function(a){this.editor.size=a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"validators",{get:function(){return this.editor.validators},set:function(a){this.editor.validators=a},enumerable:!1,configurable:!0}),o.prototype.getValidators=function(){return this.validators},Object.defineProperty(o.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(a){this.data!=null&&this.data.setMultipleTextValue(this.name,a)},enumerable:!1,configurable:!0}),o.prototype.isEmpty=function(){return this.editor.isEmpty()},o.prototype.onValueChanged=function(a){this.valueChangedCallback&&this.valueChangedCallback(a)},o.prototype.getSurveyData=function(){return this},o.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},o.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},o.prototype.getValue=function(a){return this.data?this.data.getMultipleTextValue(a):null},o.prototype.setValue=function(a,d){this.data&&this.data.setMultipleTextValue(a,d)},o.prototype.getVariable=function(a){},o.prototype.setVariable=function(a,d){},o.prototype.getComment=function(a){return null},o.prototype.setComment=function(a,d){},o.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},o.prototype.getFilteredValues=function(){return this.getAllValues()},o.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},o.prototype.findQuestionByName=function(a){var d=this.getSurvey();return d?d.getQuestionByName(a):null},o.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(o.prototype,"validatedValue",{get:function(){return this.value},set:function(a){this.value=a},enumerable:!1,configurable:!0}),o.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},o.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},o}(s.Base),c=function(p){v(o,p);function o(a){var d=p.call(this,a)||this;return d.isMultipleItemValueChanging=!1,d.createNewArray("items",function(h){h.setData(d),d.survey&&d.survey.multipleTextItemAdded(d,h)}),d.registerPropertyChangedHandlers(["items","colCount"],function(){d.fireCallback(d.colCountChangedCallback)}),d.registerPropertyChangedHandlers(["itemSize"],function(){d.updateItemsSize()}),d}return o.addDefaultItems=function(a){for(var d=T.QuestionFactory.DefaultMutlipleTextItems,h=0;h<d.length;h++)a.addItem(d[h])},o.prototype.getType=function(){return"multipletext"},o.prototype.setSurveyImpl=function(a,d){p.prototype.setSurveyImpl.call(this,a,d);for(var h=0;h<this.items.length;h++)this.items[h].setData(this)},Object.defineProperty(o.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(a){var d;(d=this.items)===null||d===void 0||d.map(function(h,f){return h.editor.id=a+"_"+f}),this.setPropertyValue("id",a)},enumerable:!1,configurable:!0}),o.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),p.prototype.onSurveyLoad.call(this),this.fireCallback(this.colCountChangedCallback)},o.prototype.setQuestionValue=function(a,d){d===void 0&&(d=!0),p.prototype.setQuestionValue.call(this,a,d),this.performForEveryEditor(function(h){h.editor.updateValueFromSurvey(h.value)}),this.updateIsAnswered()},o.prototype.onSurveyValueChanged=function(a){p.prototype.onSurveyValueChanged.call(this,a),this.performForEveryEditor(function(d){d.editor.onSurveyValueChanged(d.value)})},o.prototype.updateItemsSize=function(){this.performForEveryEditor(function(a){a.editor.updateInputSize()})},o.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(a){a.editor.onSurveyLoad()})},o.prototype.performForEveryEditor=function(a){for(var d=0;d<this.items.length;d++){var h=this.items[d];h.editor&&a(h)}},Object.defineProperty(o.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(a){this.setPropertyValue("items",a)},enumerable:!1,configurable:!0}),o.prototype.addItem=function(a,d){d===void 0&&(d=null);var h=this.createTextItem(a,d);return this.items.push(h),h},o.prototype.getItemByName=function(a){for(var d=0;d<this.items.length;d++)if(this.items[d].name==a)return this.items[d];return null},o.prototype.addConditionObjectsByContext=function(a,d){for(var h=0;h<this.items.length;h++){var f=this.items[h];a.push({name:this.getValueName()+"."+f.name,text:this.processedTitle+"."+f.fullTitle,question:this})}},o.prototype.getConditionJson=function(a,d){if(d===void 0&&(d=null),!d)return p.prototype.getConditionJson.call(this);var h=this.getItemByName(d);if(!h)return null;var f=new P.JsonObject().toJsonObject(h);return f.type="text",f},o.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this);for(var a=0;a<this.items.length;a++)this.items[a].locStrsChanged()},o.prototype.localeChanged=function(){p.prototype.localeChanged.call(this);for(var a=0;a<this.items.length;a++)this.items[a].localeChanged()},o.prototype.supportGoNextPageAutomatic=function(){for(var a=0;a<this.items.length;a++)if(this.items[a].isEmpty())return!1;return!0},Object.defineProperty(o.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(a){a<1||a>5||this.setPropertyValue("colCount",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(a){this.setPropertyValue("itemSize",a)},enumerable:!1,configurable:!0}),o.prototype.getRows=function(){for(var a=this.colCount,d=this.items,h=[],f=0,l=0;l<d.length;l++)f==0&&h.push([]),h[h.length-1].push(d[l]),f++,f>=a&&(f=0);return h},o.prototype.onValueChanged=function(){p.prototype.onValueChanged.call(this),this.onItemValueChanged()},o.prototype.createTextItem=function(a,d){return new u(a,d)},o.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var a=0;a<this.items.length;a++){var d=null;this.value&&this.items[a].name in this.value&&(d=this.value[this.items[a].name]),this.items[a].onValueChanged(d)}},o.prototype.getIsRunningValidators=function(){if(p.prototype.getIsRunningValidators.call(this))return!0;for(var a=0;a<this.items.length;a++)if(this.items[a].editor.isRunningValidators)return!0;return!1},o.prototype.hasErrors=function(a,d){var h=this;a===void 0&&(a=!0),d===void 0&&(d=null);for(var f=!1,l=0;l<this.items.length;l++)this.items[l].editor.onCompletedAsyncValidators=function(O){h.raiseOnCompletedAsyncValidators()},!(d&&d.isOnValueChanged===!0&&this.items[l].editor.isEmpty())&&(f=this.items[l].editor.hasErrors(a,d)||f);return p.prototype.hasErrors.call(this,a)||f},o.prototype.getAllErrors=function(){for(var a=p.prototype.getAllErrors.call(this),d=0;d<this.items.length;d++){var h=this.items[d].editor.getAllErrors();h&&h.length>0&&(a=a.concat(h))}return a},o.prototype.clearErrors=function(){p.prototype.clearErrors.call(this);for(var a=0;a<this.items.length;a++)this.items[a].editor.clearErrors()},o.prototype.getContainsErrors=function(){var a=p.prototype.getContainsErrors.call(this);if(a)return a;for(var d=this.items,h=0;h<d.length;h++)if(d[h].editor.containsErrors)return!0;return!1},o.prototype.getIsAnswered=function(){if(!p.prototype.getIsAnswered.call(this))return!1;for(var a=0;a<this.items.length;a++){var d=this.items[a].editor;if(d.isVisible&&!d.isAnswered)return!1}return!0},o.prototype.getProgressInfo=function(){for(var a=[],d=0;d<this.items.length;d++)a.push(this.items[d].editor);return m.SurveyElement.getProgressInfoByElements(a,this.isRequired)},o.prototype.getDisplayValueCore=function(a,d){if(!d)return d;for(var h={},f=0;f<this.items.length;f++){var l=this.items[f],O=d[l.name];if(!x.Helpers.isValueEmpty(O)){var V=l.name;a&&l.title&&(V=l.title),h[V]=l.editor.getDisplayValue(a,O)}}return h},o.prototype.getMultipleTextValue=function(a){return this.value?this.value[a]:null},o.prototype.setMultipleTextValue=function(a,d){this.isMultipleItemValueChanging=!0,this.isValueEmpty(d)&&(d=void 0);var h=this.value;h||(h={}),h[a]=d,this.setNewValue(h),this.isMultipleItemValueChanging=!1},o.prototype.getItemDefaultValue=function(a){return this.defaultValue?this.defaultValue[a]:null},o.prototype.getTextProcessor=function(){return this.textProcessor},o.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},o.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},o.prototype.addElement=function(a,d){},o.prototype.removeElement=function(a){return!1},o.prototype.getQuestionTitleLocation=function(){return"left"},o.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},o.prototype.getChildrenLayoutType=function(){return"row"},o.prototype.elementWidthChanged=function(a){},Object.defineProperty(o.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),o.prototype.indexOf=function(a){return-1},o.prototype.ensureRowsVisibility=function(){},o.prototype.getItemLabelCss=function(a){return new C.CssClassBuilder().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelOnError,a.editor.errors.length>0).toString()},o.prototype.getItemCss=function(){return new C.CssClassBuilder().append(this.cssClasses.item).toString()},o.prototype.getItemTitleCss=function(){return new C.CssClassBuilder().append(this.cssClasses.itemTitle).toString()},o.prototype.getIsTooltipErrorInsideSupported=function(){return!0},o}(g.Question);P.Serializer.addClass("multipletextitem",["name","isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:E.settings.questions.inputTypes},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new u("")}),P.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]}],function(){return new c("")},"question"),T.QuestionFactory.Instance.registerQuestion("multipletext",function(p){var o=new c(p);return c.addDefaultItems(o),o})},"./src/question_paneldynamic.ts":function(n,r,i){i.r(r),i.d(r,"QuestionPanelDynamicItem",function(){return l}),i.d(r,"QuestionPanelDynamicTemplateSurveyImpl",function(){return O}),i.d(r,"QuestionPanelDynamicModel",function(){return V});var s=i("./src/helpers.ts"),m=i("./src/survey-element.ts"),g=i("./src/localizablestring.ts"),y=i("./src/textPreProcessor.ts"),P=i("./src/question.ts"),T=i("./src/jsonobject.ts"),x=i("./src/questionfactory.ts"),C=i("./src/error.ts"),E=i("./src/settings.ts"),v=i("./src/utils/utils.ts"),u=i("./src/utils/cssClassBuilder.ts"),c=i("./src/actions/action.ts"),p=i("./src/base.ts"),o=i("./src/actions/adaptive-container.ts"),a=function(){var A=function(w,S){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,I){R.__proto__=I}||function(R,I){for(var b in I)Object.prototype.hasOwnProperty.call(I,b)&&(R[b]=I[b])},A(w,S)};return function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");A(w,S);function R(){this.constructor=w}w.prototype=S===null?Object.create(S):(R.prototype=S.prototype,new R)}}(),d=function(A,w,S,R){var I=arguments.length,b=I<3?w:R===null?R=Object.getOwnPropertyDescriptor(w,S):R,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(A,w,S,R);else for(var M=A.length-1;M>=0;M--)(D=A[M])&&(b=(I<3?D(b):I>3?D(w,S,b):D(w,S))||b);return I>3&&b&&Object.defineProperty(w,S,b),b},h=function(A,w){for(var S=0,R=w.length,I=A.length;S<R;S++,I++)A[I]=w[S];return A},f=function(A){a(w,A);function w(S,R,I){var b=A.call(this,I)||this;return b.data=S,b.panelItem=R,b.variableName=I,b.sharedQuestions={},b}return Object.defineProperty(w.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),w.prototype.getValues=function(){return this.panelItem.getAllValues()},w.prototype.getQuestionByName=function(S){var R=A.prototype.getQuestionByName.call(this,S);if(R)return R;var I=this.panelIndex;R=I>-1?this.data.getSharedQuestionFromArray(S,I):void 0;var b=R?R.name:S;return this.sharedQuestions[b]=S,R},w.prototype.getQuestionDisplayText=function(S){var R=this.sharedQuestions[S.name];if(!R)return A.prototype.getQuestionDisplayText.call(this,S);var I=this.panelItem.getValue(R);return S.getDisplayValue(!0,I)},w.prototype.onCustomProcessText=function(S){if(S.name==l.IndexVariableName){var R=this.panelIndex;if(R>-1)return S.isExists=!0,S.value=R+1,!0}if(S.name.toLowerCase().indexOf(l.ParentItemVariableName+".")==0){var I=this.data;if(I&&I.parentQuestion&&I.parent&&I.parent.data){var b=new w(I.parentQuestion,I.parent.data,l.ItemVariableName),D=l.ItemVariableName+S.name.substring(l.ParentItemVariableName.length),M=b.processValue(D,S.returnDisplayValue);S.isExists=M.isExists,S.value=M.value}return!0}return!1},w}(y.QuestionTextProcessor),l=function(){function A(w,S){this.data=w,this.panelValue=S,this.textPreProcessor=new f(w,this,A.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(A.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),A.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},A.prototype.getValue=function(w){var S=this.getAllValues();return S[w]},A.prototype.setValue=function(w,S){var R=this.data.getPanelItemData(this),I=R?R[w]:void 0;if(!s.Helpers.isTwoValueEquals(S,I)){this.data.setPanelItemData(this,w,s.Helpers.getUnbindValue(S));for(var b=this.panel.questions,D=0;D<b.length;D++)b[D].getValueName()!==w&&b[D].checkBindings(w,S)}},A.prototype.getVariable=function(w){},A.prototype.setVariable=function(w,S){},A.prototype.getComment=function(w){var S=this.getValue(w+E.settings.commentSuffix);return S||""},A.prototype.setComment=function(w,S,R){this.setValue(w+E.settings.commentSuffix,S)},A.prototype.findQuestionByName=function(w){if(w){var S=A.ItemVariableName+".";if(w.indexOf(S)===0)return this.panel.getQuestionByName(w.substring(S.length));var R=this.getSurvey();return R?R.getQuestionByName(w):null}},A.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},A.prototype.getFilteredValues=function(){var w={},S=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var R in S)w[R]=S[R];if(w[A.ItemVariableName]=this.getAllValues(),this.data){var I=A.IndexVariableName;delete w[I],w[I.toLowerCase()]=this.data.getItemIndex(this);var b=this.data;b&&b.parentQuestion&&b.parent&&(w[A.ParentItemVariableName]=b.parent.getValue())}return w},A.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},A.prototype.getSurveyData=function(){return this},A.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},A.prototype.getTextProcessor=function(){return this.textPreProcessor},A.ItemVariableName="panel",A.ParentItemVariableName="parentpanel",A.IndexVariableName="panelIndex",A}(),O=function(){function A(w){this.data=w}return A.prototype.getSurveyData=function(){return null},A.prototype.getSurvey=function(){return this.data.getSurvey()},A.prototype.getTextProcessor=function(){return null},A}(),V=function(A){a(w,A);function w(S){var R=A.call(this,S)||this;return R.isAddingNewPanels=!1,R.onReadyChangedCallback=function(){R.recalculateIsReadyValue()},R.isSetPanelItemData={},R.createNewArray("panels"),R.templateValue=R.createAndSetupNewPanelObject(),R.template.renderWidth="100%",R.template.selectedElementInDesign=R,R.template.addElementCallback=function(I){R.addOnPropertyChangedCallback(I),R.rebuildPanels()},R.template.removeElementCallback=function(){R.rebuildPanels()},R.createLocalizableString("confirmDeleteText",R,!1,"confirmDelete"),R.createLocalizableString("keyDuplicationError",R,!1,!0),R.createLocalizableString("panelAddText",R,!1,"addPanel"),R.createLocalizableString("panelRemoveText",R,!1,"removePanel"),R.createLocalizableString("panelPrevText",R,!1,"pagePrevText"),R.createLocalizableString("panelNextText",R,!1,"pageNextText"),R.createLocalizableString("noEntriesText",R,!1,"noEntriesText"),R.createLocalizableString("templateTabTitle",R,!0,"panelDynamicTabTextFormat"),R.registerPropertyChangedHandlers(["panelsState"],function(){R.setPanelsState()}),R.registerPropertyChangedHandlers(["isMobile"],function(){R.updateFooterActions()}),R.registerPropertyChangedHandlers(["allowAddPanel"],function(){R.updateNoEntriesTextDefaultLoc()}),R}return Object.defineProperty(w.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),w.prototype.getFirstQuestionToFocus=function(S){for(var R=0;R<this.panels.length;R++){var I=this.panels[R].getFirstQuestionToFocus(S);if(I)return I}return null},w.prototype.setSurveyImpl=function(S,R){A.prototype.setSurveyImpl.call(this,S,R),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},w.prototype.assignOnPropertyChangedToTemplate=function(){for(var S=this.template.elements,R=0;R<S.length;R++)this.addOnPropertyChangedCallback(S[R])},w.prototype.addOnPropertyChangedCallback=function(S){var R=this;S.isQuestion&&S.setParentQuestion(this),S.onPropertyChanged.add(function(I,b){R.onTemplateElementPropertyChanged(I,b)}),S.isPanel&&(S.addElementCallback=function(I){R.addOnPropertyChangedCallback(I)})},w.prototype.onTemplateElementPropertyChanged=function(S,R){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panels.length==0)){var I=T.Serializer.findProperty(S.getType(),R.name);if(I)for(var b=this.panels,D=0;D<b.length;D++){var M=b[D].getQuestionByName(S.name);M&&M[R.name]!==R.newValue&&(M[R.name]=R.newValue)}}},Object.defineProperty(w.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),w.prototype.getType=function(){return"paneldynamic"},Object.defineProperty(w.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),w.prototype.clearOnDeletingContainer=function(){this.panels.forEach(function(S){S.clearOnDeletingContainer()})},Object.defineProperty(w.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),w.prototype.removeElement=function(S){return this.template.removeElement(S)},Object.defineProperty(w.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),w.prototype.getPanel=function(){return this.template},Object.defineProperty(w.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"templateTitle",{get:function(){return this.template.title},set:function(S){this.template.title=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(S){this.locTemplateTabTitle.text=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"templateDescription",{get:function(){return this.template.description},set:function(S){this.template.description=S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"items",{get:function(){for(var S=[],R=0;R<this.panels.length;R++)S.push(this.panels[R].data);return S},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panels",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:(this.currentIndexValue<0&&this.panelCount>0&&(this.currentIndexValue=0),this.currentIndexValue>=this.panelCount&&(this.currentIndexValue=this.panelCount-1),this.currentIndexValue)},set:function(S){this.currentIndexValue!==S&&(S>=this.panelCount&&(S=this.panelCount-1),this.currentIndexValue=S,this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentIndexValue",{get:function(){return this.getPropertyValue("currentIndexValue",-1)},set:function(S){this.setPropertyValue("currentIndexValue",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentPanel",{get:function(){var S=this.currentIndex;return S<0||S>=this.panels.length?null:this.panels[S]},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(S){this.setPropertyValue("confirmDelete",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(S){this.setPropertyValue("keyName",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(S){this.setLocalizableStringText("confirmDeleteText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(S){this.setLocalizableStringText("keyDuplicationError",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(S){this.setLocalizableStringText("panelPrevText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(S){this.setLocalizableStringText("panelNextText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(S){this.setLocalizableStringText("panelAddText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(S){this.setLocalizableStringText("panelRemoveText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isProgressTopShowing",{get:function(){return this.renderMode==="progressTop"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isProgressBottomShowing",{get:function(){return this.renderMode==="progressBottom"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.panelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.panelCount>1},enumerable:!1,configurable:!0}),w.prototype.getElementsInDesign=function(S){return S===void 0&&(S=!1),S?[this.template]:this.templateElements},w.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},w.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},w.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:A.prototype.getValueCore.call(this)},w.prototype.setValueCore=function(S){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=S):A.prototype.setValueCore.call(this,S)},w.prototype.setIsMobile=function(S){(this.panels||[]).forEach(function(R){return R.elements.forEach(function(I){I instanceof P.Question&&(I.isMobile=S)})})},Object.defineProperty(w.prototype,"panelCount",{get:function(){return this.isLoadingFromJson||this.useTemplatePanel?this.getPropertyValue("panelCount"):this.panels.length},set:function(S){if(!(S<0)){if(this.isLoadingFromJson||this.useTemplatePanel){this.setPropertyValue("panelCount",S);return}if(!(S==this.panels.length||this.useTemplatePanel)){this.updateBindings("panelCount",S),this.prepareValueForPanelCreating();for(var R=this.panelCount;R<S;R++){var I=this.createNewPanel();this.panels.push(I),this.addTabFromToolbar(I),this.renderMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expand"?I.expand():I.title&&I.collapse())}var b=[];S<this.panelCount&&(b=this.panels.splice(S,this.panelCount-S)),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),b.length>0&&this.removeTabFromToolbar(b)}}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(S){this.setPropertyValue("panelsState",S)},enumerable:!1,configurable:!0}),w.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new O(this))},w.prototype.setPanelsSurveyImpl=function(){for(var S=0;S<this.panels.length;S++){var R=this.panels[S];R!=this.template&&R.setSurveyImpl(R.data)}},w.prototype.setPanelsState=function(){if(!(this.useTemplatePanel||this.renderMode!="list"||!this.templateTitle))for(var S=0;S<this.panels.length;S++){var R=this.panelsState;R==="firstExpanded"&&(R=S===0?"expanded":"collapsed"),this.panels[S].state=R}},w.prototype.setValueBasedOnPanelCount=function(){var S=this.value;if((!S||!Array.isArray(S))&&(S=[]),S.length!=this.panelCount){for(var R=S.length;R<this.panelCount;R++)S.push({});S.length>this.panelCount&&S.splice(this.panelCount,S.length-this.panelCount),this.isValueChangingInternally=!0,this.value=S,this.isValueChangingInternally=!1}},Object.defineProperty(w.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(S){S<0&&(S=0),S!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",S),S>this.maxPanelCount&&(this.maxPanelCount=S),this.panelCount<S&&(this.panelCount=S))},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(S){S<=0||(S>E.settings.panelMaximumPanelCount&&(S=E.settings.panelMaximumPanelCount),S!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",S),S<this.minPanelCount&&(this.minPanelCount=S),this.panelCount>S&&(this.panelCount=S)))},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(S){this.setPropertyValue("allowAddPanel",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(S){this.setPropertyValue("allowRemovePanel",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(S){this.setPropertyValue("templateTitleLocation",S.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(S){this.setPropertyValue("showQuestionNumbers",S),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(S){this.setPropertyValue("panelRemoveButtonLocation",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(S){this.setPropertyValue("showRangeInProgress",S),this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(S){this.setPropertyValue("renderMode",S),this.updateFooterActions(),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(S){this.setPropertyValue("tabAlign",S),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isRenderModeList",{get:function(){return this.renderMode==="list"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isRenderModeTab",{get:function(){return this.renderMode==="tab"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.panelCount)return!0;if(!this.hasTitle)return!1;var S=this.getTitleLocation();return S==="left"||S==="top"},enumerable:!1,configurable:!0}),w.prototype.setVisibleIndex=function(S){if(!this.isVisible)return 0;for(var R=this.showQuestionNumbers=="onSurvey"?S:0,I=0;I<this.panels.length;I++){var b=this.setPanelVisibleIndex(this.panels[I],R,this.showQuestionNumbers!="off");this.showQuestionNumbers=="onSurvey"&&(R+=b)}return A.prototype.setVisibleIndex.call(this,this.showQuestionNumbers!="onSurvey"?S:-1),this.showQuestionNumbers!="onSurvey"?1:R-S},w.prototype.setPanelVisibleIndex=function(S,R,I){return I?S.setVisibleIndex(R):(S.setVisibleIndex(-1),0)},Object.defineProperty(w.prototype,"canAddPanel",{get:function(){return this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.panelCount-1?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"canRemovePanel",{get:function(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),w.prototype.rebuildPanels=function(){var S;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var R=[];if(this.useTemplatePanel)new l(this,this.template),R.push(this.template);else for(var I=0;I<this.panelCount;I++)this.createNewPanel(),R.push(this.createNewPanel());(S=this.panels).splice.apply(S,h([0,this.panels.length],R)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(w.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(S){this.setPropertyValue("defaultPanelValue",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(S){this.setPropertyValue("defaultValueFromLastPanel",S)},enumerable:!1,configurable:!0}),w.prototype.isDefaultValueEmpty=function(){return A.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},w.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){A.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.panelCount==0)){for(var S=[],R=0;R<this.panelCount;R++)S.push(this.defaultPanelValue);this.value=S}},w.prototype.isEmpty=function(){var S=this.value;if(!S||!Array.isArray(S))return!0;for(var R=0;R<S.length;R++)if(!this.isRowEmpty(S[R]))return!1;return!0},w.prototype.getProgressInfo=function(){return m.SurveyElement.getProgressInfoByElements(this.panels,this.isRequired)},w.prototype.isRowEmpty=function(S){for(var R in S)if(S.hasOwnProperty(R))return!1;return!0},w.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var S=this.addPanel();return this.renderMode==="list"&&this.panelsState!=="default"&&S.expand(),S},w.prototype.addPanel=function(){this.panelCount++,this.isRenderModeList||(this.currentIndex=this.panelCount-1);var S=this.value,R=!1;return this.isValueEmpty(this.defaultPanelValue)||S&&Array.isArray(S)&&S.length==this.panelCount&&(R=!0,this.copyValue(S[S.length-1],this.defaultPanelValue)),this.defaultValueFromLastPanel&&S&&Array.isArray(S)&&S.length>1&&S.length==this.panelCount&&(R=!0,this.copyValue(S[S.length-1],S[S.length-2])),R&&(this.value=S),this.survey&&this.survey.dynamicPanelAdded(this),this.panels[this.panelCount-1]},w.prototype.canLeaveCurrentPanel=function(){return!(this.renderMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},w.prototype.copyValue=function(S,R){for(var I in R)S[I]=R[I]},w.prototype.removePanelUI=function(S){this.canRemovePanel&&(!this.confirmDelete||Object(v.confirmAction)(this.confirmDeleteText))&&this.removePanel(S)},w.prototype.goToNextPanel=function(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)},w.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},w.prototype.removePanel=function(b){var R=this.getPanelIndex(b);if(!(R<0||R>=this.panelCount)){var I=this.panels[R];if(!(this.survey&&!this.survey.dynamicPanelRemoving(this,R,I))){this.panels.splice(R,1),this.updateBindings("panelCount",this.panelCount);var b=this.value;!b||!Array.isArray(b)||R>=b.length||(this.isValueChangingInternally=!0,b.splice(R,1),this.value=b,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,R,I),this.isValueChangingInternally=!1,this.removeTabFromToolbar([I]))}}},w.prototype.getPanelIndex=function(S){if(s.Helpers.isNumber(S))return S;for(var R=this.items,I=0;I<this.panels.length;I++)if(this.panels[I]===S||R[I]===S)return I;return-1},w.prototype.getPanelIndexById=function(S){for(var R=0;R<this.panels.length;R++)if(this.panels[R].id===S)return R;return-1},w.prototype.locStrsChanged=function(){A.prototype.locStrsChanged.call(this);for(var S=this.panels,R=0;R<S.length;R++)S[R].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},w.prototype.clearIncorrectValues=function(){for(var S=0;S<this.panels.length;S++)this.clearIncorrectValuesInPanel(S)},w.prototype.clearErrors=function(){A.prototype.clearErrors.call(this);for(var S=0;S<this.panels.length;S++)this.panels[S].clearErrors()},w.prototype.getQuestionFromArray=function(S,R){return R>=this.panelCount?null:this.panels[R].getQuestionByName(S)},w.prototype.clearIncorrectValuesInPanel=function(S){var R=this.panels[S];R.clearIncorrectValues();var I=this.value,b=I&&S<I.length?I[S]:null;if(b){var D=!1;for(var M in b)if(!this.getSharedQuestionFromArray(M,S)){var L=R.getQuestionByName(M);L||this.iscorrectValueWithPostPrefix(R,M,E.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(R,M,E.settings.matrixTotalValuePostFix)||(delete b[M],D=!0)}D&&(I[S]=b,this.value=I)}},w.prototype.iscorrectValueWithPostPrefix=function(S,R,I){return R.indexOf(I)!==R.length-I.length?!1:!!S.getQuestionByName(R.substring(0,R.indexOf(I)))},w.prototype.getSharedQuestionFromArray=function(S,R){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,S,R):null},w.prototype.addConditionObjectsByContext=function(S,R){for(var I=R?R===!0||this.template.questions.indexOf(R)>-1:!1,b=new Array,D=this.template.questions,M=0;M<D.length;M++)D[M].addConditionObjectsByContext(b,R);for(var L=0;L<E.settings.panelDynamicMaxPanelCountInCondition;L++)for(var U="["+L+"].",N=this.getValueName()+U,W=this.processedTitle+U,M=0;M<b.length;M++)S.push({name:N+b[M].name,text:W+b[M].text,question:b[M].question});if(I){for(var N=R===!0?this.getValueName()+".":"",W=R===!0?this.processedTitle+".":"",M=0;M<b.length;M++)if(b[M].question!=R){var z={name:N+"panel."+b[M].name,text:W+"panel."+b[M].text,question:b[M].question};R===!0&&(z.context=this),S.push(z)}}},w.prototype.getConditionJson=function(S,R){if(S===void 0&&(S=null),R===void 0&&(R=null),!R)return A.prototype.getConditionJson.call(this,S,R);var I=R,b=R.indexOf(".");b>-1&&(I=R.substring(0,b),R=R.substring(b+1));var D=this.template.getQuestionByName(I);return D?D.getConditionJson(S,R):null},w.prototype.onReadOnlyChanged=function(){var S=this.isReadOnly;this.template.readOnly=S;for(var R=0;R<this.panels.length;R++)this.panels[R].readOnly=S;this.updateNoEntriesTextDefaultLoc(),A.prototype.onReadOnlyChanged.call(this)},w.prototype.updateNoEntriesTextDefaultLoc=function(){var S=this.getLocalizableString("noEntriesText");S&&(S.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",S.strChanged())},w.prototype.onSurveyLoad=function(){if(this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var S=0;S<this.panelCount;S++)this.survey.dynamicPanelAdded(this);this.recalculateIsReadyValue(),(this.isReadOnly||!this.allowAddPanel)&&this.updateNoEntriesTextDefaultLoc(),A.prototype.onSurveyLoad.call(this)},w.prototype.onFirstRendering=function(){this.template.onFirstRendering();for(var S=0;S<this.panels.length;S++)this.panels[S].onFirstRendering();A.prototype.onFirstRendering.call(this)},w.prototype.localeChanged=function(){A.prototype.localeChanged.call(this);for(var S=0;S<this.panels.length;S++)this.panels[S].localeChanged()},w.prototype.runCondition=function(S,R){A.prototype.runCondition.call(this,S,R),this.runPanelsCondition(S,R)},w.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},w.prototype.runPanelsCondition=function(S,R){var I={};S&&S instanceof Object&&(I=JSON.parse(JSON.stringify(S))),this.parentQuestion&&this.parent&&(I[l.ParentItemVariableName]=this.parent.getValue());for(var b=0;b<this.panels.length;b++){var D=this.getPanelItemData(this.panels[b].data),M=s.Helpers.createCopy(I);M[l.ItemVariableName.toLowerCase()]=D,M[l.IndexVariableName.toLowerCase()]=b,this.panels[b].runCondition(M,R)}},w.prototype.onAnyValueChanged=function(S){A.prototype.onAnyValueChanged.call(this,S);for(var R=0;R<this.panels.length;R++)this.panels[R].onAnyValueChanged(S),this.panels[R].onAnyValueChanged(l.ItemVariableName)},w.prototype.hasKeysDuplicated=function(S,R){R===void 0&&(R=null);for(var I=[],b,D=0;D<this.panels.length;D++)b=this.isValueDuplicated(this.panels[D],I,R,S)||b;return b},w.prototype.updatePanelsContainsErrors=function(){for(var S=this.changingValueQuestion,R=S.parent;R;)R.updateContainsErrors(),R=R.parent;this.updateContainsErrors()},w.prototype.hasErrors=function(S,R){if(S===void 0&&(S=!0),R===void 0&&(R=null),this.isValueChangingInternally)return!1;var I=!1;if(this.changingValueQuestion){var I=this.changingValueQuestion.hasErrors(S,R);return I=this.hasKeysDuplicated(S,R)||I,this.updatePanelsContainsErrors(),I}else{var b=this.hasErrorInPanels(S,R);return A.prototype.hasErrors.call(this,S)||b}},w.prototype.getContainsErrors=function(){var S=A.prototype.getContainsErrors.call(this);if(S)return S;for(var R=this.panels,I=0;I<R.length;I++)if(R[I].containsErrors)return!0;return!1},w.prototype.getIsAnswered=function(){if(!A.prototype.getIsAnswered.call(this))return!1;for(var S=this.panels,R=0;R<S.length;R++){var I=[];S[R].addQuestionsToList(I,!0);for(var b=0;b<I.length;b++)if(!I[b].isAnswered)return!1}return!0},w.prototype.clearValueIfInvisibleCore=function(){for(var S=0;S<this.panels.length;S++){var R=this.panels[S].questions;this.isSetPanelItemData={};for(var I=0;I<R.length;I++){var b=R[I];b.clearValueIfInvisible(),this.isSetPanelItemData[b.getValueName()]=this.maxCheckCount+1}}this.isSetPanelItemData={},A.prototype.clearValueIfInvisibleCore.call(this)},w.prototype.getIsRunningValidators=function(){if(A.prototype.getIsRunningValidators.call(this))return!0;for(var S=0;S<this.panels.length;S++)for(var R=this.panels[S].questions,I=0;I<R.length;I++)if(R[I].isRunningValidators)return!0;return!1},w.prototype.getAllErrors=function(){for(var S=A.prototype.getAllErrors.call(this),R=0;R<this.panels.length;R++)for(var I=this.panels[R].questions,b=0;b<I.length;b++){var D=I[b].getAllErrors();D&&D.length>0&&(S=S.concat(D))}return S},w.prototype.getDisplayValueCore=function(S,R){var I=this.getUnbindValue(R);if(!I||!Array.isArray(I))return I;for(var b=0;b<this.panels.length&&b<I.length;b++){var D=I[b];D&&(I[b]=this.getPanelDisplayValue(b,D,S))}return I},w.prototype.getPanelDisplayValue=function(S,R,I){if(!R)return R;for(var b=this.panels[S],D=Object.keys(R),M=0;M<D.length;M++){var L=D[M],U=b.getQuestionByValueName(L);if(U||(U=this.getSharedQuestionFromArray(L,S)),U){var N=U.getDisplayValue(I,R[L]);R[L]=N,I&&U.title&&U.title!==L&&(R[U.title]=N,delete R[L])}}return R},w.prototype.hasErrorInPanels=function(S,R){for(var I=!1,b=this.panels,D=[],M=0;M<b.length;M++)this.setOnCompleteAsyncInPanel(b[M]);for(var M=0;M<b.length;M++){var L=b[M].hasErrors(S,!!R&&R.focuseOnFirstError,R);L=this.isValueDuplicated(b[M],D,R,S)||L,!this.isRenderModeList&&L&&!I&&(this.currentIndex=M),I=L||I}return I},w.prototype.setOnCompleteAsyncInPanel=function(S){for(var R=this,I=S.questions,b=0;b<I.length;b++)I[b].onCompletedAsyncValidators=function(D){R.raiseOnCompletedAsyncValidators()}},w.prototype.isValueDuplicated=function(S,R,I,b){if(!this.keyName)return!1;var D=S.getQuestionByValueName(this.keyName);if(!D||D.isEmpty())return!1;var M=D.value;this.changingValueQuestion&&D!=this.changingValueQuestion&&D.hasErrors(b,I);for(var L=0;L<R.length;L++)if(M==R[L])return b&&D.addError(new C.KeyDuplicationError(this.keyDuplicationError,this)),I&&!I.firstErrorQuestion&&(I.firstErrorQuestion=D),!0;return R.push(M),!1},w.prototype.getPanelActions=function(S){var R=this,I=S.footerActions;return this.panelRemoveButtonLocation!=="right"&&I.push(new c.Action({id:"remove-panel-"+S.id,component:"sv-paneldynamic-remove-btn",visible:new p.ComputedUpdater(function(){return[R.canRemovePanel,S.state!=="collapsed",R.panelRemoveButtonLocation!=="right"].every(function(b){return b===!0})}),data:{question:this,panel:S}})),this.survey&&(I=this.survey.getUpdatedPanelFooterActions(S,I,this)),I},w.prototype.createNewPanel=function(){var S=this,R=this.createAndSetupNewPanelObject(),I=this.template.toJSON();new T.JsonObject().toObject(I,R),R.renderWidth="100%",R.updateCustomWidgets(),new l(this,R),R.onFirstRendering();for(var b=R.questions,D=0;D<b.length;D++)b[D].setParentQuestion(this);return R.locStrsChanged(),R.onGetFooterActionsCallback=function(){return S.getPanelActions(R)},R.footerToolbarCss=this.cssClasses.panelFooter,R},w.prototype.createAndSetupNewPanelObject=function(){var S=this.createNewPanelObject();S.isInteractiveDesignElement=!1,S.setParentQuestion(this);var R=this;return S.onGetQuestionTitleLocation=function(){return R.getTemplateQuestionTitleLocation()},S},w.prototype.getTemplateQuestionTitleLocation=function(){return this.templateTitleLocation!="default"?this.templateTitleLocation:this.getTitleLocationCore()},w.prototype.createNewPanelObject=function(){return T.Serializer.createClass("panel")},w.prototype.setPanelCountBasedOnValue=function(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var S=this.value,R=S&&Array.isArray(S)?S.length:0;R==0&&this.getPropertyValue("panelCount")>0&&(R=this.getPropertyValue("panelCount")),this.panelCount=R}},w.prototype.setQuestionValue=function(S){A.prototype.setQuestionValue.call(this,S,!1),this.setPanelCountBasedOnValue();for(var R=0;R<this.panels.length;R++)this.panelUpdateValueFromSurvey(this.panels[R]);this.updateIsAnswered()},w.prototype.onSurveyValueChanged=function(S){if(!(S===void 0&&this.isAllPanelsEmpty())){A.prototype.onSurveyValueChanged.call(this,S);for(var R=0;R<this.panels.length;R++)this.panelSurveyValueChanged(this.panels[R]);S===void 0&&this.setValueBasedOnPanelCount(),this.recalculateIsReadyValue()}},w.prototype.isAllPanelsEmpty=function(){for(var S=0;S<this.panels.length;S++)if(!s.Helpers.isValueEmpty(this.panels[S].getValue()))return!1;return!0},w.prototype.panelUpdateValueFromSurvey=function(S){for(var R=S.questions,I=this.getPanelItemData(S.data),b=0;b<R.length;b++){var D=R[b];D.updateValueFromSurvey(I[D.getValueName()]),D.updateCommentFromSurvey(I[D.getValueName()+E.settings.commentSuffix])}},w.prototype.panelSurveyValueChanged=function(S){for(var R=S.questions,I=this.getPanelItemData(S.data),b=0;b<R.length;b++){var D=R[b];D.onSurveyValueChanged(I[D.getValueName()])}},w.prototype.recalculateIsReadyValue=function(){var S=this,R=this.isReadyValue,I=!0;this.panels.forEach(function(b){b.questions.forEach(function(D){D.isReady?D.onReadyChanged.remove(S.onReadyChangedCallback):(I=!1,D.onReadyChanged.add(S.onReadyChangedCallback))})}),this.isReadyValue=I,R!=this.isReadyValue&&this.onReadyChanged.fire(this,{question:this,oldIsReady:R,isReady:this.isReadyValue})},w.prototype.onSetData=function(){A.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},w.prototype.getItemIndex=function(S){var R=this.items.indexOf(S);return R>-1?R:this.items.length},w.prototype.getPanelItemData=function(S){var R=this.items,I=R.indexOf(S),b=this.value;return I<0&&Array.isArray(b)&&b.length>R.length&&(I=R.length),I<0?{}:!b||!Array.isArray(b)||b.length<=I?{}:b[I]},w.prototype.setPanelItemData=function(S,R,I){if(!(this.isSetPanelItemData[R]>this.maxCheckCount)){this.isSetPanelItemData[R]||(this.isSetPanelItemData[R]=0),this.isSetPanelItemData[R]++;var b=this.items,D=b.indexOf(S);D<0&&(D=b.length);var M=this.getUnbindValue(this.value);if((!M||!Array.isArray(M))&&(M=[]),M.length<=D)for(var L=M.length;L<=D;L++)M.push({});if(M[D]||(M[D]={}),this.isValueEmpty(I)?delete M[D][R]:M[D][R]=I,D>=0&&D<this.panels.length&&(this.changingValueQuestion=this.panels[D].getQuestionByValueName(R)),this.value=M,this.changingValueQuestion=null,this.survey){var U={question:this,panel:S.panel,name:R,itemIndex:D,itemValue:M[D],value:I};this.survey.dynamicPanelItemValueChanged(this,U)}this.isSetPanelItemData[R]--,this.isSetPanelItemData[R]-1&&delete this.isSetPanelItemData[R]}},w.prototype.getRootData=function(){return this.data},w.prototype.getPlainData=function(S){S===void 0&&(S={includeEmpty:!0});var R=A.prototype.getPlainData.call(this,S);return R&&(R.isNode=!0,R.data=this.panels.map(function(I,b){var D={name:I.name||b,title:I.title||"Panel",value:I.getValue(),displayValue:I.getValue(),getString:function(M){return typeof M=="object"?JSON.stringify(M):M},isNode:!0,data:I.questions.map(function(M){return M.getPlainData(S)}).filter(function(M){return!!M})};return(S.calculations||[]).forEach(function(M){D[M.propertyName]=I[M.propertyName]}),D})),R},w.prototype.updateElementCss=function(S){A.prototype.updateElementCss.call(this,S);for(var R=0;R<this.panels.length;R++){var I=this.panels[R];I.updateElementCss(S)}},Object.defineProperty(w.prototype,"progressText",{get:function(){var S=this.panelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.panelCount*100+"%"},enumerable:!1,configurable:!0}),w.prototype.getRootCss=function(){return new u.CssClassBuilder().append(A.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(w.prototype,"cssHeader",{get:function(){var S=this.isRenderModeTab&&!!this.panelCount;return new u.CssClassBuilder().append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||S).append(this.cssClasses.headerTab,S).toString()},enumerable:!1,configurable:!0}),w.prototype.getPanelWrapperCss=function(){return new u.CssClassBuilder().append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,this.panelRemoveButtonLocation==="right").toString()},w.prototype.getPanelRemoveButtonCss=function(){return new u.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.panelRemoveButtonLocation==="right").toString()},w.prototype.getAddButtonCss=function(){return new u.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.renderMode==="list").toString()},w.prototype.getPrevButtonCss=function(){return new u.CssClassBuilder().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},w.prototype.getNextButtonCss=function(){return new u.CssClassBuilder().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(w.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(S){this.setLocalizableStringText("noEntriesText",S)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),w.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.panelCount===0},w.prototype.needResponsiveWidth=function(){var S=this.getPanel();return!!(S&&S.needResponsiveWidth())},w.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new o.AdaptiveActionContainer,this.additionalTitleToolbarValue.containerCss=this.getAdditionalTitleToolbarCss(),this.additionalTitleToolbarValue.cssClasses={item:"sv-tab-item",itemPressed:"sv-tab-item--pressed",itemAsIcon:"sv-tab-item--icon",itemIcon:"sv-tab-item__icon",itemTitle:"sv-tab-item__title"}),this.additionalTitleToolbarValue):null},Object.defineProperty(w.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),w.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},w.prototype.initFooterToolbar=function(){var S=this;this.footerToolbarValue=this.createActionContainer();var R=[],I=new c.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){S.goToPrevPanel()}}),b=new c.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){S.goToNextPanel()}}),D=new c.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",visible:new p.ComputedUpdater(function(){return S.canAddPanel}),data:{question:this}}),M=new c.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),L=new c.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),U=new c.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});R.push(I,b,D,M,L,U),this.updateFooterActionsCallback=function(){var N=S.legacyNavigation,W=S.isRenderModeList,z=S.isMobile,Q=!N&&!W;I.visible=Q&&S.currentIndex>0,b.visible=Q&&S.currentIndex<S.panelCount-1,b.needSpace=z&&b.visible&&I.visible,D.needSpace=S.isMobile&&!b.visible&&I.visible,L.visible=!S.isRenderModeList&&!z,L.needSpace=!N&&!S.isMobile;var $=N&&!W;M.visible=$,U.visible=$,M.needSpace=$},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(R)},w.prototype.createTabByPanel=function(S){var R=this;if(this.isRenderModeTab){var I=new g.LocalizableString(S,!0);I.sharedData=this.locTemplateTabTitle;var b=new c.Action({id:S.id,css:"sv-tab-item__root",pressed:this.getPanelIndexById(S.id)===this.currentIndex,locTitle:I,action:function(){R.currentIndex=R.getPanelIndexById(b.id),R.updateTabToolbarItemsPressedState()}});return b}},w.prototype.getAdditionalTitleToolbarCss=function(){return new u.CssClassBuilder().append("sv-tabs-toolbar").append("sv-tabs-toolbar--left",this.tabAlign==="left").append("sv-tabs-toolbar--right",this.tabAlign==="right").append("sv-tabs-toolbar--center",this.tabAlign==="center").toString()},w.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.panels.length)){var S=this.panels[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(R){return R.pressed=R.id===S.id})}},w.prototype.updateTabToolbar=function(){var S=this;if(this.isRenderModeTab){var R=[];this.panels.forEach(function(I){return R.push(S.createTabByPanel(I))}),this.additionalTitleToolbar.setItems(R)}},w.prototype.addTabFromToolbar=function(S){if(this.isRenderModeTab){var R=this.createTabByPanel(S);this.additionalTitleToolbar.actions.push(R),this.updateTabToolbarItemsPressedState()}},w.prototype.removeTabFromToolbar=function(S){var R=this;this.isRenderModeTab&&(S.forEach(function(I){var b=R.additionalTitleToolbar.getActionById(I.id);R.additionalTitleToolbar.actions.splice(R.additionalTitleToolbar.actions.indexOf(b),1)}),this.updateTabToolbarItemsPressedState())},Object.defineProperty(w.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),w.maxCheckCount=3,d([Object(T.property)({defaultValue:!1,onSet:function(S,R){R.updateFooterActions()}})],w.prototype,"legacyNavigation",void 0),w}(P.Question);T.Serializer.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(A){return A.renderMode==="tab"}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:E.settings.panelMaximumPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"]},{name:"tabAlign",default:"center",choices:["center","left","right"],visibleIf:function(A){return A.renderMode==="tab"}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new V("")},"question"),x.QuestionFactory.Instance.registerQuestion("paneldynamic",function(A){return new V(A)})},"./src/question_radiogroup.ts":function(n,r,i){i.r(r),i.d(r,"QuestionRadiogroupModel",function(){return x});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question_baseselect.ts"),y=i("./src/actions/action.ts"),P=i("./src/base.ts"),T=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),x=function(C){T(E,C);function E(v){return C.call(this,v)||this}return E.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},E.prototype.getType=function(){return"radiogroup"},Object.defineProperty(E.prototype,"ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"titleAriaLabel",{get:function(){return null},enumerable:!1,configurable:!0}),E.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(E.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(v){this.setPropertyValue("showClearButton",v)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),E.prototype.supportGoNextPageAutomatic=function(){return!0},Object.defineProperty(E.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),E.prototype.clickItemHandler=function(v){this.renderedValue=v.value},E.prototype.getDefaultTitleActions=function(){var v=this,u=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var c=new y.Action({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){v.clearValue()},innerCss:this.cssClasses.clearButton,visible:new P.ComputedUpdater(function(){return v.canShowClearButton})});u.push(c)}return u},E}(g.QuestionCheckboxBase);s.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new x("")},"checkboxbase"),m.QuestionFactory.Instance.registerQuestion("radiogroup",function(C){var E=new x(C);return E.choices=m.QuestionFactory.DefaultChoices,E})},"./src/question_ranking.ts":function(n,r,i){i.r(r),i.d(r,"QuestionRankingModel",function(){return c});var s=i("./src/dragdrop/ranking-choices.ts"),m=i("./src/itemvalue.ts"),g=i("./src/jsonobject.ts"),y=i("./src/questionfactory.ts"),P=i("./src/question_checkbox.ts"),T=i("./src/utils/cssClassBuilder.ts"),x=i("./src/utils/devices.ts"),C=i("./src/helpers.ts"),E=i("./src/settings.ts"),v=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),u=function(p,o,a,d){var h=arguments.length,f=h<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,a):d,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,o,a,d);else for(var O=p.length-1;O>=0;O--)(l=p[O])&&(f=(h<3?l(f):h>3?l(o,a,f):l(o,a))||f);return h>3&&f&&Object.defineProperty(o,a,f),f},c=function(p){v(o,p);function o(a){var d=p.call(this,a)||this;return d.domNode=null,d.onVisibleChoicesChanged=function(){if(p.prototype.onVisibleChoicesChanged.call(d),d.visibleChoices.length===1){d.value=[],d.updateRankingChoices();return}if(d.isEmpty()){d.updateRankingChoices();return}d.visibleChoices.length>d.value.length&&d.addToValueByVisibleChoices(),d.visibleChoices.length<d.value.length&&d.removeFromValueByVisibleChoices(),d.updateRankingChoices()},d.localeChanged=function(){p.prototype.localeChanged.call(d),d.updateRankingChoices()},d.handlePointerDown=function(h,f,l){var O=h.target;d.isDragStartNodeValid(O)&&d.allowStartDrag&&d.dragDropRankingChoices.startDrag(h,f,d,l)},d.handleKeydown=function(h,f){if(!d.isDesignMode){var l=h.key,O=d.rankingChoices.indexOf(f);l==="ArrowUp"&&O&&(d.handleArrowUp(O,f),h.preventDefault()),l==="ArrowDown"&&O!==d.rankingChoices.length-1&&(d.handleArrowDown(O,f),h.preventDefault())}},d.handleArrowUp=function(h,f){var l=d.rankingChoices;l.splice(h,1),l.splice(h-1,0,f),d.setValue(),setTimeout(function(){d.focusItem(h-1)},1)},d.handleArrowDown=function(h,f){var l=d.rankingChoices;l.splice(h,1),l.splice(h+1,0,f),d.setValue(),setTimeout(function(){d.focusItem(h+1)},1)},d.focusItem=function(h){var f=d.domNode.querySelectorAll("."+d.cssClasses.item);f[h].focus()},d.setValue=function(){var h=[];d.rankingChoices.forEach(function(f){h.push(f.value)}),d.value=h},d.createNewArray("rankingChoices"),d}return o.prototype.getDefaultItemComponent=function(){return""},o.prototype.getType=function(){return"ranking"},o.prototype.getItemTabIndex=function(a){return this.isDesignMode?void 0:0},Object.defineProperty(o.prototype,"rootClass",{get:function(){return new T.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,x.IsMobile).append(this.cssClasses.rootDisabled,this.isReadOnly).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.errors.length>0).append(this.cssClasses.rootDragHandleAreaIcon,E.settings.rankingDragHandleArea==="icon").toString()},enumerable:!1,configurable:!0}),o.prototype.getItemClassCore=function(a,d){var h=this.rankingChoices.indexOf(a),f=this.rankingChoices.indexOf(this.currentDropTarget);return new T.CssClassBuilder().append(p.prototype.getItemClassCore.call(this,a,d)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===a).append("sv-dragdrop-movedown",h===f+1&&this.dropTargetNodeMove==="down").append("sv-dragdrop-moveup",h===f-1&&this.dropTargetNodeMove==="up").toString()},o.prototype.isItemCurrentDropTarget=function(a){return this.dragDropRankingChoices.dropTarget===a},Object.defineProperty(o.prototype,"ghostPositionCssClass",{get:function(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),o.prototype.getItemIndexClasses=function(){return new T.CssClassBuilder().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,this.isEmpty()).toString()},o.prototype.getNumberByIndex=function(a){return this.isEmpty()?"":a+1+""},o.prototype.setSurveyImpl=function(a,d){p.prototype.setSurveyImpl.call(this,a,d),this.updateRankingChoices()},o.prototype.isAnswerCorrect=function(){return C.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},o.prototype.onSurveyValueChanged=function(a){p.prototype.onSurveyValueChanged.call(this,a),!this.isLoadingFromJson&&this.updateRankingChoices()},o.prototype.addToValueByVisibleChoices=function(){var a=this.value.slice();this.visibleChoices.forEach(function(d){a.indexOf(d.value)===-1&&a.push(d.value)}),this.value=a},o.prototype.removeFromValueByVisibleChoices=function(){for(var a=this.value.slice(),d=this.visibleChoices,h=this.value.length-1;h>=0;h--)m.ItemValue.getItemByValue(d,this.value[h])||a.splice(h,1);this.value=a},Object.defineProperty(o.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),o.prototype.updateRankingChoices=function(a){var d=this;a===void 0&&(a=!1);var h=[];if(this.visibleChoices.length===1){this.setPropertyValue("rankingChoices",h);return}if(a&&this.setPropertyValue("rankingChoices",[]),this.isEmpty()){this.setPropertyValue("rankingChoices",this.visibleChoices);return}this.value.forEach(function(f){d.visibleChoices.forEach(function(l){l.value===f&&h.push(l)})}),this.setPropertyValue("rankingChoices",h)},o.prototype.endLoadingFromJson=function(){p.prototype.endLoadingFromJson.call(this),this.dragDropRankingChoices=new s.DragDropRankingChoices(this.survey,null,this.longTap)},o.prototype.isDragStartNodeValid=function(a){return E.settings.rankingDragHandleArea==="icon"?a.classList.contains(this.cssClasses.itemIconHoverMod):!0},Object.defineProperty(o.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),o.prototype.afterRenderQuestionElement=function(a){this.domNode=a,p.prototype.afterRenderQuestionElement.call(this,a)},o.prototype.beforeDestroyQuestionElement=function(a){p.prototype.beforeDestroyQuestionElement.call(this,a)},o.prototype.supportSelectAll=function(){return!1},o.prototype.supportOther=function(){return!1},o.prototype.supportNone=function(){return!1},o.prototype.getIconHoverCss=function(){return new T.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},o.prototype.getIconFocusCss=function(){return new T.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(o.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(a){this.setPropertyValue("longTap",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(a){this.setPropertyValue("useFullItemSizeForShortcut",a)},enumerable:!1,configurable:!0}),u([Object(g.property)({defaultValue:null})],o.prototype,"currentDropTarget",void 0),u([Object(g.property)({defaultValue:null})],o.prototype,"dropTargetNodeMove",void 0),o}(P.QuestionCheckboxModel);g.Serializer.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"maxSelectedChoices",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new c("")},"checkbox"),y.QuestionFactory.Instance.registerQuestion("ranking",function(p){var o=new c(p);return o.choices=y.QuestionFactory.DefaultChoices,o})},"./src/question_rating.ts":function(n,r,i){i.r(r),i.d(r,"RenderedRatingItem",function(){return c}),i.d(r,"QuestionRatingModel",function(){return p});var s=i("./src/itemvalue.ts"),m=i("./src/question.ts"),g=i("./src/jsonobject.ts"),y=i("./src/questionfactory.ts"),P=i("./src/settings.ts"),T=i("./src/surveyStrings.ts"),x=i("./src/utils/cssClassBuilder.ts"),C=i("./src/base.ts"),E=i("./src/utils/utils.ts"),v=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),u=function(o,a,d,h){var f=arguments.length,l=f<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,d):h,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(o,a,d,h);else for(var V=o.length-1;V>=0;V--)(O=o[V])&&(l=(f<3?O(l):f>3?O(a,d,l):O(a,d))||l);return f>3&&l&&Object.defineProperty(a,d,l),l},c=function(o){v(a,o);function a(d,h){h===void 0&&(h=null);var f=o.call(this)||this;return f.itemValue=d,f.locString=h,f.locText.onStringChanged.add(f.onStringChangedCallback.bind(f)),f.onStringChangedCallback(),f}return a.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(a.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),u([Object(g.property)({defaultValue:""})],a.prototype,"highlight",void 0),u([Object(g.property)({defaultValue:""})],a.prototype,"text",void 0),u([Object(g.property)()],a.prototype,"style",void 0),a}(C.Base),p=function(o){v(a,o);function a(d){var h=o.call(this,d)||this;return h._syncPropertiesChanging=!1,h.initColors(),h.createItemValues("rateValues"),h.createRenderedRateItems(),h.createLocalizableString("ratingOptionsCaption",h,!1,!0),h.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return h.createRenderedRateItems()}),h.registerFunctionOnPropertiesValueChanged(["rateType"],function(){h.setIconsToRateValues(),h.createRenderedRateItems(),h.updateRateCount()}),h.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){h.autoGenerate=!1,h.setIconsToRateValues(),h.createRenderedRateItems()}),h.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){h.initColors()}),h.registerFunctionOnPropertiesValueChanged(["autoGenerate"],function(){!h.autoGenerate&&h.rateValues.length===0&&h.setPropertyValue("rateValues",h.visibleRateValues),h.autoGenerate&&(h.rateValues.length=0,h.updateRateMax()),h.createRenderedRateItems()}),h.createLocalizableString("minRateDescription",h,!0),h.createLocalizableString("maxRateDescription",h,!0),h.initPropertyDependencies(),h}return a.prototype.setIconsToRateValues=function(){var d=this;this.rateType=="smileys"&&this.rateValues.map(function(h){return h.icon=d.getItemSmiley(h)})},a.prototype.startLoadingFromJson=function(d){o.prototype.startLoadingFromJson.call(this,d),this.jsonObj=d},a.prototype.endLoadingFromJson=function(){o.prototype.endLoadingFromJson.call(this),this.initColors(),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},a.prototype.registerSychProperties=function(d,h){var f=this;this.registerFunctionOnPropertiesValueChanged(d,function(){f._syncPropertiesChanging||(f._syncPropertiesChanging=!0,h(),f._syncPropertiesChanging=!1)})},a.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},a.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},a.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},a.prototype.updateRateCount=function(){var d=0;this.useRateValues()?d=this.rateValues.length:d=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,d>10&&this.rateDisplayMode=="smileys"&&(d=10),this.rateCount=d,this.rateValues.length>d&&(this.rateValues.length=d)},a.prototype.initPropertyDependencies=function(){var d=this;this.registerSychProperties(["rateCount"],function(){if(!d.useRateValues())d.rateMax=d.rateMin+d.rateStep*(d.rateCount-1);else if(d.rateCount<d.rateValues.length){if(d.rateCount>=10&&d.rateDisplayMode=="smileys")return;d.rateValues.splice(d.rateCount,d.rateValues.length-d.rateCount)}else for(var h=d.rateValues.length;h<d.rateCount;h++)d.rateValues.push(new s.ItemValue(T.surveyLocalization.getString("choices_Item")+(h+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){d.updateRateCount()})},Object.defineProperty(a.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(d){this.setPropertyValue("rateValues",d),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(d){this.setPropertyValue("rateMin",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(d){this.setPropertyValue("rateMax",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(d){this.setPropertyValue("rateStep",d)},enumerable:!1,configurable:!0}),a.prototype.initColors=function(){if(this.colorMode==="monochrome"||!document||a.badColor&&a.normalColor&&a.goodColor)return;function d(h){var f=getComputedStyle(document.documentElement),l=f.getPropertyValue&&f.getPropertyValue(h);if(!l)return null;var O=document.createElement("canvas").getContext("2d");O.fillStyle=l;var V=O.fillStyle;if(V.startsWith("rgba"))return V.substring(5,V.length-1).split(",").map(function(w){return+w.trim()});var A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return A?[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16),1]:null}a.badColor=d("--sd-rating-bad-color"),a.normalColor=d("--sd-rating-normal-color"),a.goodColor=d("--sd-rating-good-color"),a.badColorLight=d("--sd-rating-bad-color-light"),a.normalColorLight=d("--sd-rating-normal-color-light"),a.goodColorLight=d("--sd-rating-good-color-light")},a.prototype.getDisplayValueCore=function(d,h){var f=s.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,h);return f||h},Object.defineProperty(a.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(d){return d.itemValue})},enumerable:!1,configurable:!0}),a.prototype.itemValuePropertyChanged=function(d,h,f,l){!this.useRateValues()&&l!==void 0&&(this.autoGenerate=!1),o.prototype.itemValuePropertyChanged.call(this,d,h,f,l)},a.prototype.createRenderedRateItems=function(){var d=this,h=[];if(this.useRateValues())h=this.rateValues;else{for(var f=[],l=this.rateMin,O=this.rateStep;l<=this.rateMax&&f.length<P.settings.ratingMaximumRateValueCount;){var V=new s.ItemValue(l);V.locOwner=this,V.ownerPropertyName="rateValues",f.push(V),l=this.correctValue(l+O,O)}h=f}this.rateType=="smileys"&&h.length>10&&(h=h.slice(0,10)),this.renderedRateItems=h.map(function(A,w){var S=null;return d.displayRateDescriptionsAsExtremeItems&&(w==0&&(S=new c(A,d.minRateDescription&&d.locMinRateDescription||A.locText)),w==h.length-1&&(S=new c(A,d.maxRateDescription&&d.locMaxRateDescription||A.locText))),S||(S=new c(A)),S})},a.prototype.correctValue=function(d,h){if(!d||Math.round(d)==d)return d;for(var f=0;Math.round(h)!=h;)h*=10,f++;return parseFloat(d.toFixed(f))},a.prototype.getType=function(){return"rating"},a.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},a.prototype.getInputId=function(d){return this.inputId+"_"+d},a.prototype.supportGoNextPageAutomatic=function(){return!0},a.prototype.supportOther=function(){return!1},Object.defineProperty(a.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(d){this.setLocalizableStringText("minRateDescription",d),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(d){this.setLocalizableStringText("maxRateDescription",d),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(d){this.rateType=d},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStar",{get:function(){return this.rateType=="stars"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isSmiley",{get:function(){return this.rateType=="smileys"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"itemComponentName",{get:function(){return this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},enumerable:!1,configurable:!0}),a.prototype.valueToData=function(d){if(this.useRateValues()){var h=s.ItemValue.getItemByValue(this.rateValues,d);return h?h.value:d}return isNaN(d)?d:parseFloat(d)},a.prototype.setValueFromClick=function(d){this.value===parseFloat(d)?this.clearValue():this.value=d;for(var h=0;h<this.renderedRateItems.length;h++)this.renderedRateItems[h].highlight="none"},a.prototype.onItemMouseIn=function(d){if(!(this.isReadOnly||!d.itemValue.isEnabled||this.isDesignMode)){var h=!0,f=this.value!=null;if(this.rateType!=="stars"){d.highlight="highlighted";return}for(var l=0;l<this.renderedRateItems.length;l++)this.renderedRateItems[l].highlight=h&&!f&&"highlighted"||!h&&f&&"unhighlighted"||"none",this.renderedRateItems[l]==d&&(h=!1),this.renderedRateItems[l].itemValue.value==this.value&&(f=!1)}},a.prototype.onItemMouseOut=function(d){this.renderedRateItems.forEach(function(h){return h.highlight="none"})},Object.defineProperty(a.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&P.settings.matrix.rateSize=="small"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ratingRootCss",{get:function(){var d=(this.displayMode=="buttons"||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:this.cssClasses.root;return new x.CssClassBuilder().append(d).append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),a.prototype.getItemSmiley=function(d){var h=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],f=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],l=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,O=f.slice(0,l),V=h.filter(function(A){return O.indexOf(A)!=-1});return this.useRateValues()?V[this.rateValues.indexOf(d)]:V[d.value-this.rateMin]},a.prototype.getItemSmileyIconName=function(d){return"icon-"+this.getItemSmiley(d)},a.prototype.getItemClassByText=function(d,h){return this.getItemClass(d)},a.prototype.getRenderedItemColor=function(d,h){var f=h?a.badColorLight:a.badColor,l=h?a.goodColorLight:a.goodColor,O=(this.rateCount-1)/2,V=h?a.normalColorLight:a.normalColor;if(d<O?l=V:(f=V,d-=O),!f||!l)return null;for(var A=[0,0,0,0],w=0;w<4;w++)A[w]=f[w]+(l[w]-f[w])*d/O,w<3&&(A[w]=Math.trunc(A[w]));return"rgba("+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+")"},a.prototype.getItemStyle=function(d,h){if(h===void 0&&(h="none"),this.scaleColorMode==="monochrome"&&this.rateColorMode=="default")return{borderColor:null,fill:null,backgroundColor:null};var f=this.visibleRateValues.indexOf(d),l=this.getRenderedItemColor(f,!1);if(this.value!=this.renderedRateItems[f].value){var O=this.getRenderedItemColor(f,!0);return h=="highlighted"&&this.scaleColorMode==="colored"?{borderColor:l,fill:l,backgroundColor:O}:this.scaleColorMode==="colored"&&this.errors.length==0?{borderColor:l,fill:l,backgroundColor:null}:{borderColor:null,fill:null,backgroundColor:null}}else return{borderColor:l,fill:null,backgroundColor:l}},a.prototype.getItemClass=function(d,h){var f=this,l=this.value==d.value;this.isStar&&(this.useRateValues()?l=this.rateValues.indexOf(this.rateValues.filter(function($){return $.value==f.value})[0])>=this.rateValues.indexOf(d):l=this.value>=d.value);var O=this.isReadOnly||!d.isEnabled,V=!O&&this.value!=d.value&&!(this.survey&&this.survey.isDesignMode),A=this.renderedRateItems.filter(function($){return $.itemValue==d})[0],w=this.isStar&&(A==null?void 0:A.highlight)=="highlighted",S=this.isStar&&(A==null?void 0:A.highlight)=="unhighlighted",R=this.cssClasses.item,I=this.cssClasses.selected,b=this.cssClasses.itemDisabled,D=this.cssClasses.itemHover,M=this.cssClasses.itemOnError,L=null,U=null,N=null,W=null,z=null;this.isStar&&(R=this.cssClasses.itemStar,I=this.cssClasses.itemStarSelected,b=this.cssClasses.itemStarDisabled,D=this.cssClasses.itemStarHover,M=this.cssClasses.itemStarOnError,L=this.cssClasses.itemStarHighlighted,U=this.cssClasses.itemStarUnhighlighted,z=this.cssClasses.itemStarSmall),this.isSmiley&&(R=this.cssClasses.itemSmiley,I=this.cssClasses.itemSmileySelected,b=this.cssClasses.itemSmileyDisabled,D=this.cssClasses.itemSmileyHover,M=this.cssClasses.itemSmileyOnError,L=this.cssClasses.itemSmileyHighlighted,N=this.cssClasses.itemSmileyScaleColored,W=this.cssClasses.itemSmileyRateColored,z=this.cssClasses.itemSmileySmall);var Q=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&d!=this.rateValues[0]&&d!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&d.value!=this.rateMin&&d.value!=this.rateMax)&&d.locText.calculatedText.length<=2&&Number.isInteger(Number(d.locText.calculatedText));return new x.CssClassBuilder().append(R).append(I,l).append(b,this.isReadOnly).append(D,V).append(L,w).append(N,this.scaleColorMode=="colored").append(W,this.rateColorMode=="scale"&&l).append(U,S).append(M,this.errors.length>0).append(z,this.itemSmallMode).append(this.cssClasses.itemFixedSize,Q).toString()},a.prototype.getControlClass=function(){return this.isEmpty(),new x.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(a.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(d){this.setLocalizableStringText("ratingOptionsCaption",d)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedValue",{get:function(){return this.value},set:function(d){this.value=d},enumerable:!1,configurable:!0}),a.prototype.isItemSelected=function(d){return d.value==this.value},Object.defineProperty(a.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),a.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var d=this.getPropertyValue("rateStep"),h=this.getPropertyValue("rateMax"),f=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||d&&(h-f)/d>9)},a.prototype.supportResponsiveness=function(){return!0},a.prototype.getCompactRenderAs=function(){return this.displayMode=="buttons"?"default":"dropdown"},a.prototype.getDesktopRenderAs=function(){return this.displayMode=="dropdown"?"dropdown":"default"},Object.defineProperty(a.prototype,"dropdownListModel",{get:function(){return this.dropdownListModelValue},set:function(d){this.dropdownListModelValue=d,this.updateElementCss()},enumerable:!1,configurable:!0}),a.prototype.updateCssClasses=function(d,h){if(o.prototype.updateCssClasses.call(this,d,h),this.dropdownListModel){var f={};Object(E.mergeValues)(h.list,f),Object(E.mergeValues)(d.list,f),d.list=f}},a.prototype.calcCssClasses=function(d){var h=o.prototype.calcCssClasses.call(this,d);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(h.popup,h.list),h},a.prototype.dispose=function(){o.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},u([Object(g.property)({defaultValue:!0})],a.prototype,"autoGenerate",void 0),u([Object(g.property)({defaultValue:5})],a.prototype,"rateCount",void 0),u([Object(g.propertyArray)()],a.prototype,"renderedRateItems",void 0),u([Object(g.property)({defaultValue:!1})],a.prototype,"hasMinRateDescription",void 0),u([Object(g.property)({defaultValue:!1})],a.prototype,"hasMaxRateDescription",void 0),u([Object(g.property)({defaultValue:!1})],a.prototype,"displayRateDescriptionsAsExtremeItems",void 0),u([Object(g.property)({defaultValue:"auto",onSet:function(d,h){h.isDesignMode||(d==="dropdown"?h.renderAs="dropdown":h.renderAs="default")}})],a.prototype,"displayMode",void 0),u([Object(g.property)({defaultValue:"labels"})],a.prototype,"rateType",void 0),u([Object(g.property)({defaultValue:"monochrome"})],a.prototype,"scaleColorMode",void 0),u([Object(g.property)({defaultValue:"scale"})],a.prototype,"rateColorMode",void 0),a}(m.Question);g.Serializer.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:0},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(o){return o.rateDisplayMode=="smileys"},visibleIndex:1},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(o){return o.rateDisplayMode=="smileys"&&o.scaleColorMode=="monochrome"},visibleIndex:2},{name:"autoGenerate",category:"rateValues",default:!0,choices:[{value:!0,text:"Generate"},{value:!1,text:"Enter manually"}],visibleIndex:4},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:3,onSettingValue:function(o,a){return a<2?2:a>P.settings.ratingMaximumRateValueCount&&a>o.rateValues.length?P.settings.ratingMaximumRateValueCount:a>10&&o.rateDisplayMode=="smileys"?10:a}},{name:"rateValues:itemvalue[]",baseValue:function(){return T.surveyLocalization.getString("choices_Item")},category:"rateValues",visibleIf:function(o){return!o.autoGenerate},visibleIndex:5},{name:"rateMin:number",default:1,onSettingValue:function(o,a){return a>o.rateMax-o.rateStep?o.rateMax-o.rateStep:a},visibleIf:function(o){return!!o.autoGenerate},visibleIndex:6},{name:"rateMax:number",default:5,onSettingValue:function(o,a){return a<o.rateMin+o.rateStep?o.rateMin+o.rateStep:a},visibleIf:function(o){return!!o.autoGenerate},visibleIndex:7},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(o,a){return a<=0&&(a=1),a>o.rateMax-o.rateMin&&(a=o.rateMax-o.rateMin),a},visibleIf:function(o){return!!o.autoGenerate},visibleIndex:8},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:17},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:18},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:19},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIf:function(o){return o.rateType=="labels"},visibleIndex:20}],function(){return new p("")},"question"),y.QuestionFactory.Instance.registerQuestion("rating",function(o){return new p(o)})},"./src/question_signaturepad.ts":function(n,r,i){i.r(r),i.d(r,"QuestionSignaturePadModel",function(){return u});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/question.ts"),y=i("./node_modules/signature_pad/dist/signature_pad.mjs"),P=i("./src/utils/cssClassBuilder.ts"),T=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),x=function(c,p,o,a){var d=arguments.length,h=d<3?p:a===null?a=Object.getOwnPropertyDescriptor(p,o):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,p,o,a);else for(var l=c.length-1;l>=0;l--)(f=c[l])&&(h=(d<3?f(h):d>3?f(p,o,h):f(p,o))||h);return d>3&&h&&Object.defineProperty(p,o,h),h},C=300,E=200;function v(c){var p=c.getContext("2d"),o=window.devicePixelRatio||1,a=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,d=o/a,h=c.width,f=c.height;c.width=h*d,c.height=f*d,c.style.width=h+"px",c.style.height=f+"px",p.scale(d,d)}var u=function(c){T(p,c);function p(o){return c.call(this,o)||this}return p.prototype.getCssRoot=function(o){return new P.CssClassBuilder().append(c.prototype.getCssRoot.call(this,o)).append(o.small,this.signatureWidth.toString()==="300").toString()},p.prototype.updateValue=function(){if(this.signaturePad){var o=this.signaturePad.toDataURL(this.dataFormat);this.value=o}},p.prototype.getType=function(){return"signaturepad"},p.prototype.afterRenderQuestionElement=function(o){o&&this.initSignaturePad(o),c.prototype.afterRenderQuestionElement.call(this,o)},p.prototype.beforeDestroyQuestionElement=function(o){o&&this.destroySignaturePad(o)},p.prototype.initSignaturePad=function(o){var a=this,d=o.getElementsByTagName("canvas")[0],h=new y.default(d,{backgroundColor:"#ffffff"});this.isInputReadOnly&&h.off(),this.readOnlyChangedCallback=function(){a.isInputReadOnly?h.off():h.on()},h.penColor=this.penColor,h.backgroundColor=this.backgroundColor,h.onBegin=function(){a.isDrawingValue=!0,d.focus()},h.onEnd=function(){a.isDrawingValue=!1,a.updateValue()};var f=function(){var O=a.value;d.width=a.signatureWidth||C,d.height=a.signatureHeight||E,v(d),O?h.fromDataURL(O):h.clear()};f(),this.readOnlyChangedCallback(),this.signaturePad=h;var l=function(O,V){(V.name==="signatureWidth"||V.name==="signatureHeight"||V.name==="value")&&f()};this.onPropertyChanged.add(l),this.signaturePad.propertyChangedHandler=l},p.prototype.destroySignaturePad=function(o){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(p.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(o){this.setPropertyValue("signatureWidth",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(o){this.setPropertyValue("signatureHeight",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(o){this.setPropertyValue("height",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(o){this.setPropertyValue("allowClear",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"canShowClearButton",{get:function(){return!this.isInputReadOnly&&this.allowClear},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(o){this.setPropertyValue("penColor",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(o){this.setPropertyValue("backgroundColor",o)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),p.prototype.needShowPlaceholder=function(){return!this.isDrawingValue&&this.isEmpty()},Object.defineProperty(p.prototype,"placeHolderText",{get:function(){return this.getLocalizationString("signaturePlaceHolder")},enumerable:!1,configurable:!0}),p.prototype.endLoadingFromJson=function(){c.prototype.endLoadingFromJson.call(this),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(console.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(console.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},x([Object(s.property)({defaultValue:!1})],p.prototype,"isDrawingValue",void 0),x([Object(s.property)({defaultValue:""})],p.prototype,"dataFormat",void 0),p}(g.Question);s.Serializer.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"penColor:color",category:"general",default:"#1ab394"},{name:"backgroundColor:color",category:"general",default:"#ffffff"},{name:"dataFormat",category:"general",default:"",choices:[{value:"",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}]},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1}],function(){return new u("")},"question"),m.QuestionFactory.Instance.registerQuestion("signaturepad",function(c){return new u(c)})},"./src/question_tagbox.ts":function(n,r,i){i.r(r),i.d(r,"QuestionTagboxModel",function(){return v});var s=i("./src/jsonobject.ts"),m=i("./src/questionfactory.ts"),g=i("./src/utils/cssClassBuilder.ts"),y=i("./src/question_checkbox.ts"),P=i("./src/dropdownMultiSelectListModel.ts"),T=i("./src/settings.ts"),x=i("./src/itemvalue.ts"),C=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),E=function(u,c,p,o){var a=arguments.length,d=a<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,p):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(u,c,p,o);else for(var f=u.length-1;f>=0;f--)(h=u[f])&&(d=(a<3?h(d):a>3?h(c,p,d):h(c,p))||d);return a>3&&d&&Object.defineProperty(c,p,d),d},v=function(u){C(c,u);function c(p){var o=u.call(this,p)||this;return o.itemDisplayNameMap={},o.onOpened=o.addEvent(),o.createLocalizableString("placeholder",o,!1,!0),o.createLocalizableString("clearCaption",o,!1,!0),o}return c.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(c.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),c.prototype.onSurveyLoad=function(){u.prototype.onSurveyLoad.call(this),this.dropdownListModel||(this.dropdownListModel=new P.DropdownMultiSelectListModel(this))},Object.defineProperty(c.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(p){this.setLocalizableStringText("placeholder",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(p){this.setLocalizableStringText("clearCaption",p)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),c.prototype.getType=function(){return"tagbox"},Object.defineProperty(c.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"popupModel",{get:function(){var p;return(p=this.dropdownListModel)===null||p===void 0?void 0:p.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaExpanded",{get:function(){return this.popupModel.isVisible},enumerable:!1,configurable:!0}),c.prototype.getControlClass=function(){return new g.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},c.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},c.prototype.hasUnknownValue=function(p,o,a,d){return this.choicesLazyLoadEnabled?!1:u.prototype.hasUnknownValue.call(this,p,o,a,d)},c.prototype.needConvertRenderedOtherToDataValue=function(){var p,o=(p=this.otherValue)===null||p===void 0?void 0:p.trim();return o?u.prototype.hasUnknownValue.call(this,o,!0,!1):!1},c.prototype.onVisibleChoicesChanged=function(){u.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},c.prototype.validateItemValues=function(p){var o=this;this.updateItemDisplayNameMap();var a=this.renderedValue;if(p.length&&p.length===a.length)return p;var d=this.selectedItemValues;if(!p.length&&d&&d.length)return this.defaultSelectedItemValues=[].concat(d),d;var h=p.map(function(f){return f.value});return a.filter(function(f){return h.indexOf(f)===-1}).forEach(function(f){p.push(new x.ItemValue(f,o.itemDisplayNameMap[f]))}),p.sort(function(f,l){return a.indexOf(f.value)-a.indexOf(l.value)}),p},c.prototype.updateItemDisplayNameMap=function(){var p=this,o=function(a){p.itemDisplayNameMap[a.value]=a.text};(this.defaultSelectedItemValues||[]).forEach(o),(this.selectedItemValues||[]).forEach(o),this.visibleChoices.forEach(o)},c.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},c.prototype.getInputId=function(){return this.inputId+"_0"},c.prototype.dispose=function(){u.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},c.prototype.clearValue=function(){u.prototype.clearValue.call(this),this.dropdownListModel.clear()},E([Object(s.property)()],c.prototype,"allowClear",void 0),E([Object(s.property)({defaultValue:!0,onSet:function(p,o){o.dropdownListModel&&o.dropdownListModel.setSearchEnabled(p)}})],c.prototype,"searchEnabled",void 0),E([Object(s.property)({onSet:function(p,o){o.dropdownListModel&&o.dropdownListModel.setHideSelectedItems(p)}})],c.prototype,"hideSelectedItems",void 0),E([Object(s.property)()],c.prototype,"choicesLazyLoadEnabled",void 0),E([Object(s.property)({defaultValue:25})],c.prototype,"choicesLazyLoadPageSize",void 0),E([Object(s.property)({getDefaultValue:function(){return T.settings.tagboxCloseOnSelect}})],c.prototype,"closeOnSelect",void 0),c}(y.QuestionCheckboxModel);s.Serializer.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""}],function(){return new v("")},"checkbox"),m.QuestionFactory.Instance.registerQuestion("tagbox",function(u){var c=new v(u);return c.choices=m.QuestionFactory.DefaultChoices,c})},"./src/question_text.ts":function(n,r,i){i.r(r),i.d(r,"QuestionTextModel",function(){return v});var s=i("./src/questionfactory.ts"),m=i("./src/jsonobject.ts"),g=i("./src/localizablestring.ts"),y=i("./src/helpers.ts"),P=i("./src/validator.ts"),T=i("./src/error.ts"),x=i("./src/settings.ts"),C=i("./src/question_textbase.ts"),E=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),v=function(h){E(f,h);function f(l){var O=h.call(this,l)||this;return O._isWaitingForEnter=!1,O.onCompositionUpdate=function(V){O.isInputTextUpdate&&setTimeout(function(){O.updateValueOnEvent(V)},1),O.updateRemainingCharacterCounter(V.target.value)},O.onKeyUp=function(V){O.isInputTextUpdate?(!O._isWaitingForEnter||V.keyCode===13)&&(O.updateValueOnEvent(V),O._isWaitingForEnter=!1):V.keyCode===13&&O.updateValueOnEvent(V),O.updateRemainingCharacterCounter(V.target.value)},O.onKeyDown=function(V){O.isInputTextUpdate&&(O._isWaitingForEnter=V.keyCode===229),V.keyCode===13&&O.survey.questionEditFinishCallback(O,V)},O.onChange=function(V){V.target===x.settings.environment.root.activeElement?O.isInputTextUpdate&&O.updateValueOnEvent(V):O.updateValueOnEvent(V),O.updateRemainingCharacterCounter(V.target.value)},O.onBlur=function(V){O.updateValueOnEvent(V),O.updateRemainingCharacterCounter(V.target.value)},O.onFocus=function(V){O.updateRemainingCharacterCounter(V.target.value)},O.createLocalizableString("minErrorText",O,!0,"minError"),O.createLocalizableString("maxErrorText",O,!0,"maxError"),O.locDataListValue=new g.LocalizableStrings(O),O.locDataListValue.onValueChanged=function(V,A){O.propertyValueChanged("dataList",V,A)},O.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){O.setRenderedMinMax()}),O.registerPropertyChangedHandlers(["inputType","size"],function(){O.updateInputSize(),O.calcRenderedPlaceholder()}),O}return f.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},f.prototype.getType=function(){return"text"},f.prototype.onSurveyLoad=function(){h.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(f.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(l){l=l.toLowerCase(),(l==="datetime_local"||l==="datetime")&&(l="datetime-local"),this.setPropertyValue("inputType",l.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),f.prototype.runCondition=function(l,O){h.prototype.runCondition.call(this,l,O),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(l,O)},f.prototype.getValidators=function(){var l=h.prototype.getValidators.call(this);return this.inputType==="email"&&!this.validators.some(function(O){return O.getType()==="emailvalidator"})&&l.push(new P.EmailValidator),l},f.prototype.isLayoutTypeSupported=function(l){return!0},Object.defineProperty(f.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(l){this.setPropertyValue("size",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),f.prototype.updateInputSize=function(){var l=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&l<1&&this.parent&&this.parent.itemSize&&(l=this.parent.itemSize),this.setPropertyValue("inputSize",l),this.setPropertyValue("inputWidth",l>0?"auto":"")},Object.defineProperty(f.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(l){this.setPropertyValue("autocomplete",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(l){if(this.isValueExpression(l)){this.minValueExpression=l.substring(1);return}this.setPropertyValue("min",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(l){if(this.isValueExpression(l)){this.maxValueExpression=l.substring(1);return}this.setPropertyValue("max",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(l){this.setPropertyValue("minValueExpression",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(l){this.setPropertyValue("maxValueExpression",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(l){this.setLocalizableStringText("minErrorText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(l){this.setLocalizableStringText("maxErrorText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isMinMaxType",{get:function(){return c(this)},enumerable:!1,configurable:!0}),f.prototype.onCheckForErrors=function(l,O){var V=this;if(h.prototype.onCheckForErrors.call(this,l,O),!O){if(this.isValueLessMin){var A=new T.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);A.onUpdateErrorTextCallback=function(S){S.text=V.getMinMaxErrorText(V.minErrorText,V.getCalculatedMinMax(V.renderedMin))},l.push(A)}if(this.isValueGreaterMax){var w=new T.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);w.onUpdateErrorTextCallback=function(S){S.text=V.getMinMaxErrorText(V.maxErrorText,V.getCalculatedMinMax(V.renderedMax))},l.push(w)}}},f.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var l=!this.isValueLessMin&&!this.isValueGreaterMax;return this.inputType==="number"&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),l},f.prototype.convertFuncValuetoQuestionValue=function(l){return y.Helpers.convertValToQuestionVal(l,this.inputType)},f.prototype.getMinMaxErrorText=function(l,O){if(y.Helpers.isValueEmpty(O))return l;var V=O.toString();return this.inputType==="date"&&O.toDateString&&(V=O.toDateString()),l.replace("{0}",V)},Object.defineProperty(f.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isDateInputType",{get:function(){return this.inputType==="date"||this.inputType==="datetime-local"},enumerable:!1,configurable:!0}),f.prototype.getCalculatedMinMax=function(l){return this.isValueEmpty(l)?l:this.isDateInputType?new Date(l):l},f.prototype.setRenderedMinMax=function(l,O){var V=this;l===void 0&&(l=null),O===void 0&&(O=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(A){!A&&V.isDateInputType&&x.settings.minDate&&(A=x.settings.minDate),V.setPropertyValue("renderedMin",A)},l,O),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(A){!A&&V.isDateInputType&&(A=x.settings.maxDate?x.settings.maxDate:"2999-12-31"),V.setPropertyValue("renderedMax",A)},l,O)},Object.defineProperty(f.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(l){this.setPropertyValue("step",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step},enumerable:!1,configurable:!0}),f.prototype.supportGoNextPageAutomatic=function(){return["date","datetime-local"].indexOf(this.inputType)<0},f.prototype.supportGoNextPageError=function(){return["date","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(f.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(l){this.locDataList.value=l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),f.prototype.canRunValidators=function(l){return this.errors.length>0||!l||this.supportGoNextPageError()},f.prototype.setNewValue=function(l){l=this.correctValueType(l),h.prototype.setNewValue.call(this,l)},f.prototype.correctValueType=function(l){return l&&(this.inputType=="number"||this.inputType=="range"?y.Helpers.isNumber(l)?y.Helpers.getNumber(l):"":l)},f.prototype.hasPlaceHolder=function(){return!this.isReadOnly&&this.inputType!=="range"},f.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&x.settings.readOnlyTextRenderMode==="div"},Object.defineProperty(f.prototype,"inputStyle",{get:function(){var l={};return l.width=this.inputWidth,l},enumerable:!1,configurable:!0}),f.prototype.updateValueOnEvent=function(l){var O=l.target.value;y.Helpers.isTwoValueEquals(this.value,O)||(this.value=O)},f}(C.QuestionTextBase),u=["number","range","date","datetime-local","month","time","week"];function c(h){var f=h?h.inputType:"";return f?u.indexOf(f)>-1:!1}function p(h,f){var l=h.split(f);return l.length!==2||!y.Helpers.isNumber(l[0])||!y.Helpers.isNumber(l[1])?-1:parseFloat(l[0])*60+parseFloat(l[1])}function o(h,f,l){var O=p(h,l),V=p(f,l);return O<0||V<0?!1:O>V}function a(h,f,l,O){var V=O?l:f;if(!c(h)||y.Helpers.isValueEmpty(f)||y.Helpers.isValueEmpty(l))return V;if(h.inputType.indexOf("date")===0||h.inputType==="month"){var A=h.inputType==="month",w=new Date(A?f+"-1":f),S=new Date(A?l+"-1":l);if(!w||!S)return V;if(w>S)return O?f:l}if(h.inputType==="week"||h.inputType==="time"){var R=h.inputType==="week"?"-W":":";return o(f,l,R)?O?f:l:V}if(h.inputType==="number"){if(!y.Helpers.isNumber(f)||!y.Helpers.isNumber(l))return V;if(y.Helpers.getNumber(f)>y.Helpers.getNumber(l))return O?f:l}return typeof f=="string"||typeof l=="string"?V:f>l?O?f:l:V}function d(h,f){h&&h.inputType&&(f.inputType=h.inputType!=="range"?h.inputType:"number",f.textUpdateMode="onBlur")}m.Serializer.addClass("text",[{name:"inputType",default:"text",choices:x.settings.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:x.settings.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(h){return c(h)},onPropertyEditorUpdate:function(h,f){d(h,f)},onSettingValue:function(h,f){return a(h,f,h.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(h){return c(h)},onSettingValue:function(h,f){return a(h,h.min,f,!0)},onPropertyEditorUpdate:function(h,f){d(h,f)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(h){return c(h)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(h){return c(h)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(h){return c(h)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(h){return c(h)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(h){return h?h.inputType==="number"||h.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(h){return h?h.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(h){return h?h.inputType==="text":!1}}],function(){return new v("")},"textbase"),s.QuestionFactory.Instance.registerQuestion("text",function(h){return new v(h)})},"./src/question_textbase.ts":function(n,r,i){i.r(r),i.d(r,"CharacterCounter",function(){return C}),i.d(r,"QuestionTextBase",function(){return E});var s=i("./src/question.ts"),m=i("./src/jsonobject.ts"),g=i("./src/helpers.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=i("./src/base.ts"),T=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),x=function(v,u,c,p){var o=arguments.length,a=o<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,c):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(v,u,c,p);else for(var h=v.length-1;h>=0;h--)(d=v[h])&&(a=(o<3?d(a):o>3?d(u,c,a):d(u,c))||a);return o>3&&a&&Object.defineProperty(u,c,a),a},C=function(v){T(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return u.prototype.updateRemainingCharacterCounter=function(c,p){this.remainingCharacterCounter=g.Helpers.getRemainingCharacterCounterText(c,p)},x([Object(m.property)()],u.prototype,"remainingCharacterCounter",void 0),u}(P.Base),E=function(v){T(u,v);function u(c){var p=v.call(this,c)||this;return p.characterCounter=new C,p}return u.prototype.isTextValue=function(){return!0},Object.defineProperty(u.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(c){this.setPropertyValue("maxLength",c),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),u.prototype.getMaxLength=function(){return g.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},u.prototype.updateRemainingCharacterCounter=function(c){this.characterCounter.updateRemainingCharacterCounter(c,this.getMaxLength())},Object.defineProperty(u.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(c){this.placeholder=c},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),u.prototype.getType=function(){return"textbase"},u.prototype.isEmpty=function(){return v.prototype.isEmpty.call(this)||this.value===""},Object.defineProperty(u.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(c){this.setPropertyValue("textUpdateMode",c)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isSurveyInputTextUpdate",{get:function(){return this.textUpdateMode=="default"?this.survey?this.survey.isUpdateValueTextOnTyping:!1:this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),u.prototype.setRenderedPlaceholder=function(c){this.setPropertyValue("renderedPlaceholder",c)},u.prototype.onReadOnlyChanged=function(){v.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},u.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),v.prototype.onSurveyLoad.call(this)},u.prototype.localeChanged=function(){v.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},u.prototype.calcRenderedPlaceholder=function(){var c=this.placeHolder;c&&!this.hasPlaceHolder()&&(c=void 0),this.setRenderedPlaceholder(c)},u.prototype.hasPlaceHolder=function(){return!this.isReadOnly},u.prototype.setNewValue=function(c){v.prototype.setNewValue.call(this,c),this.updateRemainingCharacterCounter(c)},u.prototype.getControlClass=function(){return new y.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(u.prototype,"ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),x([Object(m.property)({localizable:!0,onSet:function(c,p){return p.calcRenderedPlaceholder()}})],u.prototype,"placeholder",void 0),u}(s.Question);m.Serializer.addClass("textbase",[],function(){return new E("")},"question")},"./src/questionfactory.ts":function(n,r,i){i.r(r),i.d(r,"QuestionFactory",function(){return g}),i.d(r,"ElementFactory",function(){return y});var s=i("./src/surveyStrings.ts"),m=i("./src/jsonobject.ts"),g=function(){function P(){}return Object.defineProperty(P,"DefaultChoices",{get:function(){return[s.surveyLocalization.getString("choices_Item")+"1",s.surveyLocalization.getString("choices_Item")+"2",s.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(P,"DefaultColums",{get:function(){var T=s.surveyLocalization.getString("matrix_column")+" ";return[T+"1",T+"2",T+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(P,"DefaultRows",{get:function(){var T=s.surveyLocalization.getString("matrix_row")+" ";return[T+"1",T+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(P,"DefaultMutlipleTextItems",{get:function(){var T=s.surveyLocalization.getString("multipletext_itemname");return[T+"1",T+"2"]},enumerable:!1,configurable:!0}),P.prototype.registerQuestion=function(T,x){y.Instance.registerElement(T,x)},P.prototype.registerCustomQuestion=function(T){y.Instance.registerCustomQuestion(T)},P.prototype.unregisterElement=function(T,x){x===void 0&&(x=!1),y.Instance.unregisterElement(T,x)},P.prototype.clear=function(){y.Instance.clear()},P.prototype.getAllTypes=function(){return y.Instance.getAllTypes()},P.prototype.createQuestion=function(T,x){return y.Instance.createElement(T,x)},P.Instance=new P,P}(),y=function(){function P(){var T=this;this.creatorHash={},this.registerCustomQuestion=function(x){var C=function(E){var v=m.Serializer.createClass(x);return v&&(v.name=E),v};T.registerElement(x,C)}}return P.prototype.registerElement=function(T,x){this.creatorHash[T]=x},P.prototype.clear=function(){this.creatorHash={}},P.prototype.unregisterElement=function(T,x){x===void 0&&(x=!1),delete this.creatorHash[T],x&&m.Serializer.removeClass(T)},P.prototype.getAllTypes=function(){var T=new Array;for(var x in this.creatorHash)T.push(x);return T.sort()},P.prototype.createElement=function(T,x){var C=this.creatorHash[T];return C?C(x):null},P.Instance=new P,P}()},"./src/questionnonvalue.ts":function(n,r,i){i.r(r),i.d(r,"QuestionNonValue",function(){return y});var s=i("./src/question.ts"),m=i("./src/jsonobject.ts"),g=function(){var P=function(T,x){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(C[v]=E[v])},P(T,x)};return function(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");P(T,x);function C(){this.constructor=T}T.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}}(),y=function(P){g(T,P);function T(x){return P.call(this,x)||this}return T.prototype.getType=function(){return"nonvalue"},Object.defineProperty(T.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),T.prototype.getTitleLocation=function(){return""},Object.defineProperty(T.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),T.prototype.hasErrors=function(x,C){return!1},T.prototype.getAllErrors=function(){return[]},T.prototype.supportGoNextPageAutomatic=function(){return!1},T.prototype.addConditionObjectsByContext=function(x,C){},T.prototype.getConditionJson=function(x,C){return null},T}(s.Question);m.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new y("")},"question")},"./src/rendererFactory.ts":function(n,r,i){i.r(r),i.d(r,"RendererFactory",function(){return s});var s=function(){function m(){this.renderersHash={}}return m.prototype.unregisterRenderer=function(g,y){delete this.renderersHash[g][y]},m.prototype.registerRenderer=function(g,y,P){this.renderersHash[g]||(this.renderersHash[g]={}),this.renderersHash[g][y]=P},m.prototype.getRenderer=function(g,y){return this.renderersHash[g]&&this.renderersHash[g][y]||"default"},m.prototype.getRendererByQuestion=function(g){return this.getRenderer(g.getType(),g.renderAs)},m.prototype.clear=function(){this.renderersHash={}},m.Instance=new m,m}()},"./src/settings.ts":function(n,r,i){i.r(r),function(s){i.d(r,"settings",function(){return P});var m=s.document,g=m?{root:m,_rootElement:m.body,get rootElement(){var T;return(T=this._rootElement)!==null&&T!==void 0?T:m.body},set rootElement(T){this._rootElement=T},_popupMountContainer:m.body,get popupMountContainer(){var T;return(T=this._popupMountContainer)!==null&&T!==void 0?T:m.body},set popupMountContainer(T){this._popupMountContainer=T},svgMountContainer:m.head,stylesSheetsMountContainer:m.head}:void 0,y={file:{minWidth:"240px"},comment:{minWidth:"200px"}},P={enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1},expressionDisableConversionChar:"#",useLocalTimeZone:!0,get commentPrefix(){return P.commentSuffix},set commentPrefix(T){P.commentSuffix=T},commentSuffix:"-Comment",webserviceEncodeParameters:!0,useCachingForChoicesRestful:!0,get useCachingForChoicesRestfull(){return P.useCachingForChoicesRestful},set useCachingForChoicesRestfull(T){P.useCachingForChoicesRestful=T},surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey",itemValueSeparator:"|",itemValueAlwaysSerializeAsObject:!1,itemValueAlwaysSerializeText:!1,defaultLocaleName:"default",storeDuplicatedTranslations:!1,matrixDefaultRowName:"default",matrixDefaultCellType:"dropdown",matrixTotalValuePostFix:"-total",matrixMaximumRowCount:1e3,matrixMaxRowCountInCondition:1,panelDynamicMaxPanelCountInCondition:1,matrixRenderRemoveAsIcon:!0,panelMaximumPanelCount:100,ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,disableOnGettingChoicesFromWeb:!1,serializeLocalizableStringAsObject:!1,allowShowEmptyTitleInDesignMode:!0,allowShowEmptyDescriptionInDesignMode:!0,executeCompleteTriggerOnValueChanged:!1,changeNavigationButtonsOnCompleteTrigger:!0,executeSkipTriggerOnValueChanged:!0,readOnlyCommentRenderMode:"textarea",readOnlyTextRenderMode:"input",confirmActionFunc:function(T){return confirm(T)},minWidth:"300px",maxWidth:"100%",maximumConditionRunCountOnValueChanged:10,setQuestionVisibleIndexForHiddenTitle:!1,setQuestionVisibleIndexForHiddenNumber:!1,lazyRowsRendering:!1,lazyRowsRenderingStartRow:3,notifications:{lifetime:2e3},showItemsInOrder:"default",noneItemValue:"none",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:g,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},matrix:{columnWidthsByType:y,rateSize:"small"}}}.call(this,i("./node_modules/webpack/buildin/global.js"))},"./src/stylesmanager.ts":function(n,r,i){i.r(r),i.d(r,"modernThemeColors",function(){return y}),i.d(r,"defaultThemeColors",function(){return P}),i.d(r,"orangeThemeColors",function(){return T}),i.d(r,"darkblueThemeColors",function(){return x}),i.d(r,"darkroseThemeColors",function(){return C}),i.d(r,"stoneThemeColors",function(){return E}),i.d(r,"winterThemeColors",function(){return v}),i.d(r,"winterstoneThemeColors",function(){return u}),i.d(r,"StylesManager",function(){return p});var s=i("./src/defaultCss/defaultV2Css.ts"),m=i("./src/settings.ts"),g=i("./src/utils/utils.ts"),y={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},P={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},T={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},x={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},C={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},E={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},v={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},u={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};function c(o,a){Object.keys(o||{}).forEach(function(d){var h=d.substring(1);a.style.setProperty("--"+h,o[d])})}var p=function(){function o(){o.autoApplyTheme()}return o.autoApplyTheme=function(){if(!(s.surveyCss.currentType==="bootstrap"||s.surveyCss.currentType==="bootstrapmaterial")){var a=o.getIncludedThemeCss();a.length===1&&o.applyTheme(a[0].name)}},o.getAvailableThemes=function(){var a=s.surveyCss.getAvailableThemes().filter(function(d){return["defaultV2","default","modern"].indexOf(d)!==-1}).map(function(d){return{name:d,theme:s.surveyCss[d]}});return a},o.getIncludedThemeCss=function(){var a=m.settings.environment.rootElement,d=o.getAvailableThemes(),h=Object(g.isShadowDOM)(a)?a.host:a;if(h){var f=getComputedStyle(h);if(f.length)return d.filter(function(l){return l.theme.variables&&f.getPropertyValue(l.theme.variables.themeMark)})}return[]},o.findSheet=function(a){if(typeof m.settings.environment>"u")return null;for(var d=m.settings.environment.root.styleSheets,h=0;h<d.length;h++)if(d[h].ownerNode&&d[h].ownerNode.id===a)return d[h];return null},o.createSheet=function(a){var d=m.settings.environment.stylesSheetsMountContainer,h=document.createElement("style");return h.id=a,h.appendChild(document.createTextNode("")),Object(g.getElement)(d).appendChild(h),o.Logger&&o.Logger.log("style sheet "+a+" created"),h.sheet},o.applyTheme=function(a,d){a===void 0&&(a="default");var h=m.settings.environment.rootElement,f=Object(g.isShadowDOM)(h)?h.host:h;if(s.surveyCss.currentType=a,o.Enabled){if(a!=="bootstrap"&&a!=="bootstrapmaterial"){c(o.ThemeColors[a],f),o.Logger&&o.Logger.log("apply theme "+a+" completed");return}var l=o.ThemeCss[a];if(!l){s.surveyCss.currentType="defaultV2";return}o.insertStylesRulesIntoDocument();var O=d||o.ThemeSelector[a]||o.ThemeSelector.default,V=(a+O).trim(),A=o.findSheet(V);if(!A){A=o.createSheet(V);var w=o.ThemeColors[a]||o.ThemeColors.default;Object.keys(l).forEach(function(S){var R=l[S];Object.keys(w||{}).forEach(function(I){return R=R.replace(new RegExp("\\"+I,"g"),w[I])});try{S.indexOf("body")===0?A.insertRule(S+" { "+R+" }",0):A.insertRule(O+S+" { "+R+" }",0)}catch{}})}}o.Logger&&o.Logger.log("apply theme "+a+" completed")},o.insertStylesRulesIntoDocument=function(){if(o.Enabled){var a=o.findSheet(o.SurveyJSStylesSheetId);a||(a=o.createSheet(o.SurveyJSStylesSheetId)),Object.keys(o.Styles).length&&Object.keys(o.Styles).forEach(function(d){try{a.insertRule(d+" { "+o.Styles[d]+" }",0)}catch{}}),Object.keys(o.Media).length&&Object.keys(o.Media).forEach(function(d){try{a.insertRule(o.Media[d].media+" { "+d+" { "+o.Media[d].style+" } }",0)}catch{}})}},o.SurveyJSStylesSheetId="surveyjs-styles",o.Styles={},o.Media={},o.ThemeColors={modern:y,default:P,orange:T,darkblue:x,darkrose:C,stone:E,winter:v,winterstone:u},o.ThemeCss={},o.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},o.Enabled=!0,o}()},"./src/survey-element.ts":function(n,r,i){i.r(r),i.d(r,"SurveyElementCore",function(){return v}),i.d(r,"DragTypeOverMeEnum",function(){return u}),i.d(r,"SurveyElement",function(){return c});var s=i("./src/jsonobject.ts"),m=i("./src/base.ts"),g=i("./src/actions/adaptive-container.ts"),y=i("./src/helpers.ts"),P=i("./src/settings.ts"),T=i("./src/actions/container.ts"),x=i("./src/utils/cssClassBuilder.ts"),C=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),E=function(p,o,a,d){var h=arguments.length,f=h<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,a):d,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,o,a,d);else for(var O=p.length-1;O>=0;O--)(l=p[O])&&(f=(h<3?l(f):h>3?l(o,a,f):l(o,a))||f);return h>3&&f&&Object.defineProperty(o,a,f),f},v=function(p){C(o,p);function o(){var a=p.call(this)||this;return a.createLocTitleProperty(),a}return o.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(o.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(a){this.setLocalizableStringText("title",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),o.prototype.getDefaultTitleValue=function(){},o.prototype.updateDescriptionVisibility=function(a){this.hasDescription=!!a},Object.defineProperty(o.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleTagName",{get:function(){var a=this.getDefaultTitleTagName(),d=this.getSurvey();return d?d.getElementTitleTagName(this,a):a},enumerable:!1,configurable:!0}),o.prototype.getDefaultTitleTagName=function(){return P.settings.titleTags[this.getType()]},Object.defineProperty(o.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),o.prototype.getTitleToolbar=function(){return null},o.prototype.getTitleOwner=function(){},Object.defineProperty(o.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),o.prototype.toggleState=function(){},Object.defineProperty(o.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),o.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},E([Object(s.property)()],o.prototype,"hasDescription",void 0),E([Object(s.property)({localizable:!0,onSet:function(a,d){d.updateDescriptionVisibility(d,a)}})],o.prototype,"description",void 0),o}(m.Base),u;(function(p){p[p.InsideEmptyPanel=1]="InsideEmptyPanel",p[p.MultilineRight=2]="MultilineRight",p[p.MultilineLeft=3]="MultilineLeft"})(u||(u={}));var c=function(p){C(o,p);function o(a){var d=p.call(this)||this;return d.selectedElementInDesignValue=d,d.disableDesignActions=o.CreateDisabledDesignElements,d.parentQuestionValue=null,d.isContentElement=!1,d.isEditableTemplateElement=!1,d.isInteractiveDesignElement=!0,d.isSingleInRow=!0,d.name=a,d.createNewArray("errors"),d.createNewArray("titleActions"),d.registerPropertyChangedHandlers(["isReadOnly"],function(){d.onReadOnlyChanged()}),d.registerPropertyChangedHandlers(["errors"],function(){d.updateVisibleErrors()}),d.registerPropertyChangedHandlers(["isSingleInRow"],function(){d.updateElementCss(!1)}),d}return o.getProgressInfoByElements=function(a,d){for(var h=m.Base.createProgressInfo(),f=0;f<a.length;f++)if(a[f].isVisible){var l=a[f].getProgressInfo();h.questionCount+=l.questionCount,h.answeredQuestionCount+=l.answeredQuestionCount,h.requiredQuestionCount+=l.requiredQuestionCount,h.requiredAnsweredQuestionCount+=l.requiredAnsweredQuestionCount}return d&&h.questionCount>0&&(h.requiredQuestionCount==0&&(h.requiredQuestionCount=1),h.answeredQuestionCount>0&&(h.requiredAnsweredQuestionCount=1)),h},o.ScrollElementToTop=function(a){var d=P.settings.environment.root;if(!a||typeof d>"u")return!1;var h=d.getElementById(a);if(!h||!h.scrollIntoView)return!1;var f=h.getBoundingClientRect().top;return f<0&&h.scrollIntoView(),f<0},o.GetFirstNonTextElement=function(a,d){if(d===void 0&&(d=!1),!a||!a.length||a.length==0)return null;if(d){var h=a[0];h.nodeName==="#text"&&(h.data=""),h=a[a.length-1],h.nodeName==="#text"&&(h.data="")}for(var f=0;f<a.length;f++)if(a[f].nodeName!="#text"&&a[f].nodeName!="#comment")return a[f];return null},o.FocusElement=function(a){if(!a||typeof document>"u")return!1;var d=o.focusElementCore(a);return d||setTimeout(function(){o.focusElementCore(a)},10),d},o.focusElementCore=function(a){var d=P.settings.environment.root;if(!d)return!1;var h=d.getElementById(a);return h&&!h.disabled?(h.focus(),!0):!1},o.prototype.onPropertyValueChanged=function(a,d,h){p.prototype.onPropertyValueChanged.call(this,a,d,h),a==="state"&&(this.updateElementCss(!1),this.stateChangedCallback&&this.stateChangedCallback())},o.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(o.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),o.prototype.setParentQuestion=function(a){this.parentQuestionValue=a,this.onParentQuestionChanged()},o.prototype.onParentQuestionChanged=function(){},Object.defineProperty(o.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(a){this.setPropertyValue("state",a),this.notifyStateChanged()},enumerable:!1,configurable:!0}),o.prototype.notifyStateChanged=function(){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(o.prototype,"isCollapsed",{get:function(){if(!this.isDesignMode)return this.state==="collapsed"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isExpanded",{get:function(){return this.state==="expanded"},enumerable:!1,configurable:!0}),o.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},o.prototype.expand=function(){this.state="expanded"},o.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0},Object.defineProperty(o.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),o.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},o.prototype.createActionContainer=function(a){var d=a?new g.AdaptiveActionContainer:new T.ActionContainer;return this.survey&&this.survey.getCss().actionBar&&(d.cssClasses=this.survey.getCss().actionBar),d},Object.defineProperty(o.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),o.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},o.prototype.getDefaultTitleActions=function(){return[]},o.prototype.updateTitleActions=function(){var a=this.getDefaultTitleActions();this.survey&&(a=this.survey.getUpdatedElementTitleActions(this,a)),this.setPropertyValue("titleActions",a)},Object.defineProperty(o.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasTitleEvents",{get:function(){return this.state!==void 0&&this.state!=="default"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleTabIndex",{get:function(){return!this.isPage&&this.state!=="default"?0:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleAriaExpanded",{get:function(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titleAriaRole",{get:function(){if(!(this.isPage||this.state==="default"))return"button"},enumerable:!1,configurable:!0}),o.prototype.setSurveyImpl=function(a,d){this.surveyImplValue=a,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&this.clearCssClasses()},o.prototype.canRunConditions=function(){return p.prototype.canRunConditions.call(this)&&!!this.data},o.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():null},o.prototype.getDataFilteredProperties=function(){var a=this.data?this.data.getFilteredProperties():{};return a.question=this,a},Object.defineProperty(o.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),o.prototype.__setData=function(a){P.settings.supportCreatorV2&&(this.surveyDataValue=a)},Object.defineProperty(o.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),o.prototype.getSurvey=function(a){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)},o.prototype.setSurveyCore=function(a){this.surveyValue=a,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(o.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(a){this.readOnly!=a&&(this.setPropertyValue("readOnly",a),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),o.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(o.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),o.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(o.prototype,"cssClasses",{get:function(){return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cssTitleNumber",{get:function(){var a=this.cssClasses;return a.number?a.number:a.panel?a.panel.number:void 0},enumerable:!1,configurable:!0}),o.prototype.calcCssClasses=function(a){},o.prototype.updateElementCssCore=function(a){},Object.defineProperty(o.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),o.prototype.updateElementCss=function(a){this.clearCssClasses()},o.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},o.prototype.getIsLoadingFromJson=function(){return p.prototype.getIsLoadingFromJson.call(this)?!0:this.survey?this.survey.isLoadingFromJson:!1},Object.defineProperty(o.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(a){var d=this.name;this.setPropertyValue("name",this.getValidName(a)),!this.isLoadingFromJson&&d&&this.onNameChanged(d)},enumerable:!1,configurable:!0}),o.prototype.getValidName=function(a){return a},o.prototype.onNameChanged=function(a){},o.prototype.updateBindingValue=function(a,d){this.data&&!this.isTwoValueEquals(d,this.data.getValue(a))&&this.data.setValue(a,d,!1)},Object.defineProperty(o.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(a){this.setPropertyValue("errors",a)},enumerable:!1,configurable:!0}),o.prototype.updateVisibleErrors=function(){for(var a=0,d=0;d<this.errors.length;d++)this.errors[d].visible&&a++;this.hasVisibleErrors=a>0},Object.defineProperty(o.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),o.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},o.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(o.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(a){this.selectedElementInDesignValue=a},enumerable:!1,configurable:!0}),o.prototype.updateCustomWidgets=function(){},o.prototype.onSurveyLoad=function(){},o.prototype.onFirstRendering=function(){this.ensureCssClassesValue()},o.prototype.endLoadingFromJson=function(){p.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad()},o.prototype.setVisibleIndex=function(a){return 0},Object.defineProperty(o.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),o.prototype.delete=function(){},o.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},o.prototype.getMarkdownHtml=function(a,d){return this.survey?this.survey.getSurveyMarkdownHtml(this,a,d):this.locOwner?this.locOwner.getMarkdownHtml(a,d):void 0},o.prototype.getRenderer=function(a){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,a):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(a):null},o.prototype.getRendererContext=function(a){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,a):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(a):a},o.prototype.getProcessedText=function(a){return this.isLoadingFromJson?a:this.textProcessor?this.textProcessor.processText(a,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(a):a},o.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},o.prototype.removeSelfFromList=function(a){if(!(!a||!Array.isArray(a))){var d=a.indexOf(this);d>-1&&a.splice(d,1)}},Object.defineProperty(o.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),o.prototype.getProcessedHtml=function(a){return!a||!this.textProcessor?a:this.textProcessor.processText(a,!0)},o.prototype.onSetData=function(){},Object.defineProperty(o.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(a){this.setPropertyValue("parent",a)},enumerable:!1,configurable:!0}),o.prototype.getPage=function(a){for(;a&&a.parent;)a=a.parent;return a&&a.getType()=="page"?a:null},o.prototype.moveToBase=function(a,d,h){if(h===void 0&&(h=null),!d)return!1;a.removeElement(this);var f=-1;return y.Helpers.isNumber(h)&&(f=parseInt(h)),f==-1&&h&&h.getType&&(f=d.indexOf(h)),d.addElement(this,f),!0},o.prototype.setPage=function(a,d){var h=this.getPage(a);if(typeof d=="string"){var f=this.getSurvey();f.pages.forEach(function(l){d===l.name&&(d=l)})}h!==d&&(a&&a.removeElement(this),d&&d.addElement(this,-1))},o.prototype.getSearchableLocKeys=function(a){a.push("title"),a.push("description")},Object.defineProperty(o.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&this.survey.getCss().root=="sd-root-modern"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isErrorsModeTooltip",{get:function(){return this.getIsErrorsModeTooltip()},enumerable:!1,configurable:!0}),o.prototype.getIsErrorsModeTooltip=function(){return this.isDefaultV2Theme&&this.hasParent&&this.getIsTooltipErrorSupportedByParent()},o.prototype.getIsTooltipErrorSupportedByParent=function(){var a;return(a=this.parent)===null||a===void 0?void 0:a.getIsTooltipErrorInsideSupported()},o.prototype.getIsTooltipErrorInsideSupported=function(){return!1},Object.defineProperty(o.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&(!this.parent.originalPage||this.survey.isShowingPreview)||this.parent===void 0},enumerable:!1,configurable:!0}),o.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(o.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),o.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&!this.hasParent&&this.isSingleInRow},o.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&(this.hasParent||!this.isSingleInRow)},o.prototype.getCssRoot=function(a){return new x.CssClassBuilder().append(a.withFrame,this.getHasFrameV2()&&!this.isCompact).append(a.compact,this.isCompact&&this.getHasFrameV2()).append(a.collapsed,!!this.isCollapsed).append(a.expanded,!!this.isExpanded).append(a.nested,this.getIsNested()).toString()},Object.defineProperty(o.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(a){this.setPropertyValue("width",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(a){this.setPropertyValue("minWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(a){this.setPropertyValue("maxWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(a){this.setPropertyValue("renderWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(a){this.setPropertyValue("indent",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(a){this.setPropertyValue("rightIndent",a)},enumerable:!1,configurable:!0}),o.prototype.getRootStyle=function(){var a={};return this.paddingLeft&&(a["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(a["--sv-element-add-padding-right"]=this.paddingRight),a},Object.defineProperty(o.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(a){this.setPropertyValue("paddingLeft",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(a){this.setPropertyValue("paddingRight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isDescriptionVisible",{get:function(){return!!this.description||this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rootStyle",{get:function(){var a={};return this.allowRootStyle&&this.renderWidth&&(a.flexGrow=1,a.flexShrink=1,a.flexBasis=this.renderWidth,a.minWidth=this.minWidth,a.maxWidth=this.maxWidth),a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"clickTitleFunction",{get:function(){var a=this;if(this.needClickTitleFunction())return function(){return a.processTitleClick()}},enumerable:!1,configurable:!0}),o.prototype.needClickTitleFunction=function(){return this.state!=="default"},o.prototype.processTitleClick=function(){this.state!=="default"&&this.toggleState()},Object.defineProperty(o.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),o.prototype.getAdditionalTitleToolbar=function(){return null},o.prototype.getCssTitle=function(a){var d=this.state!=="default",h=4;return new x.CssClassBuilder().append(a.title).append(a.titleNumInline,(this.no||"").length>h||d).append(a.titleExpandable,d).append(a.titleExpanded,this.isExpanded).append(a.titleCollapsed,this.isCollapsed).append(a.titleDisabled,this.isReadOnly).append(a.titleOnError,this.containsErrors).toString()},o.prototype.localeChanged=function(){p.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(a){a.updateText()})},o.CreateDisabledDesignElements=!1,E([Object(s.property)({defaultValue:null})],o.prototype,"dragTypeOverMe",void 0),E([Object(s.property)({defaultValue:!1})],o.prototype,"isDragMe",void 0),E([Object(s.property)()],o.prototype,"cssClassesValue",void 0),E([Object(s.property)({defaultValue:!1})],o.prototype,"hasVisibleErrors",void 0),E([Object(s.property)({defaultValue:!0})],o.prototype,"isSingleInRow",void 0),E([Object(s.property)({defaultValue:!0})],o.prototype,"allowRootStyle",void 0),o}(v)},"./src/survey-error.ts":function(n,r,i){i.r(r),i.d(r,"SurveyError",function(){return g});var s=i("./src/localizablestring.ts"),m=i("./src/surveyStrings.ts"),g=function(){function y(P,T){P===void 0&&(P=null),T===void 0&&(T=null),this.text=P,this.errorOwner=T,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return y.prototype.equalsTo=function(P){return!P||!P.getErrorType||this.getErrorType()!==P.getErrorType()?!1:this.text===P.text&&this.visible===P.visible},Object.defineProperty(y.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new s.LocalizableString(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),y.prototype.getText=function(){var P=this.text;return P||(P=this.getDefaultText()),this.errorOwner&&(P=this.errorOwner.getErrorCustomText(P,this)),P},y.prototype.getErrorType=function(){return"base"},y.prototype.getDefaultText=function(){return""},y.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},y.prototype.getLocalizationString=function(P){return m.surveyLocalization.getString(P,this.getLocale())},y.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},y}()},"./src/survey.ts":function(n,r,i){i.r(r),i.d(r,"SurveyModel",function(){return w});var s=i("./src/helpers.ts"),m=i("./src/jsonobject.ts"),g=i("./src/base.ts"),y=i("./src/survey-element.ts"),P=i("./src/defaultCss/defaultV2Css.ts"),T=i("./src/textPreProcessor.ts"),x=i("./src/conditionProcessValue.ts"),C=i("./src/dxSurveyService.ts"),E=i("./src/surveyStrings.ts"),v=i("./src/error.ts"),u=i("./src/localizablestring.ts"),c=i("./src/stylesmanager.ts"),p=i("./src/surveyTimerModel.ts"),o=i("./src/conditions.ts"),a=i("./src/settings.ts"),d=i("./src/utils/utils.ts"),h=i("./src/actions/action.ts"),f=i("./src/actions/container.ts"),l=i("./src/utils/cssClassBuilder.ts"),O=i("./src/notifier.ts"),V=function(){var R=function(I,b){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,M){D.__proto__=M}||function(D,M){for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(D[L]=M[L])},R(I,b)};return function(I,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");R(I,b);function D(){this.constructor=I}I.prototype=b===null?Object.create(b):(D.prototype=b.prototype,new D)}}(),A=function(R,I,b,D){var M=arguments.length,L=M<3?I:D===null?D=Object.getOwnPropertyDescriptor(I,b):D,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(R,I,b,D);else for(var N=R.length-1;N>=0;N--)(U=R[N])&&(L=(M<3?U(L):M>3?U(I,b,L):U(I,b))||L);return M>3&&L&&Object.defineProperty(I,b,L),L},w=function(R){V(I,R);function I(b,D){b===void 0&&(b=null),D===void 0&&(D=null);var M=R.call(this)||this;M.valuesHash={},M.variablesHash={},M.onTriggerExecuted=M.addEvent(),M.onCompleting=M.addEvent(),M.onComplete=M.addEvent(),M.onShowingPreview=M.addEvent(),M.onNavigateToUrl=M.addEvent(),M.onStarted=M.addEvent(),M.onPartialSend=M.addEvent(),M.onCurrentPageChanging=M.addEvent(),M.onCurrentPageChanged=M.addEvent(),M.onValueChanging=M.addEvent(),M.onValueChanged=M.addEvent(),M.onVariableChanged=M.addEvent(),M.onQuestionVisibleChanged=M.addEvent(),M.onVisibleChanged=M.onQuestionVisibleChanged,M.onPageVisibleChanged=M.addEvent(),M.onPanelVisibleChanged=M.addEvent(),M.onQuestionCreated=M.addEvent(),M.onQuestionAdded=M.addEvent(),M.onQuestionRemoved=M.addEvent(),M.onPanelAdded=M.addEvent(),M.onPanelRemoved=M.addEvent(),M.onPageAdded=M.addEvent(),M.onValidateQuestion=M.addEvent(),M.onSettingQuestionErrors=M.addEvent(),M.onServerValidateQuestions=M.addEvent(),M.onValidatePanel=M.addEvent(),M.onErrorCustomText=M.addEvent(),M.onValidatedErrorsOnCurrentPage=M.addEvent(),M.onProcessHtml=M.addEvent(),M.onGetQuestionDisplayValue=M.addEvent(),M.onGetQuestionTitle=M.addEvent(),M.onGetTitleTagName=M.addEvent(),M.onGetQuestionNo=M.addEvent(),M.onProgressText=M.addEvent(),M.onTextMarkdown=M.addEvent(),M.onTextRenderAs=M.addEvent(),M.onSendResult=M.addEvent(),M.onGetResult=M.addEvent(),M.onUploadFiles=M.addEvent(),M.onDownloadFile=M.addEvent(),M.onClearFiles=M.addEvent(),M.onLoadChoicesFromServer=M.addEvent(),M.onLoadedSurveyFromService=M.addEvent(),M.onProcessTextValue=M.addEvent(),M.onUpdateQuestionCssClasses=M.addEvent(),M.onUpdatePanelCssClasses=M.addEvent(),M.onUpdatePageCssClasses=M.addEvent(),M.onUpdateChoiceItemCss=M.addEvent(),M.onAfterRenderSurvey=M.addEvent(),M.onAfterRenderHeader=M.addEvent(),M.onAfterRenderPage=M.addEvent(),M.onAfterRenderQuestion=M.addEvent(),M.onAfterRenderQuestionInput=M.addEvent(),M.onAfterRenderPanel=M.addEvent(),M.onFocusInQuestion=M.addEvent(),M.onFocusInPanel=M.addEvent(),M.onShowingChoiceItem=M.addEvent(),M.onChoicesLazyLoad=M.addEvent(),M.onGetChoiceDisplayValue=M.addEvent(),M.onMatrixRowAdded=M.addEvent(),M.onMatrixBeforeRowAdded=M.addEvent(),M.onMatrixRowRemoving=M.addEvent(),M.onMatrixRowRemoved=M.addEvent(),M.onMatrixAllowRemoveRow=M.addEvent(),M.onMatrixCellCreating=M.addEvent(),M.onMatrixCellCreated=M.addEvent(),M.onMatrixAfterCellRender=M.addEvent(),M.onMatrixCellValueChanged=M.addEvent(),M.onMatrixCellValueChanging=M.addEvent(),M.onMatrixCellValidate=M.addEvent(),M.onMatrixColumnAdded=M.addEvent(),M.onMultipleTextItemAdded=M.addEvent(),M.onDynamicPanelAdded=M.addEvent(),M.onDynamicPanelRemoved=M.addEvent(),M.onDynamicPanelRemoving=M.addEvent(),M.onTimer=M.addEvent(),M.onTimerPanelInfoText=M.addEvent(),M.onDynamicPanelItemValueChanged=M.addEvent(),M.onIsAnswerCorrect=M.addEvent(),M.onDragDropAllow=M.addEvent(),M.onScrollingElementToTop=M.addEvent(),M.onLocaleChangedEvent=M.addEvent(),M.onGetQuestionTitleActions=M.addEvent(),M.onGetPanelTitleActions=M.addEvent(),M.onGetPageTitleActions=M.addEvent(),M.onGetPanelFooterActions=M.addEvent(),M.onGetMatrixRowActions=M.addEvent(),M.onElementContentVisibilityChanged=M.addEvent(),M.onGetExpressionDisplayValue=M.addEvent(),M.jsonErrors=null,M.cssValue=null,M.hideRequiredErrors=!1,M._isMobile=!1,M._isCompact=!1,M._isDesignMode=!1,M.ignoreValidation=!1,M.isNavigationButtonPressed=!1,M.mouseDownPage=null,M.isCalculatingProgressText=!1,M.isFirstPageRendering=!0,M.isCurrentPageRendering=!0,M.isTriggerIsRunning=!1,M.triggerValues=null,M.triggerKeys=null,M.conditionValues=null,M.isValueChangedOnRunningCondition=!1,M.conditionRunnerCounter=0,M.conditionUpdateVisibleIndexes=!1,M.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,M.isEndLoadingFromJson=null,M.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},M.afterRenderPageTasks=[],M.needRenderIcons=!0,M.skippedPages=[],M.skeletonComponentName="sv-skeleton",typeof document<"u"&&(I.stylesManager=new c.StylesManager);var L=function(U){return"<h3>"+U+"</h3>"};return M.createHtmlLocString("completedHtml","completingSurvey",L),M.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",L),M.createHtmlLocString("loadingHtml","loadingSurvey",L),M.createLocalizableString("logo",M,!1),M.createLocalizableString("backgroundImage",M,!1),M.createLocalizableString("startSurveyText",M,!1,!0),M.createLocalizableString("pagePrevText",M,!1,!0),M.createLocalizableString("pageNextText",M,!1,!0),M.createLocalizableString("completeText",M,!1,!0),M.createLocalizableString("previewText",M,!1,!0),M.createLocalizableString("editText",M,!1,!0),M.createLocalizableString("questionTitleTemplate",M,!0),M.textPreProcessor=new T.TextPreProcessor,M.textPreProcessor.onProcess=function(U){M.getProcessedTextValue(U)},M.timerModelValue=new p.SurveyTimerModel(M),M.timerModelValue.onTimer=function(U){M.doTimer(U)},M.createNewArray("pages",function(U){M.doOnPageAdded(U)},function(U){M.doOnPageRemoved(U)}),M.createNewArray("triggers",function(U){U.setOwner(M)}),M.createNewArray("calculatedValues",function(U){U.setOwner(M)}),M.createNewArray("completedHtmlOnCondition",function(U){U.locOwner=M}),M.createNewArray("navigateToUrlOnCondition",function(U){U.locOwner=M}),M.registerPropertyChangedHandlers(["locale"],function(){M.onSurveyLocaleChanged()}),M.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){M.onFirstPageIsStartedChanged()}),M.registerPropertyChangedHandlers(["mode"],function(){M.onModeChanged()}),M.registerPropertyChangedHandlers(["progressBarType"],function(){M.updateProgressText()}),M.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){M.resetVisibleIndexes()}),M.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){M.updateState()}),M.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){M.onStateAndCurrentPageChanged()}),M.registerPropertyChangedHandlers(["logo","logoPosition"],function(){M.updateHasLogo()}),M.registerPropertyChangedHandlers(["backgroundImage"],function(){M.updateRenderBackgroundImage()}),M.onGetQuestionNo.onCallbacksChanged=function(){M.resetVisibleIndexes()},M.onProgressText.onCallbacksChanged=function(){M.updateProgressText()},M.onTextMarkdown.onCallbacksChanged=function(){M.locStrsChanged()},M.onProcessHtml.onCallbacksChanged=function(){M.locStrsChanged()},M.onGetQuestionTitle.onCallbacksChanged=function(){M.locStrsChanged()},M.onUpdatePageCssClasses.onCallbacksChanged=function(){M.currentPage&&M.currentPage.updateElementCss()},M.onUpdatePanelCssClasses.onCallbacksChanged=function(){M.currentPage&&M.currentPage.updateElementCss()},M.onUpdateQuestionCssClasses.onCallbacksChanged=function(){M.currentPage&&M.currentPage.updateElementCss()},M.onShowingChoiceItem.onCallbacksChanged=function(){M.rebuildQuestionChoices()},M.navigationBarValue=M.createNavigationBar(),M.navigationBar.locOwner=M,M.onBeforeCreating(),b&&((typeof b=="string"||b instanceof String)&&(b=JSON.parse(b)),b&&b.clientId&&(M.clientId=b.clientId),M.fromJSON(b),M.surveyId&&M.loadSurveyFromService(M.surveyId,M.clientId)),M.onCreating(),D&&M.render(D),M.updateCss(),M.setCalculatedWidthModeUpdater(),M.notifier=new O.Notifier(M.css.saveData),M.notifier.addAction(M.createTryAgainAction(),"error"),M.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:M.timerModel}),M.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:M}),M.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:M}),M.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:M}),M.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:M}),M.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:M}),M.addLayoutElement({id:"toc-navigation",component:"sv-progress-toc",data:M}),M.layoutElements.push({id:"navigationbuttons",component:"sv-action-bar",data:M.navigationBar}),M}return Object.defineProperty(I,"cssType",{get:function(){return P.surveyCss.currentType},set:function(b){c.StylesManager.applyTheme(b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"platformName",{get:function(){return I.platform},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"commentSuffix",{get:function(){return a.settings.commentSuffix},set:function(b){a.settings.commentSuffix=b},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(b){this.commentSuffix=b},enumerable:!1,configurable:!0}),I.prototype.createTryAgainAction=function(){var b=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){b.isCompleted?b.saveDataOnComplete():b.doComplete()}}},I.prototype.createHtmlLocString=function(b,D,M){this.createLocalizableString(b,this,!1,D).onGetLocalizationTextCallback=M},I.prototype.getType=function(){return"survey"},I.prototype.onPropertyValueChanged=function(b,D,M){b==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(D)},Object.defineProperty(I.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),I.prototype.render=function(b){this.renderCallback&&this.renderCallback()},I.prototype.updateSurvey=function(b,D){var M=function(){if(U=="model"||U=="children")return"continue";if(U.indexOf("on")==0&&L[U]&&L[U].add){var N=b[U],W=function(z,Q){N(z,Q)};L[U].add(W)}else L[U]=b[U]},L=this;for(var U in b)M();b&&b.data&&this.onValueChanged.add(function(N,W){b.data[W.name]=W.value})},I.prototype.getCss=function(){return this.css},I.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new l.CssClassBuilder().append(this.css.body).append(this.css.completedPage).toString()},I.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss()},Object.defineProperty(I.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,P.surveyCss.getCss())),this.cssValue},set:function(b){this.setCss(b)},enumerable:!1,configurable:!0}),I.prototype.setCss=function(b,D){D===void 0&&(D=!0),D?this.mergeValues(b,this.css):this.cssValue=b,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(I.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cssSurveyNavigationButton",{get:function(){return new l.CssClassBuilder().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"bodyCss",{get:function(){return new l.CssClassBuilder().append(this.css.body).append(this.css.bodyWithTimer,this.showTimerPanel!="none"&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),I.prototype.getNavigationCss=function(b,D){return new l.CssClassBuilder().append(b).append(D).toString()},Object.defineProperty(I.prototype,"lazyRendering",{get:function(){return this.lazyRenderingValue===!0},set:function(b){if(this.lazyRendering!==b){this.lazyRenderingValue=b;var D=this.currentPage;D&&D.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||a.settings.lazyRowsRendering},enumerable:!1,configurable:!0}),I.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var b=this.currentPage;b&&Object(d.scrollElementByChildId)(b.id)}},Object.defineProperty(I.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(b){this.setPropertyValue("triggers",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(b){this.setPropertyValue("calculatedValues",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(b){this.setPropertyValue("surveyId",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(b){this.setPropertyValue("surveyPostId",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(b){this.setPropertyValue("clientId",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(b){this.setPropertyValue("cookieName",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(b){this.setPropertyValue("sendResultOnPageNext",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(b){this.setPropertyValue("surveyShowDataSaving",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(b){this.setPropertyValue("focusFirstQuestionAutomatic",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(b){this.setPropertyValue("focusOnFirstError",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(b){(b===!0||b===void 0)&&(b="bottom"),b===!1&&(b="none"),this.setPropertyValue("showNavigationButtons",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(b){this.setPropertyValue("showPrevButton",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(b){this.setPropertyValue("showTOC",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(b){this.setPropertyValue("tocLocation",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(b){this.setPropertyValue("showTitle",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(b){this.setPropertyValue("showPageTitles",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(b){this.setPropertyValue("showCompletedPage",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(b){this.setPropertyValue("navigateToUrl",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(b){this.setPropertyValue("navigateToUrlOnCondition",b)},enumerable:!1,configurable:!0}),I.prototype.getNavigateToUrl=function(){var b=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),D=b?b.url:this.navigateToUrl;return D&&(D=this.processText(D,!1)),D},I.prototype.navigateTo=function(){var b=this.getNavigateToUrl(),D={url:b,allow:!0};this.onNavigateToUrl.fire(this,D),!(!D.url||!D.allow)&&Object(d.navigateToUrl)(D.url)},Object.defineProperty(I.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(b){this.setPropertyValue("requiredText",b)},enumerable:!1,configurable:!0}),I.prototype.beforeSettingQuestionErrors=function(b,D){this.maakeRequiredErrorsInvisibgle(D),this.onSettingQuestionErrors.fire(this,{question:b,errors:D})},I.prototype.beforeSettingPanelErrors=function(b,D){this.maakeRequiredErrorsInvisibgle(D)},I.prototype.maakeRequiredErrorsInvisibgle=function(b){if(this.hideRequiredErrors)for(var D=0;D<b.length;D++){var M=b[D].getErrorType();(M=="required"||M=="requireoneanswer")&&(b[D].visible=!1)}},Object.defineProperty(I.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(b){this.setPropertyValue("questionStartIndex",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(b){this.setPropertyValue("storeOthersAsComment",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(b){this.setPropertyValue("maxTextLength",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(b){this.setPropertyValue("maxOthersLength",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(b){this.setPropertyValue("goNextPageAutomatic",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(b){this.setPropertyValue("allowCompleteSurveyAutomatic",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(b){this.setPropertyValue("checkErrorsMode",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(b){this.setPropertyValue("autoGrowComment",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(b){this.setPropertyValue("textUpdateMode",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(b){b===!0&&(b="onComplete"),b===!1&&(b="none"),this.setPropertyValue("clearInvisibleValues",b)},enumerable:!1,configurable:!0}),I.prototype.clearIncorrectValues=function(b){b===void 0&&(b=!1);for(var D=0;D<this.pages.length;D++)this.pages[D].clearIncorrectValues();if(b){var M=this.data,L=!1;for(var U in M)if(!this.getQuestionByValueName(U)&&!(this.iscorrectValueWithPostPrefix(U,a.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(U,a.settings.matrixTotalValuePostFix))){var N=this.getCalculatedValueByName(U);N&&N.includeIntoResult||(L=!0,delete M[U])}L&&(this.data=M)}},I.prototype.iscorrectValueWithPostPrefix=function(b,D){return b.indexOf(D)!==b.length-D.length?!1:!!this.getQuestionByValueName(b.substring(0,b.indexOf(D)))},Object.defineProperty(I.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(b){this.setPropertyValue("keepIncorrectValues",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locale",{get:function(){return this.getPropertyValue("locale",E.surveyLocalization.currentLocale)},set:function(b){b===E.surveyLocalization.defaultLocale&&!E.surveyLocalization.currentLocale&&(b=""),this.setPropertyValue("locale",b)},enumerable:!1,configurable:!0}),I.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},I.prototype.getUsedLocales=function(){var b=new Array;this.addUsedLocales(b);var D=b.indexOf("default");if(D>-1){var M=E.surveyLocalization.defaultLocale,L=b.indexOf(M);L>-1&&b.splice(L,1),D=b.indexOf("default"),b[D]=M}return b},I.prototype.localeChanged=function(){for(var b=0;b<this.pages.length;b++)this.pages[b].localeChanged()},I.prototype.getLocale=function(){return this.locale},I.prototype.locStrsChanged=function(){if(R.prototype.locStrsChanged.call(this),!!this.currentPage){this.isShowStartingPage||this.updateProgressText();var b=this.activePage;b&&b.locStrsChanged();for(var D=this.visiblePages,M=0;M<D.length;M++)D[M].navigationLocStrChanged();this.navigationBar.locStrsChanged()}},I.prototype.getMarkdownHtml=function(b,D){return this.getSurveyMarkdownHtml(this,b,D)},I.prototype.getRenderer=function(b){return this.getRendererForString(this,b)},I.prototype.getRendererContext=function(b){return this.getRendererContextForString(this,b)},I.prototype.getRendererForString=function(b,D){var M=this.getBuiltInRendererForString(b,D),L={element:b,name:D,renderAs:M};return this.onTextRenderAs.fire(this,L),L.renderAs},I.prototype.getRendererContextForString=function(b,D){return D},I.prototype.getExpressionDisplayValue=function(b,D,M){var L={question:b,value:D,displayValue:M};return this.onGetExpressionDisplayValue.fire(this,L),L.displayValue},I.prototype.getBuiltInRendererForString=function(b,D){if(this.isDesignMode)return u.LocalizableString.editableRenderer},I.prototype.getProcessedText=function(b){return this.processText(b,!0)},I.prototype.getLocString=function(b){return this.getLocalizationString(b)},I.prototype.getErrorCustomText=function(b,D){return this.getSurveyErrorCustomText(this,b,D)},I.prototype.getSurveyErrorCustomText=function(b,D,M){var L={text:D,name:M.getErrorType(),obj:b,error:M};return this.onErrorCustomText.fire(this,L),L.text},I.prototype.getQuestionDisplayValue=function(b,D){var M={question:b,displayValue:D};return this.onGetQuestionDisplayValue.fire(this,M),M.displayValue},Object.defineProperty(I.prototype,"emptySurveyText",{get:function(){return this.getLocalizationString("emptySurvey")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(b){this.setLocalizableStringText("logo",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"logoWidth",{get:function(){var b=this.getPropertyValue("logoWidth");return Object(d.getSize)(b)},set:function(b){this.setPropertyValue("logoWidth",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"logoHeight",{get:function(){var b=this.getPropertyValue("logoHeight");return Object(d.getSize)(b)},set:function(b){this.setPropertyValue("logoHeight",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(b){this.setPropertyValue("logoPosition",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),I.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&this.logoPosition!=="none")},Object.defineProperty(I.prototype,"isLogoBefore",{get:function(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"logoClassNames",{get:function(){var b={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new l.CssClassBuilder().append(this.css.logo).append(b[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(b){this.setPropertyValue("logoFit",b)},enumerable:!1,configurable:!0}),I.prototype.setIsMobile=function(b){b===void 0&&(b=!0),this.isMobile!==b&&(this._isMobile=b,this.updateCss(),this.getAllQuestions().map(function(D){return D.isMobile=b}))},Object.defineProperty(I.prototype,"isMobile",{get:function(){return this._isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isCompact",{get:function(){return this._isCompact},set:function(b){b!==this._isCompact&&(this._isCompact=b,this.updateElementCss())},enumerable:!1,configurable:!0}),I.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(I.prototype,"titleMaxWidth",{get:function(){if(!(Object(d.isMobile)()||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!a.settings.supportCreatorV2){var b=this.logoWidth;if(this.logoPosition==="left"||this.logoPosition==="right")return"calc(100% - 5px - 2em - "+b+")"}return""},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"backgroundImage",{get:function(){return this.getLocalizableStringText("backgroundImage")},set:function(b){this.setLocalizableStringText("backgroundImage",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locBackgroundImage",{get:function(){return this.getLocalizableString("backgroundImage")},enumerable:!1,configurable:!0}),I.prototype.updateRenderBackgroundImage=function(){this.renderBackgroundImage=["url(",this.getLocalizableString("backgroundImage").renderedHtml,")"].join("")},Object.defineProperty(I.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(b){this.setPropertyValue("backgroundOpacity",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderBackgroundOpacity",{get:function(){var b=this.getPropertyByName("backgroundOpacity");if(b.isDefaultValue(this.backgroundOpacity))return"";var D=1-this.backgroundOpacity;return["rgba(255, 255, 255, ",D,")"].join("")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(b){this.setLocalizableStringText("completedHtml",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(b){this.setPropertyValue("completedHtmlOnCondition",b)},enumerable:!1,configurable:!0}),I.prototype.runExpression=function(b){if(!b)return null;var D=this.getFilteredValues(),M=this.getFilteredProperties();return new o.ExpressionRunner(b).run(D,M)},I.prototype.runCondition=function(b){if(!b)return!1;var D=this.getFilteredValues(),M=this.getFilteredProperties();return new o.ConditionRunner(b).run(D,M)},I.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(I.prototype,"renderedCompletedHtml",{get:function(){var b=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return b?b.html:this.completedHtml},enumerable:!1,configurable:!0}),I.prototype.getExpressionItemOnRunCondition=function(b){if(b.length==0)return null;for(var D=this.getFilteredValues(),M=this.getFilteredProperties(),L=0;L<b.length;L++)if(b[L].runCondition(D,M))return b[L];return null},Object.defineProperty(I.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(b){this.setLocalizableStringText("completedBeforeHtml",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(b){this.setLocalizableStringText("loadingHtml",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),I.prototype.addNavigationItem=function(b){return b.component||(b.component="sv-nav-btn"),b.innerCss||(b.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(b)},Object.defineProperty(I.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(b){this.setLocalizableStringText("startSurveyText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(b){this.setLocalizableStringText("pagePrevText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(b){this.setLocalizableStringText("pageNextText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(b){this.setLocalizableStringText("completeText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(b){this.setLocalizableStringText("previewText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(b){this.setLocalizableStringText("editText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),I.prototype.getElementTitleTagName=function(b,D){if(this.onGetTitleTagName.isEmpty)return D;var M={element:b,tagName:D};return this.onGetTitleTagName.fire(this,M),M.tagName},Object.defineProperty(I.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(b){b!=="numRequireTitle"&&b!=="requireNumTitle"&&b!="numTitle"&&(b="numTitleRequire"),this.setPropertyValue("questionTitlePattern",b)},enumerable:!1,configurable:!0}),I.prototype.getQuestionTitlePatternOptions=function(){var b=new Array,D=this.getLocalizationString("questionTitlePatternText"),M=this.questionStartIndex?this.questionStartIndex:"1.";return b.push({value:"numTitleRequire",text:M+" "+D+" "+this.requiredText}),b.push({value:"numRequireTitle",text:M+" "+this.requiredText+" "+D}),b.push({value:"requireNumTitle",text:this.requiredText+" "+M+" "+D}),b.push({value:"numTitle",text:M+" "+D}),b},Object.defineProperty(I.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(b){this.setLocalizableStringText("questionTitleTemplate",b),this.questionTitlePattern=this.getNewTitlePattern(b),this.questionStartIndex=this.getNewQuestionTitleElement(b,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(b,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),I.prototype.getNewTitlePattern=function(b){if(b){for(var D=[];b.indexOf("{")>-1;){b=b.substring(b.indexOf("{")+1);var M=b.indexOf("}");if(M<0)break;D.push(b.substring(0,M)),b=b.substring(M+1)}if(D.length>1){if(D[0]=="require")return"requireNumTitle";if(D[1]=="require"&&D.length==3)return"numRequireTitle";if(D.indexOf("require")<0)return"numTitle"}if(D.length==1&&D[0]=="title")return"numTitle"}return"numTitleRequire"},I.prototype.getNewQuestionTitleElement=function(b,D,M,L){if(D="{"+D+"}",!b||b.indexOf(D)<0)return M;for(var U=b.indexOf(D),N="",W="",z=U-1;z>=0&&b[z]!="}";z--);for(z<U-1&&(N=b.substring(z+1,U)),U+=D.length,z=U;z<b.length&&b[z]!="{";z++);for(z>U&&(W=b.substring(U,z)),z=0;z<N.length&&N.charCodeAt(z)<33;)z++;for(N=N.substring(z),z=W.length-1;z>=0&&W.charCodeAt(z)<33;)z--;if(W=W.substring(0,z+1),!N&&!W)return M;var Q=M||L;return N+Q+W},Object.defineProperty(I.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),I.prototype.getUpdatedQuestionTitle=function(b,D){if(this.onGetQuestionTitle.isEmpty)return D;var M={question:b,title:D};return this.onGetQuestionTitle.fire(this,M),M.title},I.prototype.getUpdatedQuestionNo=function(b,D){if(this.onGetQuestionNo.isEmpty)return D;var M={question:b,no:D};return this.onGetQuestionNo.fire(this,M),M.no},Object.defineProperty(I.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(b){b!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",b),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(b){b===!0&&(b="on"),b===!1&&(b="off"),b=b.toLowerCase(),b=b==="onpage"?"onPage":b,b!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",b),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(b){this.setPropertyValue("showProgressBar",b.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(b){b==="correctquestion"&&(b="correctQuestion"),b==="requiredquestion"&&(b="requiredQuestion"),this.setPropertyValue("progressBarType",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowProgressBarOnTop",{get:function(){return this.canShowProresBar()?this.showProgressBar==="top"||this.showProgressBar==="both":!1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowProgressBarOnBottom",{get:function(){return this.canShowProresBar()?this.showProgressBar==="bottom"||this.showProgressBar==="both":!1},enumerable:!1,configurable:!0}),I.prototype.getProgressCssClasses=function(){return new l.CssClassBuilder().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop).append(this.css.progressBottom,this.isShowProgressBarOnBottom).toString()},I.prototype.canShowProresBar=function(){return!this.isShowingPreview||this.showPreviewBeforeComplete!="showAllQuestions"},Object.defineProperty(I.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(b){this.setPropertyValue("questionTitleLocation",b.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),I.prototype.updateElementCss=function(b){this.startedPage&&this.startedPage.updateElementCss(b);for(var D=this.visiblePages,M=0;M<D.length;M++)D[M].updateElementCss(b)},Object.defineProperty(I.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(b){this.setPropertyValue("questionErrorLocation",b.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(b){this.setPropertyValue("questionDescriptionLocation",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(b){b=b.toLowerCase(),b!=this.mode&&(b!="edit"&&b!="display"||this.setPropertyValue("mode",b))},enumerable:!1,configurable:!0}),I.prototype.onModeChanged=function(){for(var b=0;b<this.pages.length;b++){var D=this.pages[b];D.setPropertyValue("isReadOnly",D.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(I.prototype,"data",{get:function(){for(var b={},D=this.getValuesKeys(),M=0;M<D.length;M++){var L=D[M],U=this.getDataValueCore(this.valuesHash,L);U!==void 0&&(b[L]=U)}return this.setCalculatedValuesIntoResult(b),b},set:function(b){this.valuesHash={},this.setDataCore(b)},enumerable:!1,configurable:!0}),I.prototype.mergeData=function(b){if(b){var D=this.data;this.mergeValues(b,D),this.setDataCore(D)}},I.prototype.setDataCore=function(b){if(b)for(var D in b)this.setDataValueCore(this.valuesHash,D,b[D]);this.updateAllQuestionsValue(),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue()},I.prototype.getStructuredData=function(b,D){if(b===void 0&&(b=!0),D===void 0&&(D=-1),D===0)return this.data;var M={};return this.pages.forEach(function(L){if(b){var U={};L.collectValues(U,D-1)&&(M[L.name]=U)}else L.collectValues(M,D)}),M},I.prototype.setStructuredData=function(b,D){if(D===void 0&&(D=!1),!!b){var M={};for(var L in b){var U=this.getQuestionByValueName(L);if(U)M[L]=b[L];else{var N=this.getPageByName(L);N||(N=this.getPanelByName(L)),N&&this.collectDataFromPanel(N,M,b[L])}}D?this.mergeData(M):this.data=M}},I.prototype.collectDataFromPanel=function(b,D,M){for(var L in M){var U=b.getElementByName(L);U&&(U.isPanel?this.collectDataFromPanel(U,D,M[L]):D[L]=M[L])}},Object.defineProperty(I.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(b){var D=this;if(this.editingObj!=b&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=b,!this.isDisposed)){if(!b)for(var M=this.getAllQuestions(),L=0;L<M.length;L++)M[L].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(U,N){m.Serializer.hasOriginalProperty(D.editingObj,N.name)&&D.updateOnSetValue(N.name,D.editingObj[N.name],N.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),I.prototype.setCalculatedValuesIntoResult=function(b){for(var D=0;D<this.calculatedValues.length;D++){var M=this.calculatedValues[D];M.includeIntoResult&&M.name&&this.getVariable(M.name)!==void 0&&(b[M.name]=this.getVariable(M.name))}},I.prototype.getAllValues=function(){return this.data},I.prototype.getPlainData=function(b){b||(b={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var D=[],M=[];if(this.getAllQuestions().forEach(function(z){var Q=z.getPlainData(b);Q&&(D.push(Q),M.push(z.valueName||z.name))}),b.includeValues)for(var L=this.getValuesKeys(),U=0;U<L.length;U++){var N=L[U];if(M.indexOf(N)==-1){var W=this.getDataValueCore(this.valuesHash,N);W&&D.push({name:N,title:N,value:W,displayValue:W,isNode:!1,getString:function(z){return typeof z=="object"?JSON.stringify(z):z}})}}return D},I.prototype.getFilteredValues=function(){var b={};for(var D in this.variablesHash)b[D]=this.variablesHash[D];this.addCalculatedValuesIntoFilteredValues(b);for(var M=this.getValuesKeys(),L=0;L<M.length;L++){var D=M[L];b[D]=this.getDataValueCore(this.valuesHash,D)}return b},I.prototype.addCalculatedValuesIntoFilteredValues=function(b){for(var D=this.calculatedValues,M=0;M<D.length;M++)b[D[M].name]=D[M].value},I.prototype.getFilteredProperties=function(){return{survey:this}},I.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var b=m.Serializer.getPropertiesByObj(this.editingObj),D=[],M=0;M<b.length;M++)D.push(b[M].name);return D},I.prototype.getDataValueCore=function(b,D){return this.editingObj?m.Serializer.getObjPropertyValue(this.editingObj,D):this.getDataFromValueHash(b,D)},I.prototype.setDataValueCore=function(b,D,M){this.editingObj?m.Serializer.setObjPropertyValue(this.editingObj,D,M):this.setDataToValueHash(b,D,M)},I.prototype.deleteDataValueCore=function(b,D){this.editingObj?this.editingObj[D]=null:this.deleteDataFromValueHash(b,D)},I.prototype.getDataFromValueHash=function(b,D){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(b,D):b[D]},I.prototype.setDataToValueHash=function(b,D,M){this.valueHashSetDataCallback?this.valueHashSetDataCallback(b,D,M):b[D]=M},I.prototype.deleteDataFromValueHash=function(b,D){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(b,D):delete b[D]},Object.defineProperty(I.prototype,"comments",{get:function(){for(var b={},D=this.getValuesKeys(),M=0;M<D.length;M++){var L=D[M];L.indexOf(this.commentSuffix)>0&&(b[L]=this.getDataValueCore(this.valuesHash,L))}return b},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var b=new Array,D=0;D<this.pages.length;D++)this.isPageInVisibleList(this.pages[D])&&b.push(this.pages[D]);return b},enumerable:!1,configurable:!0}),I.prototype.isPageInVisibleList=function(b){return this.isDesignMode||b.isVisible&&!b.isStartPage},Object.defineProperty(I.prototype,"isEmpty",{get:function(){return this.pages.length==0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"startedPage",{get:function(){var b=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return b&&(b.onFirstRendering(),b.setWasShown(!0)),b},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(b){if(!this.isLoadingFromJson){var D=this.getPageByObject(b);if(!(b&&!D)&&!(!D&&this.isCurrentPageAvailable)){var M=this.visiblePages;if(!(D!=null&&M.indexOf(D)<0)&&D!=this.currentPage){var L=this.currentPage;this.currentPageChanging(D,L)&&(this.setPropertyValue("currentPage",D),D&&(D.onFirstRendering(),D.updateCustomWidgets(),D.setWasShown(!0)),this.locStrsChanged(),this.currentPageChanged(D,L))}}}},enumerable:!1,configurable:!0}),I.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(I.prototype,"isCurrentPageAvailable",{get:function(){var b=this.currentPage;return!!b&&this.isPageInVisibleList(b)&&this.isPageExistsInSurvey(b)},enumerable:!1,configurable:!0}),I.prototype.isPageExistsInSurvey=function(b){return this.pages.indexOf(b)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(b)},Object.defineProperty(I.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowStartingPage",{get:function(){return this.state==="starting"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowingPage",{get:function(){return this.state=="running"||this.state=="preview"||this.isShowStartingPage},enumerable:!1,configurable:!0}),I.prototype.updateActivePage=function(){var b=this.isShowStartingPage?this.startedPage:this.currentPage;this.setPropertyValue("activePage",b)},I.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},I.prototype.getPageByObject=function(b){if(!b)return null;if(b.getType&&b.getType()=="page")return b;if(typeof b=="string"||b instanceof String)return this.getPageByName(String(b));if(!isNaN(b)){var D=Number(b),M=this.visiblePages;return b<0||b>=M.length?null:M[D]}return b},Object.defineProperty(I.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(b){var D=this.visiblePages;b<0||b>=D.length||(this.currentPage=D[b])},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(b){this.setPropertyValue("questionsOrder",b)},enumerable:!1,configurable:!0}),I.prototype.focusFirstQuestion=function(){if(!this.isFocusingQuestion){var b=this.activePage;b&&(b.scrollToTop(),b.focusFirstQuestion())}},I.prototype.scrollToTopOnPageChange=function(b){b===void 0&&(b=!0);var D=this.activePage;D&&(b&&D.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.isFocusingQuestion&&(D.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(I.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),I.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},I.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(I.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(b){this.setPropertyValue("isCompleted",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(b){this.isShowingPreview!=b&&(this.setPropertyValue("isShowingPreview",b),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(b){this.setPropertyValue("isStartedState",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(b){this.setPropertyValue("isCompletedBefore",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(b){this.setPropertyValue("isLoading",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),I.prototype.setCompletedState=function(b,D){this.setPropertyValue("completedState",b),D||(b=="saving"&&(D=this.getLocalizationString("savingData")),b=="error"&&(D=this.getLocalizationString("savingDataError")),b=="success"&&(D=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",D),this.state==="completed"&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState)},I.prototype.notify=function(b,D){this.notifier.notify(b,D,D==="error")},I.prototype.clear=function(b,D){b===void 0&&(b=!0),D===void 0&&(D=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,b&&(this.data=null,this.variablesHash={}),this.timerModel.spent=0;for(var M=0;M<this.pages.length;M++)this.pages[M].timeSpent=0,this.pages[M].setWasShown(!1),this.pages[M].passed=!1;this.onFirstPageIsStartedChanged(),D&&(this.currentPage=this.firstVisiblePage),b&&this.updateValuesWithDefaults()},I.prototype.mergeValues=function(b,D){Object(d.mergeValues)(b,D)},I.prototype.updateValuesWithDefaults=function(){if(!(this.isDesignMode||this.isLoading))for(var b=0;b<this.pages.length;b++)for(var D=this.pages[b].questions,M=0;M<D.length;M++)D[M].updateValueWithDefaults()},I.prototype.updateCustomWidgets=function(b){b&&b.updateCustomWidgets()},I.prototype.currentPageChanging=function(b,D){var M=this.createPageChangeEventOptions(b,D);M.allow=!0,M.allowChanging=!0,this.onCurrentPageChanging.fire(this,M);var L=M.allowChanging&&M.allow;return L&&(this.isCurrentPageRendering=!0),L},I.prototype.currentPageChanged=function(b,D){var M=this.createPageChangeEventOptions(b,D);M.isNextPage&&(D.passed=!0),this.onCurrentPageChanged.fire(this,M)},I.prototype.createPageChangeEventOptions=function(b,D){var M=b&&D?b.visibleIndex-D.visibleIndex:0;return{oldCurrentPage:D,newCurrentPage:b,isNextPage:M===1,isPrevPage:M===-1,isGoingForward:M>0,isGoingBackward:M<0}},I.prototype.getProgress=function(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var b=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?b.requiredQuestionCount>=1?Math.ceil(b.requiredAnsweredQuestionCount*100/b.requiredQuestionCount):100:b.questionCount>=1?Math.ceil(b.answeredQuestionCount*100/b.questionCount):100}var D=this.visiblePages,M=D.indexOf(this.currentPage)+1;return Math.ceil(M*100/D.length)},Object.defineProperty(I.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var b=this.currentPage;return b?b.navigationButtonsVisibility==="show"?this.showNavigationButtons==="none"?"bottom":this.showNavigationButtons:b.navigationButtonsVisibility==="hide"?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),I.prototype.getIsNavigationButtonsShowingOn=function(b){var D=this.isNavigationButtonsShowing;return D=="both"||D==b},Object.defineProperty(I.prototype,"isEditMode",{get:function(){return this.mode=="edit"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isDisplayMode",{get:function(){return this.mode=="display"||this.state=="preview"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isUpdateValueTextOnTyping",{get:function(){return this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),I.prototype.setDesignMode=function(b){!!this._isDesignMode!=!!b&&(this._isDesignMode=!!b,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(I.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(b){var D=this.visiblePages;this.setPropertyValue("showInvisibleElements",b),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(D))},enumerable:!1,configurable:!0}),I.prototype.updateAllElementsVisibility=function(b){for(var D=0;D<this.pages.length;D++){var M=this.pages[D];M.updateElementVisibility(),b.indexOf(M)>-1!=M.isVisible&&this.onPageVisibleChanged.fire(this,{page:M,visible:M.isVisible})}},Object.defineProperty(I.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&this.showPreviewBeforeComplete=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"hasCookie",{get:function(){if(!this.cookieName||typeof document>"u")return!1;var b=document.cookie;return b&&b.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),I.prototype.setCookie=function(){!this.cookieName||typeof document>"u"||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},I.prototype.deleteCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=;")},I.prototype.nextPage=function(){return this.isLastPage?!1:this.doCurrentPageComplete(!1)},I.prototype.hasErrorsOnNavigate=function(b){var D=this;if(this.ignoreValidation||!this.isEditMode)return!1;var M=function(L){L||D.doCurrentPageCompleteCore(b)};return this.checkErrorsMode==="onComplete"?this.isLastPage?this.validate(!0,!0,M)!==!0:!1:this.validateCurrentPage(M)!==!0},I.prototype.checkForAsyncQuestionValidation=function(b,D){var M=this;this.clearAsyncValidationQuesitons();for(var L=function(){if(b[N].isRunningValidators){var W=b[N];W.onCompletedAsyncValidators=function(z){M.onCompletedAsyncQuestionValidators(W,D,z)},U.asyncValidationQuesitons.push(b[N])}},U=this,N=0;N<b.length;N++)L();return this.asyncValidationQuesitons.length>0},I.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var b=this.asyncValidationQuesitons,D=0;D<b.length;D++)b[D].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},I.prototype.onCompletedAsyncQuestionValidators=function(b,D,M){if(M){if(this.clearAsyncValidationQuesitons(),D(!0),this.focusOnFirstError&&b&&b.page&&b.page===this.currentPage){for(var L=this.currentPage.questions,U=0;U<L.length;U++)if(L[U]!==b&&L[U].errors.length>0)return;b.focus(!0)}return}for(var N=this.asyncValidationQuesitons,W=0;W<N.length;W++)if(N[W].isRunningValidators)return;D(!1)},Object.defineProperty(I.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),I.prototype.hasCurrentPageErrors=function(b){return this.hasPageErrors(void 0,b)},I.prototype.validateCurrentPage=function(b){return this.validatePage(void 0,b)},I.prototype.hasPageErrors=function(b,D){var M=this.validatePage(b,D);return M===void 0?M:!M},I.prototype.validatePage=function(b,D){return b||(b=this.activePage),b?this.checkIsPageHasErrors(b)?!1:D&&this.checkForAsyncQuestionValidation(b.questions,function(M){return D(M)})?void 0:!0:!0},I.prototype.hasErrors=function(b,D,M){b===void 0&&(b=!0),D===void 0&&(D=!1);var L=this.validate(b,D,M);return L===void 0?L:!L},I.prototype.validate=function(b,D,M){b===void 0&&(b=!0),D===void 0&&(D=!1),M&&(b=!0);for(var L=this.visiblePages,U=null,N=!0,W=0;W<L.length;W++)L[W].validate(b,!1)||(U||(U=L[W]),N=!1);if(D&&U){this.currentPage=U;for(var z=U.questions,W=0;W<z.length;W++)if(z[W].errors.length>0){z[W].focus(!0);break}}return!N||!M?N:this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(Q){return M(Q)})?void 0:!0},I.prototype.ensureUniqueNames=function(b){if(b===void 0&&(b=null),b==null)for(var D=0;D<this.pages.length;D++)this.ensureUniqueName(this.pages[D]);else this.ensureUniqueName(b)},I.prototype.ensureUniqueName=function(b){if(b.isPage&&this.ensureUniquePageName(b),b.isPanel&&this.ensureUniquePanelName(b),b.isPage||b.isPanel)for(var D=b.elements,M=0;M<D.length;M++)this.ensureUniqueNames(D[M]);else this.ensureUniqueQuestionName(b)},I.prototype.ensureUniquePageName=function(b){var D=this;return this.ensureUniqueElementName(b,function(M){return D.getPageByName(M)})},I.prototype.ensureUniquePanelName=function(b){var D=this;return this.ensureUniqueElementName(b,function(M){return D.getPanelByName(M)})},I.prototype.ensureUniqueQuestionName=function(b){var D=this;return this.ensureUniqueElementName(b,function(M){return D.getQuestionByName(M)})},I.prototype.ensureUniqueElementName=function(b,D){var M=D(b.name);if(!(!M||M==b)){for(var L=this.getNewName(b.name);D(L);)var L=this.getNewName(b.name);b.name=L}},I.prototype.getNewName=function(b){for(var D=b.length;D>0&&b[D-1]>="0"&&b[D-1]<="9";)D--;var M=b.substring(0,D),L=0;return D<b.length&&(L=parseInt(b.substring(D))),L++,M+L},I.prototype.checkIsCurrentPageHasErrors=function(b){return b===void 0&&(b=void 0),this.checkIsPageHasErrors(this.activePage,b)},I.prototype.checkIsPageHasErrors=function(b,D){if(D===void 0&&(D=void 0),D===void 0&&(D=this.focusOnFirstError),!b)return!0;var M=!b.validate(!0,D);return this.fireValidatedErrorsOnPage(b),M},I.prototype.fireValidatedErrorsOnPage=function(b){if(!(this.onValidatedErrorsOnCurrentPage.isEmpty||!b)){for(var D=b.questions,M=new Array,L=new Array,U=0;U<D.length;U++){var N=D[U];if(N.errors.length>0){M.push(N);for(var W=0;W<N.errors.length;W++)L.push(N.errors[W])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:M,errors:L,page:b})}},I.prototype.prevPage=function(){var b=this;if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();var D=this.skippedPages.find(function(U){return U.to==b.currentPage});if(D)this.currentPage=D.from,this.skippedPages.splice(this.skippedPages.indexOf(D),1);else{var M=this.visiblePages,L=M.indexOf(this.currentPage);this.currentPage=M[L-1]}return!0},I.prototype.completeLastPage=function(){var b=this.doCurrentPageComplete(!0);return b&&this.cancelPreview(),b},I.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},I.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},I.prototype.nextPageUIClick=function(){if(!(this.mouseDownPage&&this.mouseDownPage!==this.activePage))return this.mouseDownPage=null,this.nextPage()},I.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},I.prototype.showPreview=function(){return this.resetNavigationButton(),this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0)?!1:(this.showPreviewCore(),!0)},I.prototype.showPreviewCore=function(){var b={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,b),this.isShowingPreview=b.allowShowPreview&&b.allow},I.prototype.cancelPreview=function(b){b===void 0&&(b=null),this.isShowingPreview&&(this.isShowingPreview=!1,s.Helpers.isValueEmpty(b)&&this.visiblePageCount>0&&(b=this.visiblePageCount-1),b!==null&&(this.currentPage=b))},I.prototype.cancelPreviewByPage=function(b){this.cancelPreview(b.originalPage)},I.prototype.doCurrentPageComplete=function(b){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(b))?!1:this.doCurrentPageCompleteCore(b)},I.prototype.doCurrentPageCompleteCore=function(b){return this.doServerValidation(b)?!1:b?(this.currentPage.passed=!0,this.doComplete()):(this.doNextPage(),!0)},Object.defineProperty(I.prototype,"isSinglePage",{get:function(){return this.questionsOnPageMode=="singlePage"},set:function(b){this.questionsOnPageMode=b?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(b){this.setPropertyValue("questionsOnPageMode",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(b){this.setPropertyValue("firstPageIsStarted",b)},enumerable:!1,configurable:!0}),I.prototype.isPageStarted=function(b){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===b},Object.defineProperty(I.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(b){this.setPropertyValue("showPreviewBeforeComplete",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowPreviewBeforeComplete",{get:function(){var b=this.showPreviewBeforeComplete;return b=="showAllQuestions"||b=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),I.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},I.prototype.onShowingPreviewChanged=function(){this.isDesignMode||(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOrigionalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.currentPageNo=0)},I.prototype.onQuestionsOnPageModeChanged=function(b){this.isShowingPreview||(this.questionsOnPageMode=="standard"||this.isDesignMode?(this.origionalPages&&this.restoreOrigionalPages(this.origionalPages),this.origionalPages=void 0):((!b||b=="standard")&&(this.origionalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},I.prototype.restoreOrigionalPages=function(b){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var D=0;D<b.length;D++)this.pages.push(b[D])},I.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},I.prototype.setupPagesForPageModes=function(b){this.questionHashesClear();var D=this.getPageStartIndex();R.prototype.startLoadingFromJson.call(this);var M=this.createPagesForQuestionOnPageMode(b,D),L=this.pages.length-D;this.pages.splice(D,L);for(var U=0;U<M.length;U++)this.pages.push(M[U]);R.prototype.endLoadingFromJson.call(this);for(var U=0;U<M.length;U++)M[U].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage()},I.prototype.createPagesForQuestionOnPageMode=function(b,D){return b?[this.createSinglePage(D)]:this.createPagesForEveryQuestion(D)},I.prototype.createSinglePage=function(b){var D=this.createNewPage("all");D.setSurveyImpl(this);for(var M=b;M<this.pages.length;M++){var L=this.pages[M],U=m.Serializer.createClass("panel");U.originalPage=L,D.addPanel(U);var N=new m.JsonObject().toJsonObject(L);new m.JsonObject().toObject(N,U),this.showPageTitles||(U.title="")}return D},I.prototype.createPagesForEveryQuestion=function(b){for(var D=[],M=b;M<this.pages.length;M++){var L=this.pages[M];L.setWasShown(!0);for(var U=0;U<L.elements.length;U++){var N=L.elements[U],W=m.Serializer.createClass(N.getType());if(W){var z=new m.JsonObject;z.lightSerializing=!0;var Q=z.toJsonObject(L),$=m.Serializer.createClass(L.getType());$.fromJSON(Q),$.name=N.name,$.setSurveyImpl(this),D.push($);var Y=new m.JsonObject().toJsonObject(N);$.addElement(W),new m.JsonObject().toObject(Y,W);for(var q=0;q<$.questions.length;q++)this.questionHashesAdded($.questions[q])}}}return D},Object.defineProperty(I.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),I.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(I.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),I.prototype.updateIsFirstLastPageState=function(){var b=this.currentPage;this.setPropertyValue("isFirstPage",!!b&&b===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!b&&b===this.lastVisiblePage)},I.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||this.state!=="running")return!1;var b=this.visiblePages[this.currentPageNo-1];return this.getPageMaxTimeToFinish(b)<=0},I.prototype.calcIsShowNextButton=function(){return this.state==="running"&&!this.isLastPage&&!this.canBeCompletedByTrigger},I.prototype.calcIsCompleteButtonVisible=function(){var b=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||b==="preview")},I.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="running"&&this.isLastPage},I.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="preview"},Object.defineProperty(I.prototype,"firstVisiblePage",{get:function(){for(var b=this.pages,D=0;D<b.length;D++)if(this.isPageInVisibleList(b[D]))return b[D];return null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastVisiblePage",{get:function(){for(var b=this.pages,D=b.length-1;D>=0;D--)if(this.isPageInVisibleList(b[D]))return b[D];return null},enumerable:!1,configurable:!0}),I.prototype.doComplete=function(b){if(b===void 0&&(b=!1),!this.isCompleted)return this.checkOnCompletingEvent(b)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.isCompleted=!0,this.clearUnusedValues(),this.setCookie(),this.saveDataOnComplete(b),!0):(this.isCompleted=!1,!1)},I.prototype.saveDataOnComplete=function(b){var D=this;b===void 0&&(b=!1);var M=this.hasCookie,L=function($){z=!0,D.setCompletedState("saving",$)},U=function($){D.setCompletedState("error",$)},N=function($){D.setCompletedState("success",$),D.navigateTo()},W=function($){D.setCompletedState("","")},z=!1,Q={isCompleteOnTrigger:b,showSaveInProgress:L,showSaveError:U,showSaveSuccess:N,clearSaveMessages:W,showDataSaving:L,showDataSavingError:U,showDataSavingSuccess:N,showDataSavingClear:W};this.onComplete.fire(this,Q),!M&&this.surveyPostId&&this.sendResult(),z||this.navigateTo()},I.prototype.checkOnCompletingEvent=function(b){var D={allowComplete:!0,allow:!0,isCompleteOnTrigger:b};return this.onCompleting.fire(this,D),D.allowComplete&&D.allow},I.prototype.start=function(){return!this.firstPageIsStarted||this.checkIsPageHasErrors(this.startedPage,!0)?!1:(this.isStartedState=!1,this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0)},Object.defineProperty(I.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),I.prototype.setIsValidatingOnServer=function(b){b!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",b),this.onIsValidatingOnServerChanged())},I.prototype.createServerValidationOptions=function(b,D){var M=this,L={data:{},errors:{},survey:this,complete:function(){M.completeServerValidation(L,D)}};if(b&&this.checkErrorsMode==="onComplete")L.data=this.data;else for(var U=this.activePage.questions,N=0;N<U.length;N++){var W=U[N];if(W.visible){var z=this.getValue(W.getValueName());this.isValueEmpty(z)||(L.data[W.getValueName()]=z)}}return L},I.prototype.onIsValidatingOnServerChanged=function(){},I.prototype.doServerValidation=function(b,D){var M=this;if(D===void 0&&(D=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!b&&this.checkErrorsMode==="onComplete")return!1;this.setIsValidatingOnServer(!0);var L=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=L?1:this.onServerValidateQuestions.length,L?this.onServerValidateQuestions(this,this.createServerValidationOptions(b,D)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return M.createServerValidationOptions(b,D)}),!0},I.prototype.completeServerValidation=function(b,D){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,b&&b.errors&&Object.keys(b.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!b&&!b.survey))){var M=b.survey,L=!1;if(b.errors){var U=this.focusOnFirstError;for(var N in b.errors){var W=M.getQuestionByName(N);W&&W.errors&&(L=!0,W.addError(new v.CustomError(b.errors[N],this)),U&&(U=!1,W.page&&(this.currentPage=W.page),W.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}L||(D?this.showPreviewCore():M.isLastPage?M.doComplete():M.doNextPage())}},I.prototype.doNextPage=function(){var b=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),b===this.currentPage){var D=this.visiblePages,M=D.indexOf(this.currentPage);this.currentPage=D[M+1]}},I.prototype.setCompleted=function(){this.doComplete(!0)},I.prototype.canBeCompleted=function(b,D){if(a.settings.changeNavigationButtonsOnCompleteTrigger){var M=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),D?this.completedByTriggers[b.id]=!0:delete this.completedByTriggers[b.id],M!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(I.prototype,"canBeCompletedByTrigger",{get:function(){return this.completedByTriggers?Object.keys(this.completedByTriggers).length>0:!1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"processedCompletedHtml",{get:function(){var b=this.renderedCompletedHtml;return b?this.processHtml(b,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"processedCompletedBeforeHtml",{get:function(){return this.processHtml(this.completedBeforeHtml,"completed-before")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"processedLoadingHtml",{get:function(){return this.processHtml(this.loadingHtml,"loading")},enumerable:!1,configurable:!0}),I.prototype.getProgressInfo=function(){var b=this.isDesignMode?this.pages:this.visiblePages;return y.SurveyElement.getProgressInfoByElements(b,!1)},Object.defineProperty(I.prototype,"progressText",{get:function(){var b=this.getPropertyValue("progressText","");return b||(this.updateProgressText(),b=this.getPropertyValue("progressText","")),b},enumerable:!1,configurable:!0}),I.prototype.updateProgressText=function(b){b===void 0&&(b=!1),!this.isCalculatingProgressText&&(b&&this.progressBarType=="pages"&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},I.prototype.getProgressText=function(){if(!this.isDesignMode&&this.currentPage==null)return"";var b={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},D=this.progressBarType.toLowerCase();if(D==="questions"||D==="requiredquestions"||D==="correctquestions"||!this.onProgressText.isEmpty){var M=this.getProgressInfo();b.questionCount=M.questionCount,b.answeredQuestionCount=M.answeredQuestionCount,b.requiredQuestionCount=M.requiredQuestionCount,b.requiredAnsweredQuestionCount=M.requiredAnsweredQuestionCount}return b.text=this.getProgressTextCore(b),this.onProgressText.fire(this,b),b.text},I.prototype.getProgressTextCore=function(b){var D=this.progressBarType.toLowerCase();if(D==="questions")return this.getLocalizationFormatString("questionsProgressText",b.answeredQuestionCount,b.questionCount);if(D==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",b.requiredAnsweredQuestionCount,b.requiredQuestionCount);if(D==="correctquestions"){var M=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",M,b.questionCount)}var L=this.isDesignMode?this.pages:this.visiblePages,U=L.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",U,L.length)},I.prototype.getRootCss=function(){return new l.CssClassBuilder().append(this.css.root).append(this.css.rootMobile,this.isMobile).append(this.css.rootReadOnly,this.mode==="display").toString()},I.prototype.afterRenderSurvey=function(b){var D=this;this.destroyResizeObserver(),Array.isArray(b)&&(b=y.SurveyElement.GetFirstNonTextElement(b));var M=b,L=this.css.variables;if(L){var U=Number.parseFloat(window.getComputedStyle(M).getPropertyValue(L.mobileWidth));if(U){var N=!1;this.resizeObserver=new ResizeObserver(function(){N||!Object(d.isContainerVisible)(M)?N=!1:N=D.processResponsiveness(M.offsetWidth,U)}),this.resizeObserver.observe(M)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:b})},I.prototype.processResponsiveness=function(b,D){var M=b<D;return this.isMobile===M?!1:(this.setIsMobile(M),!0)},I.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},I.prototype.updateQuestionCssClasses=function(b,D){this.onUpdateQuestionCssClasses.fire(this,{question:b,cssClasses:D})},I.prototype.updatePanelCssClasses=function(b,D){this.onUpdatePanelCssClasses.fire(this,{panel:b,cssClasses:D})},I.prototype.updatePageCssClasses=function(b,D){this.onUpdatePageCssClasses.fire(this,{page:b,cssClasses:D})},I.prototype.updateChoiceItemCss=function(b,D){D.question=b,this.onUpdateChoiceItemCss.fire(this,D)},I.prototype.afterRenderPage=function(b){var D=this;for(!this.isDesignMode&&!this.isFocusingQuestion&&setTimeout(function(){return D.scrollToTopOnPageChange(!D.isFirstPageRendering)},1);this.afterRenderPageTasks.length>0;)this.afterRenderPageTasks.shift()();this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:b})},I.prototype.afterRenderHeader=function(b){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:b})},I.prototype.afterRenderQuestion=function(b,D){this.onAfterRenderQuestion.fire(this,{question:b,htmlElement:D})},I.prototype.afterRenderQuestionInput=function(b,D){if(!this.onAfterRenderQuestionInput.isEmpty){var M=b.inputId,L=a.settings.environment.root;if(M&&D.id!==M&&typeof L<"u"){var U=L.getElementById(M);U&&(D=U)}this.onAfterRenderQuestionInput.fire(this,{question:b,htmlElement:D})}},I.prototype.afterRenderPanel=function(b,D){this.onAfterRenderPanel.fire(this,{panel:b,htmlElement:D})},I.prototype.whenQuestionFocusIn=function(b){this.onFocusInQuestion.fire(this,{question:b})},I.prototype.whenPanelFocusIn=function(b){this.onFocusInPanel.fire(this,{panel:b})},I.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(b){return b.surveyChoiceItemVisibilityChange()})},I.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},I.prototype.getChoiceItemVisibility=function(b,D,M){var L={question:b,item:D,visible:M};return this.onShowingChoiceItem.fire(this,L),L.visible},I.prototype.loadQuestionChoices=function(b){this.onChoicesLazyLoad.fire(this,b)},I.prototype.getChoiceDisplayValue=function(b){this.onGetChoiceDisplayValue.isEmpty?b.setItems(null):this.onGetChoiceDisplayValue.fire(this,b)},I.prototype.matrixBeforeRowAdded=function(b){this.onMatrixBeforeRowAdded.fire(this,b)},I.prototype.matrixRowAdded=function(b,D){this.onMatrixRowAdded.fire(this,{question:b,row:D})},I.prototype.matrixColumnAdded=function(b,D){this.onMatrixColumnAdded.fire(this,{question:b,column:D})},I.prototype.multipleTextItemAdded=function(b,D){this.onMultipleTextItemAdded.fire(this,{question:b,item:D})},I.prototype.getQuestionByValueNameFromArray=function(b,D,M){var L=this.getQuestionsByValueName(b);if(L){for(var U=0;U<L.length;U++){var N=L[U].getQuestionFromArray(D,M);if(N)return N}return null}},I.prototype.matrixRowRemoved=function(b,D,M){this.onMatrixRowRemoved.fire(this,{question:b,rowIndex:D,row:M})},I.prototype.matrixRowRemoving=function(b,D,M){var L={question:b,rowIndex:D,row:M,allow:!0};return this.onMatrixRowRemoving.fire(this,L),L.allow},I.prototype.matrixAllowRemoveRow=function(b,D,M){var L={question:b,rowIndex:D,row:M,allow:!0};return this.onMatrixAllowRemoveRow.fire(this,L),L.allow},I.prototype.matrixCellCreating=function(b,D){D.question=b,this.onMatrixCellCreating.fire(this,D)},I.prototype.matrixCellCreated=function(b,D){D.question=b,this.onMatrixCellCreated.fire(this,D)},I.prototype.matrixAfterCellRender=function(b,D){D.question=b,this.onMatrixAfterCellRender.fire(this,D)},I.prototype.matrixCellValueChanged=function(b,D){D.question=b,this.onMatrixCellValueChanged.fire(this,D)},I.prototype.matrixCellValueChanging=function(b,D){D.question=b,this.onMatrixCellValueChanging.fire(this,D)},Object.defineProperty(I.prototype,"isValidateOnValueChanging",{get:function(){return this.checkErrorsMode==="onValueChanging"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isValidateOnValueChanged",{get:function(){return this.checkErrorsMode==="onValueChanged"},enumerable:!1,configurable:!0}),I.prototype.matrixCellValidate=function(b,D){return D.question=b,this.onMatrixCellValidate.fire(this,D),D.error?new v.CustomError(D.error,this):null},I.prototype.dynamicPanelAdded=function(b,D,M){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var L=b.panels;D===void 0&&(D=L.length-1,M=L[D]),this.onDynamicPanelAdded.fire(this,{question:b,panel:M,panelIndex:D})}},I.prototype.dynamicPanelRemoved=function(b,D,M){for(var L=M?M.questions:[],U=0;U<L.length;U++)L[U].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:b,panelIndex:D,panel:M})},I.prototype.dynamicPanelRemoving=function(b,D,M){var L={question:b,panelIndex:D,panel:M,allow:!0};return this.onDynamicPanelRemoving.fire(this,L),L.allow},I.prototype.dynamicPanelItemValueChanged=function(b,D){D.question=b,D.panelIndex=D.itemIndex,D.panelData=D.itemValue,this.onDynamicPanelItemValueChanged.fire(this,D)},I.prototype.dragAndDropAllow=function(b){return this.onDragDropAllow.fire(this,b),b.allow},I.prototype.elementContentVisibilityChanged=function(b){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:b})},I.prototype.getUpdatedPanelFooterActions=function(b,D,M){var L={question:M,panel:b,actions:D};return this.onGetPanelFooterActions.fire(this,L),L.actions},I.prototype.getUpdatedElementTitleActions=function(b,D){return b.isPage?this.getUpdatedPageTitleActions(b,D):b.isPanel?this.getUpdatedPanelTitleActions(b,D):this.getUpdatedQuestionTitleActions(b,D)},I.prototype.getUpdatedQuestionTitleActions=function(b,D){var M={question:b,titleActions:D};return this.onGetQuestionTitleActions.fire(this,M),M.titleActions},I.prototype.getUpdatedPanelTitleActions=function(b,D){var M={panel:b,titleActions:D};return this.onGetPanelTitleActions.fire(this,M),M.titleActions},I.prototype.getUpdatedPageTitleActions=function(b,D){var M={page:b,titleActions:D};return this.onGetPageTitleActions.fire(this,M),M.titleActions},I.prototype.getUpdatedMatrixRowActions=function(b,D,M){var L={question:b,actions:M,row:D};return this.onGetMatrixRowActions.fire(this,L),L.actions},I.prototype.scrollElementToTop=function(b,D,M,L){var U={element:b,question:D,page:M,elementId:L,cancel:!1};this.onScrollingElementToTop.fire(this,U),U.cancel||y.SurveyElement.ScrollElementToTop(U.elementId)},I.prototype.uploadFiles=function(b,D,M,L){this.onUploadFiles.isEmpty?L("error",M):this.onUploadFiles.fire(this,{question:b,name:D,files:M||[],callback:L}),this.surveyPostId&&this.uploadFilesCore(D,M,L)},I.prototype.downloadFile=function(b,D,M,L){this.onDownloadFile.isEmpty&&L&&L("success",M.content||M),this.onDownloadFile.fire(this,{question:b,name:D,content:M.content||M,fileValue:M,callback:L})},I.prototype.clearFiles=function(b,D,M,L,U){this.onClearFiles.isEmpty&&U&&U("success",M),this.onClearFiles.fire(this,{question:b,name:D,value:M,fileName:L,callback:U})},I.prototype.updateChoicesFromServer=function(b,D,M){var L={question:b,choices:D,serverResult:M};return this.onLoadChoicesFromServer.fire(this,L),L.choices},I.prototype.loadedChoicesFromServer=function(b){this.locStrsChanged()},I.prototype.createSurveyService=function(){return new C.dxSurveyService},I.prototype.uploadFilesCore=function(b,D,M){var L=this,U=[];D.forEach(function(N){M&&M("uploading",N),L.createSurveyService().sendFile(L.surveyPostId,N,function(W,z){W?(U.push({content:z,file:N}),U.length===D.length&&M&&M("success",U)):M&&M("error",{response:z,file:N})})})},I.prototype.getPage=function(b){return this.pages[b]},I.prototype.addPage=function(b,D){D===void 0&&(D=-1),b!=null&&(D<0||D>=this.pages.length?this.pages.push(b):this.pages.splice(D,0,b))},I.prototype.addNewPage=function(b,D){b===void 0&&(b=null),D===void 0&&(D=-1);var M=this.createNewPage(b);return this.addPage(M,D),M},I.prototype.removePage=function(b){var D=this.pages.indexOf(b);D<0||(this.pages.splice(D,1),this.currentPage==b&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},I.prototype.getQuestionByName=function(b,D){if(D===void 0&&(D=!1),!b)return null;D&&(b=b.toLowerCase());var M=D?this.questionHashes.namesInsensitive:this.questionHashes.names,L=M[b];return L?L[0]:null},I.prototype.findQuestionByName=function(b){return this.getQuestionByName(b)},I.prototype.getQuestionByValueName=function(b,D){D===void 0&&(D=!1);var M=this.getQuestionsByValueName(b,D);return M?M[0]:null},I.prototype.getQuestionsByValueName=function(b,D){D===void 0&&(D=!1);var M=D?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,L=M[b];return L||null},I.prototype.getCalculatedValueByName=function(b){for(var D=0;D<this.calculatedValues.length;D++)if(b==this.calculatedValues[D].name)return this.calculatedValues[D];return null},I.prototype.getQuestionsByNames=function(b,D){D===void 0&&(D=!1);var M=[];if(!b)return M;for(var L=0;L<b.length;L++)if(b[L]){var U=this.getQuestionByName(b[L],D);U&&M.push(U)}return M},I.prototype.getPageByElement=function(b){for(var D=0;D<this.pages.length;D++){var M=this.pages[D];if(M.containsElement(b))return M}return null},I.prototype.getPageByQuestion=function(b){return this.getPageByElement(b)},I.prototype.getPageByName=function(b){for(var D=0;D<this.pages.length;D++)if(this.pages[D].name==b)return this.pages[D];return null},I.prototype.getPagesByNames=function(b){var D=[];if(!b)return D;for(var M=0;M<b.length;M++)if(b[M]){var L=this.getPageByName(b[M]);L&&D.push(L)}return D},I.prototype.getAllQuestions=function(b,D){b===void 0&&(b=!1),D===void 0&&(D=!1);for(var M=new Array,L=0;L<this.pages.length;L++)this.pages[L].addQuestionsToList(M,b,D);return M},I.prototype.getQuizQuestions=function(){for(var b=new Array,D=this.getPageStartIndex(),M=D;M<this.pages.length;M++)if(this.pages[M].isVisible)for(var L=this.pages[M].questions,U=0;U<L.length;U++){var N=L[U];N.quizQuestionCount>0&&b.push(N)}return b},I.prototype.getPanelByName=function(b,D){D===void 0&&(D=!1);var M=this.getAllPanels();D&&(b=b.toLowerCase());for(var L=0;L<M.length;L++){var U=M[L].name;if(D&&(U=U.toLowerCase()),U==b)return M[L]}return null},I.prototype.getAllPanels=function(b,D){b===void 0&&(b=!1),D===void 0&&(D=!1);for(var M=new Array,L=0;L<this.pages.length;L++)this.pages[L].addPanelsIntoList(M,b,D);return M},I.prototype.createNewPage=function(b){var D=m.Serializer.createClass("page");return D.name=b,D},I.prototype.questionOnValueChanging=function(b,D){if(this.editingObj){var M=m.Serializer.findProperty(this.editingObj.getType(),b);M&&(D=M.settingValue(this.editingObj,D))}if(this.onValueChanging.isEmpty)return D;var L={name:b,question:this.getQuestionByValueName(b),value:this.getUnbindValue(D),oldValue:this.getValue(b)};return this.onValueChanging.fire(this,L),L.value},I.prototype.updateQuestionValue=function(b,D){if(!this.isLoadingFromJson){var M=this.getQuestionsByValueName(b);if(M)for(var L=0;L<M.length;L++){var U=M[L].value;(U===D&&Array.isArray(U)&&this.editingObj||!this.isTwoValueEquals(U,D))&&M[L].updateValueFromSurvey(D)}}},I.prototype.checkQuestionErrorOnValueChanged=function(b){!this.isNavigationButtonPressed&&(this.checkErrorsMode==="onValueChanged"||b.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(b)},I.prototype.checkQuestionErrorOnValueChangedCore=function(b){var D=b.getAllErrors().length,M=!b.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging}),L=this.checkErrorsMode.indexOf("Value")>-1;return b.page&&L&&(D>0||b.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(b.page),M},I.prototype.checkErrorsOnValueChanging=function(b,D){if(this.isLoadingFromJson)return!1;var M=this.getQuestionsByValueName(b);if(!M)return!1;for(var L=!1,U=0;U<M.length;U++){var N=M[U];this.isTwoValueEquals(N.valueForSurvey,D)||(N.value=D),this.checkQuestionErrorOnValueChangedCore(N)&&(L=!0),L=L||N.errors.length>0}return L},I.prototype.notifyQuestionOnValueChanged=function(b,D){if(!this.isLoadingFromJson){var M=this.getQuestionsByValueName(b);if(M)for(var L=0;L<M.length;L++){var U=M[L];this.checkQuestionErrorOnValueChanged(U),U.onSurveyValueChanged(D),this.onValueChanged.fire(this,{name:b,question:U,value:D})}else this.onValueChanged.fire(this,{name:b,question:null,value:D});this.isDisposed||(this.checkElementsBindings(b,D),this.notifyElementsOnAnyValueOrVariableChanged(b))}},I.prototype.checkElementsBindings=function(b,D){this.isRunningElementsBindings=!0;for(var M=0;M<this.pages.length;M++)this.pages[M].checkBindings(b,D);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},I.prototype.notifyElementsOnAnyValueOrVariableChanged=function(b){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var D=0;D<this.pages.length;D++)this.pages[D].onAnyValueChanged(b);this.isEndLoadingFromJson||this.locStrsChanged()}},I.prototype.updateAllQuestionsValue=function(){for(var b=this.getAllQuestions(),D=0;D<b.length;D++){var M=b[D],L=M.getValueName();M.updateValueFromSurvey(this.getValue(L)),M.requireUpdateCommentValue&&M.updateCommentFromSurvey(this.getComment(L))}},I.prototype.notifyAllQuestionsOnValueChanged=function(){for(var b=this.getAllQuestions(),D=0;D<b.length;D++)b[D].onSurveyValueChanged(this.getValue(b[D].getValueName()))},I.prototype.checkOnPageTriggers=function(b){for(var D=this.getCurrentPageQuestions(!0),M={},L=0;L<D.length;L++){var U=D[L],N=U.getValueName();M[N]=this.getValue(N)}this.addCalculatedValuesIntoFilteredValues(M),this.checkTriggers(M,!0,b)},I.prototype.getCurrentPageQuestions=function(b){b===void 0&&(b=!1);var D=[],M=this.currentPage;if(!M)return D;for(var L=0;L<M.questions.length;L++){var U=M.questions[L];!b&&!U.visible||!U.name||D.push(U)}return D},I.prototype.checkTriggers=function(b,D,M){if(M===void 0&&(M=!1),!(this.isCompleted||this.triggers.length==0||this.isDisplayMode)){if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var L in b)this.triggerKeys[L]=b[L];return}this.isTriggerIsRunning=!0,this.triggerKeys=b,this.triggerValues=this.getFilteredValues();for(var U=this.getFilteredProperties(),N=this.canBeCompletedByTrigger,W=0;W<this.triggers.length;W++)this.triggers[W].checkExpression(D,M,this.triggerKeys,this.triggerValues,U);N!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},I.prototype.doElementsOnLoad=function(){for(var b=0;b<this.pages.length;b++)this.pages[b].onSurveyLoad()},Object.defineProperty(I.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),I.prototype.runConditions=function(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var b=this.getFilteredProperties(),D=this.pages.indexOf(this.currentPage);this.runConditionsCore(b),this.checkIfNewPagesBecomeVisible(D),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<a.settings.maximumConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},I.prototype.runConditionOnValueChanged=function(b,D){this.isRunningConditions?(this.conditionValues[b]=D,this.isValueChangedOnRunningCondition=!0):this.runConditions()},I.prototype.runConditionsCore=function(b){for(var D=this.pages,M=0;M<this.calculatedValues.length;M++)this.calculatedValues[M].resetCalculation();for(var M=0;M<this.calculatedValues.length;M++)this.calculatedValues[M].doCalculation(this.calculatedValues,this.conditionValues,b);R.prototype.runConditionCore.call(this,this.conditionValues,b);for(var M=0;M<D.length;M++)D[M].runCondition(this.conditionValues,b)},I.prototype.checkIfNewPagesBecomeVisible=function(b){var D=this.pages.indexOf(this.currentPage);if(!(D<=b+1)){for(var M=b+1;M<D;M++)if(this.pages[M].isVisible){this.currentPage=this.pages[M];break}}},I.prototype.sendResult=function(b,D,M){if(b===void 0&&(b=null),D===void 0&&(D=null),M===void 0&&(M=!1),!!this.isEditMode&&(M&&this.onPartialSend&&this.onPartialSend.fire(this,null),!b&&this.surveyPostId&&(b=this.surveyPostId),!!b&&(D&&(this.clientId=D),!(M&&!this.clientId)))){var L=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(b,this.data,function(U,N,W){L.surveyShowDataSaving&&(U?L.setCompletedState("success",""):L.setCompletedState("error",N)),L.onSendResult.fire(L,{success:U,response:N,request:W})},this.clientId,M)}},I.prototype.getResult=function(b,D){var M=this;this.createSurveyService().getResult(b,D,function(L,U,N,W){M.onGetResult.fire(M,{success:L,data:U,dataList:N,response:W})})},I.prototype.loadSurveyFromService=function(b,D){b===void 0&&(b=null),D===void 0&&(D=null),b&&(this.surveyId=b),D&&(this.clientId=D);var M=this;this.isLoading=!0,this.onLoadingSurveyFromService(),D?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(L,U,N,W){M.isLoading=!1,L&&(M.isCompletedBefore=N=="completed",M.loadSurveyFromServiceJson(U))}):this.createSurveyService().loadSurvey(this.surveyId,function(L,U,N){M.isLoading=!1,L&&M.loadSurveyFromServiceJson(U)})},I.prototype.loadSurveyFromServiceJson=function(b){b&&(this.fromJSON(b),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},I.prototype.onLoadingSurveyFromService=function(){},I.prototype.onLoadSurveyFromService=function(){},I.prototype.resetVisibleIndexes=function(){for(var b=this.getAllQuestions(!0),D=0;D<b.length;D++)b[D].setVisibleIndex(-1);this.updateVisibleIndexes()},I.prototype.updateVisibleIndexes=function(){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}if(this.updatePageVisibleIndexes(this.showPageNumbers),this.showQuestionNumbers=="onPage")for(var b=this.visiblePages,D=0;D<b.length;D++)b[D].setVisibleIndex(0);else for(var M=this.showQuestionNumbers=="on"?0:-1,D=0;D<this.pages.length;D++)M+=this.pages[D].setVisibleIndex(M);this.updateProgressText(!0)}},I.prototype.updatePageVisibleIndexes=function(b){this.updateButtonsVisibility();for(var D=0,M=0;M<this.pages.length;M++){var L=this.pages[M],U=L.isVisible&&(M>0||!L.isStartPage);L.visibleIndex=U?D++:-1,L.num=U?L.visibleIndex+1:-1}},I.prototype.fromJSON=function(b){if(b){this.questionHashesClear(),this.jsonErrors=null;var D=new m.JsonObject;D.toObject(b,this),D.errors.length>0&&(this.jsonErrors=D.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},I.prototype.setJsonObject=function(b){this.fromJSON(b)},I.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard"),R.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.setCalculatedWidthModeUpdater()},I.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},I.prototype.updateNavigationBarCss=function(){var b=this.navigationBar;b.cssClasses=this.css.actionBar,b.containerCss=this.css.footer},I.prototype.createNavigationBar=function(){var b=new f.ActionContainer;return b.setItems(this.createNavigationActions()),b},I.prototype.createNavigationActions=function(){var b=this,D="sv-nav-btn",M=new h.Action({id:"sv-nav-start",visible:new g.ComputedUpdater(function(){return b.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return b.start()},component:D}),L=new h.Action({id:"sv-nav-prev",visible:new g.ComputedUpdater(function(){return b.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return b.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return b.prevPage()},component:D}),U=new h.Action({id:"sv-nav-next",visible:new g.ComputedUpdater(function(){return b.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return b.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return b.nextPageUIClick()},component:D}),N=new h.Action({id:"sv-nav-preview",visible:new g.ComputedUpdater(function(){return b.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return b.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return b.showPreview()},component:D}),W=new h.Action({id:"sv-nav-complete",visible:new g.ComputedUpdater(function(){return b.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return b.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return b.completeLastPage()},component:D});return this.updateNavigationItemCssCallback=function(){M.innerCss=b.cssNavigationStart,L.innerCss=b.cssNavigationPrev,U.innerCss=b.cssNavigationNext,N.innerCss=b.cssNavigationPreview,W.innerCss=b.cssNavigationComplete},[M,L,U,N,W]},I.prototype.onBeforeCreating=function(){},I.prototype.onCreating=function(){},I.prototype.getProcessedTextValue=function(b){if(this.getProcessedTextValueCore(b),!this.onProcessTextValue.isEmpty){var D=this.isValueEmpty(b.value);this.onProcessTextValue.fire(this,b),b.isExists=b.isExists||D&&!this.isValueEmpty(b.value)}},I.prototype.getBuiltInVariableValue=function(b){if(b==="pageno"){var D=this.currentPage;return D!=null?this.visiblePages.indexOf(D)+1:0}if(b==="pagecount")return this.visiblePageCount;if(b==="correctedanswers"||b==="correctanswers"||b==="correctedanswercount")return this.getCorrectedAnswerCount();if(b==="incorrectedanswers"||b==="incorrectanswers"||b==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(b==="questioncount")return this.getQuizQuestionCount()},I.prototype.getProcessedTextValueCore=function(b){var D=b.name.toLocaleLowerCase();if(["no","require","title"].indexOf(D)===-1){var M=this.getBuiltInVariableValue(D);if(M!==void 0){b.isExists=!0,b.value=M;return}if(D==="locale"){b.isExists=!0,b.value=this.locale?this.locale:E.surveyLocalization.defaultLocale;return}var L=this.getVariable(D);if(L!==void 0){b.isExists=!0,b.value=L;return}var U=this.getFirstName(D);if(U){var N=U.useDisplayValuesInDynamicTexts;b.isExists=!0;var W=U.getValueName().toLowerCase();D=W+D.substring(W.length),D=D.toLocaleLowerCase();var z={};z[W]=b.returnDisplayValue&&N?U.getDisplayValue(!1,void 0):U.value,b.value=new x.ProcessValue().getValue(D,z);return}this.getProcessedValuesWithoutQuestion(b)}},I.prototype.getProcessedValuesWithoutQuestion=function(b){var D=this.getValue(b.name);if(D!==void 0){b.isExists=!0,b.value=D;return}var M=new x.ProcessValue,L=M.getFirstName(b.name);if(L!==b.name){var U={},N=this.getValue(L);s.Helpers.isValueEmpty(N)&&(N=this.getVariable(L)),!s.Helpers.isValueEmpty(N)&&(U[L]=N,b.value=M.getValue(b.name,U),b.isExists=M.hasValue(b.name,U))}},I.prototype.getFirstName=function(b){b=b.toLowerCase();var D;do D=this.getQuestionByValueName(b,!0),b=this.reduceFirstName(b);while(!D&&b);return D},I.prototype.reduceFirstName=function(b){var D=b.lastIndexOf("."),M=b.lastIndexOf("[");if(D<0&&M<0)return"";var L=Math.max(D,M);return b.substring(0,L)},I.prototype.clearUnusedValues=function(){for(var b=this.getAllQuestions(),D=0;D<b.length;D++)b[D].clearUnusedValues();this.clearInvisibleQuestionValues()},I.prototype.hasVisibleQuestionByValueName=function(b){var D=this.getQuestionsByValueName(b);if(!D)return!1;for(var M=0;M<D.length;M++){var L=D[M];if(L.isVisible&&L.isParentVisible&&!L.parentQuestion)return!0}return!1},I.prototype.questionCountByValueName=function(b){var D=this.getQuestionsByValueName(b);return D?D.length:0},I.prototype.clearInvisibleQuestionValues=function(){for(var b=this.clearInvisibleValues==="none"?"none":"onComplete",D=this.getAllQuestions(),M=0;M<D.length;M++)D[M].clearValueIfInvisible(b)},I.prototype.getVariable=function(b){if(!b)return null;b=b.toLowerCase();var D=this.variablesHash[b];return this.isValueEmpty(D)&&(b.indexOf(".")>-1||b.indexOf("[")>-1)&&new x.ProcessValue().hasValue(b,this.variablesHash)?new x.ProcessValue().getValue(b,this.variablesHash):D},I.prototype.setVariable=function(b,D){b&&(this.valuesHash&&delete this.valuesHash[b],b=b.toLowerCase(),this.variablesHash[b]=D,this.notifyElementsOnAnyValueOrVariableChanged(b),this.runConditionOnValueChanged(b,D),this.onVariableChanged.fire(this,{name:b,value:D}))},I.prototype.getVariableNames=function(){var b=[];for(var D in this.variablesHash)b.push(D);return b},I.prototype.getUnbindValue=function(b){return this.editingObj?b:s.Helpers.getUnbindValue(b)},I.prototype.getValue=function(b){if(!b||b.length==0)return null;var D=this.getDataValueCore(this.valuesHash,b);return this.getUnbindValue(D)},I.prototype.setValue=function(b,D,M,L){M===void 0&&(M=!1),L===void 0&&(L=!0);var U=D;if(L&&(U=this.questionOnValueChanging(b,D)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(b,U))&&!(!this.editingObj&&this.isValueEqual(b,U)&&this.isTwoValueEquals(U,D))){var N=this.getValue(b);this.isValueEmpty(U)?this.deleteDataValueCore(this.valuesHash,b):(U=this.getUnbindValue(U),this.setDataValueCore(this.valuesHash,b,U)),this.updateOnSetValue(b,U,N,M,L)}},I.prototype.updateOnSetValue=function(b,D,M,L,U){if(L===void 0&&(L=!1),U===void 0&&(U=!0),this.updateQuestionValue(b,D),!(L===!0||this.isDisposed||this.isRunningElementsBindings)){var N={};N[b]={newValue:D,oldValue:M},this.runConditionOnValueChanged(b,D),this.checkTriggers(N,!1),U&&this.notifyQuestionOnValueChanged(b,D),L!=="text"&&this.tryGoNextPageAutomatic(b)}},I.prototype.isValueEqual=function(b,D){(D===""||D===void 0)&&(D=null);var M=this.getValue(b);return(M===""||M===void 0)&&(M=null),D===null||M===null?D===M:this.isTwoValueEquals(D,M)},I.prototype.doOnPageAdded=function(b){b.setSurveyImpl(this),b.name||(b.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(b),this.updateVisibleIndexes(),this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage());var D={page:b};this.onPageAdded.fire(this,D)},I.prototype.doOnPageRemoved=function(b){b.setSurveyImpl(null),b===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements()},I.prototype.generateNewName=function(b,D){for(var M={},L=0;L<b.length;L++)M[b[L].name]=!0;for(var U=1;M[D+U];)U++;return D+U},I.prototype.tryGoNextPageAutomatic=function(b){if(!(this.isEndLoadingFromJson||!this.goNextPageAutomatic||!this.currentPage)){var D=this.getQuestionByValueName(b);if(!(!D||D&&(!D.visible||!D.supportGoNextPageAutomatic()))&&!(!D.validate(!1)&&!D.supportGoNextPageError())){var M=this.getCurrentPageQuestions();if(!(M.indexOf(D)<0)){for(var L=0;L<M.length;L++)if(M[L].hasInput&&M[L].isEmpty())return;this.checkIsCurrentPageHasErrors(!1)||(this.isLastPage?this.goNextPageAutomatic===!0&&this.allowCompleteSurveyAutomatic&&(this.isShowPreviewBeforeComplete?this.showPreview():this.completeLastPage()):this.nextPage())}}}},I.prototype.getComment=function(b){var D=this.getValue(b+this.commentSuffix);return D||""},I.prototype.setComment=function(b,D,M){if(M===void 0&&(M=!1),D||(D=""),!this.isTwoValueEquals(D,this.getComment(b))){var L=b+this.commentSuffix;this.isValueEmpty(D)?this.deleteDataValueCore(this.valuesHash,L):this.setDataValueCore(this.valuesHash,L,D);var U=this.getQuestionsByValueName(b);if(U)for(var N=0;N<U.length;N++)U[N].updateCommentFromSurvey(D),this.checkQuestionErrorOnValueChanged(U[N]);M||this.runConditionOnValueChanged(b,this.getValue(b)),M!=="text"&&this.tryGoNextPageAutomatic(b);var W=this.getQuestionByName(b);W&&this.onValueChanged.fire(this,{name:L,question:W,value:D})}},I.prototype.clearValue=function(b){this.setValue(b,null),this.setComment(b,null)},Object.defineProperty(I.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(b){this.setPropertyValue("clearValueOnDisableItems",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isClearValueOnHidden",{get:function(){return this.clearInvisibleValues=="onHidden"||this.isClearValueOnHiddenContainer},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isClearValueOnHiddenContainer",{get:function(){return this.clearInvisibleValues=="onHiddenContainer"&&!this.isShowingPreview&&!this.runningPages},enumerable:!1,configurable:!0}),I.prototype.questionVisibilityChanged=function(b,D){this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:b,name:b.name,visible:D})},I.prototype.pageVisibilityChanged=function(b,D){this.isLoadingFromJson||((D&&!this.currentPage||b===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:b,visible:D}))},I.prototype.panelVisibilityChanged=function(b,D){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:b,visible:D})},I.prototype.questionCreated=function(b){this.onQuestionCreated.fire(this,{question:b})},I.prototype.questionAdded=function(b,D,M,L){b.name||(b.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),b.page&&this.questionHashesAdded(b),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),(!this.isMovingQuestion||this.isDesignMode&&!a.settings.supportCreatorV2)&&this.onQuestionAdded.fire(this,{question:b,name:b.name,index:D,parent:M,page:L,parentPanel:M,rootPanel:L})},I.prototype.questionRemoved=function(b){this.questionHashesRemoved(b,b.name,b.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:b,name:b.name}),this.updateLazyRenderingRowsOnRemovingElements()},I.prototype.questionRenamed=function(b,D,M){this.questionHashesRemoved(b,D,M),this.questionHashesAdded(b)},I.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},I.prototype.questionHashesPanelAdded=function(b){if(!this.isLoadingFromJson)for(var D=b.questions,M=0;M<D.length;M++)this.questionHashesAdded(D[M])},I.prototype.questionHashesAdded=function(b){this.questionHashAddedCore(this.questionHashes.names,b,b.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,b,b.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,b,b.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,b,b.getValueName().toLowerCase())},I.prototype.questionHashesRemoved=function(b,D,M){D&&(this.questionHashRemovedCore(this.questionHashes.names,b,D),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,b,D.toLowerCase())),M&&(this.questionHashRemovedCore(this.questionHashes.valueNames,b,M),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,b,M.toLowerCase()))},I.prototype.questionHashAddedCore=function(b,D,M){var L=b[M];if(L){var L=b[M];L.indexOf(D)<0&&L.push(D)}else b[M]=[D]},I.prototype.questionHashRemovedCore=function(b,D,M){var L=b[M];if(L){var U=L.indexOf(D);U>-1&&L.splice(U,1),L.length==0&&delete b[M]}},I.prototype.panelAdded=function(b,D,M,L){b.name||(b.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(b),this.updateVisibleIndexes(),this.onPanelAdded.fire(this,{panel:b,name:b.name,index:D,parent:M,page:L,parentPanel:M,rootPanel:L})},I.prototype.panelRemoved=function(b){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:b,name:b.name}),this.updateLazyRenderingRowsOnRemovingElements()},I.prototype.validateQuestion=function(b){if(this.onValidateQuestion.isEmpty)return null;var D={name:b.name,question:b,value:b.value,error:null};return this.onValidateQuestion.fire(this,D),D.error?new v.CustomError(D.error,this):null},I.prototype.validatePanel=function(b){if(this.onValidatePanel.isEmpty)return null;var D={name:b.name,panel:b,error:null};return this.onValidatePanel.fire(this,D),D.error?new v.CustomError(D.error,this):null},I.prototype.processHtml=function(b,D){D||(D="");var M={html:b,reason:D};return this.onProcessHtml.fire(this,M),this.processText(M.html,!0)},I.prototype.processText=function(b,D){return this.processTextEx(b,D,!1).text},I.prototype.processTextEx=function(b,D,M){var L={text:this.processTextCore(b,D,M),hasAllValuesOnLastRun:!0};return L.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,L},I.prototype.processTextCore=function(b,D,M){return M===void 0&&(M=!1),this.isDesignMode?b:this.textPreProcessor.process(b,D,M)},I.prototype.getSurveyMarkdownHtml=function(b,D,M){var L={element:b,text:D,name:M,html:null};return this.onTextMarkdown.fire(this,L),L.html},I.prototype.getCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},I.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},I.prototype.getQuizQuestionCount=function(){for(var b=this.getQuizQuestions(),D=0,M=0;M<b.length;M++)D+=b[M].quizQuestionCount;return D},I.prototype.getInCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},I.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},I.prototype.onCorrectQuestionAnswer=function(b,D){this.onIsAnswerCorrect.isEmpty||(D.question=b,this.onIsAnswerCorrect.fire(this,D))},I.prototype.getCorrectedAnswerCountCore=function(b){for(var D=this.getQuizQuestions(),M=0,L={question:null,result:!1,correctAnswers:0,incorrectAnswers:0},U=0;U<D.length;U++){var N=D[U],W=N.quizQuestionCount;if(L.question=N,L.correctAnswers=N.correctAnswerCount,L.incorrectAnswers=W-L.correctAnswers,L.result=L.question.isAnswerCorrect(),this.onIsAnswerCorrect.fire(this,L),b){if(L.result||L.correctAnswers<W){var z=L.correctAnswers;z==0&&L.result&&(z=1),M+=z}}else(!L.result||L.incorrectAnswers<W)&&(M+=L.incorrectAnswers)}return M},I.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},I.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(I.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(b){this.setPropertyValue("showTimerPanel",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.showTimerPanel=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.showTimerPanel=="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(b){this.setPropertyValue("showTimerPanelMode",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(b){this.setPropertyValue("widthMode",b)},enumerable:!1,configurable:!0}),I.prototype.setCalculatedWidthModeUpdater=function(){var b=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new g.ComputedUpdater(function(){return b.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},I.prototype.calculateWidthMode=function(){if(this.widthMode=="auto"){var b=!1;return this.pages.forEach(function(D){D.needResponsiveWidth()&&(b=!0)}),b?"responsive":"static"}return this.widthMode},Object.defineProperty(I.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(b){this.setPropertyValue("width",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"renderedWidth",{get:function(){var b=this.getPropertyValue("width");return b&&!isNaN(b)&&(b=b+"px"),this.getPropertyValue("calculatedWidthMode")=="static"&&b||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"timerClock",{get:function(){var b,D;if(this.currentPage){var M=this.getTimerInfo(),L=M.spent,U=M.limit,N=M.minorSpent,W=M.minorLimit;U>0?b=this.getDisplayClockTime(U-L):b=this.getDisplayClockTime(L),N!==void 0&&(W>0?D=this.getDisplayClockTime(W-N):D=this.getDisplayClockTime(N))}return{majorText:b,minorText:D}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"timerInfoText",{get:function(){var b={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,b);var D=new u.LocalizableString(this,!0);return D.text=b.text,D.textOrHtml},enumerable:!1,configurable:!0}),I.prototype.getTimerInfo=function(){var b=this.currentPage;if(!b)return{spent:0,limit:0};var D=b.timeSpent,M=this.timeSpent,L=this.getPageMaxTimeToFinish(b),U=this.maxTimeToFinish;return this.showTimerPanelMode=="page"?{spent:D,limit:L}:this.showTimerPanelMode=="survey"?{spent:M,limit:U}:L>0&&U>0?{spent:D,limit:L,minorSpent:M,minorLimit:U}:L>0?{spent:D,limit:L,minorSpent:M}:U>0?{spent:M,limit:U,minorSpent:D}:{spent:D,minorSpent:M}},I.prototype.getTimerInfoText=function(){var b=this.currentPage;if(!b)return"";var D=this.getDisplayTime(b.timeSpent),M=this.getDisplayTime(this.timeSpent),L=this.getPageMaxTimeToFinish(b),U=this.getDisplayTime(L),N=this.getDisplayTime(this.maxTimeToFinish);if(this.showTimerPanelMode=="page")return this.getTimerInfoPageText(b,D,U);if(this.showTimerPanelMode=="survey")return this.getTimerInfoSurveyText(M,N);if(this.showTimerPanelMode=="all"){if(L<=0&&this.maxTimeToFinish<=0)return this.getLocalizationFormatString("timerSpentAll",D,M);if(L>0&&this.maxTimeToFinish>0)return this.getLocalizationFormatString("timerLimitAll",D,U,M,N);var W=this.getTimerInfoPageText(b,D,U),z=this.getTimerInfoSurveyText(M,N);return W+" "+z}return""},I.prototype.getTimerInfoPageText=function(b,D,M){return this.getPageMaxTimeToFinish(b)>0?this.getLocalizationFormatString("timerLimitPage",D,M):this.getLocalizationFormatString("timerSpentPage",D,M)},I.prototype.getTimerInfoSurveyText=function(b,D){var M=this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(M,b,D)},I.prototype.getDisplayClockTime=function(b){var D=Math.floor(b/60),M=b%60,L=M.toString();return M<10&&(L="0"+L),D+":"+L},I.prototype.getDisplayTime=function(b){var D=Math.floor(b/60),M=b%60,L="";return D>0&&(L+=D+" "+this.getLocalizationString("timerMin")),L&&M==0?L:(L&&(L+=" "),L+M+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(I.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),I.prototype.startTimer=function(){this.timerModel.start()},I.prototype.startTimerFromUI=function(){this.showTimerPanel!="none"&&this.state==="running"&&this.startTimer()},I.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(I.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(b){this.timerModel.spent=b},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(b){this.setPropertyValue("maxTimeToFinish",b)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(b){this.setPropertyValue("maxTimeToFinishPage",b)},enumerable:!1,configurable:!0}),I.prototype.getPageMaxTimeToFinish=function(b){return!b||b.maxTimeToFinish<0?0:b.maxTimeToFinish>0?b.maxTimeToFinish:this.maxTimeToFinishPage},I.prototype.doTimer=function(b){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),b){var D=this.getPageMaxTimeToFinish(b);D>0&&D==b.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(I.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),I.prototype.getSurveyData=function(){return this},I.prototype.getSurvey=function(){return this},I.prototype.getTextProcessor=function(){return this},I.prototype.getObjects=function(b,D){var M=[];return Array.prototype.push.apply(M,this.getPagesByNames(b)),Array.prototype.push.apply(M,this.getQuestionsByNames(D)),M},I.prototype.setTriggerValue=function(b,D,M){if(b)if(M)this.setVariable(b,D);else{var L=this.getQuestionByName(b);if(L)L.value=D;else{var U=new x.ProcessValue,N=U.getFirstName(b);if(N==b)this.setValue(b,D);else{if(!this.getQuestionByName(N))return;var W=this.getUnbindValue(this.getFilteredValues());U.setValue(W,b,D),this.setValue(N,W[N])}}}},I.prototype.copyTriggerValue=function(b,D){if(!(!b||!D)){var M=new x.ProcessValue,L=M.getValue(D,this.getFilteredValues());this.setTriggerValue(b,L,!1)}},I.prototype.triggerExecuted=function(b){this.onTriggerExecuted.fire(this,{trigger:b})},I.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},I.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},I.prototype.focusQuestion=function(b){var D=this,M=this.getQuestionByName(b,!0);if(!M||!M.isVisible||!M.page)return!1;this.isFocusingQuestion=!0,this.skippedPages.push({from:this.currentPage,to:M.page});var L=this.currentPage!==M.page,U=function(){M.focus(),D.isFocusingQuestion=!1,D.isCurrentPageRendering=!1};return this.afterRenderPageTasks.push(U),this.currentPage=M.page,L||(U(),this.afterRenderPageTasks.splice(this.afterRenderPageTasks.indexOf(U),1)),!0},I.prototype.questionEditFinishCallback=function(b,D){if(a.settings.enterKeyAction=="loseFocus"&&D.target.blur(),a.settings.enterKeyAction=="moveToNextEditor"){var M=this.currentPage.questions,L=M.indexOf(b);L>-1&&L<M.length-1?M[L+1].focus():D.target.blur()}},I.prototype.getElementWrapperComponentName=function(b,D){return D==="logo-image"?"sv-logo-image":I.TemplateRendererComponentName},I.prototype.getQuestionContentWrapperComponentName=function(b){return I.TemplateRendererComponentName},I.prototype.getRowWrapperComponentName=function(b){return I.TemplateRendererComponentName},I.prototype.getElementWrapperComponentData=function(b,D){return b},I.prototype.getRowWrapperComponentData=function(b){return b},I.prototype.getItemValueWrapperComponentName=function(b,D){return I.TemplateRendererComponentName},I.prototype.getItemValueWrapperComponentData=function(b,D){return b},I.prototype.getMatrixCellTemplateData=function(b){return b.question},I.prototype.searchText=function(b){b&&(b=b.toLowerCase());for(var D=[],M=0;M<this.pages.length;M++)this.pages[M].searchText(b,D);return D},I.prototype.getSkeletonComponentName=function(b){return this.skeletonComponentName},I.prototype.addLayoutElement=function(b){var D=this.removeLayoutElement(b.id);return this.layoutElements.push(b),D},I.prototype.removeLayoutElement=function(b){var D=this.layoutElements.filter(function(L){return L.id===b})[0];if(D){var M=this.layoutElements.indexOf(D);this.layoutElements.splice(M,1)}return D},I.prototype.getContainerContent=function(b){for(var D=[],M=0,L=this.layoutElements;M<L.length;M++){var U=L[M];S(U.id,"timerpanel")?(b==="header"&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&D.push(U),b==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&D.push(U)):S(U.id,"progress-"+this.progressBarType)?(b==="header"&&this.isShowProgressBarOnTop&&!this.isShowStartingPage&&D.push(U),b==="contentBottom"&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&D.push(U)):S(U.id,"navigationbuttons")?(b==="contentTop"&&["top","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&D.push(U),b==="contentBottom"&&["bottom","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&D.push(U)):!this.isShowingPreview&&S(U.id,"toc-navigation")&&this.showTOC?(b==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&D.push(U),b==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&D.push(U)):(Array.isArray(U.container)&&U.container.indexOf(b)!==-1||U.container===b)&&D.push(U)}return D},I.prototype.dispose=function(){if(this.currentPage=null,this.destroyResizeObserver(),R.prototype.dispose.call(this),this.editingObj=null,!!this.pages){for(var b=0;b<this.pages.length;b++)this.pages[b].setSurveyImpl(void 0),this.pages[b].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},I.TemplateRendererComponentName="sv-template-renderer",I.stylesManager=null,I.platform="unknown",A([Object(m.property)()],I.prototype,"completedCss",void 0),A([Object(m.property)()],I.prototype,"containerCss",void 0),A([Object(m.property)()],I.prototype,"showBrandInfo",void 0),A([Object(m.property)()],I.prototype,"_isMobile",void 0),A([Object(m.property)()],I.prototype,"_isCompact",void 0),A([Object(m.property)()],I.prototype,"renderBackgroundImage",void 0),A([Object(m.property)()],I.prototype,"backgroundImageFit",void 0),A([Object(m.property)()],I.prototype,"rootCss",void 0),A([Object(m.property)()],I.prototype,"calculatedWidthMode",void 0),A([Object(m.propertyArray)()],I.prototype,"layoutElements",void 0),I}(y.SurveyElementCore);function S(R,I){return!R||!I?!1:R.toUpperCase()===I.toUpperCase()}m.Serializer.addClass("survey",[{name:"locale",choices:function(){return E.surveyLocalization.getLocales(!0)},onGetValue:function(R){return R.locale==E.surveyLocalization.defaultLocale?null:R.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean",default:!0},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem"},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page"},{name:"questions",alternativeName:"elements",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(R){return null},onSetValue:function(R,I,b){R.pages.splice(0,R.pages.length);var D=R.addNewPage("");b.toObject({questions:I},D)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue"},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem"},{name:"questionsOrder",default:"initial",choices:["initial","random"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom","both"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions","buttons"]},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"]},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(R,I){I!=="autogonext"&&(I=s.Helpers.isTwoValueEquals(I,!0)),R.setPropertyValue("goNextPageAutomatic",I)}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onValueChanging","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(R){return!R||R.showQuestionNumbers!=="off"}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(R){return R?R.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},"width",{name:"backgroundImage",serializationProperty:"locBackgroundImage",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}])},"./src/surveyProgress.ts":function(n,r,i){i.r(r),i.d(r,"SurveyProgressModel",function(){return m});var s=i("./src/utils/cssClassBuilder.ts"),m=function(){function g(){}return g.getProgressTextInBarCss=function(y){return new s.CssClassBuilder().append(y.progressText).append(y.progressTextInBar).toString()},g.getProgressTextUnderBarCss=function(y){return new s.CssClassBuilder().append(y.progressText).append(y.progressTextUnderBar).toString()},g}()},"./src/surveyProgressButtons.ts":function(n,r,i){i.r(r),i.d(r,"SurveyProgressButtonsModel",function(){return m});var s=i("./src/utils/cssClassBuilder.ts"),m=function(){function g(y){this.survey=y}return g.prototype.isListElementClickable=function(y){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:y<=this.survey.currentPageNo+1},g.prototype.getListElementCss=function(y){if(!(y>=this.survey.visiblePages.length))return new s.CssClassBuilder().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[y].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===y).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(y)).toString()},g.prototype.getScrollButtonCss=function(y,P){return new s.CssClassBuilder().append(this.survey.css.progressButtonsImageButtonLeft,P).append(this.survey.css.progressButtonsImageButtonRight,!P).append(this.survey.css.progressButtonsImageButtonHidden,!y).toString()},g.prototype.clickListElement=function(y){if(!this.survey.isDesignMode){if(y<this.survey.currentPageNo)this.survey.currentPageNo=y;else if(y>this.survey.currentPageNo)for(var P=this.survey.currentPageNo;P<y&&this.survey.nextPage();P++);}},g}()},"./src/surveyStrings.ts":function(n,r,i){i.r(r),i.d(r,"surveyLocalization",function(){return m}),i.d(r,"surveyStrings",function(){return g});var s=i("./src/localization/english.ts"),m={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(y){y==="cz"&&(y="cs"),this.currentLocaleValue=y},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(y){y==="cz"&&(y="cs"),this.defaultLocaleValue=y},getLocaleStrings:function(y){return this.locales[y]},getString:function(y,P){var T=this;P===void 0&&(P=null);var x=new Array,C=function(c){var p=T.locales[c];p&&x.push(p)},E=function(c){if(c){C(c);var p=c.indexOf("-");p<1||(c=c.substring(0,p),C(c))}};E(P),E(this.currentLocale),E(this.defaultLocale),this.defaultLocale!=="en"&&C("en");for(var v=0;v<x.length;v++){var u=x[v][y];if(u!==void 0)return u}return this.onGetExternalString(y,P)},getLocales:function(y){y===void 0&&(y=!1);var P=[];P.push("");var T=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){T={};for(var x=0;x<this.supportedLocales.length;x++)T[this.supportedLocales[x]]=!0}for(var C in T)y&&C==this.defaultLocale||P.push(C);var E=function(v){if(!v)return"";var u=m.localeNames[v];return u||(u=v),u.toLowerCase()};return P.sort(function(v,u){var c=E(v),p=E(u);return c===p?0:c<p?-1:1}),P},onGetExternalString:function(y,P){}},g=s.englishStrings;m.locales.en=s.englishStrings,m.localeNames.en="english"},"./src/surveyTimerModel.ts":function(n,r,i){i.r(r),i.d(r,"SurveyTimerModel",function(){return x});var s=i("./src/base.ts"),m=i("./src/surveytimer.ts"),g=i("./src/jsonobject.ts"),y=i("./src/utils/cssClassBuilder.ts"),P=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),T=function(C,E,v,u){var c=arguments.length,p=c<3?E:u===null?u=Object.getOwnPropertyDescriptor(E,v):u,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(C,E,v,u);else for(var a=C.length-1;a>=0;a--)(o=C[a])&&(p=(c<3?o(p):c>3?o(E,v,p):o(E,v))||p);return c>3&&p&&Object.defineProperty(E,v,p),p},x=function(C){P(E,C);function E(v){var u=C.call(this)||this;return u.timerFunc=null,u.surveyValue=v,u.onCreating(),u}return Object.defineProperty(E.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),E.prototype.onCreating=function(){},E.prototype.start=function(){var v=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){v.update()}),this.timerFunc=function(){v.doTimer()},this.setIsRunning(!0),this.update(),m.SurveyTimer.instance.start(this.timerFunc)))},E.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),m.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(E.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),E.prototype.setIsRunning=function(v){this.setPropertyValue("isRunning",v)},E.prototype.update=function(){this.updateText(),this.updateProgress()},E.prototype.doTimer=function(){var v=this.survey.currentPage;v&&(v.timeSpent=v.timeSpent+1),this.spent=this.spent+1,this.update(),this.onTimer&&this.onTimer(v)},E.prototype.updateProgress=function(){var v=this,u=this.survey.timerInfo,c=u.spent,p=u.limit;p?c==0?(this.progress=0,setTimeout(function(){v.progress=Math.floor((c+1)/p*100)/100},0)):c!==p&&(this.progress=Math.floor((c+1)/p*100)/100):this.progress=void 0},E.prototype.updateText=function(){var v=this.survey.timerClock;this.clockMajorText=v.majorText,this.clockMinorText=v.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(E.prototype,"showProgress",{get:function(){return this.progress!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"rootCss",{get:function(){return new y.CssClassBuilder().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),E.prototype.getProgressCss=function(){return new y.CssClassBuilder().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(E.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),T([Object(g.property)()],E.prototype,"text",void 0),T([Object(g.property)()],E.prototype,"progress",void 0),T([Object(g.property)()],E.prototype,"clockMajorText",void 0),T([Object(g.property)()],E.prototype,"clockMinorText",void 0),T([Object(g.property)({defaultValue:0})],E.prototype,"spent",void 0),E}(s.Base)},"./src/surveyToc.ts":function(n,r,i){i.r(r),i.d(r,"tryNavigateToPage",function(){return g}),i.d(r,"createTOCListModel",function(){return y}),i.d(r,"getTocRootCss",function(){return P});var s=i("./src/actions/action.ts"),m=i("./src/list.ts");function g(T,x){if(!T.isDesignMode){if(x<T.currentPageNo)T.currentPageNo=x;else if(x>T.currentPageNo){for(var C=T.currentPageNo;C<x;C++)if(!T.nextPageUIClick())return!1}return!0}}function y(T){var x=T.pages.map(function(E,v){return new s.Action({id:E.name,title:E.navigationTitle||E.title||E.name,action:function(){return typeof document!==void 0&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),g(T,v)}})}),C=new m.ListModel(x,function(E){E.action()&&(C.selectedItem=E)},!0,x.filter(function(E){return E.id===T.currentPage.name})[0]);return C.allowSelection=!1,C.locOwner=T,T.onCurrentPageChanged.add(function(E,v){C.selectedItem=x.filter(function(u){return u.id===T.currentPage.name})[0]}),C}function P(T){return"sv_progress-toc"+(" sv_progress-toc--"+(T.tocLocation||"").toLowerCase())}},"./src/surveytimer.ts":function(n,r,i){i.r(r),i.d(r,"surveyTimerFunctions",function(){return m}),i.d(r,"SurveyTimer",function(){return g});var s=i("./src/base.ts"),m={setTimeout:function(y){return typeof window>"u"?0:window.setTimeout(y,1e3)},clearTimeout:function(y){typeof window>"u"||window.clearTimeout(y)}},g=function(){function y(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new s.Event}return Object.defineProperty(y,"instance",{get:function(){return y.instanceValue||(y.instanceValue=new y),y.instanceValue},enumerable:!1,configurable:!0}),y.prototype.start=function(P){var T=this;P===void 0&&(P=null),P&&this.onTimer.add(P),this.timerId<0&&(this.timerId=m.setTimeout(function(){T.doTimer()})),this.listenerCounter++},y.prototype.stop=function(P){P===void 0&&(P=null),P&&this.onTimer.remove(P),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(m.clearTimeout(this.timerId),this.timerId=-1)},y.prototype.doTimer=function(){var P=this;if((this.onTimer.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),!(this.timerId<0)){var T=this.timerId;this.onTimer.fire(this,{}),T===this.timerId&&(this.timerId=m.setTimeout(function(){P.doTimer()}))}},y.instanceValue=null,y}()},"./src/svgbundle.ts":function(n,r,i){i.r(r),i.d(r,"SvgIconRegistry",function(){return g}),i.d(r,"SvgRegistry",function(){return y}),i.d(r,"SvgBundleViewModel",function(){return P});var s=i("./src/settings.ts"),m=i("./src/utils/utils.ts"),g=function(){function C(){this.icons={},this.iconPrefix="icon-"}return C.prototype.registerIconFromSymbol=function(E,v){this.icons[E]=v},C.prototype.registerIconFromSvgViaElement=function(E,v,u){u===void 0&&(u=this.iconPrefix);var c=document.createElement("div");c.innerHTML=v;var p=document.createElement("symbol"),o=c.querySelector("svg");p.innerHTML=o.innerHTML;for(var a=0;a<o.attributes.length;a++)p.setAttributeNS("http://www.w3.org/2000/svg",o.attributes[a].name,o.attributes[a].value);p.id=u+E,this.registerIconFromSymbol(E,p.outerHTML)},C.prototype.registerIconFromSvg=function(E,v,u){u===void 0&&(u=this.iconPrefix);var c="<svg ",p="</svg>";v=v.trim();var o=v.toLowerCase();return o.substring(0,c.length)===c&&o.substring(o.length-p.length,o.length)===p?(this.registerIconFromSymbol(E,'<symbol id="'+u+E+'" '+v.substring(c.length,o.length-p.length)+"</symbol>"),!0):!1},C.prototype.registerIconsFromFolder=function(E){var v=this;E.keys().forEach(function(u){v.registerIconFromSvg(u.substring(2,u.length-4).toLowerCase(),E(u))})},C.prototype.iconsRenderedHtml=function(){var E=this;return Object.keys(this.icons).map(function(v){return E.icons[v]}).join("")},C.prototype.renderIcons=function(){var E="sv-icon-holder-global-container";if(!s.settings.environment.root.getElementById(E)){var v=document.createElement("div");v.id=E,v.innerHTML="<svg>"+this.iconsRenderedHtml()+"</svg>",v.style.display="none",Object(m.getElement)(s.settings.environment.svgMountContainer).appendChild(v)}},C}(),y=new g,P,T=i("./src/images sync \\.svg$"),x=i("./src/images/smiley sync \\.svg$");y.registerIconsFromFolder(T),y.registerIconsFromFolder(x)},"./src/template-renderer.ts":function(n,r,i){i.r(r)},"./src/textPreProcessor.ts":function(n,r,i){i.r(r),i.d(r,"TextPreProcessorItem",function(){return g}),i.d(r,"TextPreProcessorValue",function(){return y}),i.d(r,"TextPreProcessor",function(){return P}),i.d(r,"QuestionTextProcessor",function(){return T});var s=i("./src/helpers.ts"),m=i("./src/conditionProcessValue.ts"),g=function(){function x(){}return x}(),y=function(){function x(C,E){this.name=C,this.returnDisplayValue=E,this.isExists=!1,this.canProcess=!0}return x}(),P=function(){function x(){this._unObservableValues=[void 0]}return Object.defineProperty(x.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(C){this._unObservableValues[0]=C},enumerable:!1,configurable:!0}),x.prototype.process=function(C,E,v){if(E===void 0&&(E=!1),v===void 0&&(v=!1),this.hasAllValuesOnLastRunValue=!0,!C||!this.onProcess)return C;for(var u=this.getItems(C),c=u.length-1;c>=0;c--){var p=u[c],o=this.getName(C.substring(p.start+1,p.end));if(o){var a=new y(o,E);if(this.onProcess(a),!a.isExists){a.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}s.Helpers.isValueEmpty(a.value)&&(this.hasAllValuesOnLastRunValue=!1);var d=s.Helpers.isValueEmpty(a.value)?"":a.value;v&&(d=encodeURIComponent(d)),C=C.substring(0,p.start)+d+C.substring(p.end+1)}}return C},x.prototype.processValue=function(C,E){var v=new y(C,E);return this.onProcess&&this.onProcess(v),v},Object.defineProperty(x.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),x.prototype.getItems=function(C){for(var E=[],v=C.length,u=-1,c="",p=0;p<v;p++)if(c=C[p],c=="{"&&(u=p),c=="}"){if(u>-1){var o=new g;o.start=u,o.end=p,E.push(o)}u=-1}return E},x.prototype.getName=function(C){if(C)return C.trim()},x}(),T=function(){function x(C){var E=this;this.variableName=C,this.textPreProcessor=new P,this.textPreProcessor.onProcess=function(v){E.getProcessedTextValue(v)}}return x.prototype.processValue=function(C,E){return this.textPreProcessor.processValue(C,E)},Object.defineProperty(x.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),x.prototype.getValues=function(){return this.panel?this.panel.getValue():null},x.prototype.getQuestionByName=function(C){return this.panel?this.panel.getQuestionByValueName(C):null},x.prototype.getParentTextProcessor=function(){return null},x.prototype.onCustomProcessText=function(C){return!1},x.prototype.getQuestionDisplayText=function(C){return C.displayValue},x.prototype.getProcessedTextValue=function(C){if(C&&!this.onCustomProcessText(C)){var E=new m.ProcessValue().getFirstName(C.name);if(C.isExists=E==this.variableName,C.canProcess=C.isExists,!!C.canProcess){C.name=C.name.replace(this.variableName+".","");var E=new m.ProcessValue().getFirstName(C.name),v=this.getQuestionByName(E),u={};if(v)u[E]=C.returnDisplayValue?this.getQuestionDisplayText(v):v.value;else{var c=this.panel?this.getValues():null;c&&(u[E]=c[E])}C.value=new m.ProcessValue().getValue(C.name,u)}}},x.prototype.processText=function(C,E){return this.survey&&this.survey.isDesignMode?C:(C=this.textPreProcessor.process(C,E),C=this.processTextCore(this.getParentTextProcessor(),C,E),this.processTextCore(this.survey,C,E))},x.prototype.processTextEx=function(C,E){C=this.processText(C,E);var v=this.textPreProcessor.hasAllValuesOnLastRun,u={hasAllValuesOnLastRun:!0,text:C};return this.survey&&(u=this.survey.processTextEx(C,E,!1)),u.hasAllValuesOnLastRun=u.hasAllValuesOnLastRun&&v,u},x.prototype.processTextCore=function(C,E,v){return C?C.processText(E,v):E},x}()},"./src/trigger.ts":function(n,r,i){i.r(r),i.d(r,"Trigger",function(){return E}),i.d(r,"SurveyTrigger",function(){return v}),i.d(r,"SurveyTriggerVisible",function(){return u}),i.d(r,"SurveyTriggerComplete",function(){return c}),i.d(r,"SurveyTriggerSetValue",function(){return p}),i.d(r,"SurveyTriggerSkip",function(){return o}),i.d(r,"SurveyTriggerRunExpression",function(){return a}),i.d(r,"SurveyTriggerCopyValue",function(){return d});var s=i("./src/helpers.ts"),m=i("./src/base.ts"),g=i("./src/jsonobject.ts"),y=i("./src/conditions.ts"),P=i("./src/expressions/expressions.ts"),T=i("./src/conditionProcessValue.ts"),x=i("./src/settings.ts"),C=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),E=function(h){C(f,h);function f(){var l=h.call(this)||this;return l.idValue=f.idCounter++,l.usedNames=[],l.registerPropertyChangedHandlers(["operator","value","name"],function(){l.oldPropertiesChanged()}),l.registerPropertyChangedHandlers(["expression"],function(){l.onExpressionChanged()}),l}return Object.defineProperty(f,"operators",{get:function(){return f.operatorsValue!=null||(f.operatorsValue={empty:function(l,O){return!l},notempty:function(l,O){return!!l},equal:function(l,O){return l==O},notequal:function(l,O){return l!=O},contains:function(l,O){return l&&l.indexOf&&l.indexOf(O)>-1},notcontains:function(l,O){return!l||!l.indexOf||l.indexOf(O)==-1},greater:function(l,O){return l>O},less:function(l,O){return l<O},greaterorequal:function(l,O){return l>=O},lessorequal:function(l,O){return l<=O}}),f.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"triggerbase"},f.prototype.toString=function(){var l=this.getType().replace("trigger",""),O=this.expression?this.expression:this.buildExpression();return O&&(l+=", "+O),l},Object.defineProperty(f.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(l){l&&(l=l.toLowerCase(),f.operators[l]&&this.setPropertyValue("operator",l))},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(l){this.setPropertyValue("value",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(l){this.setPropertyValue("name",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(l){this.setPropertyValue("expression",l)},enumerable:!1,configurable:!0}),f.prototype.canBeExecuted=function(l){return!0},f.prototype.canBeExecutedOnComplete=function(){return!1},f.prototype.checkExpression=function(l,O,V,A,w){w===void 0&&(w=null),this.isExecutingOnNextPage=l,this.canBeExecuted(l)&&(O&&!this.canBeExecutedOnComplete()||this.isCheckRequired(V)&&this.conditionRunner&&this.perform(A,w))},f.prototype.check=function(l){var O=f.operators[this.operator](l,this.value);O?this.onSuccess({},null):this.onFailure()},f.prototype.perform=function(l,O){var V=this;this.conditionRunner.onRunComplete=function(A){V.triggerResult(A,l,O)},this.conditionRunner.run(l,O)},f.prototype.triggerResult=function(l,O,V){l?(this.onSuccess(O,V),this.onSuccessExecuted()):this.onFailure()},f.prototype.onSuccess=function(l,O){},f.prototype.onFailure=function(){},f.prototype.onSuccessExecuted=function(){},f.prototype.endLoadingFromJson=function(){h.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},f.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},f.prototype.onExpressionChanged=function(){this.usedNames=[],this.hasFunction=!1,this.conditionRunner=null},f.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+P.OperandMaker.toOperandString(this.value)},f.prototype.isCheckRequired=function(l){if(!l)return!1;if(this.buildUsedNames(),this.hasFunction===!0)return!0;for(var O=new T.ProcessValue,V=0;V<this.usedNames.length;V++){var A=this.usedNames[V];if(l.hasOwnProperty(A))return!0;var w=O.getFirstName(A);if(l.hasOwnProperty(w)){if(A===w)return!0;var S=l[w];if(S!=null){if(!S.hasOwnProperty("oldValue")||!S.hasOwnProperty("newValue"))return!0;var R={};R[w]=S.oldValue;var I=O.getValue(A,R);R[w]=S.newValue;var b=O.getValue(A,R);if(!this.isTwoValueEquals(I,b))return!0}}}return!1},f.prototype.buildUsedNames=function(){if(!this.conditionRunner){var l=this.expression;l||(l=this.buildExpression()),l&&(this.conditionRunner=new y.ConditionRunner(l),this.hasFunction=this.conditionRunner.hasFunction(),this.usedNames=this.conditionRunner.getVariables())}},Object.defineProperty(f.prototype,"isRequireValue",{get:function(){return this.operator!=="empty"&&this.operator!="notempty"},enumerable:!1,configurable:!0}),f.idCounter=1,f.operatorsValue=null,f}(m.Base),v=function(h){C(f,h);function f(){var l=h.call(this)||this;return l.ownerValue=null,l}return Object.defineProperty(f.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),f.prototype.setOwner=function(l){this.ownerValue=l},f.prototype.getSurvey=function(l){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},f.prototype.isRealExecution=function(){return!0},f.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},f}(E),u=function(h){C(f,h);function f(){var l=h.call(this)||this;return l.pages=[],l.questions=[],l}return f.prototype.getType=function(){return"visibletrigger"},f.prototype.onSuccess=function(l,O){this.onTrigger(this.onItemSuccess)},f.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},f.prototype.onTrigger=function(l){if(this.owner)for(var O=this.owner.getObjects(this.pages,this.questions),V=0;V<O.length;V++)l(O[V])},f.prototype.onItemSuccess=function(l){l.visible=!0},f.prototype.onItemFailure=function(l){l.visible=!1},f}(v),c=function(h){C(f,h);function f(){return h.call(this)||this}return f.prototype.getType=function(){return"completetrigger"},f.prototype.isRealExecution=function(){return!x.settings.executeCompleteTriggerOnValueChanged===this.isExecutingOnNextPage},f.prototype.onSuccess=function(l,O){this.owner&&(this.isRealExecution()?this.owner.setCompleted():this.owner.canBeCompleted(this,!0))},f.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},f}(v),p=function(h){C(f,h);function f(){return h.call(this)||this}return f.prototype.getType=function(){return"setvaluetrigger"},f.prototype.canBeExecuted=function(l){return!l&&!!this.setToName},f.prototype.onPropertyValueChanged=function(l,O,V){if(h.prototype.onPropertyValueChanged.call(this,l,O,V),l==="setToName"){var A=this.getSurvey();A&&!A.isLoadingFromJson&&A.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(f.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(l){this.setPropertyValue("setToName",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(l){this.setPropertyValue("setValue",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(l){this.setPropertyValue("isVariable",l)},enumerable:!1,configurable:!0}),f.prototype.onSuccess=function(l,O){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},f}(v),o=function(h){C(f,h);function f(){return h.call(this)||this}return f.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(f.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(l){this.setPropertyValue("gotoName",l)},enumerable:!1,configurable:!0}),f.prototype.canBeExecuted=function(l){return l===!x.settings.executeSkipTriggerOnValueChanged},f.prototype.onSuccess=function(l,O){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},f}(v),a=function(h){C(f,h);function f(){return h.call(this)||this}return f.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(f.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(l){this.setPropertyValue("setToName",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(l){this.setPropertyValue("runExpression",l)},enumerable:!1,configurable:!0}),f.prototype.onSuccess=function(l,O){var V=this;if(!(!this.owner||!this.runExpression)){var A=new y.ExpressionRunner(this.runExpression);A.canRun&&(A.onRunComplete=function(w){V.onCompleteRunExpression(w)},A.run(l,O))}},f.prototype.onCompleteRunExpression=function(l){this.setToName&&l!==void 0&&this.owner.setTriggerValue(this.setToName,s.Helpers.convertValToQuestionVal(l),!1)},f}(v),d=function(h){C(f,h);function f(){return h.call(this)||this}return f.prototype.canBeExecuted=function(l){return!l&&!!this.setToName&&!!this.fromName},Object.defineProperty(f.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(l){this.setPropertyValue("setToName",l)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(l){this.setPropertyValue("fromName",l)},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"copyvaluetrigger"},f.prototype.onSuccess=function(l,O){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName)},f}(v);g.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),g.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),g.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new u},"surveytrigger"),g.Serializer.addClass("completetrigger",[],function(){return new c},"surveytrigger"),g.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(h){return!!h&&!!h.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new p},"surveytrigger"),g.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"}],function(){return new d},"surveytrigger"),g.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new o},"surveytrigger"),g.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new a},"surveytrigger")},"./src/utils/cssClassBuilder.ts":function(n,r,i){i.r(r),i.d(r,"CssClassBuilder",function(){return s});var s=function(){function m(){this.classes=[]}return m.prototype.isEmpty=function(){return this.toString()===""},m.prototype.append=function(g,y){return y===void 0&&(y=!0),g&&y&&(typeof g=="string"&&(g=g.trim()),this.classes.push(g)),this},m.prototype.toString=function(){return this.classes.join(" ")},m}()},"./src/utils/devices.ts":function(n,r,i){i.r(r),i.d(r,"IsMobile",function(){return y}),i.d(r,"IsTouch",function(){return T}),i.d(r,"_setIsTouch",function(){return x});var s=!1,m=null;typeof navigator<"u"&&typeof window<"u"&&navigator&&window&&(m=navigator.userAgent||navigator.vendor||window.opera),function(C){C&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(C)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(C.substring(0,4)))&&(s=!0)}(m);var g=!1,y=s||g,P=!1;typeof window<"u"&&(P="ontouchstart"in window||navigator.maxTouchPoints>0);var T=y&&P;function x(C){T=C}},"./src/utils/dragOrClickHelper.ts":function(n,r,i){i.r(r),i.d(r,"DragOrClickHelper",function(){return m});var s=i("./src/entries/core.ts"),m=function(){function g(y){var P=this;this.dragHandler=y,this.onPointerUp=function(T){P.clearListeners()},this.tryToStartDrag=function(T){if(P.currentX=T.pageX,P.currentY=T.pageY,!P.isMicroMovement)return P.clearListeners(),P.dragHandler(P.pointerDownEvent,P.currentTarget,P.itemModel),!0}}return g.prototype.onPointerDown=function(y,P){if(s.IsTouch){this.dragHandler(y,y.currentTarget,P);return}this.pointerDownEvent=y,this.currentTarget=y.currentTarget,this.startX=y.pageX,this.startY=y.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=P},Object.defineProperty(g.prototype,"isMicroMovement",{get:function(){var y=10,P=Math.abs(this.currentX-this.startX),T=Math.abs(this.currentY-this.startY);return P<y&&T<y},enumerable:!1,configurable:!0}),g.prototype.clearListeners=function(){this.pointerDownEvent&&(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},g}()},"./src/utils/popup.ts":function(n,r,i){i.r(r),i.d(r,"PopupUtils",function(){return s});var s=function(){function m(){}return m.calculatePosition=function(g,y,P,T,x,C,E){E===void 0&&(E="flex");var v=g.left,u=g.top;return E==="flex"&&(x=="center"?v=(g.left+g.right-P)/2:x=="left"?v=g.left-P:v=g.right),T=="middle"?u=(g.top+g.bottom-y)/2:T=="top"?u=g.top-y:u=g.bottom,C&&x!="center"&&T!="middle"&&(T=="top"?u=u+g.height:u=u-g.height),{left:Math.round(v),top:Math.round(u)}},m.updateVerticalDimensions=function(g,y,P){var T;if(g<0)T={height:y+g,top:0};else if(y+g>P){var x=Math.min(y,P-g-m.bottomIndent);T={height:x,top:g}}return T},m.updateHorizontalDimensions=function(g,y,P,T,x,C){x===void 0&&(x="flex"),C===void 0&&(C={left:0,right:0}),y+=C.left+C.right;var E=void 0,v=g;return T==="center"&&(x==="fixed"?(g+y>P&&(E=P-g),v-=C.left):g<0?(v=C.left,E=Math.min(y,P)):y+g>P&&(v=P-y,v=Math.max(v,C.left),E=Math.min(y,P))),T==="left"&&g<0&&(v=C.left,E=Math.min(y,P)),T==="right"&&y+g>P&&(E=P-g),{width:E-C.left-C.right,left:v}},m.updateVerticalPosition=function(g,y,P,T,x){var C=y-(g.top+(T?g.height:0)),E=y+g.bottom-(T?g.height:0)-x;return C>0&&E<=0&&P=="top"?P="bottom":E>0&&C<=0&&P=="bottom"?P="top":E>0&&C>0&&(P=C<E?"top":"bottom"),P},m.calculatePopupDirection=function(g,y){var P;return y=="center"&&g!="middle"?P=g:y!="center"&&(P=y),P},m.calculatePointerTarget=function(g,y,P,T,x,C,E){C===void 0&&(C=0),E===void 0&&(E=0);var v={};return x!="center"?(v.top=g.top+g.height/2,v.left=g[x]):T!="middle"&&(v.top=g[T],v.left=g.left+g.width/2),v.left=Math.round(v.left-P),v.top=Math.round(v.top-y),x=="left"&&(v.left-=C+E),x==="center"&&(v.left-=C),v},m.bottomIndent=16,m}()},"./src/utils/responsivity-manager.ts":function(n,r,i){i.r(r),i.d(r,"ResponsivityManager",function(){return y}),i.d(r,"VerticalResponsivityManager",function(){return P});var s=i("./node_modules/timers-browserify/main.js"),m=i("./src/utils/utils.ts"),g=function(){var T=function(x,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,v){E.__proto__=v}||function(E,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(E[u]=v[u])},T(x,C)};return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(x,C);function E(){this.constructor=x}x.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}}(),y=function(){function T(x,C,E,v){var u=this;v===void 0&&(v=null),this.container=x,this.model=C,this.itemsSelector=E,this.dotsItemSize=v,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(c){c?u.isInitialized=!1:Object(s.setTimeout)(function(){u.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(c){return u.process()}),this.resizeObserver.observe(this.container.parentElement))}return T.prototype.getDimensions=function(x){return{scroll:x.scrollWidth,offset:x.offsetWidth}},T.prototype.getAvailableSpace=function(){var x=this.getComputedStyle(this.container),C=this.container.offsetWidth;return x.boxSizing==="border-box"&&(C-=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight)),C},T.prototype.calcItemSize=function(x){return x.offsetWidth},T.prototype.calcMinDimension=function(x){var C=this.minDimensionConst;return x.iconSize&&this.recalcMinDimensionConst&&(C=2*x.iconSize+this.paddingSizeConst),x.canShrink?C+(x.needSeparator?this.separatorSize:0):x.maxDimension},T.prototype.calcItemsSizes=function(){var x=this,C=this.model.actions;this.container.querySelectorAll(this.itemsSelector).forEach(function(E,v){var u=C[v];x.calcActionDimensions(u,E)})},T.prototype.calcActionDimensions=function(x,C){x.maxDimension=this.calcItemSize(C),x.minDimension=this.calcMinDimension(x)},Object.defineProperty(T.prototype,"isContainerVisible",{get:function(){return Object(m.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),T.prototype.process=function(){var x;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0);var C=this.dotsItemSize;if(!this.dotsItemSize){var E=(x=this.container)===null||x===void 0?void 0:x.querySelector(".sv-dots");C=E&&this.calcItemSize(E)||this.dotsSizeConst}this.model.fit(this.getAvailableSpace(),C)}},T.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},T}(),P=function(T){g(x,T);function x(C,E,v,u,c){c===void 0&&(c=40);var p=T.call(this,C,E,v,u)||this;return p.minDimensionConst=c,p.recalcMinDimensionConst=!1,p}return x.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},x.prototype.getAvailableSpace=function(){var C=this.getComputedStyle(this.container),E=this.container.offsetHeight;return C.boxSizing==="border-box"&&(E-=parseFloat(C.paddingTop)+parseFloat(C.paddingBottom)),E},x.prototype.calcItemSize=function(C){return C.offsetHeight},x.prototype.calcActionDimensions=function(C,E){C.maxDimension=this.calcItemSize(E),C.minDimension=this.calcItemSize(E)},x}(y)},"./src/utils/tooltip.ts":function(n,r,i){i.r(r),i.d(r,"TooltipManager",function(){return s});var s=function(){function m(g){var y=this;this.tooltipElement=g,this.onMouseMoveCallback=function(P){y.tooltipElement.style.left=P.clientX+12+"px",y.tooltipElement.style.top=P.clientY+12+"px"},this.targetElement=g.parentElement,this.targetElement.addEventListener("mousemove",this.onMouseMoveCallback)}return m.prototype.dispose=function(){this.targetElement.removeEventListener("mousemove",this.onMouseMoveCallback)},m}()},"./src/utils/utils.ts":function(n,r,i){i.r(r),i.d(r,"unwrap",function(){return d}),i.d(r,"getSize",function(){return h}),i.d(r,"doKey2ClickBlur",function(){return l}),i.d(r,"doKey2ClickUp",function(){return O}),i.d(r,"doKey2ClickDown",function(){return V}),i.d(r,"sanitizeEditableContent",function(){return M}),i.d(r,"Logger",function(){return U}),i.d(r,"mergeValues",function(){return L}),i.d(r,"getElementWidth",function(){return I}),i.d(r,"isContainerVisible",function(){return b}),i.d(r,"classesToSelector",function(){return R}),i.d(r,"compareVersions",function(){return m}),i.d(r,"confirmAction",function(){return g}),i.d(r,"detectIEOrEdge",function(){return P}),i.d(r,"detectIEBrowser",function(){return y}),i.d(r,"loadFileFromBase64",function(){return T}),i.d(r,"isMobile",function(){return x}),i.d(r,"isShadowDOM",function(){return C}),i.d(r,"getElement",function(){return E}),i.d(r,"isElementVisible",function(){return v}),i.d(r,"findScrollableParent",function(){return u}),i.d(r,"scrollElementByChildId",function(){return c}),i.d(r,"navigateToUrl",function(){return p}),i.d(r,"createSvg",function(){return a}),i.d(r,"getIconNameFromProxy",function(){return o}),i.d(r,"increaseHeightByContent",function(){return A}),i.d(r,"getOriginalEvent",function(){return w}),i.d(r,"preventDefaults",function(){return S}),i.d(r,"findParentByClassNames",function(){return D});var s=i("./src/settings.ts");function m(N,W){for(var z=/(\.0+)+$/,Q=N.replace(z,"").split("."),$=W.replace(z,"").split("."),Y=Math.min(Q.length,$.length),q=0;q<Y;q++){var se=parseInt(Q[q],10)-parseInt($[q],10);if(se)return se}return Q.length-$.length}function g(N){return s.settings&&s.settings.confirmActionFunc?s.settings.confirmActionFunc(N):confirm(N)}function y(){if(typeof window>"u")return!1;var N=window.navigator.userAgent,W=N.indexOf("MSIE "),z=N.indexOf("Trident/");return W>-1||z>-1}function P(){if(typeof window>"u")return!1;if(typeof P.isIEOrEdge>"u"){var N=window.navigator.userAgent,W=N.indexOf("MSIE "),z=N.indexOf("Trident/"),Q=N.indexOf("Edge/");P.isIEOrEdge=Q>0||z>0||W>0}return P.isIEOrEdge}function T(N,W){try{for(var z=atob(N.split(",")[1]),Q=N.split(",")[0].split(":")[1].split(";")[0],$=new ArrayBuffer(z.length),Y=new Uint8Array($),q=0;q<z.length;q++)Y[q]=z.charCodeAt(q);var se=new Blob([$],{type:Q});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(se,W)}catch{}}function x(){return typeof window<"u"&&typeof window.orientation<"u"}var C=function(N){return!!N&&!!("host"in N&&N.host)},E=function(N){var W=s.settings.environment.root;return typeof N=="string"?W.getElementById(N):N};function v(N,W){if(W===void 0&&(W=0),typeof s.settings.environment>"u")return!1;var z=s.settings.environment.root,Q=C(z)?z.host.clientHeight:z.documentElement.clientHeight,$=N.getBoundingClientRect(),Y=Math.max(Q,window.innerHeight),q=-W,se=Y+W,Z=$.top,Oe=$.bottom,ve=Math.max(q,Z),Ce=Math.min(se,Oe);return ve<=Ce}function u(N){var W=s.settings.environment.root;return N?N.scrollHeight>N.clientHeight&&(getComputedStyle(N).overflowY==="scroll"||getComputedStyle(N).overflowY==="auto")||N.scrollWidth>N.clientWidth&&(getComputedStyle(N).overflowX==="scroll"||getComputedStyle(N).overflowX==="auto")?N:u(N.parentElement):C(W)?W.host:W.documentElement}function c(N){var W=s.settings.environment;if(W){var z=W.root,Q=z.getElementById(N);if(Q){var $=u(Q);$&&$.dispatchEvent(new CustomEvent("scroll"))}}}function p(N){!N||typeof window>"u"||!window.location||(window.location.href=N)}function o(N){if(!N)return N;var W=s.settings.customIcons[N];return W||N}function a(N,W,z,Q,$,Y){if($){N!=="auto"&&($.style.width=(N||W||16)+"px",$.style.height=(N||z||16)+"px");var q=$.childNodes[0],se=o(Q);q.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+se);var Z=$.getElementsByTagName("title")[0];if(Y)Z||(Z=document.createElementNS("http://www.w3.org/2000/svg","title"),$.appendChild(Z));else{Z&&$.removeChild(Z);return}Z.textContent=Y}}function d(N){return typeof N!="function"?N:N()}function h(N){if(typeof N=="number")return""+N+"px";if(N&&typeof N=="string"&&N.length>0){var W=N[N.length-1];if(W>="0"&&W<="9"||W==".")try{var z=parseFloat(N);return""+z+"px"}catch{}}return N}var f="sv-focused--by-key";function l(N){var W=N.target;!W||!W.classList||W.classList.remove(f)}function O(N,W){if(!(N.target&&N.target.contentEditable==="true")){var z=N.target;if(z){var Q=N.which||N.keyCode;Q===9?z.classList&&!z.classList.contains(f)&&z.classList.add(f):Q===13||Q===32?z.click&&z.click():(!W||W.processEsc)&&Q===27&&z.blur&&z.blur()}}}function V(N,W){if(W===void 0&&(W={processEsc:!0}),!(N.target&&N.target.contentEditable==="true")){var z=N.which||N.keyCode,Q=[13,32];W.processEsc&&Q.push(27),Q.indexOf(z)!==-1&&N.preventDefault()}}function A(N,W){if(N){W||(W=function(Q){return window.getComputedStyle(Q)});var z=W(N);N.style.height="auto",N.style.height=N.scrollHeight+parseFloat(z.borderTopWidth)+parseFloat(z.borderBottomWidth)+"px"}}function w(N){return N.originalEvent||N}function S(N){N.preventDefault(),N.stopPropagation()}function R(N){var W=/\s*?([\w-]+)\s*?/g;return N.replace(W,".$1")}function I(N){return getComputedStyle?Number.parseFloat(getComputedStyle(N).width):N.offsetWidth}function b(N){return!!(N.offsetWidth||N.offsetHeight||N.getClientRects().length)}function D(N,W){if(N)return W.every(function(z){return!z||N.classList.contains(z)})?N:D(N.parentElement,W)}function M(N){if(window.getSelection&&document.createRange&&N.childNodes.length>0){var W=document.getSelection(),z=W.getRangeAt(0);z.setStart(z.endContainer,z.endOffset),z.setEndAfter(N.lastChild),W.removeAllRanges(),W.addRange(z);var Q=W.toString().replace(/\n/g,"").length;N.innerText=N.innerText.replace(/\n/g,""),z=document.createRange(),z.setStart(N.childNodes[0],N.innerText.length-Q),z.collapse(!0),W.removeAllRanges(),W.addRange(z)}}function L(N,W){if(!(!W||!N)&&typeof W=="object")for(var z in N){var Q=N[z];Q&&typeof Q=="object"?((!W[z]||typeof W[z]!="object")&&(W[z]={}),L(Q,W[z])):W[z]=Q}}var U=function(){function N(){this._result=""}return N.prototype.log=function(W){this._result+="->"+W},Object.defineProperty(N.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),N}()},"./src/validator.ts":function(n,r,i){i.r(r),i.d(r,"ValidatorResult",function(){return x}),i.d(r,"SurveyValidator",function(){return C}),i.d(r,"ValidatorRunner",function(){return E}),i.d(r,"NumericValidator",function(){return v}),i.d(r,"TextValidator",function(){return u}),i.d(r,"AnswerCountValidator",function(){return c}),i.d(r,"RegexValidator",function(){return p}),i.d(r,"EmailValidator",function(){return o}),i.d(r,"ExpressionValidator",function(){return a});var s=i("./src/base.ts"),m=i("./src/error.ts"),g=i("./src/jsonobject.ts"),y=i("./src/conditions.ts"),P=i("./src/helpers.ts"),T=function(){var d=function(h,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,O){l.__proto__=O}||function(l,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(l[V]=O[V])},d(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(h,f);function l(){this.constructor=h}h.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),x=function(){function d(h,f){f===void 0&&(f=null),this.value=h,this.error=f}return d}(),C=function(d){T(h,d);function h(){var f=d.call(this)||this;return f.createLocalizableString("text",f,!0),f}return h.prototype.getSurvey=function(f){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(h.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(f){this.setLocalizableStringText("text",f)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),h.prototype.getErrorText=function(f){return this.text?this.text:this.getDefaultErrorText(f)},h.prototype.getDefaultErrorText=function(f){return""},h.prototype.validate=function(f,l,O,V){return null},Object.defineProperty(h.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},h.prototype.getMarkdownHtml=function(f,l){return this.errorOwner?this.errorOwner.getMarkdownHtml(f,l):void 0},h.prototype.getRenderer=function(f){return this.errorOwner?this.errorOwner.getRenderer(f):null},h.prototype.getRendererContext=function(f){return this.errorOwner?this.errorOwner.getRendererContext(f):f},h.prototype.getProcessedText=function(f){return this.errorOwner?this.errorOwner.getProcessedText(f):f},h.prototype.createCustomError=function(f){var l=this,O=new m.CustomError(this.getErrorText(f),this.errorOwner);return O.onUpdateErrorTextCallback=function(V){return V.text=l.getErrorText(f)},O},h.prototype.toString=function(){var f=this.getType().replace("validator","");return this.text&&(f+=", "+this.text),f},h}(s.Base),E=function(){function d(){}return d.prototype.run=function(h){var f=this,l=[],O=null,V=null;this.prepareAsyncValidators();for(var A=[],w=h.getValidators(),S=0;S<w.length;S++){var R=w[S];!O&&R.isValidateAllValues&&(O=h.getDataFilteredValues(),V=h.getDataFilteredProperties()),R.isAsync&&(this.asyncValidators.push(R),R.onAsyncCompleted=function(b){if(b&&b.error&&A.push(b.error),!!f.onAsyncCompleted){for(var D=0;D<f.asyncValidators.length;D++)if(f.asyncValidators[D].isRunning)return;f.onAsyncCompleted(A)}})}w=h.getValidators();for(var S=0;S<w.length;S++){var R=w[S],I=R.validate(h.validatedValue,h.getValidatorTitle(),O,V);I&&I.error&&l.push(I.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),l},d.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var h=0;h<this.asyncValidators.length;h++)this.asyncValidators[h].onAsyncCompleted=null;this.asyncValidators=[]},d}(),v=function(d){T(h,d);function h(f,l){f===void 0&&(f=null),l===void 0&&(l=null);var O=d.call(this)||this;return O.minValue=f,O.maxValue=l,O}return h.prototype.getType=function(){return"numericvalidator"},h.prototype.validate=function(f,l,O,V){if(l===void 0&&(l=null),this.isValueEmpty(f))return null;if(!P.Helpers.isNumber(f))return new x(null,new m.RequreNumericError(null,this.errorOwner));var A=new x(P.Helpers.getNumber(f));return this.minValue!==null&&this.minValue>A.value?(A.error=this.createCustomError(l),A):this.maxValue!==null&&this.maxValue<A.value?(A.error=this.createCustomError(l),A):typeof f=="number"?null:A},h.prototype.getDefaultErrorText=function(f){var l=f||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",l,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",l,this.minValue):this.getLocalizationFormatString("numericMax",l,this.maxValue)},Object.defineProperty(h.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(f){this.setPropertyValue("minValue",f)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(f){this.setPropertyValue("maxValue",f)},enumerable:!1,configurable:!0}),h}(C),u=function(d){T(h,d);function h(){return d.call(this)||this}return h.prototype.getType=function(){return"textvalidator"},h.prototype.validate=function(f,l,O,V){if(l===void 0&&(l=null),this.isValueEmpty(f))return null;if(!this.allowDigits){var A=/^[A-Za-z\s\.]*$/;if(!A.test(f))return new x(null,this.createCustomError(l))}return this.minLength>0&&f.length<this.minLength?new x(null,this.createCustomError(l)):this.maxLength>0&&f.length>this.maxLength?new x(null,this.createCustomError(l)):null},h.prototype.getDefaultErrorText=function(f){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(h.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(f){this.setPropertyValue("minLength",f)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(f){this.setPropertyValue("maxLength",f)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(f){this.setPropertyValue("allowDigits",f)},enumerable:!1,configurable:!0}),h}(C),c=function(d){T(h,d);function h(f,l){f===void 0&&(f=null),l===void 0&&(l=null);var O=d.call(this)||this;return O.minCount=f,O.maxCount=l,O}return h.prototype.getType=function(){return"answercountvalidator"},h.prototype.validate=function(f,l,O,V){if(f==null||f.constructor!=Array)return null;var A=f.length;return A==0?null:this.minCount&&A<this.minCount?new x(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&A>this.maxCount?new x(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},h.prototype.getDefaultErrorText=function(f){return f},Object.defineProperty(h.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(f){this.setPropertyValue("minCount",f)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(f){this.setPropertyValue("maxCount",f)},enumerable:!1,configurable:!0}),h}(C),p=function(d){T(h,d);function h(f){f===void 0&&(f=null);var l=d.call(this)||this;return l.regex=f,l}return h.prototype.getType=function(){return"regexvalidator"},h.prototype.validate=function(f,l,O,V){if(l===void 0&&(l=null),!this.regex||this.isValueEmpty(f))return null;var A=new RegExp(this.regex);if(Array.isArray(f))for(var w=0;w<f.length;w++){var S=this.hasError(A,f[w],l);if(S)return S}return this.hasError(A,f,l)},h.prototype.hasError=function(f,l,O){return f.test(l)?null:new x(l,this.createCustomError(O))},Object.defineProperty(h.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(f){this.setPropertyValue("regex",f)},enumerable:!1,configurable:!0}),h}(C),o=function(d){T(h,d);function h(){var f=d.call(this)||this;return f.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,f}return h.prototype.getType=function(){return"emailvalidator"},h.prototype.validate=function(f,l,O,V){return l===void 0&&(l=null),!f||this.re.test(f)?null:new x(f,this.createCustomError(l))},h.prototype.getDefaultErrorText=function(f){return this.getLocalizationString("invalidEmail")},h}(C),a=function(d){T(h,d);function h(f){f===void 0&&(f=null);var l=d.call(this)||this;return l.conditionRunner=null,l.isRunningValue=!1,l.expression=f,l}return h.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(h.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isAsync",{get:function(){return this.ensureConditionRunner()?this.conditionRunner.isAsync:!1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),h.prototype.validate=function(f,l,O,V){var A=this;if(l===void 0&&(l=null),O===void 0&&(O=null),V===void 0&&(V=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(S){A.isRunningValue=!1,A.onAsyncCompleted&&A.onAsyncCompleted(A.generateError(S,f,l))},this.isRunningValue=!0;var w=this.conditionRunner.run(O,V);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(w,f,l))},h.prototype.generateError=function(f,l,O){return f?null:new x(l,this.createCustomError(O))},h.prototype.getDefaultErrorText=function(f){return this.getLocalizationFormatString("invalidExpression",this.expression)},h.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):this.expression?(this.conditionRunner=new y.ConditionRunner(this.expression),!0):!1},Object.defineProperty(h.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(f){this.setPropertyValue("expression",f)},enumerable:!1,configurable:!0}),h}(C);g.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),g.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new v},"surveyvalidator"),g.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new u},"surveyvalidator"),g.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new c},"surveyvalidator"),g.Serializer.addClass("regexvalidator",["regex"],function(){return new p},"surveyvalidator"),g.Serializer.addClass("emailvalidator",[],function(){return new o},"surveyvalidator"),g.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new a},"surveyvalidator")}})})}(mh)),mh.exports}var U4=Gx(),Jx={exports:{}};/*!
 * surveyjs - Survey JavaScript library v1.9.87
 * Copyright (c) 2015-2023 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */(function(t,e){(function(r,i){t.exports=i(X,qg,Gx())})(xP,function(n,r,i){return function(s){var m={};function g(y){if(m[y])return m[y].exports;var P=m[y]={i:y,l:!1,exports:{}};return s[y].call(P.exports,P,P.exports,g),P.l=!0,P.exports}return g.m=s,g.c=m,g.d=function(y,P,T){g.o(y,P)||Object.defineProperty(y,P,{enumerable:!0,get:T})},g.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},g.t=function(y,P){if(P&1&&(y=g(y)),P&8||P&4&&typeof y=="object"&&y&&y.__esModule)return y;var T=Object.create(null);if(g.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:y}),P&2&&typeof y!="string")for(var x in y)g.d(T,x,function(C){return y[C]}.bind(null,x));return T},g.n=function(y){var P=y&&y.__esModule?function(){return y.default}:function(){return y};return g.d(P,"a",P),P},g.o=function(y,P){return Object.prototype.hasOwnProperty.call(y,P)},g.p="",g(g.s="./src/entries/react-ui.ts")}({"./node_modules/process/browser.js":function(s,m){var g=s.exports={},y,P;function T(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?y=setTimeout:y=T}catch{y=T}try{typeof clearTimeout=="function"?P=clearTimeout:P=x}catch{P=x}})();function C(f){if(y===setTimeout)return setTimeout(f,0);if((y===T||!y)&&setTimeout)return y=setTimeout,setTimeout(f,0);try{return y(f,0)}catch{try{return y.call(null,f,0)}catch{return y.call(this,f,0)}}}function E(f){if(P===clearTimeout)return clearTimeout(f);if((P===x||!P)&&clearTimeout)return P=clearTimeout,clearTimeout(f);try{return P(f)}catch{try{return P.call(null,f)}catch{return P.call(this,f)}}}var v=[],u=!1,c,p=-1;function o(){!u||!c||(u=!1,c.length?v=c.concat(v):p=-1,v.length&&a())}function a(){if(!u){var f=C(o);u=!0;for(var l=v.length;l;){for(c=v,v=[];++p<l;)c&&c[p].run();p=-1,l=v.length}c=null,u=!1,E(f)}}g.nextTick=function(f){var l=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)l[O-1]=arguments[O];v.push(new d(f,l)),v.length===1&&!u&&C(a)};function d(f,l){this.fun=f,this.array=l}d.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={};function h(){}g.on=h,g.addListener=h,g.once=h,g.off=h,g.removeListener=h,g.removeAllListeners=h,g.emit=h,g.prependListener=h,g.prependOnceListener=h,g.listeners=function(f){return[]},g.binding=function(f){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(f){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(s,m,g){(function(y,P){(function(T,x){if(T.setImmediate)return;var C=1,E={},v=!1,u=T.document,c;function p(S){typeof S!="function"&&(S=new Function(""+S));for(var R=new Array(arguments.length-1),I=0;I<R.length;I++)R[I]=arguments[I+1];var b={callback:S,args:R};return E[C]=b,c(C),C++}function o(S){delete E[S]}function a(S){var R=S.callback,I=S.args;switch(I.length){case 0:R();break;case 1:R(I[0]);break;case 2:R(I[0],I[1]);break;case 3:R(I[0],I[1],I[2]);break;default:R.apply(x,I);break}}function d(S){if(v)setTimeout(d,0,S);else{var R=E[S];if(R){v=!0;try{a(R)}finally{o(S),v=!1}}}}function h(){c=function(S){P.nextTick(function(){d(S)})}}function f(){if(T.postMessage&&!T.importScripts){var S=!0,R=T.onmessage;return T.onmessage=function(){S=!1},T.postMessage("","*"),T.onmessage=R,S}}function l(){var S="setImmediate$"+Math.random()+"$",R=function(I){I.source===T&&typeof I.data=="string"&&I.data.indexOf(S)===0&&d(+I.data.slice(S.length))};T.addEventListener?T.addEventListener("message",R,!1):T.attachEvent("onmessage",R),c=function(I){T.postMessage(S+I,"*")}}function O(){var S=new MessageChannel;S.port1.onmessage=function(R){var I=R.data;d(I)},c=function(R){S.port2.postMessage(R)}}function V(){var S=u.documentElement;c=function(R){var I=u.createElement("script");I.onreadystatechange=function(){d(R),I.onreadystatechange=null,S.removeChild(I),I=null},S.appendChild(I)}}function A(){c=function(S){setTimeout(d,0,S)}}var w=Object.getPrototypeOf&&Object.getPrototypeOf(T);w=w&&w.setTimeout?w:T,{}.toString.call(T.process)==="[object process]"?h():f()?l():T.MessageChannel?O():u&&"onreadystatechange"in u.createElement("script")?V():A(),w.setImmediate=p,w.clearImmediate=o})(typeof self>"u"?typeof y>"u"?this:y:self)}).call(this,g("./node_modules/webpack/buildin/global.js"),g("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(s,m,g){(function(y){var P=typeof y<"u"&&y||typeof self<"u"&&self||window,T=Function.prototype.apply;m.setTimeout=function(){return new x(T.call(setTimeout,P,arguments),clearTimeout)},m.setInterval=function(){return new x(T.call(setInterval,P,arguments),clearInterval)},m.clearTimeout=m.clearInterval=function(C){C&&C.close()};function x(C,E){this._id=C,this._clearFn=E}x.prototype.unref=x.prototype.ref=function(){},x.prototype.close=function(){this._clearFn.call(P,this._id)},m.enroll=function(C,E){clearTimeout(C._idleTimeoutId),C._idleTimeout=E},m.unenroll=function(C){clearTimeout(C._idleTimeoutId),C._idleTimeout=-1},m._unrefActive=m.active=function(C){clearTimeout(C._idleTimeoutId);var E=C._idleTimeout;E>=0&&(C._idleTimeoutId=setTimeout(function(){C._onTimeout&&C._onTimeout()},E))},g("./node_modules/setimmediate/setImmediate.js"),m.setImmediate=typeof self<"u"&&self.setImmediate||typeof y<"u"&&y.setImmediate||this&&this.setImmediate,m.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof y<"u"&&y.clearImmediate||this&&this.clearImmediate}).call(this,g("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(s,m){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch{typeof window=="object"&&(g=window)}s.exports=g},"./src/entries/core-export.ts":function(s,m,g){g.r(m);var y=g("survey-core");g.d(m,"SurveyModel",function(){return y.SurveyModel}),g.d(m,"SurveyWindowModel",function(){return y.SurveyWindowModel}),g.d(m,"settings",function(){return y.settings}),g.d(m,"surveyLocalization",function(){return y.surveyLocalization}),g.d(m,"surveyStrings",function(){return y.surveyStrings})},"./src/entries/react-ui-model.ts":function(s,m,g){g.r(m);var y=g("./src/react/reactSurvey.tsx");g.d(m,"Survey",function(){return y.Survey}),g.d(m,"attachKey2click",function(){return y.attachKey2click});var P=g("./src/react/reactsurveymodel.tsx");g.d(m,"ReactSurveyElementsWrapper",function(){return P.ReactSurveyElementsWrapper});var T=g("./src/react/reactSurveyNavigationBase.tsx");g.d(m,"SurveyNavigationBase",function(){return T.SurveyNavigationBase});var x=g("./src/react/reacttimerpanel.tsx");g.d(m,"SurveyTimerPanel",function(){return x.SurveyTimerPanel});var C=g("./src/react/page.tsx");g.d(m,"SurveyPage",function(){return C.SurveyPage});var E=g("./src/react/row.tsx");g.d(m,"SurveyRow",function(){return E.SurveyRow});var v=g("./src/react/panel.tsx");g.d(m,"SurveyPanel",function(){return v.SurveyPanel});var u=g("./src/react/flow-panel.tsx");g.d(m,"SurveyFlowPanel",function(){return u.SurveyFlowPanel});var c=g("./src/react/reactquestion.tsx");g.d(m,"SurveyQuestion",function(){return c.SurveyQuestion}),g.d(m,"SurveyElementErrors",function(){return c.SurveyElementErrors}),g.d(m,"SurveyQuestionAndErrorsCell",function(){return c.SurveyQuestionAndErrorsCell});var p=g("./src/react/reactquestion_element.tsx");g.d(m,"ReactSurveyElement",function(){return p.ReactSurveyElement}),g.d(m,"SurveyElementBase",function(){return p.SurveyElementBase}),g.d(m,"SurveyQuestionElementBase",function(){return p.SurveyQuestionElementBase});var o=g("./src/react/reactquestion_comment.tsx");g.d(m,"SurveyQuestionCommentItem",function(){return o.SurveyQuestionCommentItem}),g.d(m,"SurveyQuestionComment",function(){return o.SurveyQuestionComment});var a=g("./src/react/reactquestion_checkbox.tsx");g.d(m,"SurveyQuestionCheckbox",function(){return a.SurveyQuestionCheckbox}),g.d(m,"SurveyQuestionCheckboxItem",function(){return a.SurveyQuestionCheckboxItem});var d=g("./src/react/reactquestion_ranking.tsx");g.d(m,"SurveyQuestionRanking",function(){return d.SurveyQuestionRanking}),g.d(m,"SurveyQuestionRankingItem",function(){return d.SurveyQuestionRankingItem});var h=g("./src/react/components/rating/rating-item.tsx");g.d(m,"RatingItem",function(){return h.RatingItem});var f=g("./src/react/components/rating/rating-item-star.tsx");g.d(m,"RatingItemStar",function(){return f.RatingItemStar});var l=g("./src/react/components/rating/rating-item-smiley.tsx");g.d(m,"RatingItemSmiley",function(){return l.RatingItemSmiley});var O=g("./src/react/tagbox-filter.tsx");g.d(m,"TagboxFilterString",function(){return O.TagboxFilterString});var V=g("./src/react/dropdown-item.tsx");g.d(m,"SurveyQuestionOptionItem",function(){return V.SurveyQuestionOptionItem});var A=g("./src/react/dropdown-base.tsx");g.d(m,"SurveyQuestionDropdownBase",function(){return A.SurveyQuestionDropdownBase});var w=g("./src/react/reactquestion_dropdown.tsx");g.d(m,"SurveyQuestionDropdown",function(){return w.SurveyQuestionDropdown});var S=g("./src/react/tagbox-item.tsx");g.d(m,"SurveyQuestionTagboxItem",function(){return S.SurveyQuestionTagboxItem});var R=g("./src/react/reactquestion_tagbox.tsx");g.d(m,"SurveyQuestionTagbox",function(){return R.SurveyQuestionTagbox});var I=g("./src/react/dropdown-select.tsx");g.d(m,"SurveyQuestionDropdownSelect",function(){return I.SurveyQuestionDropdownSelect});var b=g("./src/react/reactquestion_matrix.tsx");g.d(m,"SurveyQuestionMatrix",function(){return b.SurveyQuestionMatrix}),g.d(m,"SurveyQuestionMatrixRow",function(){return b.SurveyQuestionMatrixRow});var D=g("./src/react/reactquestion_html.tsx");g.d(m,"SurveyQuestionHtml",function(){return D.SurveyQuestionHtml});var M=g("./src/react/reactquestion_file.tsx");g.d(m,"SurveyQuestionFile",function(){return M.SurveyQuestionFile});var L=g("./src/react/reactquestion_multipletext.tsx");g.d(m,"SurveyQuestionMultipleText",function(){return L.SurveyQuestionMultipleText});var U=g("./src/react/reactquestion_radiogroup.tsx");g.d(m,"SurveyQuestionRadiogroup",function(){return U.SurveyQuestionRadiogroup}),g.d(m,"SurveyQuestionRadioItem",function(){return U.SurveyQuestionRadioItem});var N=g("./src/react/reactquestion_text.tsx");g.d(m,"SurveyQuestionText",function(){return N.SurveyQuestionText});var W=g("./src/react/boolean.tsx");g.d(m,"SurveyQuestionBoolean",function(){return W.SurveyQuestionBoolean});var z=g("./src/react/boolean-checkbox.tsx");g.d(m,"SurveyQuestionBooleanCheckbox",function(){return z.SurveyQuestionBooleanCheckbox});var Q=g("./src/react/boolean-radio.tsx");g.d(m,"SurveyQuestionBooleanRadio",function(){return Q.SurveyQuestionBooleanRadio});var $=g("./src/react/reactquestion_empty.tsx");g.d(m,"SurveyQuestionEmpty",function(){return $.SurveyQuestionEmpty});var Y=g("./src/react/reactquestion_matrixdropdownbase.tsx");g.d(m,"SurveyQuestionMatrixDropdownCell",function(){return Y.SurveyQuestionMatrixDropdownCell}),g.d(m,"SurveyQuestionMatrixDropdownBase",function(){return Y.SurveyQuestionMatrixDropdownBase});var q=g("./src/react/reactquestion_matrixdropdown.tsx");g.d(m,"SurveyQuestionMatrixDropdown",function(){return q.SurveyQuestionMatrixDropdown});var se=g("./src/react/reactquestion_matrixdynamic.tsx");g.d(m,"SurveyQuestionMatrixDynamic",function(){return se.SurveyQuestionMatrixDynamic}),g.d(m,"SurveyQuestionMatrixDynamicAddButton",function(){return se.SurveyQuestionMatrixDynamicAddButton});var Z=g("./src/react/reactquestion_paneldynamic.tsx");g.d(m,"SurveyQuestionPanelDynamic",function(){return Z.SurveyQuestionPanelDynamic});var Oe=g("./src/react/reactSurveyProgress.tsx");g.d(m,"SurveyProgress",function(){return Oe.SurveyProgress});var ve=g("./src/react/reactSurveyProgressButtons.tsx");g.d(m,"SurveyProgressButtons",function(){return ve.SurveyProgressButtons});var Ce=g("./src/react/reactSurveyProgressToc.tsx");g.d(m,"SurveyProgressToc",function(){return Ce.SurveyProgressToc});var me=g("./src/react/reactquestion_rating.tsx");g.d(m,"SurveyQuestionRating",function(){return me.SurveyQuestionRating});var ze=g("./src/react/rating-dropdown.tsx");g.d(m,"SurveyQuestionRatingDropdown",function(){return ze.SurveyQuestionRatingDropdown});var Xe=g("./src/react/reactquestion_expression.tsx");g.d(m,"SurveyQuestionExpression",function(){return Xe.SurveyQuestionExpression});var Ie=g("./src/react/react-popup-survey.tsx");g.d(m,"PopupSurvey",function(){return Ie.PopupSurvey}),g.d(m,"SurveyWindow",function(){return Ie.SurveyWindow});var tt=g("./src/react/reactquestion_factory.tsx");g.d(m,"ReactQuestionFactory",function(){return tt.ReactQuestionFactory});var Re=g("./src/react/element-factory.tsx");g.d(m,"ReactElementFactory",function(){return Re.ReactElementFactory});var ke=g("./src/react/imagepicker.tsx");g.d(m,"SurveyQuestionImagePicker",function(){return ke.SurveyQuestionImagePicker});var En=g("./src/react/image.tsx");g.d(m,"SurveyQuestionImage",function(){return En.SurveyQuestionImage});var qe=g("./src/react/signaturepad.tsx");g.d(m,"SurveyQuestionSignaturePad",function(){return qe.SurveyQuestionSignaturePad});var Vn=g("./src/react/reactquestion_buttongroup.tsx");g.d(m,"SurveyQuestionButtonGroup",function(){return Vn.SurveyQuestionButtonGroup});var cn=g("./src/react/reactquestion_custom.tsx");g.d(m,"SurveyQuestionCustom",function(){return cn.SurveyQuestionCustom}),g.d(m,"SurveyQuestionComposite",function(){return cn.SurveyQuestionComposite});var ct=g("./src/react/components/popup/popup.tsx");g.d(m,"Popup",function(){return ct.Popup});var ye=g("./src/react/components/list/list.tsx");g.d(m,"List",function(){return ye.List});var Qe=g("./src/react/components/title/title-actions.tsx");g.d(m,"TitleActions",function(){return Qe.TitleActions});var Gn=g("./src/react/components/title/title-element.tsx");g.d(m,"TitleElement",function(){return Gn.TitleElement});var Wt=g("./src/react/components/action-bar/action-bar.tsx");g.d(m,"SurveyActionBar",function(){return Wt.SurveyActionBar});var zt=g("./src/react/components/survey-header/logo-image.tsx");g.d(m,"LogoImage",function(){return zt.LogoImage});var ds=g("./src/react/components/survey-header/survey-header.tsx");g.d(m,"SurveyHeader",function(){return ds.SurveyHeader});var hs=g("./src/react/components/svg-icon/svg-icon.tsx");g.d(m,"SvgIcon",function(){return hs.SvgIcon});var ps=g("./src/react/components/matrix-actions/remove-button/remove-button.tsx");g.d(m,"SurveyQuestionMatrixDynamicRemoveButton",function(){return ps.SurveyQuestionMatrixDynamicRemoveButton});var gs=g("./src/react/components/matrix-actions/detail-button/detail-button.tsx");g.d(m,"SurveyQuestionMatrixDetailButton",function(){return gs.SurveyQuestionMatrixDetailButton});var ki=g("./src/react/components/matrix-actions/drag-drop-icon/drag-drop-icon.tsx");g.d(m,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return ki.SurveyQuestionMatrixDynamicDragDropIcon});var Zi=g("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx");g.d(m,"SurveyQuestionPanelDynamicAddButton",function(){return Zi.SurveyQuestionPanelDynamicAddButton});var mr=g("./src/react/components/paneldynamic-actions/paneldynamic-remove-btn.tsx");g.d(m,"SurveyQuestionPanelDynamicRemoveButton",function(){return mr.SurveyQuestionPanelDynamicRemoveButton});var ms=g("./src/react/components/paneldynamic-actions/paneldynamic-prev-btn.tsx");g.d(m,"SurveyQuestionPanelDynamicPrevButton",function(){return ms.SurveyQuestionPanelDynamicPrevButton});var ys=g("./src/react/components/paneldynamic-actions/paneldynamic-next-btn.tsx");g.d(m,"SurveyQuestionPanelDynamicNextButton",function(){return ys.SurveyQuestionPanelDynamicNextButton});var vs=g("./src/react/components/paneldynamic-actions/paneldynamic-progress-text.tsx");g.d(m,"SurveyQuestionPanelDynamicProgressText",function(){return vs.SurveyQuestionPanelDynamicProgressText});var _i=g("./src/react/components/survey-actions/survey-nav-button.tsx");g.d(m,"SurveyNavigationButton",function(){return _i.SurveyNavigationButton});var Cs=g("./src/react/components/matrix/row.tsx");g.d(m,"MatrixRow",function(){return Cs.MatrixRow});var Es=g("./src/react/components/skeleton.tsx");g.d(m,"Skeleton",function(){return Es.Skeleton});var Ps=g("./src/react/components/notifier.tsx");g.d(m,"NotifierComponent",function(){return Ps.NotifierComponent});var ai=g("./src/react/components/components-container.tsx");g.d(m,"ComponentsContainer",function(){return ai.ComponentsContainer});var bs=g("./src/react/components/character-counter.tsx");g.d(m,"CharacterCounterComponent",function(){return bs.CharacterCounterComponent});var Os=g("./src/react/string-viewer.tsx");g.d(m,"SurveyLocStringViewer",function(){return Os.SurveyLocStringViewer});var li=g("./src/react/string-editor.tsx");g.d(m,"SurveyLocStringEditor",function(){return li.SurveyLocStringEditor})},"./src/entries/react-ui.ts":function(s,m,g){g.r(m);var y=g("./src/entries/react-ui-model.ts");g.d(m,"Survey",function(){return y.Survey}),g.d(m,"attachKey2click",function(){return y.attachKey2click}),g.d(m,"ReactSurveyElementsWrapper",function(){return y.ReactSurveyElementsWrapper}),g.d(m,"SurveyNavigationBase",function(){return y.SurveyNavigationBase}),g.d(m,"SurveyTimerPanel",function(){return y.SurveyTimerPanel}),g.d(m,"SurveyPage",function(){return y.SurveyPage}),g.d(m,"SurveyRow",function(){return y.SurveyRow}),g.d(m,"SurveyPanel",function(){return y.SurveyPanel}),g.d(m,"SurveyFlowPanel",function(){return y.SurveyFlowPanel}),g.d(m,"SurveyQuestion",function(){return y.SurveyQuestion}),g.d(m,"SurveyElementErrors",function(){return y.SurveyElementErrors}),g.d(m,"SurveyQuestionAndErrorsCell",function(){return y.SurveyQuestionAndErrorsCell}),g.d(m,"ReactSurveyElement",function(){return y.ReactSurveyElement}),g.d(m,"SurveyElementBase",function(){return y.SurveyElementBase}),g.d(m,"SurveyQuestionElementBase",function(){return y.SurveyQuestionElementBase}),g.d(m,"SurveyQuestionCommentItem",function(){return y.SurveyQuestionCommentItem}),g.d(m,"SurveyQuestionComment",function(){return y.SurveyQuestionComment}),g.d(m,"SurveyQuestionCheckbox",function(){return y.SurveyQuestionCheckbox}),g.d(m,"SurveyQuestionCheckboxItem",function(){return y.SurveyQuestionCheckboxItem}),g.d(m,"SurveyQuestionRanking",function(){return y.SurveyQuestionRanking}),g.d(m,"SurveyQuestionRankingItem",function(){return y.SurveyQuestionRankingItem}),g.d(m,"RatingItem",function(){return y.RatingItem}),g.d(m,"RatingItemStar",function(){return y.RatingItemStar}),g.d(m,"RatingItemSmiley",function(){return y.RatingItemSmiley}),g.d(m,"TagboxFilterString",function(){return y.TagboxFilterString}),g.d(m,"SurveyQuestionOptionItem",function(){return y.SurveyQuestionOptionItem}),g.d(m,"SurveyQuestionDropdownBase",function(){return y.SurveyQuestionDropdownBase}),g.d(m,"SurveyQuestionDropdown",function(){return y.SurveyQuestionDropdown}),g.d(m,"SurveyQuestionTagboxItem",function(){return y.SurveyQuestionTagboxItem}),g.d(m,"SurveyQuestionTagbox",function(){return y.SurveyQuestionTagbox}),g.d(m,"SurveyQuestionDropdownSelect",function(){return y.SurveyQuestionDropdownSelect}),g.d(m,"SurveyQuestionMatrix",function(){return y.SurveyQuestionMatrix}),g.d(m,"SurveyQuestionMatrixRow",function(){return y.SurveyQuestionMatrixRow}),g.d(m,"SurveyQuestionHtml",function(){return y.SurveyQuestionHtml}),g.d(m,"SurveyQuestionFile",function(){return y.SurveyQuestionFile}),g.d(m,"SurveyQuestionMultipleText",function(){return y.SurveyQuestionMultipleText}),g.d(m,"SurveyQuestionRadiogroup",function(){return y.SurveyQuestionRadiogroup}),g.d(m,"SurveyQuestionRadioItem",function(){return y.SurveyQuestionRadioItem}),g.d(m,"SurveyQuestionText",function(){return y.SurveyQuestionText}),g.d(m,"SurveyQuestionBoolean",function(){return y.SurveyQuestionBoolean}),g.d(m,"SurveyQuestionBooleanCheckbox",function(){return y.SurveyQuestionBooleanCheckbox}),g.d(m,"SurveyQuestionBooleanRadio",function(){return y.SurveyQuestionBooleanRadio}),g.d(m,"SurveyQuestionEmpty",function(){return y.SurveyQuestionEmpty}),g.d(m,"SurveyQuestionMatrixDropdownCell",function(){return y.SurveyQuestionMatrixDropdownCell}),g.d(m,"SurveyQuestionMatrixDropdownBase",function(){return y.SurveyQuestionMatrixDropdownBase}),g.d(m,"SurveyQuestionMatrixDropdown",function(){return y.SurveyQuestionMatrixDropdown}),g.d(m,"SurveyQuestionMatrixDynamic",function(){return y.SurveyQuestionMatrixDynamic}),g.d(m,"SurveyQuestionMatrixDynamicAddButton",function(){return y.SurveyQuestionMatrixDynamicAddButton}),g.d(m,"SurveyQuestionPanelDynamic",function(){return y.SurveyQuestionPanelDynamic}),g.d(m,"SurveyProgress",function(){return y.SurveyProgress}),g.d(m,"SurveyProgressButtons",function(){return y.SurveyProgressButtons}),g.d(m,"SurveyProgressToc",function(){return y.SurveyProgressToc}),g.d(m,"SurveyQuestionRating",function(){return y.SurveyQuestionRating}),g.d(m,"SurveyQuestionRatingDropdown",function(){return y.SurveyQuestionRatingDropdown}),g.d(m,"SurveyQuestionExpression",function(){return y.SurveyQuestionExpression}),g.d(m,"PopupSurvey",function(){return y.PopupSurvey}),g.d(m,"SurveyWindow",function(){return y.SurveyWindow}),g.d(m,"ReactQuestionFactory",function(){return y.ReactQuestionFactory}),g.d(m,"ReactElementFactory",function(){return y.ReactElementFactory}),g.d(m,"SurveyQuestionImagePicker",function(){return y.SurveyQuestionImagePicker}),g.d(m,"SurveyQuestionImage",function(){return y.SurveyQuestionImage}),g.d(m,"SurveyQuestionSignaturePad",function(){return y.SurveyQuestionSignaturePad}),g.d(m,"SurveyQuestionButtonGroup",function(){return y.SurveyQuestionButtonGroup}),g.d(m,"SurveyQuestionCustom",function(){return y.SurveyQuestionCustom}),g.d(m,"SurveyQuestionComposite",function(){return y.SurveyQuestionComposite}),g.d(m,"Popup",function(){return y.Popup}),g.d(m,"List",function(){return y.List}),g.d(m,"TitleActions",function(){return y.TitleActions}),g.d(m,"TitleElement",function(){return y.TitleElement}),g.d(m,"SurveyActionBar",function(){return y.SurveyActionBar}),g.d(m,"LogoImage",function(){return y.LogoImage}),g.d(m,"SurveyHeader",function(){return y.SurveyHeader}),g.d(m,"SvgIcon",function(){return y.SvgIcon}),g.d(m,"SurveyQuestionMatrixDynamicRemoveButton",function(){return y.SurveyQuestionMatrixDynamicRemoveButton}),g.d(m,"SurveyQuestionMatrixDetailButton",function(){return y.SurveyQuestionMatrixDetailButton}),g.d(m,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return y.SurveyQuestionMatrixDynamicDragDropIcon}),g.d(m,"SurveyQuestionPanelDynamicAddButton",function(){return y.SurveyQuestionPanelDynamicAddButton}),g.d(m,"SurveyQuestionPanelDynamicRemoveButton",function(){return y.SurveyQuestionPanelDynamicRemoveButton}),g.d(m,"SurveyQuestionPanelDynamicPrevButton",function(){return y.SurveyQuestionPanelDynamicPrevButton}),g.d(m,"SurveyQuestionPanelDynamicNextButton",function(){return y.SurveyQuestionPanelDynamicNextButton}),g.d(m,"SurveyQuestionPanelDynamicProgressText",function(){return y.SurveyQuestionPanelDynamicProgressText}),g.d(m,"SurveyNavigationButton",function(){return y.SurveyNavigationButton}),g.d(m,"MatrixRow",function(){return y.MatrixRow}),g.d(m,"Skeleton",function(){return y.Skeleton}),g.d(m,"NotifierComponent",function(){return y.NotifierComponent}),g.d(m,"ComponentsContainer",function(){return y.ComponentsContainer}),g.d(m,"CharacterCounterComponent",function(){return y.CharacterCounterComponent}),g.d(m,"SurveyLocStringViewer",function(){return y.SurveyLocStringViewer}),g.d(m,"SurveyLocStringEditor",function(){return y.SurveyLocStringEditor});var P=g("./src/entries/core-export.ts");g.d(m,"SurveyModel",function(){return P.SurveyModel}),g.d(m,"SurveyWindowModel",function(){return P.SurveyWindowModel}),g.d(m,"settings",function(){return P.settings}),g.d(m,"surveyLocalization",function(){return P.surveyLocalization}),g.d(m,"surveyStrings",function(){return P.surveyStrings});var T=g("survey-core");g.d(m,"Model",function(){return T.SurveyModel});var x=g("./src/utils/responsivity-manager.ts");g.d(m,"ResponsivityManager",function(){return x.ResponsivityManager}),g.d(m,"VerticalResponsivityManager",function(){return x.VerticalResponsivityManager});var C=g("./src/utils/utils.ts");g.d(m,"unwrap",function(){return C.unwrap}),Object(T.checkLibraryVersion)("1.9.87","survey-react-ui")},"./src/react/boolean-checkbox.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionBooleanCheckbox",function(){return u});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/boolean.tsx"),C=g("./src/react/components/title/title-actions.tsx"),E=g("./src/react/reactquestion_element.tsx"),v=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),u=function(c){v(p,c);function p(o){return c.call(this,o)||this}return p.prototype.renderElement=function(){var o=this.question.cssClasses,a=this.question.getCheckboxItemCss(),d=this.question.canRenderLabelDescription?E.SurveyElementBase.renderQuestionDescription(this.question):null;return y.createElement("div",{className:o.rootCheckbox},y.createElement("div",{className:a},y.createElement("label",{className:o.checkboxLabel},y.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:o.controlCheckbox,disabled:this.isDisplayMode,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),y.createElement("span",{className:o.checkboxMaterialDecorator},this.question.svgIcon?y.createElement("svg",{className:o.checkboxItemDecorator},y.createElement("use",{xlinkHref:this.question.svgIcon})):null,y.createElement("span",{className:"check"})),this.question.isLabelRendered&&y.createElement("span",{className:o.checkboxControlLabel,id:this.question.labelRenderedAriaID},y.createElement(C.TitleActions,{element:this.question,cssClasses:this.question.cssClasses}))),d))},p}(x.SurveyQuestionBoolean);T.ReactQuestionFactory.Instance.registerQuestion("sv-boolean-checkbox",function(c){return y.createElement(u,c)}),P.RendererFactory.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox")},"./src/react/boolean-radio.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionBooleanRadio",function(){return E});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/boolean.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.handleOnChange=function(o){p.question.booleanValue=o.nativeEvent.target.value=="true"},p}return u.prototype.renderRadioItem=function(c,p){var o=this.question.cssClasses;return y.createElement("div",{role:"presentation",className:this.question.getRadioItemClass(o,c)},y.createElement("label",{className:o.radioLabel},y.createElement("input",{type:"radio",name:this.question.name,value:c,"aria-describedby":this.question.ariaDescribedBy,checked:c===this.question.booleanValueRendered,disabled:this.question.isInputReadOnly,className:o.itemRadioControl,onChange:this.handleOnChange}),this.question.cssClasses.materialRadioDecorator?y.createElement("span",{className:o.materialRadioDecorator},this.question.itemSvgIcon?y.createElement("svg",{className:o.itemRadioDecorator},y.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,y.createElement("span",{className:o.radioControlLabel},this.renderLocString(p))))},u.prototype.renderElement=function(){var c=this.question.cssClasses;return y.createElement("div",{className:c.rootRadio},y.createElement("fieldset",{role:"presentation",className:c.radioFieldset},this.renderRadioItem(!1,this.question.locLabelFalse),this.renderRadioItem(!0,this.question.locLabelTrue)))},u}(x.SurveyQuestionBoolean);T.ReactQuestionFactory.Instance.registerQuestion("sv-boolean-radio",function(v){return y.createElement(E,v)}),P.RendererFactory.Instance.registerRenderer("boolean","radio","sv-boolean-radio")},"./src/react/boolean.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionBoolean",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){var c=E.call(this,u)||this;return c.handleOnChange=c.handleOnChange.bind(c),c.handleOnClick=c.handleOnClick.bind(c),c.handleOnLabelClick=c.handleOnLabelClick.bind(c),c.handleOnSwitchClick=c.handleOnSwitchClick.bind(c),c.handleOnKeyDown=c.handleOnKeyDown.bind(c),c.checkRef=y.createRef(),c}return v.prototype.getStateElement=function(){return this.question},Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.doCheck=function(u){this.question.booleanValue=u},v.prototype.handleOnChange=function(u){this.doCheck(u.target.checked)},v.prototype.handleOnClick=function(u){this.question.onLabelClick(u,!0)},v.prototype.handleOnSwitchClick=function(u){this.question.onSwitchClickModel(u.nativeEvent)},v.prototype.handleOnLabelClick=function(u,c){this.question.onLabelClick(u,c)},v.prototype.handleOnKeyDown=function(u){this.question.onKeyDownCore(u)},v.prototype.updateDomElement=function(){if(this.question){var u=this.checkRef.current;u&&(u.indeterminate=this.question.isIndeterminate),this.setControl(u),E.prototype.updateDomElement.call(this)}},v.prototype.renderElement=function(){var u=this,c=this.question.cssClasses,p=this.question.getItemCss();return y.createElement("div",{className:c.root,onKeyDown:this.handleOnKeyDown},y.createElement("label",{className:p,onClick:this.handleOnClick},y.createElement("input",{ref:this.checkRef,type:"checkbox",name:this.question.name,value:this.question.booleanValue===null?"":this.question.booleanValue,id:this.question.inputId,className:c.control,disabled:this.isDisplayMode,checked:this.question.booleanValue||!1,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),y.createElement("div",{className:c.sliderGhost,onClick:function(o){return u.handleOnLabelClick(o,!1)}},y.createElement("span",{className:this.question.getLabelCss(!1)},this.renderLocString(this.question.locLabelFalse))),y.createElement("div",{className:c.switch,onClick:this.handleOnSwitchClick},y.createElement("span",{className:c.slider},this.question.isDeterminated&&c.sliderText?y.createElement("span",{className:c.sliderText},this.renderLocString(this.question.getCheckedLabel())):null)),y.createElement("div",{className:c.sliderGhost,onClick:function(o){return u.handleOnLabelClick(o,!0)}},y.createElement("span",{className:this.question.getLabelCss(!0)},this.renderLocString(this.question.locLabelTrue)))))},v}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("boolean",function(E){return y.createElement(C,E)})},"./src/react/components/action-bar/action-bar-item-dropdown.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyActionBarItemDropdown",function(){return u});var y=g("react"),P=g.n(y),T=g("survey-core"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/components/popup/popup.tsx"),E=g("./src/react/components/action-bar/action-bar-item.tsx"),v=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),u=function(c){v(p,c);function p(o){var a=c.call(this,o)||this;return a.viewModel=new T.ActionDropdownViewModel(a.item),a}return p.prototype.renderButtonContent=function(){var o=c.prototype.renderButtonContent.call(this);return P.a.createElement(P.a.Fragment,null,o,P.a.createElement(C.Popup,{model:this.item.popupModel}))},p.prototype.componentWillUnmount=function(){c.prototype.componentWillUnmount.call(this),this.viewModel.dispose()},p}(E.SurveyActionBarItem);x.ReactElementFactory.Instance.registerElement("sv-action-bar-item-dropdown",function(c){return P.a.createElement(u,c)})},"./src/react/components/action-bar/action-bar-item.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyAction",function(){return c}),g.d(m,"SurveyActionBarItem",function(){return p});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/reactSurvey.tsx"),E=g("./src/react/components/svg-icon/svg-icon.tsx"),v=g("./src/react/components/action-bar/action-bar-separator.tsx"),u=function(){var o=function(a,d){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(h[l]=f[l])},o(a,d)};return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");o(a,d);function h(){this.constructor=a}a.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),c=function(o){u(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),a.prototype.getStateElement=function(){return this.item},a.prototype.renderElement=function(){var d=this.item.getActionRootCss(),h=this.item.needSeparator?P.a.createElement(v.SurveyActionBarSeparator,null):null,f=T.ReactElementFactory.Instance.createElement(this.item.component||"sv-action-bar-item",{item:this.item});return P.a.createElement("div",{className:d,id:this.item.id},P.a.createElement("div",{className:"sv-action__content"},h,f))},a}(x.SurveyElementBase),p=function(o){u(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),a.prototype.getStateElement=function(){return this.item},a.prototype.renderElement=function(){return P.a.createElement(P.a.Fragment,null,this.renderInnerButton())},a.prototype.renderText=function(){if(!this.item.hasTitle)return null;var d=this.item.getActionBarItemTitleCss();return P.a.createElement("span",{className:d},this.item.title)},a.prototype.renderButtonContent=function(){var d=this.renderText(),h=this.item.iconName?P.a.createElement(E.SvgIcon,{className:this.item.cssClasses.itemIcon,size:this.item.iconSize,iconName:this.item.iconName,title:this.item.tooltip||this.item.title}):null;return P.a.createElement(P.a.Fragment,null,h,d)},a.prototype.renderInnerButton=function(){var d=this,h=this.item.getActionBarItemCss(),f=this.item.tooltip||this.item.title,l=this.renderButtonContent(),O=this.item.disableTabStop?-1:void 0,V=Object(C.attachKey2click)(P.a.createElement("button",{className:h,type:"button",disabled:this.item.disabled,onClick:function(A){return d.item.action(d.item,d.item.getIsTrusted(A))},title:f,tabIndex:O,"aria-checked":this.item.ariaChecked,"aria-expanded":this.item.ariaExpanded,role:this.item.ariaRole},l),null,{processEsc:!1});return V},a}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-action-bar-item",function(o){return P.a.createElement(p,o)})},"./src/react/components/action-bar/action-bar-separator.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyActionBarSeparator",function(){return C});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return v.prototype.render=function(){var u="sv-action-bar-separator "+this.props.cssClasses;return P.a.createElement("div",{className:u})},v}(P.a.Component);T.ReactElementFactory.Instance.registerElement("sv-action-bar-separator",function(E){return P.a.createElement(C,E)})},"./src/react/components/action-bar/action-bar.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyActionBar",function(){return c});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/components/action-bar/action-bar-item.tsx"),E=g("./src/react/components/action-bar/action-bar-item-dropdown.tsx");g.d(m,"SurveyActionBarItemDropdown",function(){return E.SurveyActionBarItemDropdown});var v=g("./src/react/components/action-bar/action-bar-separator.tsx");g.d(m,"SurveyActionBarSeparator",function(){return v.SurveyActionBarSeparator});var u=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),c=function(p){u(o,p);function o(a){var d=p.call(this,a)||this;return d.rootRef=P.a.createRef(),d}return Object.defineProperty(o.prototype,"handleClick",{get:function(){return this.props.handleClick!==void 0?this.props.handleClick:!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),o.prototype.componentDidMount=function(){if(p.prototype.componentDidMount.call(this),!!this.model.hasActions){var a=this.rootRef.current;a&&this.model.initResponsivityManager(a)}},o.prototype.componentWillUnmount=function(){p.prototype.componentWillUnmount.call(this),this.model.hasActions&&this.model.resetResponsivityManager()},o.prototype.getStateElement=function(){return this.model},o.prototype.renderElement=function(){if(!this.model.hasActions)return null;var a=this.renderItems();return P.a.createElement("div",{ref:this.rootRef,className:this.model.getRootCss(),onClick:this.handleClick?function(d){d.stopPropagation()}:void 0},a)},o.prototype.renderItems=function(){return this.model.renderedActions.map(function(a,d){return P.a.createElement(C.SurveyAction,{item:a,key:"item"+d})})},o}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-action-bar",function(p){return P.a.createElement(c,p)})},"./src/react/components/brand-info.tsx":function(s,m,g){g.r(m),g.d(m,"BrandInfo",function(){return x});var y=g("react"),P=g.n(y),T=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),x=function(C){T(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.render=function(){return P.a.createElement("div",{className:"sv-brand-info"},P.a.createElement("a",{className:"sv-brand-info__logo",href:"https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page"},P.a.createElement("img",{src:"https://surveyjs.io/Content/Images/poweredby.svg"})),P.a.createElement("div",{className:"sv-brand-info__text"},"Try and see how easy it is to ",P.a.createElement("a",{href:"https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"},"create a survey")),P.a.createElement("div",{className:"sv-brand-info__terms"},P.a.createElement("a",{href:"https://surveyjs.io/TermsOfUse"},"Terms of Use & Privacy Statement")))},E}(P.a.Component)},"./src/react/components/character-counter.tsx":function(s,m,g){g.r(m),g.d(m,"CharacterCounterComponent",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return u.prototype.getStateElement=function(){return this.props.counter},u.prototype.renderElement=function(){return P.a.createElement("div",{className:this.props.remainingCharacterCounter},this.props.counter.remainingCharacterCounter)},u}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-character-counter",function(v){return P.a.createElement(E,v)})},"./src/react/components/components-container.tsx":function(s,m,g){g.r(m),g.d(m,"ComponentsContainer",function(){return C});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(){return E!==null&&E.apply(this,arguments)||this}return v.prototype.render=function(){var u=this,c=this.props.survey.getContainerContent(this.props.container),p=this.props.needRenderWrapper!==!1;return c.length==0?null:p?P.a.createElement("div",{className:"sv-components-column"},c.map(function(o){return T.ReactElementFactory.Instance.createElement(o.component,{survey:u.props.survey,model:o.data,key:o.id})})):P.a.createElement(P.a.Fragment,null,c.map(function(o){return T.ReactElementFactory.Instance.createElement(o.component,{survey:u.props.survey,model:o.data,key:o.id})}))},v}(P.a.Component);T.ReactElementFactory.Instance.registerElement("sv-components-container",function(E){return P.a.createElement(C,E)})},"./src/react/components/list/list-item.tsx":function(s,m,g){g.r(m),g.d(m,"ListItem",function(){return u});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/reactSurvey.tsx"),E=g("./src/react/components/svg-icon/svg-icon.tsx"),v=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),u=function(c){v(p,c);function p(){var o=c!==null&&c.apply(this,arguments)||this;return o.handleKeydown=function(a){o.model.onKeyDown(a)},o}return Object.defineProperty(p.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),p.prototype.getStateElement=function(){return this.item},p.prototype.render=function(){var o=this;if(!this.item)return null;var a={paddingInlineStart:this.model.getItemIndent(this.item)},d=this.model.getItemClass(this.item),h=[];if(this.item.component){var O=T.ReactElementFactory.Instance.createElement(this.item.component,{item:this.item,key:this.item.id});O&&h.push(O)}else{var f=this.renderLocString(this.item.locTitle,void 0,"locString");if(this.item.iconName){var l=P.a.createElement(E.SvgIcon,{key:1,className:this.model.cssClasses.itemIcon,iconName:this.item.iconName,size:24,"aria-label":this.item.title});h.push(l),h.push(P.a.createElement("span",{key:2},f))}else h.push(f)}var V=P.a.createElement("div",{style:a,className:this.model.cssClasses.itemBody},h),A=this.item.needSeparator?P.a.createElement("div",{className:this.model.cssClasses.itemSeparator}):null,w=this.model.isItemVisible(this.item),S={display:w?null:"none"};return Object(C.attachKey2click)(P.a.createElement("li",{className:d,role:"option",style:S,id:this.item.elementId,"aria-selected":this.model.isItemSelected(this.item),onClick:function(R){o.model.onItemClick(o.item),R.stopPropagation()},onPointerDown:function(R){return o.model.onPointerDown(R,o.item)}},A,V))},p.prototype.componentDidMount=function(){c.prototype.componentDidMount.call(this),this.model.onLastItemRended(this.item)},p}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-list-item",function(c){return P.a.createElement(u,c)})},"./src/react/components/list/list.tsx":function(s,m,g){g.r(m),g.d(m,"List",function(){return c});var y=g("react"),P=g.n(y),T=g("survey-core"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/reactquestion_element.tsx"),E=g("./src/react/components/svg-icon/svg-icon.tsx"),v=g("./src/react/components/list/list-item.tsx"),u=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),c=function(p){u(o,p);function o(a){var d=p.call(this,a)||this;return d.handleKeydown=function(h){d.model.onKeyDown(h)},d.handleMouseMove=function(h){d.model.onMouseMove(h)},d.state={filterString:d.model.filterString||""},d.listContainerRef=P.a.createRef(),d}return Object.defineProperty(o.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),o.prototype.getStateElement=function(){return this.model},o.prototype.componentDidMount=function(){p.prototype.componentDidMount.call(this),this.listContainerRef&&this.listContainerRef.current&&this.model.initListContainerHtmlElement(this.listContainerRef.current)},o.prototype.renderElement=function(){return P.a.createElement("div",{className:this.model.cssClasses.root,ref:this.listContainerRef},this.searchElementContent(),this.emptyContent(),this.renderList())},o.prototype.renderList=function(){if(!this.model.renderElements)return null;var a=this.renderItems(),d={display:this.model.isEmpty?"none":null};return P.a.createElement("ul",{className:this.model.cssClasses.itemsContainer,style:d,role:"listbox",id:this.model.elementId,onMouseDown:function(h){h.preventDefault()},onKeyDown:this.handleKeydown,onMouseMove:this.handleMouseMove},a)},o.prototype.renderItems=function(){var a=this;if(!this.model)return null;var d=this.model.renderedActions;return d?d.map(function(h,f){return P.a.createElement(v.ListItem,{model:a.model,item:h,key:"item"+f})}):null},o.prototype.searchElementContent=function(){var a=this;if(this.model.showFilter){var d=function(l){var O=T.settings.environment.root;l.target===O.activeElement&&(a.model.filterString=l.target.value)},h=function(l){a.model.goToItems(l)},f=this.model.showSearchClearButton&&this.model.filterString?P.a.createElement("button",{className:this.model.cssClasses.searchClearButtonIcon,onClick:function(l){a.model.onClickSearchClearButton(l)}},P.a.createElement(E.SvgIcon,{iconName:"icon-searchclear",size:"auto"})):null;return P.a.createElement("div",{className:this.model.cssClasses.filter},P.a.createElement("div",{className:this.model.cssClasses.filterIcon},P.a.createElement(E.SvgIcon,{iconName:"icon-search",size:"auto"})),P.a.createElement("input",{type:"text",className:this.model.cssClasses.filterInput,"aria-label":this.model.filterStringPlaceholder,placeholder:this.model.filterStringPlaceholder,value:this.state.filterString,onKeyUp:h,onChange:d}),f)}else return null},o.prototype.emptyContent=function(){var a={display:this.model.isEmpty?null:"none"};return P.a.createElement("div",{className:this.model.cssClasses.emptyContainer,style:a},P.a.createElement("div",{className:this.model.cssClasses.emptyText,"aria-label":this.model.emptyMessage},this.model.emptyMessage))},o}(C.SurveyElementBase);x.ReactElementFactory.Instance.registerElement("sv-list",function(p){return P.a.createElement(c,p)})},"./src/react/components/matrix-actions/detail-button/detail-button.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrixDetailButton",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/components/svg-icon/svg-icon.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(p){var o=u.call(this,p)||this;return o.handleOnShowHideClick=o.handleOnShowHideClick.bind(o),o}return c.prototype.getStateElement=function(){return this.props.item},Object.defineProperty(c.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"question",{get:function(){return this.props.item.data.question},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"row",{get:function(){return this.props.item.data.row},enumerable:!1,configurable:!0}),c.prototype.handleOnShowHideClick=function(p){this.row.showHideDetailPanelClick()},c.prototype.renderElement=function(){var p=this.row.isDetailPanelShowing,o=p,a=p?this.row.detailPanelId:void 0;return P.a.createElement("button",{type:"button",onClick:this.handleOnShowHideClick,className:this.question.getDetailPanelButtonCss(this.row),"aria-expanded":o,"aria-controls":a},P.a.createElement(C.SvgIcon,{className:this.question.getDetailPanelIconCss(this.row),iconName:this.question.getDetailPanelIconId(this.row),size:"auto"}))},c}(x.ReactSurveyElement);T.ReactElementFactory.Instance.registerElement("sv-matrix-detail-button",function(u){return P.a.createElement(v,u)})},"./src/react/components/matrix-actions/drag-drop-icon/drag-drop-icon.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return Object.defineProperty(u.prototype,"question",{get:function(){return this.props.item.data.question},enumerable:!1,configurable:!0}),u.prototype.renderElement=function(){return this.question.iconDragElement?P.a.createElement("svg",{className:this.question.cssClasses.dragElementDecorator},P.a.createElement("use",{xlinkHref:this.question.iconDragElement})):P.a.createElement("span",{className:this.question.cssClasses.iconDrag})},u}(x.ReactSurveyElement);T.ReactElementFactory.Instance.registerElement("sv-matrix-drag-drop-icon",function(v){return P.a.createElement(E,v)})},"./src/react/components/matrix-actions/remove-button/remove-button.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrixDynamicRemoveButton",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.handleOnRowRemoveClick=p.handleOnRowRemoveClick.bind(p),p}return Object.defineProperty(u.prototype,"question",{get:function(){return this.props.item.data.question},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"row",{get:function(){return this.props.item.data.row},enumerable:!1,configurable:!0}),u.prototype.handleOnRowRemoveClick=function(c){this.question.removeRowUI(this.row)},u.prototype.renderElement=function(){var c=this.renderLocString(this.question.locRemoveRowText);return P.a.createElement("button",{className:this.question.getRemoveRowButtonCss(),type:"button",onClick:this.handleOnRowRemoveClick,disabled:this.question.isInputReadOnly},c,P.a.createElement("span",{className:this.question.cssClasses.iconRemove}))},u}(x.ReactSurveyElement);T.ReactElementFactory.Instance.registerElement("sv-matrix-remove-button",function(v){return P.a.createElement(E,v)})},"./src/react/components/matrix/row.tsx":function(s,m,g){g.r(m),g.d(m,"MatrixRow",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.onPointerDownHandler=function(o){p.parentMatrix.onPointerDown(o.nativeEvent,p.model.row)},p}return Object.defineProperty(u.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parentMatrix",{get:function(){return this.props.parentMatrix},enumerable:!1,configurable:!0}),u.prototype.getStateElement=function(){return this.model},u.prototype.render=function(){var c=this,p=this.model;return P.a.createElement("tr",{className:p.className,"data-sv-drop-target-matrix-row":p.row&&p.row.id,onPointerDown:function(o){return c.onPointerDownHandler(o)}},this.props.children)},u}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-matrix-row",function(v){return P.a.createElement(E,v)})},"./src/react/components/notifier.tsx":function(s,m,g){g.r(m),g.d(m,"NotifierComponent",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/reactquestion_element.tsx"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/components/action-bar/action-bar.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"notifier",{get:function(){return this.props.notifier},enumerable:!1,configurable:!0}),c.prototype.getStateElement=function(){return this.notifier},c.prototype.renderElement=function(){if(!this.notifier.isDisplayed)return null;var p={visibility:this.notifier.active?"visible":"hidden"};return P.a.createElement("div",{className:this.notifier.css,style:p},P.a.createElement("span",null,this.notifier.message),P.a.createElement(C.SurveyActionBar,{model:this.notifier.actionBar}))},c}(T.SurveyElementBase);x.ReactElementFactory.Instance.registerElement("sv-notifier",function(u){return P.a.createElement(v,u)})},"./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionPanelDynamicAction",function(){return E}),g.d(m,"SurveyQuestionPanelDynamicAddButton",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),E=function(u){C(c,u);function c(p){return u.call(this,p)||this}return Object.defineProperty(c.prototype,"data",{get:function(){return this.props.item&&this.props.item.data||this.props.data},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"question",{get:function(){return this.props.item&&this.props.item.data.question||this.props.data.question},enumerable:!1,configurable:!0}),c}(x.ReactSurveyElement),v=function(u){C(c,u);function c(){var p=u!==null&&u.apply(this,arguments)||this;return p.handleClick=function(o){p.question.addPanelUI()},p}return c.prototype.renderElement=function(){return this.question.canAddPanel?P.a.createElement("button",{type:"button",className:this.question.getAddButtonCss(),onClick:this.handleClick},P.a.createElement("span",{className:this.question.cssClasses.buttonAddText},this.question.panelAddText)):null},c}(E);T.ReactElementFactory.Instance.registerElement("sv-paneldynamic-add-btn",function(u){return P.a.createElement(v,u)})},"./src/react/components/paneldynamic-actions/paneldynamic-next-btn.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionPanelDynamicNextButton",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/components/svg-icon/svg-icon.tsx"),C=g("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){var p=u!==null&&u.apply(this,arguments)||this;return p.handleClick=function(o){p.question.goToNextPanel()},p}return c.prototype.renderElement=function(){return P.a.createElement("div",{title:this.question.panelNextText,onClick:this.handleClick,className:this.question.getNextButtonCss()},P.a.createElement(x.SvgIcon,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))},c}(C.SurveyQuestionPanelDynamicAction);T.ReactElementFactory.Instance.registerElement("sv-paneldynamic-next-btn",function(u){return P.a.createElement(v,u)})},"./src/react/components/paneldynamic-actions/paneldynamic-prev-btn.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionPanelDynamicPrevButton",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/components/svg-icon/svg-icon.tsx"),C=g("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){var p=u!==null&&u.apply(this,arguments)||this;return p.handleClick=function(o){p.question.goToPrevPanel()},p}return c.prototype.renderElement=function(){return P.a.createElement("div",{title:this.question.panelPrevText,onClick:this.handleClick,className:this.question.getPrevButtonCss()},P.a.createElement(x.SvgIcon,{iconName:this.question.cssClasses.progressBtnIcon,size:"auto"}))},c}(C.SurveyQuestionPanelDynamicAction);T.ReactElementFactory.Instance.registerElement("sv-paneldynamic-prev-btn",function(u){return P.a.createElement(v,u)})},"./src/react/components/paneldynamic-actions/paneldynamic-progress-text.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionPanelDynamicProgressText",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return u.prototype.renderElement=function(){return P.a.createElement("div",{className:this.question.cssClasses.progressText},this.question.progressText)},u}(x.SurveyQuestionPanelDynamicAction);T.ReactElementFactory.Instance.registerElement("sv-paneldynamic-progress-text",function(v){return P.a.createElement(E,v)})},"./src/react/components/paneldynamic-actions/paneldynamic-remove-btn.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionPanelDynamicRemoveButton",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/components/paneldynamic-actions/paneldynamic-add-btn.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(){var c=v!==null&&v.apply(this,arguments)||this;return c.handleClick=function(p){c.question.removePanelUI(c.data.panel)},c}return u.prototype.renderElement=function(){return P.a.createElement("button",{className:this.question.getPanelRemoveButtonCss(),onClick:this.handleClick,type:"button"},P.a.createElement("span",{className:this.question.cssClasses.buttonRemoveText},this.question.panelRemoveText),P.a.createElement("span",{className:this.question.cssClasses.iconRemove}))},u}(x.SurveyQuestionPanelDynamicAction);T.ReactElementFactory.Instance.registerElement("sv-paneldynamic-remove-btn",function(v){return P.a.createElement(E,v)})},"./src/react/components/popup/popup.tsx":function(s,m,g){g.r(m),g.d(m,"Popup",function(){return p}),g.d(m,"PopupContainer",function(){return o}),g.d(m,"PopupDropdownContainer",function(){return a}),g.d(m,"showModal",function(){return d}),g.d(m,"showDialog",function(){return h});var y=g("react-dom"),P=g.n(y),T=g("react"),x=g.n(T),C=g("survey-core"),E=g("./src/react/element-factory.tsx"),v=g("./src/react/reactquestion_element.tsx"),u=g("./src/react/components/action-bar/action-bar.tsx"),c=function(){var f=function(l,O){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,A){V.__proto__=A}||function(V,A){for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(V[w]=A[w])},f(l,O)};return function(l,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");f(l,O);function V(){this.constructor=l}l.prototype=O===null?Object.create(O):(V.prototype=O.prototype,new V)}}(),p=function(f){c(l,f);function l(O){var V=f.call(this,O)||this;return V.containerRef=x.a.createRef(),V.createModel(),V}return Object.defineProperty(l.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),l.prototype.getStateElement=function(){return this.model},l.prototype.createModel=function(){this.popup=Object(C.createPopupViewModel)(this.props.model,void 0),this.popup.initializePopupContainer()},l.prototype.setTargetElement=function(){if(this.containerRef.current&&!this.popup.isModal){var O=this.popup;if(!O)return;this.containerRef.current.parentElement&&(O.targetElement=this.containerRef.current.parentElement)}},l.prototype.componentDidMount=function(){f.prototype.componentDidMount.call(this),this.popup.initializePopupContainer(),this.setTargetElement()},l.prototype.componentDidUpdate=function(O,V){f.prototype.componentDidUpdate.call(this,O,V),this.setTargetElement()},l.prototype.componentWillUnmount=function(){this.popup.unmountPopupContainer()},l.prototype.shouldComponentUpdate=function(O,V){var A;if(!f.prototype.shouldComponentUpdate.call(this,O,V))return!1;var w=O.model!==this.popup.model;return w&&((A=this.popup)===null||A===void 0||A.dispose(),this.createModel()),w},l.prototype.render=function(){this.popup.model=this.model;var O;return this.model.isModal?O=P.a.createPortal(x.a.createElement(o,{model:this.popup}),this.popup.container):O=P.a.createPortal(x.a.createElement(a,{model:this.popup}),this.popup.container),x.a.createElement("div",{ref:this.containerRef},O)},l}(v.SurveyElementBase);E.ReactElementFactory.Instance.registerElement("sv-popup",function(f){return x.a.createElement(p,f)});var o=function(f){c(l,f);function l(O){var V=f.call(this,O)||this;return V.prevIsVisible=!1,V.handleKeydown=function(A){V.model.onKeyDown(A)},V.clickInside=function(A){A.stopPropagation()},V}return Object.defineProperty(l.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),l.prototype.getStateElement=function(){return this.model},l.prototype.componentDidUpdate=function(O,V){f.prototype.componentDidUpdate.call(this,O,V),!this.prevIsVisible&&this.model.isVisible&&this.model.updateOnShowing(),this.prevIsVisible=this.model.isVisible},l.prototype.renderContainer=function(O){var V=this,A=O.showHeader?this.renderHeaderPopup(O):null,w=O.title?this.renderHeaderContent():null,S=this.renderContent(),R=O.showFooter?this.renderFooter(this.model):null;return x.a.createElement("div",{className:"sv-popup__container",style:{left:O.left,top:O.top,height:O.height,width:O.width,minWidth:O.minWidth},onClick:function(I){V.clickInside(I)}},x.a.createElement("div",{className:"sv-popup__shadow"},A,x.a.createElement("div",{className:"sv-popup__body-content"},w,x.a.createElement("div",{className:"sv-popup__scrolling-content"},S),R)))},l.prototype.renderHeaderContent=function(){return x.a.createElement("div",{className:"sv-popup__body-header"},this.model.title)},l.prototype.renderContent=function(){var O=E.ReactElementFactory.Instance.createElement(this.model.contentComponentName,this.model.contentComponentData);return x.a.createElement("div",{className:"sv-popup__content"},O)},l.prototype.renderHeaderPopup=function(O){return null},l.prototype.renderFooter=function(O){return x.a.createElement("div",{className:"sv-popup__body-footer"},x.a.createElement(u.SurveyActionBar,{model:O.footerToolbar}))},l.prototype.render=function(){var O=this,V=this.renderContainer(this.model),A=new C.CssClassBuilder().append("sv-popup").append(this.model.styleClass).toString(),w={display:this.model.isVisible?"":"none"};return x.a.createElement("div",{tabIndex:-1,className:A,style:w,onClick:function(S){O.model.clickOutside(),S.stopPropagation()},onKeyDown:this.handleKeydown},V)},l}(v.SurveyElementBase),a=function(f){c(l,f);function l(){return f!==null&&f.apply(this,arguments)||this}return l.prototype.renderHeaderPopup=function(O){var V=O;return V?x.a.createElement("span",{style:{left:V.pointerTarget.left,top:V.pointerTarget.top},className:"sv-popup__pointer"}):null},l}(o);function d(f,l,O,V,A,w,S){S===void 0&&(S="popup");var R=Object(C.createDialogOptions)(f,l,O,V,void 0,void 0,A,w,S);return h(R)}function h(f){f.onHide=function(){P.a.unmountComponentAtNode(l.container),l.unmountPopupContainer()};var l=Object(C.createPopupModalViewModel)(f);return P.a.render(x.a.createElement(o,{model:l}),l.container),l.model.isVisible=!0,l}C.settings.showModal=d},"./src/react/components/rating/rating-item-smiley.tsx":function(s,m,g){g.r(m),g.d(m,"RatingItemSmiley",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/components/svg-icon/svg-icon.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),c.prototype.getStateElement=function(){return this.item},c.prototype.render=function(){var p=this;return P.a.createElement("label",{style:this.question.getItemStyle(this.item.itemValue,this.item.highlight),className:this.question.getItemClass(this.item.itemValue),onMouseOver:function(o){return p.question.onItemMouseIn(p.item)},onMouseOut:function(o){return p.question.onItemMouseOut(p.item)}},P.a.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.isDisplayMode,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:function(){},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),P.a.createElement(C.SvgIcon,{size:"auto",iconName:this.question.getItemSmileyIconName(this.item.itemValue),title:this.item.text}))},c}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-rating-item-smiley",function(u){return P.a.createElement(v,u)})},"./src/react/components/rating/rating-item-star.tsx":function(s,m,g){g.r(m),g.d(m,"RatingItemStar",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/components/svg-icon/svg-icon.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),c.prototype.getStateElement=function(){return this.item},c.prototype.render=function(){var p=this;return P.a.createElement("label",{className:this.question.getItemClass(this.item.itemValue),onMouseOver:function(o){return p.question.onItemMouseIn(p.item)},onMouseOut:function(o){return p.question.onItemMouseOut(p.item)}},P.a.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.isDisplayMode,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:function(){},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),P.a.createElement(C.SvgIcon,{className:"sv-star",size:"auto",iconName:this.question.itemStarIcon,title:this.item.text}),P.a.createElement(C.SvgIcon,{className:"sv-star-2",size:"auto",iconName:this.question.itemStarIconAlt,title:this.item.text}))},c}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-rating-item-star",function(u){return P.a.createElement(v,u)})},"./src/react/components/rating/rating-item.tsx":function(s,m,g){g.r(m),g.d(m,"RatingItem",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return Object.defineProperty(u.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),u.prototype.getStateElement=function(){return this.item},u.prototype.render=function(){var c=this.renderLocString(this.item.locText);return P.a.createElement("label",{className:this.question.getItemClassByText(this.item.itemValue,this.item.text)},P.a.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.getInputId(this.index),value:this.item.value,disabled:this.isDisplayMode,checked:this.question.value==this.item.value,onClick:this.props.handleOnClick,onChange:function(){},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),P.a.createElement("span",{className:this.question.cssClasses.itemText},c))},u.prototype.componentDidMount=function(){v.prototype.componentDidMount.call(this)},u}(x.SurveyElementBase);T.ReactElementFactory.Instance.registerElement("sv-rating-item",function(v){return P.a.createElement(E,v)})},"./src/react/components/skeleton.tsx":function(s,m,g){g.r(m),g.d(m,"Skeleton",function(){return C});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(){return E!==null&&E.apply(this,arguments)||this}return v.prototype.render=function(){var u;return P.a.createElement("div",{className:"sv-skeleton-element",id:(u=this.props.element)===null||u===void 0?void 0:u.id})},v}(P.a.Component);T.ReactElementFactory.Instance.registerElement("sv-skeleton",function(E){return P.a.createElement(C,E)})},"./src/react/components/survey-actions/survey-nav-button.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyNavigationButton",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(){return v!==null&&v.apply(this,arguments)||this}return Object.defineProperty(u.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),u.prototype.canRender=function(){return this.item.isVisible},u.prototype.renderElement=function(){return P.a.createElement("input",{className:this.item.innerCss,type:"button",disabled:this.item.disabled,onMouseDown:this.item.data&&this.item.data.mouseDown,onClick:this.item.action,title:this.item.getTooltip(),value:this.item.title})},u}(x.ReactSurveyElement);T.ReactElementFactory.Instance.registerElement("sv-nav-btn",function(v){return P.a.createElement(E,v)})},"./src/react/components/survey-header/logo-image.tsx":function(s,m,g){g.r(m),g.d(m,"LogoImage",function(){return C});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return Object.defineProperty(v.prototype,"survey",{get:function(){return this.props.data},enumerable:!1,configurable:!0}),v.prototype.render=function(){var u=[];return u.push(P.a.createElement("div",{key:"logo-image",className:this.survey.logoClassNames},P.a.createElement("img",{className:this.survey.css.logoImage,src:this.survey.locLogo.renderedHtml,alt:this.survey.locTitle.renderedHtml,width:this.survey.logoWidth?this.survey.logoWidth:void 0,height:this.survey.logoHeight?this.survey.logoHeight:void 0,style:{objectFit:this.survey.logoFit}}))),P.a.createElement(P.a.Fragment,null,u)},v}(P.a.Component);T.ReactElementFactory.Instance.registerElement("sv-logo-image",function(E){return P.a.createElement(C,E)})},"./src/react/components/survey-header/survey-header.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyHeader",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/reactquestion_element.tsx"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/components/title/title-element.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(p){var o=u.call(this,p)||this;return o.state={changed:0},o}return Object.defineProperty(c.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){var p=this;this.survey.locLogo.onChanged=function(){p.setState({changed:p.state.changed+1})}},c.prototype.componentWillUnmount=function(){this.survey.locLogo.onChanged=function(){}},c.prototype.renderTitle=function(){if(!this.survey.renderedHasTitle)return null;var p=T.SurveyElementBase.renderLocString(this.survey.locDescription);return P.a.createElement("div",{className:this.css.headerText,style:{maxWidth:this.survey.titleMaxWidth}},P.a.createElement(C.TitleElement,{element:this.survey}),this.survey.renderedHasDescription?P.a.createElement("h5",{className:this.css.description},p):null)},c.prototype.renderLogoImage=function(p){if(!p)return null;var o=this.survey.getElementWrapperComponentName(this.survey,"logo-image"),a=this.survey.getElementWrapperComponentData(this.survey,"logo-image");return x.ReactElementFactory.Instance.createElement(o,{data:a})},c.prototype.render=function(){return this.survey.renderedHasHeader?P.a.createElement("div",{className:this.css.header},this.renderLogoImage(this.survey.isLogoBefore),this.renderTitle(),this.renderLogoImage(this.survey.isLogoAfter),P.a.createElement("div",{className:this.css.headerClose})):null},c}(P.a.Component);x.ReactElementFactory.Instance.registerElement("survey-header",function(u){return P.a.createElement(v,u)})},"./src/react/components/svg-icon/svg-icon.tsx":function(s,m,g){g.r(m),g.d(m,"SvgIcon",function(){return E});var y=g("react"),P=g.n(y),T=g("./src/react/element-factory.tsx"),x=g("survey-core"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.svgIconRef=P.a.createRef(),p}return u.prototype.updateSvg=function(){this.props.iconName&&Object(x.createSvg)(this.props.size,this.props.width,this.props.height,this.props.iconName,this.svgIconRef.current,this.props.title)},u.prototype.componentDidUpdate=function(){this.updateSvg()},u.prototype.render=function(){var c="sv-svg-icon";return this.props.className&&(c+=" "+this.props.className),this.props.iconName?P.a.createElement("svg",{className:c,style:this.props.style,onClick:this.props.onClick,ref:this.svgIconRef,role:"img","aria-label":this.props.title},P.a.createElement("use",null)):null},u.prototype.componentDidMount=function(){this.updateSvg()},u}(P.a.Component);T.ReactElementFactory.Instance.registerElement("sv-svg-icon",function(v){return P.a.createElement(E,v)})},"./src/react/components/title/title-actions.tsx":function(s,m,g){g.r(m),g.d(m,"TitleActions",function(){return u});var y=g("react"),P=g.n(y),T=g("survey-core"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/components/action-bar/action-bar.tsx"),E=g("./src/react/components/title/title-content.tsx"),v=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),u=function(c){v(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return Object.defineProperty(p.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),p.prototype.render=function(){var o=P.a.createElement(E.TitleContent,{element:this.element,cssClasses:this.cssClasses});return this.element.hasTitleActions?P.a.createElement("div",{className:"sv-title-actions"},P.a.createElement("span",{className:"sv-title-actions__title"},o),P.a.createElement(C.SurveyActionBar,{model:this.element.getTitleToolbar()})):o},p}(P.a.Component);T.RendererFactory.Instance.registerRenderer("element","title-actions","sv-title-actions"),x.ReactElementFactory.Instance.registerElement("sv-title-actions",function(c){return P.a.createElement(u,c)})},"./src/react/components/title/title-content.tsx":function(s,m,g){g.r(m),g.d(m,"TitleContent",function(){return C});var y=g("react"),P=g.n(y),T=g("./src/react/reactquestion_element.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return Object.defineProperty(v.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),v.prototype.render=function(){if(this.element.isTitleRenderedAsString)return T.SurveyElementBase.renderLocString(this.element.locTitle);var u=this.renderTitleSpans(this.element.getTitleOwner(),this.cssClasses);return P.a.createElement(P.a.Fragment,null,u)},v.prototype.renderTitleSpans=function(u,c){var p=function(h){return P.a.createElement("span",{"data-key":h,key:h}," ")},o=[];u.isRequireTextOnStart&&(o.push(this.renderRequireText(u,c)),o.push(p("req-sp")));var a=u.no;if(a){var d=c.panel?c.panel.number:void 0;o.push(P.a.createElement("span",{"data-key":"q_num",key:"q_num",className:c.number||d,style:{position:"static"},"aria-hidden":!0},a)),o.push(p("num-sp"))}return u.isRequireTextBeforeTitle&&(o.push(this.renderRequireText(u,c)),o.push(p("req-sp"))),o.push(T.SurveyElementBase.renderLocString(u.locTitle,null,"q_title")),u.isRequireTextAfterTitle&&(o.push(p("req-sp")),o.push(this.renderRequireText(u,c))),o},v.prototype.renderRequireText=function(u,c){return P.a.createElement("span",{"data-key":"req-text",key:"req-text",className:c.requiredText||c.panel.requiredText,"aria-hidden":!0},u.requiredText)},v}(P.a.Component)},"./src/react/components/title/title-element.tsx":function(s,m,g){g.r(m),g.d(m,"TitleElement",function(){return E});var y=g("react"),P=g.n(y),T=g("survey-core"),x=g("./src/react/components/title/title-actions.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return Object.defineProperty(u.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),u.prototype.render=function(){var c=this.element;if(!c||!c.hasTitle)return null;var p=c.titleAriaLabel||void 0,o=P.a.createElement(x.TitleActions,{element:c,cssClasses:c.cssClasses}),a=void 0,d=void 0;c.hasTitleEvents&&(d=function(f){Object(T.doKey2ClickUp)(f.nativeEvent)});var h=c.titleTagName;return P.a.createElement(h,{className:c.cssTitle,id:c.ariaTitleId,"aria-label":p,tabIndex:c.titleTabIndex,"aria-expanded":c.titleAriaExpanded,role:c.titleAriaRole,onClick:a,onKeyUp:d},o)},u}(P.a.Component)},"./src/react/custom-widget.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyCustomWidget",function(){return x});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),x=function(C){T(E,C);function E(v){var u=C.call(this,v)||this;return u.widgetRef=y.createRef(),u}return E.prototype._afterRender=function(){if(this.questionBase.customWidget){var v=this.widgetRef.current;v&&(this.questionBase.customWidget.afterRender(this.questionBase,v),this.questionBase.customWidgetData.isNeedRender=!1)}},E.prototype.componentDidMount=function(){C.prototype.componentDidMount.call(this),this.questionBase&&this._afterRender()},E.prototype.componentDidUpdate=function(v,u){C.prototype.componentDidUpdate.call(this,v,u);var c=!!this.questionBase.customWidget&&this.questionBase.customWidget.isDefaultRender;this.questionBase&&!c&&this._afterRender()},E.prototype.componentWillUnmount=function(){if(C.prototype.componentWillUnmount.call(this),this.questionBase.customWidget){var v=this.widgetRef.current;v&&this.questionBase.customWidget.willUnmount(this.questionBase,v)}},E.prototype.canRender=function(){return C.prototype.canRender.call(this)&&this.questionBase.visible},E.prototype.renderElement=function(){var v=this.questionBase.customWidget;if(v.isDefaultRender)return y.createElement("div",{ref:this.widgetRef},this.creator.createQuestionElement(this.questionBase));var u=null;if(v.widgetJson.render)u=v.widgetJson.render(this.questionBase);else if(v.htmlTemplate){var c={__html:v.htmlTemplate};return y.createElement("div",{ref:this.widgetRef,dangerouslySetInnerHTML:c})}return y.createElement("div",{ref:this.widgetRef},u)},E}(P.SurveyQuestionElementBase)},"./src/react/dropdown-base.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionDropdownBase",function(){return c});var y=g("react"),P=g("survey-core"),T=g("./src/react/components/popup/popup.tsx"),x=g("./src/react/components/svg-icon/svg-icon.tsx"),C=g("./src/react/element-factory.tsx"),E=g("./src/react/reactquestion_comment.tsx"),v=g("./src/react/reactquestion_element.tsx"),u=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),c=function(p){u(o,p);function o(){var a=p!==null&&p.apply(this,arguments)||this;return a.click=function(d){var h;(h=a.question.dropdownListModel)===null||h===void 0||h.onClick(d)},a.clear=function(d){var h;(h=a.question.dropdownListModel)===null||h===void 0||h.onClear(d)},a.keyhandler=function(d){var h;(h=a.question.dropdownListModel)===null||h===void 0||h.keyHandler(d)},a.blur=function(d){var h;(h=a.question.dropdownListModel)===null||h===void 0||h.onBlur(d),a.updateInputDomElement()},a.focus=function(d){var h;(h=a.question.dropdownListModel)===null||h===void 0||h.onFocus(d)},a}return o.prototype.getStateElement=function(){return this.question.dropdownListModel},o.prototype.setValueCore=function(a){this.questionBase.renderedValue=a},o.prototype.getValueCore=function(){return this.questionBase.renderedValue},o.prototype.renderSelect=function(a){var d,h,f=null;if(this.question.isReadOnly){var l=this.question.selectedItemLocText?this.renderLocString(this.question.selectedItemLocText):"";f=y.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),disabled:!0},l,y.createElement("div",null,this.question.readOnlyText))}else this.question.dropdownListModel||(this.question.dropdownListModel=new P.DropdownListModel(this.question)),f=y.createElement(y.Fragment,null,this.renderInput(this.question.dropdownListModel),y.createElement(T.Popup,{model:(h=(d=this.question)===null||d===void 0?void 0:d.dropdownListModel)===null||h===void 0?void 0:h.popupModel}));return y.createElement("div",{className:a.selectWrapper},f)},o.prototype.renderValueElement=function(a){return this.question.showInputFieldComponent?C.ReactElementFactory.Instance.createElement(this.question.inputFieldComponentName,{item:a.getSelectedAction(),question:this.question}):this.question.showSelectedItemLocText?this.renderLocString(this.question.selectedItemLocText):null},o.prototype.renderInput=function(a){var d=this,h=this.renderValueElement(a),f=P.settings.environment.root,l=function(O){O.target===f.activeElement&&(a.inputStringRendered=O.target.value)};return y.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:a.inputReadOnly?void 0:0,onClick:this.click,disabled:this.question.isInputReadOnly,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,role:this.question.ariaRole,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,"aria-expanded":this.question.ariaExpanded?"true":"false","aria-controls":a.listElementId,"aria-activedescendant":a.ariaActivedescendant},a.showHintPrefix?y.createElement("div",{className:this.question.cssClasses.hintPrefix},y.createElement("span",null,a.hintStringPrefix)):null,y.createElement("div",{className:this.question.cssClasses.controlValue},a.showHintString?y.createElement("div",{className:this.question.cssClasses.hintSuffix},y.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},a.inputStringRendered),y.createElement("span",null,a.hintStringSuffix)):null,h,y.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),ref:function(O){return d.inputElement=O},className:this.question.cssClasses.filterStringInput,role:a.filterStringEnabled?this.question.ariaRole:void 0,"aria-label":this.question.placeholder,"aria-expanded":this.question.ariaExpanded?"true":"false","aria-controls":a.listElementId,"aria-activedescendant":a.ariaActivedescendant,placeholder:a.placeholderRendered,readOnly:a.searchEnabled?void 0:!0,tabIndex:a.inputReadOnly?void 0:-1,disabled:this.question.isInputReadOnly,inputMode:a.inputMode,onChange:function(O){l(O)},onBlur:this.blur,onFocus:this.focus})),this.createClearButton())},o.prototype.createClearButton=function(){if(!this.question.allowClear||!this.question.cssClasses.cleanButtonIconId)return null;var a={display:this.question.isEmpty()?"none":""};return y.createElement("div",{className:this.question.cssClasses.cleanButton,style:a,onClick:this.clear},y.createElement(x.SvgIcon,{className:this.question.cssClasses.cleanButtonSvg,iconName:this.question.cssClasses.cleanButtonIconId,title:this.question.clearCaption,size:"auto"}))},o.prototype.renderOther=function(a){return y.createElement("div",{className:this.question.getCommentAreaCss(!0)},y.createElement(E.SurveyQuestionOtherValueItem,{question:this.question,otherCss:a.other,cssClasses:a,isDisplayMode:this.isDisplayMode,isOther:!0}))},o.prototype.componentDidUpdate=function(a,d){p.prototype.componentDidUpdate.call(this,a,d),this.updateInputDomElement()},o.prototype.componentDidMount=function(){p.prototype.componentDidMount.call(this),this.updateInputDomElement()},o.prototype.updateInputDomElement=function(){if(this.inputElement){var a=this.inputElement,d=this.question.dropdownListModel.inputStringRendered;P.Helpers.isTwoValueEquals(d,a.value)||(a.value=this.question.dropdownListModel.inputStringRendered)}},o}(v.SurveyQuestionUncontrolledElement)},"./src/react/dropdown-item.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionOptionItem",function(){return x});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=function(){var C=function(E,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(u[p]=c[p])},C(E,v)};return function(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(E,v);function u(){this.constructor=E}E.prototype=v===null?Object.create(v):(u.prototype=v.prototype,new u)}}(),x=function(C){T(E,C);function E(v){var u=C.call(this,v)||this;return u.state={changed:0},u.setupModel(),u}return E.prototype.componentDidUpdate=function(v,u){C.prototype.componentDidUpdate.call(this,v,u),this.setupModel()},E.prototype.componentWillUnmount=function(){C.prototype.componentWillUnmount.call(this),this.item&&(this.item.locText.onChanged=function(){})},E.prototype.setupModel=function(){if(this.item.locText){var v=this;this.item.locText.onChanged=function(){v.setState({changed:v.state.changed+1})}}},E.prototype.getStateElement=function(){return this.item},Object.defineProperty(E.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),E.prototype.canRender=function(){return!!this.item},E.prototype.renderElement=function(){return y.createElement("option",{value:this.item.value,disabled:!this.item.isEnabled},this.item.text)},E}(P.ReactSurveyElement)},"./src/react/dropdown-select.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionDropdownSelect",function(){return v});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/reactquestion_dropdown.tsx"),C=g("./src/react/dropdown-item.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(p){return u.call(this,p)||this}return c.prototype.renderSelect=function(p){var o=this,a=function(f){o.question.onClick(f)},d=function(f){o.question.onKeyUp(f)},h=this.isDisplayMode?y.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),disabled:!0},this.question.readOnlyText):y.createElement("select",{id:this.question.inputId,className:this.question.getControlClass(),ref:function(f){return o.setControl(f)},autoComplete:this.question.autocomplete,onChange:this.updateValueOnEvent,onInput:this.updateValueOnEvent,onClick:a,onKeyUp:d,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,required:this.question.isRequired},this.question.allowClear?y.createElement("option",{value:""},this.question.placeholder):null,this.question.visibleChoices.map(function(f,l){return y.createElement(C.SurveyQuestionOptionItem,{key:"item"+l,item:f})}));return y.createElement("div",{className:p.selectWrapper},h)},c}(x.SurveyQuestionDropdown);T.ReactQuestionFactory.Instance.registerQuestion("sv-dropdown-select",function(u){return y.createElement(v,u)}),P.RendererFactory.Instance.registerRenderer("dropdown","select","sv-dropdown-select")},"./src/react/element-factory.tsx":function(s,m,g){g.r(m),g.d(m,"ReactElementFactory",function(){return y});var y=function(){function P(){this.creatorHash={}}return P.prototype.registerElement=function(T,x){this.creatorHash[T]=x},P.prototype.getAllTypes=function(){var T=new Array;for(var x in this.creatorHash)T.push(x);return T.sort()},P.prototype.isElementRegistered=function(T){return!!this.creatorHash[T]},P.prototype.createElement=function(T,x){var C=this.creatorHash[T];return C==null?null:C(x)},P.Instance=new P,P}()},"./src/react/element-header.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyElementHeader",function(){return v});var y=g("react"),P=g.n(y),T=g("./src/react/components/action-bar/action-bar.tsx"),x=g("./src/react/components/title/title-element.tsx"),C=g("./src/react/reactquestion_element.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),c.prototype.render=function(){var p=this.element,o=p.hasTitle?P.a.createElement(x.TitleElement,{element:p}):null,a=p.hasDescriptionUnderTitle?C.SurveyElementBase.renderQuestionDescription(this.element):null,d=p.additionalTitleToolbar?P.a.createElement(T.SurveyActionBar,{model:p.additionalTitleToolbar}):null;return P.a.createElement("div",{className:p.cssHeader,onClick:p.clickTitleFunction},o,a,d)},c}(P.a.Component)},"./src/react/flow-panel.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyFlowPanel",function(){return E});var y=g("react"),P=g("./src/react/element-factory.tsx"),T=g("./src/react/panel.tsx"),x=g("./src/react/reactquestion.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return Object.defineProperty(u.prototype,"flowPanel",{get:function(){return this.panel},enumerable:!1,configurable:!0}),u.prototype.componentDidMount=function(){v.prototype.componentDidMount.call(this),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=function(){return""},this.flowPanel.onGetHtmlForQuestion=this.renderQuestion)},u.prototype.componentWillUnmount=function(){v.prototype.componentWillUnmount.call(this),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=null,this.flowPanel.onGetHtmlForQuestion=null)},u.prototype.getQuestion=function(c){return this.flowPanel.getQuestionByName(c)},u.prototype.renderQuestion=function(c){return"<question>"+c.name+"</question>"},u.prototype.renderRows=function(){var c=this.renderHtml();return c?[c]:[]},u.prototype.getNodeIndex=function(){return this.renderedIndex++},u.prototype.renderHtml=function(){if(!this.flowPanel)return null;var c="<span>"+this.flowPanel.produceHtml()+"</span>";if(!DOMParser){var p={__html:c};return y.createElement("div",{dangerouslySetInnerHTML:p})}var o=new DOMParser().parseFromString(c,"text/xml");return this.renderedIndex=0,this.renderParentNode(o)},u.prototype.renderNodes=function(c){for(var p=[],o=0;o<c.length;o++){var a=this.renderNode(c[o]);a&&p.push(a)}return p},u.prototype.getStyle=function(c){var p={};return c.toLowerCase()==="b"&&(p.fontWeight="bold"),c.toLowerCase()==="i"&&(p.fontStyle="italic"),c.toLowerCase()==="u"&&(p.textDecoration="underline"),p},u.prototype.renderParentNode=function(c){var p=c.nodeName.toLowerCase(),o=this.renderNodes(this.getChildDomNodes(c));return p==="div"?y.createElement("div",{key:this.getNodeIndex()},o):y.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(p)},o)},u.prototype.renderNode=function(c){if(!this.hasTextChildNodesOnly(c))return this.renderParentNode(c);var p=c.nodeName.toLowerCase();if(p==="question"){var o=this.flowPanel.getQuestionByName(c.textContent);if(!o)return null;var a=y.createElement(x.SurveyQuestion,{key:o.name,element:o,creator:this.creator,css:this.css});return y.createElement("span",{key:this.getNodeIndex()},a)}return p==="div"?y.createElement("div",{key:this.getNodeIndex()},c.textContent):y.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(p)},c.textContent)},u.prototype.getChildDomNodes=function(c){for(var p=[],o=0;o<c.childNodes.length;o++)p.push(c.childNodes[o]);return p},u.prototype.hasTextChildNodesOnly=function(c){for(var p=c.childNodes,o=0;o<p.length;o++)if(p[o].nodeName.toLowerCase()!=="#text")return!1;return!0},u.prototype.renderContent=function(c,p){return y.createElement("f-panel",{style:c},p)},u}(T.SurveyPanel);P.ReactElementFactory.Instance.registerElement("flowpanel",function(v){return y.createElement(E,v)})},"./src/react/image.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionImage",function(){return E});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/components/svg-icon/svg-icon.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return u.prototype.componentDidMount=function(){var c=this;v.prototype.componentDidMount.call(this),this.question.locImageLink.onChanged=function(){c.forceUpdate()}},u.prototype.componentWillUnmount=function(){v.prototype.componentWillUnmount.call(this),this.question.locImageLink.onChanged=function(){}},Object.defineProperty(u.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),u.prototype.renderElement=function(){var c=this,p=this.question.getImageCss(),o={objectFit:this.question.imageFit},a=null;this.question.renderedMode==="image"&&(a=y.createElement("img",{className:p,src:this.question.locImageLink.renderedHtml,alt:this.question.altText||this.question.title,width:this.question.renderedWidth,height:this.question.renderedHeight,style:o,onLoad:function(h){c.question.onLoadHandler()},onError:function(h){c.question.onErrorHandler()}})),this.question.renderedMode==="video"&&(a=y.createElement("video",{controls:!0,className:p,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:o,onLoadedMetadata:function(h){c.question.onLoadHandler()},onError:function(h){c.question.onErrorHandler()}})),this.question.renderedMode==="youtube"&&(a=y.createElement("iframe",{className:p,src:this.question.locImageLink.renderedHtml,width:this.question.renderedWidth,height:this.question.renderedHeight,style:o}));var d=null;return(!this.question.imageLink||this.question.contentNotLoaded)&&(d=y.createElement("div",{className:this.question.cssClasses.noImage},y.createElement(x.SvgIcon,{iconName:this.question.cssClasses.noImageSvgIconId,size:48}))),y.createElement("div",{className:this.question.cssClasses.root},a,d)},u}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("image",function(v){return y.createElement(E,v)})},"./src/react/imagepicker.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionImagePicker",function(){return v}),g.d(m,"SurveyQuestionImagePickerItem",function(){return u});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/reactsurveymodel.tsx"),C=g("./src/react/components/svg-icon/svg-icon.tsx"),E=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),v=function(c){E(p,c);function p(o){return c.call(this,o)||this}return Object.defineProperty(p.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),p.prototype.renderElement=function(){var o=this.question.cssClasses;return y.createElement("fieldset",{className:this.question.getSelectBaseRootCss()},y.createElement("legend",{role:"radio","aria-label":this.question.locTitle.renderedHtml}),this.question.hasColumns?this.getColumns(o):this.getItems(o))},p.prototype.getColumns=function(o){var a=this;return this.question.columns.map(function(d,h){var f=d.map(function(l,O){return a.renderItem("item"+O,l,o)});return y.createElement("div",{key:"column"+h,className:a.question.getColumnClass(),role:"presentation"},f)})},p.prototype.getItems=function(o){for(var a=[],d=0;d<this.question.visibleChoices.length;d++){var h=this.question.visibleChoices[d],f="item"+d;a.push(this.renderItem(f,h,o))}return a},Object.defineProperty(p.prototype,"textStyle",{get:function(){return{marginLeft:"3px",display:"inline",position:"static"}},enumerable:!1,configurable:!0}),p.prototype.renderItem=function(o,a,d){var h=y.createElement(u,{key:o,question:this.question,item:a,cssClasses:d}),f=this.question.survey,l=null;return f&&(l=x.ReactSurveyElementsWrapper.wrapItemValue(f,h,this.question,a)),l??h},p}(P.SurveyQuestionElementBase),u=function(c){E(p,c);function p(o){var a=c.call(this,o)||this;return a.handleOnChange=a.handleOnChange.bind(a),a}return p.prototype.getStateElement=function(){return this.item},p.prototype.componentDidMount=function(){c.prototype.componentDidMount.call(this),this.reactOnStrChanged()},p.prototype.componentWillUnmount=function(){c.prototype.componentWillUnmount.call(this),this.item.locImageLink.onChanged=function(){}},p.prototype.componentDidUpdate=function(o,a){c.prototype.componentDidUpdate.call(this,o,a),this.reactOnStrChanged()},p.prototype.reactOnStrChanged=function(){var o=this;this.item.locImageLink.onChanged=function(){o.setState({locImageLinkchanged:o.state&&o.state.locImageLink?o.state.locImageLink+1:1})}},Object.defineProperty(p.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),p.prototype.handleOnChange=function(o){if(this.question.multiSelect)if(o.target.checked)this.question.value=this.question.value.concat(o.target.value);else{var a=this.question.value;a.splice(this.question.value.indexOf(o.target.value),1),this.question.value=a}else this.question.value=o.target.value;this.setState({value:this.question.value})},p.prototype.renderElement=function(){var o=this,a=this.item,d=this.question,h=this.cssClasses,f=d.isItemSelected(a),l=d.getItemClass(a),O=null;d.showLabel&&(O=y.createElement("span",{className:d.cssClasses.itemText},a.text?P.SurveyElementBase.renderLocString(a.locText):a.value));var V={objectFit:this.question.imageFit},A=null;if(a.locImageLink.renderedHtml&&this.question.contentMode==="image"&&(A=y.createElement("img",{className:h.image,src:a.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,alt:a.locText.renderedHtml,style:V,onLoad:function(R){o.question.onContentLoaded(a,R.nativeEvent)},onError:function(R){a.onErrorHandler(a,R.nativeEvent)}})),a.locImageLink.renderedHtml&&this.question.contentMode==="video"&&(A=y.createElement("video",{controls:!0,className:h.image,src:a.locImageLink.renderedHtml,width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,style:V,onLoadedMetadata:function(R){o.question.onContentLoaded(a,R.nativeEvent)},onError:function(R){a.onErrorHandler(a,R.nativeEvent)}})),!a.locImageLink.renderedHtml||a.contentNotLoaded){var w={width:this.question.renderedImageWidth,height:this.question.renderedImageHeight,objectFit:this.question.imageFit};A=y.createElement("div",{className:h.itemNoImage,style:w},h.itemNoImageSvgIcon?y.createElement(C.SvgIcon,{className:h.itemNoImageSvgIcon,iconName:this.question.cssClasses.itemNoImageSvgIconId,size:48}):null)}var S=y.createElement("div",{className:l},y.createElement("label",{className:h.label},y.createElement("input",{className:h.itemControl,id:this.question.getItemId(a),type:this.question.inputType,name:this.question.questionName,checked:f,value:a.value,disabled:!this.question.getItemEnabled(a),onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),y.createElement("div",{className:this.question.cssClasses.itemDecorator},y.createElement("div",{className:this.question.cssClasses.imageContainer},this.question.cssClasses.checkedItemDecorator?y.createElement("span",{className:this.question.cssClasses.checkedItemDecorator},this.question.cssClasses.checkedItemSvgIconId?y.createElement(C.SvgIcon,{size:"auto",className:this.question.cssClasses.checkedItemSvgIcon,iconName:this.question.cssClasses.checkedItemSvgIconId}):null):null,A),O)));return S},p}(P.ReactSurveyElement);T.ReactQuestionFactory.Instance.registerQuestion("imagepicker",function(c){return y.createElement(v,c)})},"./src/react/page.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyPage",function(){return E});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/panel-base.tsx"),x=g("./src/react/components/title/title-element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return u.prototype.getPanelBase=function(){return this.props.page},Object.defineProperty(u.prototype,"page",{get:function(){return this.panelBase},enumerable:!1,configurable:!0}),u.prototype.renderElement=function(){var c=this.renderTitle(),p=this.renderDescription(),o=this.renderRows(this.panelBase.cssClasses);return y.createElement("div",{ref:this.rootRef,className:this.page.cssRoot},c,p,o)},u.prototype.renderTitle=function(){return y.createElement(x.TitleElement,{element:this.page})},u.prototype.renderDescription=function(){if(!this.page._showDescription)return null;var c=P.SurveyElementBase.renderLocString(this.page.locDescription);return y.createElement("div",{className:this.panelBase.cssClasses.page.description},c)},u}(T.SurveyPanelBase)},"./src/react/panel-base.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyPanelBase",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/row.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){var c=E.call(this,u)||this;return c.renderedRowsCache={},c.rootRef=y.createRef(),c}return v.prototype.getStateElement=function(){return this.panelBase},v.prototype.canUsePropInState=function(u){return u!=="elements"&&E.prototype.canUsePropInState.call(this,u)},Object.defineProperty(v.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"css",{get:function(){return this.getCss()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"panelBase",{get:function(){return this.getPanelBase()},enumerable:!1,configurable:!0}),v.prototype.getPanelBase=function(){return this.props.element||this.props.question},v.prototype.getSurvey=function(){return this.props.survey||(this.panelBase?this.panelBase.survey:null)},v.prototype.getCss=function(){return this.props.css},v.prototype.componentDidMount=function(){E.prototype.componentDidMount.call(this),this.doAfterRender()},v.prototype.componentWillUnmount=function(){E.prototype.componentWillUnmount.call(this);var u=this.rootRef.current;u&&u.removeAttribute("data-rendered")},v.prototype.componentDidUpdate=function(u,c){E.prototype.componentDidUpdate.call(this,u,c),!(u.page&&this.survey&&this.survey.currentPage&&u.page.name===this.survey.currentPage.name)&&this.doAfterRender()},v.prototype.doAfterRender=function(){var u=this.rootRef.current;u&&this.survey&&(this.panelBase.isPanel?this.survey.afterRenderPanel(this.panelBase,u):this.survey.afterRenderPage(u))},v.prototype.canRender=function(){return E.prototype.canRender.call(this)&&!!this.survey&&!!this.panelBase&&this.panelBase.isVisible&&!!this.panelBase.survey},v.prototype.renderRows=function(u){this.changedStatePropName!=="rows"&&(this.renderedRowsCache={});for(var c=[],p=this.panelBase.rows,o=0;o<p.length;o++){var a=this.renderedRowsCache[p[o].id];a||(a=this.createRow(p[o],u),this.renderedRowsCache[p[o].id]=a),c.push(a)}return c},v.prototype.createRow=function(u,c){return y.createElement(T.SurveyRow,{key:u.id,row:u,survey:this.survey,creator:this.creator,css:c})},v}(P.SurveyElementBase)},"./src/react/panel.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyPanel",function(){return o});var y=g("react"),P=g("./src/react/reactquestion.tsx"),T=g("./src/react/reactquestion_element.tsx"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/panel-base.tsx"),E=g("./src/react/reactsurveymodel.tsx"),v=g("./src/react/components/action-bar/action-bar.tsx"),u=g("./src/react/components/title/title-element.tsx"),c=g("./src/react/element-header.tsx"),p=function(){var a=function(d,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var O in l)Object.prototype.hasOwnProperty.call(l,O)&&(f[O]=l[O])},a(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");a(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),o=function(a){p(d,a);function d(h){var f=a.call(this,h)||this;return f.hasBeenExpanded=!1,f}return Object.defineProperty(d.prototype,"panel",{get:function(){return this.panelBase},enumerable:!1,configurable:!0}),d.prototype.renderElement=function(){var h=this,f=this.renderHeader(),l=y.createElement(P.SurveyElementErrors,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator}),O={paddingLeft:this.panel.innerPaddingLeft,display:this.panel.isCollapsed?"none":void 0},V=null;if(!this.panel.isCollapsed||this.hasBeenExpanded){this.hasBeenExpanded=!0;var A=this.renderRows(this.panelBase.cssClasses),w=this.panelBase.cssClasses.panel.content;V=this.renderContent(O,A,w)}var S=function(){h.panelBase&&h.panelBase.focusIn()};return y.createElement("div",{ref:this.rootRef,className:this.panelBase.getContainerCss(),onFocus:S,id:this.panelBase.id},this.panel.showErrorsAbovePanel?l:null,f,this.panel.showErrorsAbovePanel?null:l,V)},d.prototype.renderHeader=function(){return!this.panel.hasTitle&&!this.panel.hasDescription?null:y.createElement(c.SurveyElementHeader,{element:this.panel})},d.prototype.wrapElement=function(h){var f=this.panel.survey,l=null;return f&&(l=E.ReactSurveyElementsWrapper.wrapElement(f,h,this.panel)),l??h},d.prototype.renderContent=function(h,f,l){var O=this.renderBottom();return y.createElement("div",{style:h,className:l,id:this.panel.contentId},f,O)},d.prototype.renderTitle=function(){return this.panelBase.title?y.createElement(u.TitleElement,{element:this.panelBase}):null},d.prototype.renderDescription=function(){if(!this.panelBase.description)return null;var h=T.SurveyElementBase.renderLocString(this.panelBase.locDescription);return y.createElement("div",{className:this.panel.cssClasses.panel.description},h)},d.prototype.renderBottom=function(){var h=this.panel.getFooterToolbar();return h.hasActions?y.createElement(v.SurveyActionBar,{model:h}):null},d}(C.SurveyPanelBase);x.ReactElementFactory.Instance.registerElement("panel",function(a){return y.createElement(o,a)})},"./src/react/rating-dropdown.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionRatingDropdown",function(){return E});var y=g("react"),P=g("survey-core"),T=g("./src/react/dropdown-base.tsx"),x=g("./src/react/reactquestion_factory.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return u.prototype.renderElement=function(){var c=this.question.cssClasses,p=this.renderSelect(c);return y.createElement("div",{className:this.question.cssClasses.rootDropdown},p)},u}(T.SurveyQuestionDropdownBase);x.ReactQuestionFactory.Instance.registerQuestion("sv-rating-dropdown",function(v){return y.createElement(E,v)}),P.RendererFactory.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown")},"./src/react/react-popup-survey.tsx":function(s,m,g){g.r(m),g.d(m,"PopupSurvey",function(){return E}),g.d(m,"SurveyWindow",function(){return v});var y=g("react"),P=g("./src/react/reactSurvey.tsx"),T=g("./src/react/reactquestion_element.tsx"),x=g("survey-core"),C=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),E=function(u){C(c,u);function c(p){var o=u.call(this,p)||this;return o.handleOnExpanded=o.handleOnExpanded.bind(o),o}return c.prototype.getStateElements=function(){return[this.popup,this.popup.survey]},c.prototype.handleOnExpanded=function(p){this.popup.changeExpandCollapse()},c.prototype.canRender=function(){return u.prototype.canRender.call(this)&&this.popup.isShowing},c.prototype.renderElement=function(){var p=this.renderWindowHeader(),o=this.popup.isExpanded?this.renderBody():null,a={position:"fixed",bottom:3,right:10};return this.popup.renderedWidth&&(a.width=this.popup.renderedWidth,a.maxWidth=this.popup.renderedWidth),y.createElement("div",{className:this.popup.cssRoot,style:a},p,o)},c.prototype.renderWindowHeader=function(){var p={width:"100%",cursor:"pointer"},o={paddingRight:"10px"},a=this.popup.cssButton;a="glyphicon pull-right "+a;var d=T.SurveyElementBase.renderLocString(this.survey.locTitle);return y.createElement("div",{className:this.popup.cssHeaderRoot},y.createElement("span",{onClick:this.handleOnExpanded,style:p},y.createElement("span",{className:this.popup.cssHeaderTitle,style:o},d),y.createElement("span",{className:a,"aria-hidden":"true"})),this.popup.isExpanded?y.createElement("span",{onClick:this.handleOnExpanded,style:{float:"right",cursor:"pointer"}},y.createElement("span",{className:this.popup.cssHeaderTitle,style:o},"X")):null)},c.prototype.renderBody=function(){return y.createElement("div",{className:this.popup.cssBody},this.doRender())},c.prototype.createSurvey=function(p){p||(p={}),u.prototype.createSurvey.call(this,p),this.popup=new x.PopupSurveyModel(null,this.survey),p.closeOnCompleteTimeout&&(this.popup.closeOnCompleteTimeout=p.closeOnCompleteTimeout),this.popup.isShowing=!0,!this.popup.isExpanded&&(p.expanded||p.isExpanded)&&this.popup.expand()},c}(P.Survey),v=function(u){C(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c}(E)},"./src/react/reactSurvey.tsx":function(s,m,g){g.r(m),g.d(m,"Survey",function(){return d}),g.d(m,"attachKey2click",function(){return h});var y=g("react"),P=g("survey-core"),T=g("./src/react/page.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/string-viewer.tsx"),E=g("./src/react/components/survey-header/survey-header.tsx"),v=g("./src/react/reactquestion_factory.tsx"),u=g("./src/react/element-factory.tsx"),c=g("./src/react/components/brand-info.tsx"),p=g("./src/react/components/notifier.tsx"),o=g("./src/react/components/components-container.tsx"),a=function(){var f=function(l,O){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,A){V.__proto__=A}||function(V,A){for(var w in A)Object.prototype.hasOwnProperty.call(A,w)&&(V[w]=A[w])},f(l,O)};return function(l,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");f(l,O);function V(){this.constructor=l}l.prototype=O===null?Object.create(O):(V.prototype=O.prototype,new V)}}(),d=function(f){a(l,f);function l(O){var V=f.call(this,O)||this;return V.previousJSON={},V.isSurveyUpdated=!1,V.createSurvey(O),V.updateSurvey(O,{}),V.rootRef=y.createRef(),V.rootNodeId=O.id||null,V.rootNodeClassName=O.className||"",V}return Object.defineProperty(l,"cssType",{get:function(){return P.surveyCss.currentType},set:function(O){P.StylesManager.applyTheme(O)},enumerable:!1,configurable:!0}),l.prototype.getStateElement=function(){return this.survey},l.prototype.onSurveyUpdated=function(){if(this.survey){var O=this.rootRef.current;O&&this.survey.afterRenderSurvey(O),this.survey.startTimerFromUI()}},l.prototype.shouldComponentUpdate=function(O,V){return f.prototype.shouldComponentUpdate.call(this,O,V)?(this.isModelJSONChanged(O)&&(this.destroySurvey(),this.createSurvey(O),this.updateSurvey(O,{}),this.isSurveyUpdated=!0),!0):!1},l.prototype.componentDidUpdate=function(O,V){f.prototype.componentDidUpdate.call(this,O,V),this.updateSurvey(this.props,O),this.isSurveyUpdated&&(this.onSurveyUpdated(),this.isSurveyUpdated=!1)},l.prototype.componentDidMount=function(){f.prototype.componentDidMount.call(this),this.onSurveyUpdated()},l.prototype.destroySurvey=function(){this.survey&&(this.survey.stopTimer(),this.survey.destroyResizeObserver())},l.prototype.componentWillUnmount=function(){f.prototype.componentWillUnmount.call(this),this.destroySurvey()},l.prototype.doRender=function(){this.survey.needRenderIcons&&P.SvgRegistry.renderIcons();var O;this.survey.state=="completed"?O=this.renderCompleted():this.survey.state=="completedbefore"?O=this.renderCompletedBefore():this.survey.state=="loading"?O=this.renderLoading():O=this.renderSurvey();var V=y.createElement(E.SurveyHeader,{survey:this.survey}),A=function(D){D.preventDefault()},w=y.createElement("div",{className:"sv_custom_header"});this.survey.hasLogo&&(w=null);var S=this.survey.getRootCss(),R=this.rootNodeClassName?this.rootNodeClassName+" "+S:S,I={backgroundImage:this.survey.renderBackgroundImage,backgroundSize:this.survey.backgroundImageFit},b={backgroundColor:this.survey.renderBackgroundOpacity};return y.createElement("div",{id:this.rootNodeId,ref:this.rootRef,className:R,style:I},y.createElement("form",{onSubmit:A,style:b},w,y.createElement("div",{className:this.css.container},V,y.createElement(o.ComponentsContainer,{survey:this.survey,container:"header",needRenderWrapper:!1}),O,y.createElement(o.ComponentsContainer,{survey:this.survey,container:"footer",needRenderWrapper:!1}))),this.survey.showBrandInfo?y.createElement(c.BrandInfo,null):null,y.createElement(p.NotifierComponent,{notifier:this.survey.notifier}))},l.prototype.renderElement=function(){return this.doRender()},Object.defineProperty(l.prototype,"css",{get:function(){return this.survey.css},set:function(O){this.survey.css=O},enumerable:!1,configurable:!0}),l.prototype.renderCompleted=function(){if(!this.survey.showCompletedPage)return null;var O={__html:this.survey.processedCompletedHtml};return y.createElement(y.Fragment,null,y.createElement("div",{dangerouslySetInnerHTML:O,className:this.survey.completedCss}))},l.prototype.renderCompletedBefore=function(){var O={__html:this.survey.processedCompletedBeforeHtml};return y.createElement("div",{dangerouslySetInnerHTML:O,className:this.css.body})},l.prototype.renderLoading=function(){var O={__html:this.survey.processedLoadingHtml};return y.createElement("div",{dangerouslySetInnerHTML:O,className:this.css.body})},l.prototype.renderSurvey=function(){var O=this.survey.activePage?this.renderPage(this.survey.activePage):null;this.survey.isShowStartingPage;var V=this.survey.activePage?this.survey.activePage.id:"",A=this.survey.bodyCss;O||(A=this.css.bodyEmpty,O=this.renderEmptySurvey());var w={};return this.survey.renderedWidth&&(w.maxWidth=this.survey.renderedWidth),y.createElement("div",{className:this.survey.bodyContainerCss},y.createElement(o.ComponentsContainer,{survey:this.survey,container:"left"}),y.createElement("div",{id:V,className:A,style:w},y.createElement(o.ComponentsContainer,{survey:this.survey,container:"contentTop"}),O,y.createElement(o.ComponentsContainer,{survey:this.survey,container:"contentBottom"})),y.createElement(o.ComponentsContainer,{survey:this.survey,container:"right"}))},l.prototype.renderPage=function(O){return y.createElement(T.SurveyPage,{survey:this.survey,page:O,css:this.css,creator:this})},l.prototype.renderEmptySurvey=function(){return y.createElement("span",null,this.survey.emptySurveyText)},l.prototype.createSurvey=function(O){O||(O={}),this.previousJSON={},O?O.model?this.survey=O.model:O.json&&(this.previousJSON=O.json,this.survey=new P.SurveyModel(O.json)):this.survey=new P.SurveyModel,O.css&&(this.survey.css=this.css),this.setSurveyEvents()},l.prototype.isModelJSONChanged=function(O){return O.model?this.survey!==O.model:O.json?!P.Helpers.isTwoValueEquals(O.json,this.previousJSON):!1},l.prototype.updateSurvey=function(O,V){if(O){V=V||{};for(var A in O)if(!(A=="model"||A=="children"||A=="json")){if(A=="css"){this.survey.mergeValues(O.css,this.survey.getCss()),this.survey.updateNavigationCss(),this.survey.updateElementCss();continue}O[A]!==V[A]&&(A.indexOf("on")==0&&this.survey[A]&&this.survey[A].add?(V[A]&&this.survey[A].remove(V[A]),this.survey[A].add(O[A])):this.survey[A]=O[A])}}},l.prototype.setSurveyEvents=function(){var O=this;this.survey.renderCallback=function(){var V=O.state&&O.state.modelChanged?O.state.modelChanged:0;O.setState({modelChanged:V+1})},this.survey.onPartialSend.add(function(V){O.state&&O.setState(O.state)})},l.prototype.createQuestionElement=function(O){return v.ReactQuestionFactory.Instance.createQuestion(O.isDefaultRendering()?O.getTemplate():O.getComponentName(),{question:O,isDisplayMode:O.isInputReadOnly,creator:this})},l.prototype.renderError=function(O,V,A){return y.createElement("div",{key:O},y.createElement("span",{className:A.error.icon||void 0,"aria-hidden":"true"}),y.createElement("span",{className:A.error.item||void 0},y.createElement(C.SurveyLocStringViewer,{locStr:V.locText})))},l.prototype.questionTitleLocation=function(){return this.survey.questionTitleLocation},l.prototype.questionErrorLocation=function(){return this.survey.questionErrorLocation},l}(x.SurveyElementBase);u.ReactElementFactory.Instance.registerElement("survey",function(f){return y.createElement(d,f)});function h(f,l,O){return O===void 0&&(O={processEsc:!0,disableTabStop:!1}),l&&l.disableTabStop||O&&O.disableTabStop?y.cloneElement(f,{tabIndex:-1}):y.cloneElement(f,{tabIndex:0,onKeyUp:function(V){return V.preventDefault(),V.stopPropagation(),Object(P.doKey2ClickUp)(V,O),!1},onKeyDown:function(V){return Object(P.doKey2ClickDown)(V,O)},onBlur:function(V){return Object(P.doKey2ClickBlur)(V)}})}},"./src/react/reactSurveyNavigationBase.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyNavigationBase",function(){return T});var y=g("react"),P=function(){var x=function(C,E){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(v[c]=u[c])},x(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");x(C,E);function v(){this.constructor=C}C.prototype=E===null?Object.create(E):(v.prototype=E.prototype,new v)}}(),T=function(x){P(C,x);function C(E){var v=x.call(this,E)||this;return v.updateStateFunction=null,v.state={update:0},v}return Object.defineProperty(C.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"css",{get:function(){return this.props.css||this.survey.css},enumerable:!1,configurable:!0}),C.prototype.componentDidMount=function(){if(this.survey){var E=this;this.updateStateFunction=function(){E.setState({update:E.state.update+1})},this.survey.onPageVisibleChanged.add(this.updateStateFunction)}},C.prototype.componentWillUnmount=function(){this.survey&&this.updateStateFunction&&(this.survey.onPageVisibleChanged.remove(this.updateStateFunction),this.updateStateFunction=null)},C}(y.Component)},"./src/react/reactSurveyProgress.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyProgress",function(){return E});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactSurveyNavigationBase.tsx"),x=g("./src/react/element-factory.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return Object.defineProperty(u.prototype,"isTop",{get:function(){return this.props.isTop},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"progress",{get:function(){return this.survey.progressValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"progressText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),u.prototype.render=function(){var c={width:this.progress+"%"};return y.createElement("div",{className:this.survey.getProgressCssClasses()},y.createElement("div",{style:c,className:this.css.progressBar,role:"progressbar","aria-valuemin":0,"aria-valuemax":100},y.createElement("span",{className:P.SurveyProgressModel.getProgressTextInBarCss(this.css)},this.progressText)),y.createElement("span",{className:P.SurveyProgressModel.getProgressTextUnderBarCss(this.css)},this.progressText))},u}(T.SurveyNavigationBase);x.ReactElementFactory.Instance.registerElement("sv-progress-pages",function(v){return y.createElement(E,v)}),x.ReactElementFactory.Instance.registerElement("sv-progress-questions",function(v){return y.createElement(E,v)}),x.ReactElementFactory.Instance.registerElement("sv-progress-correctquestions",function(v){return y.createElement(E,v)}),x.ReactElementFactory.Instance.registerElement("sv-progress-requiredquestions",function(v){return y.createElement(E,v)})},"./src/react/reactSurveyProgressButtons.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyProgressButtons",function(){return E});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactSurveyNavigationBase.tsx"),x=g("./src/react/element-factory.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.updateScroller=void 0,p.progressButtonsModel=new P.SurveyProgressButtonsModel(p.survey),p.listContainerRef=y.createRef(),p}return u.prototype.render=function(){var c=this;return y.createElement("div",{className:this.css.progressButtonsContainerCenter},y.createElement("div",{className:this.css.progressButtonsContainer},y.createElement("div",{className:this.getScrollButtonCss(!0),role:"button",onClick:function(){return c.clickScrollButton(c.listContainerRef.current,!0)}}),y.createElement("div",{className:this.css.progressButtonsListContainer,ref:this.listContainerRef},y.createElement("ul",{className:this.css.progressButtonsList},this.getListElements())),y.createElement("div",{className:this.getScrollButtonCss(!1),role:"button",onClick:function(){return c.clickScrollButton(c.listContainerRef.current,!1)}})))},u.prototype.getListElements=function(){var c=this,p=[];return this.survey.visiblePages.forEach(function(o,a){p.push(c.renderListElement(o,a))}),p},u.prototype.renderListElement=function(c,p){var o=this;return y.createElement("li",{key:"listelement"+p,className:this.getListElementCss(p),onClick:this.isListElementClickable(p)?function(){return o.clickListElement(p)}:void 0},y.createElement("div",{className:this.css.progressButtonsPageTitle,title:c.navigationTitle||c.name},c.navigationTitle||c.name),y.createElement("div",{className:this.css.progressButtonsPageDescription,title:c.navigationDescription},c.navigationDescription))},u.prototype.isListElementClickable=function(c){return this.progressButtonsModel.isListElementClickable(c)},u.prototype.getListElementCss=function(c){return this.progressButtonsModel.getListElementCss(c)},u.prototype.clickListElement=function(c){this.progressButtonsModel.clickListElement(c)},u.prototype.getScrollButtonCss=function(c){return this.progressButtonsModel.getScrollButtonCss(this.state.hasScroller,c)},u.prototype.clickScrollButton=function(c,p){c&&(c.scrollLeft+=(p?-1:1)*70)},u.prototype.componentDidMount=function(){var c=this;this.updateScroller=setInterval(function(){c.listContainerRef.current&&c.setState({hasScroller:c.listContainerRef.current.scrollWidth>c.listContainerRef.current.offsetWidth})},100)},u.prototype.componentWillUnmount=function(){typeof this.updateScroller<"u"&&(clearInterval(this.updateScroller),this.updateScroller=void 0)},u}(T.SurveyNavigationBase);x.ReactElementFactory.Instance.registerElement("sv-progress-buttons",function(v){return y.createElement(E,v)})},"./src/react/reactSurveyProgressToc.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyProgressToc",function(){return v});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactSurveyNavigationBase.tsx"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/components/list/list.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.prototype.render=function(){var p=Object(P.createTOCListModel)(this.props.model),o=Object(P.getTocRootCss)(this.props.model);return y.createElement("div",{className:o},y.createElement(C.List,{model:p}))},c}(T.SurveyNavigationBase);x.ReactElementFactory.Instance.registerElement("sv-progress-toc",function(u){return y.createElement(v,u)})},"./src/react/reactquestion.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestion",function(){return p}),g.d(m,"SurveyElementErrors",function(){return o}),g.d(m,"SurveyQuestionAndErrorsWrapped",function(){return a}),g.d(m,"SurveyQuestionAndErrorsCell",function(){return d});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactsurveymodel.tsx"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/reactquestion_element.tsx"),E=g("./src/react/reactquestion_comment.tsx"),v=g("./src/react/custom-widget.tsx"),u=g("./src/react/element-header.tsx"),c=function(){var h=function(f,l){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(O[A]=V[A])},h(f,l)};return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");h(f,l);function O(){this.constructor=f}f.prototype=l===null?Object.create(l):(O.prototype=l.prototype,new O)}}(),p=function(h){c(f,h);function f(l){var O=h.call(this,l)||this;return O.isNeedFocus=!1,O.rootRef=y.createRef(),O}return f.renderQuestionBody=function(l,O){if(!O.isVisible)return null;var V=O.customWidget;return V?y.createElement(v.SurveyCustomWidget,{creator:l,question:O}):l.createQuestionElement(O)},f.prototype.getStateElement=function(){return this.question},Object.defineProperty(f.prototype,"question",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),f.prototype.componentDidMount=function(){h.prototype.componentDidMount.call(this),this.question&&(this.question.react=this),this.doAfterRender()},f.prototype.componentWillUnmount=function(){h.prototype.componentWillUnmount.call(this),this.question&&(this.question.react=null);var l=this.rootRef.current;l&&l.removeAttribute("data-rendered")},f.prototype.componentDidUpdate=function(l,O){h.prototype.componentDidUpdate.call(this,l,O),this.doAfterRender()},f.prototype.doAfterRender=function(){if(this.isNeedFocus&&(this.question.isCollapsed||this.question.clickTitleFunction(),this.isNeedFocus=!1),this.question){var l=this.rootRef.current;l&&l.getAttribute("data-rendered")!=="r"&&(l.setAttribute("data-rendered","r"),l.setAttribute("data-name",this.question.name),this.question.afterRender&&this.question.afterRender(l))}},f.prototype.canRender=function(){return h.prototype.canRender.call(this)&&!!this.question&&!!this.creator&&this.question.isVisible},f.prototype.renderQuestionContent=function(){var l=this.question,O={display:this.question.isCollapsed?"none":""},V=l.cssClasses,A=this.renderQuestion(),w=this.question.showErrorOnTop?this.renderErrors(V,"top"):null,S=this.question.showErrorOnBottom?this.renderErrors(V,"bottom"):null,R=l&&l.hasComment?this.renderComment(V):null,I=this.question.isErrorsModeTooltip?this.renderErrors(V,"tooltip"):null,b=l.hasDescriptionUnderInput?this.renderDescription():null;return y.createElement("div",{className:l.cssContent||void 0,style:O,role:"presentation"},w,A,R,S,I,b)},f.prototype.renderElement=function(){var l=this.question,O=l.cssClasses,V=this.renderHeader(l),A=l.hasTitleOnLeftTop?V:null,w=l.hasTitleOnBottom?V:null,S=this.question.showErrorsAboveQuestion?this.renderErrors(O,""):null,R=this.question.showErrorsBelowQuestion?this.renderErrors(O,""):null,I=l.getRootStyle(),b=this.wrapQuestionContent(this.renderQuestionContent());return y.createElement(y.Fragment,null,y.createElement("div",{ref:this.rootRef,id:l.id,className:l.getRootCss(),style:I,role:l.ariaRole,"aria-required":this.question.ariaRequired,"aria-invalid":this.question.ariaInvalid,"aria-labelledby":l.ariaLabelledBy},S,A,b,w,R))},f.prototype.wrapElement=function(l){var O=this.question.survey,V=null;return O&&(V=T.ReactSurveyElementsWrapper.wrapElement(O,l,this.question)),V??l},f.prototype.wrapQuestionContent=function(l){var O=this.question.survey,V=null;return O&&(V=T.ReactSurveyElementsWrapper.wrapQuestionContent(O,l,this.question)),V??l},f.prototype.renderQuestion=function(){return f.renderQuestionBody(this.creator,this.question)},f.prototype.renderDescription=function(){return C.SurveyElementBase.renderQuestionDescription(this.question)},f.prototype.renderComment=function(l){var O=C.SurveyElementBase.renderLocString(this.question.locCommentText);return y.createElement("div",{className:this.question.getCommentAreaCss()},y.createElement("div",null,O),y.createElement(E.SurveyQuestionCommentItem,{question:this.question,cssClasses:l,otherCss:l.other,isDisplayMode:this.question.isInputReadOnly}))},f.prototype.renderHeader=function(l){return y.createElement(u.SurveyElementHeader,{element:l})},f.prototype.renderErrors=function(l,O){return y.createElement(o,{element:this.question,cssClasses:l,creator:this.creator,location:O,id:this.question.id+"_errors"})},f}(C.SurveyElementBase);x.ReactElementFactory.Instance.registerElement("question",function(h){return y.createElement(p,h)});var o=function(h){c(f,h);function f(l){var O=h.call(this,l)||this;return O.state=O.getState(),O.tooltipRef=y.createRef(),O}return Object.defineProperty(f.prototype,"id",{get:function(){return this.props.id},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"location",{get:function(){return this.props.location},enumerable:!1,configurable:!0}),f.prototype.getState=function(l){return l===void 0&&(l=null),l?{error:l.error+1}:{error:0}},f.prototype.canRender=function(){return!!this.element&&this.element.hasVisibleErrors},f.prototype.componentDidUpdate=function(l,O){h.prototype.componentDidUpdate.call(this,l,O),this.props.location=="tooltip"&&(this.tooltipRef.current&&!this.tooltipManager&&(this.tooltipManager=new P.TooltipManager(this.tooltipRef.current)),this.tooltipManager&&!this.tooltipRef.current&&this.disposeTooltipManager())},f.prototype.componentWillUnmount=function(){this.tooltipManager&&this.disposeTooltipManager()},f.prototype.disposeTooltipManager=function(){var l;(l=this.tooltipManager)===null||l===void 0||l.dispose(),this.tooltipManager=void 0},f.prototype.renderElement=function(){for(var l=[],O=0;O<this.element.errors.length;O++){var V="error"+O;l.push(this.creator.renderError(V,this.element.errors[O],this.cssClasses))}return y.createElement("div",{role:"alert","aria-live":"polite",className:this.element.cssError,id:this.id,ref:this.tooltipRef},l)},f}(C.ReactSurveyElement),a=function(h){c(f,h);function f(l){return h.call(this,l)||this}return f.prototype.getStateElement=function(){return this.question},Object.defineProperty(f.prototype,"question",{get:function(){return this.getQuestion()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),f.prototype.getQuestion=function(){return this.props.question},Object.defineProperty(f.prototype,"itemCss",{get:function(){return this.props.itemCss},enumerable:!1,configurable:!0}),f.prototype.componentDidMount=function(){h.prototype.componentDidMount.call(this),this.doAfterRender()},f.prototype.componentDidUpdate=function(l,O){h.prototype.componentDidUpdate.call(this,l,O),this.doAfterRender()},f.prototype.doAfterRender=function(){},f.prototype.canRender=function(){return!!this.question},f.prototype.renderErrors=function(l){return this.getShowErrors()?y.createElement(o,{element:this.question,cssClasses:this.cssClasses,creator:this.creator,location:l}):null},f.prototype.renderContent=function(){var l=this.creator.questionErrorLocation(),O=this.renderErrors(l),V=this.question.showErrorOnTop?O:null,A=this.question.showErrorOnBottom?O:null,w=this.renderQuestion();return y.createElement(y.Fragment,null,V,w,A)},f.prototype.getShowErrors=function(){return this.question.isVisible},f.prototype.renderQuestion=function(){return p.renderQuestionBody(this.creator,this.question)},f}(C.ReactSurveyElement),d=function(h){c(f,h);function f(l){var O=h.call(this,l)||this;return O.cellRef=y.createRef(),O}return f.prototype.componentWillUnmount=function(){if(h.prototype.componentWillUnmount.call(this),this.question){var l=this.cellRef.current;l&&l.removeAttribute("data-rendered")}},f.prototype.renderElement=function(){var l=this.getCellStyle(),O=this.question.isErrorsModeTooltip?this.renderErrors("tooltip"):null;return y.createElement("td",{ref:this.cellRef,className:this.itemCss,colSpan:this.props.cell.colSpans,"data-responsive-title":this.getHeaderText(),title:this.props.cell.getTitle(),style:l},this.wrapCell(this.props.cell,y.createElement("div",{className:this.cssClasses.cellQuestionWrapper},this.renderContent(),O)))},f.prototype.getCellStyle=function(){return null},f.prototype.getHeaderText=function(){return""},f.prototype.wrapCell=function(l,O){if(!l)return O;var V=this.question.survey,A=null;return V&&(A=T.ReactSurveyElementsWrapper.wrapMatrixCell(V,O,l,this.props.reason)),A??O},f}(a)},"./src/react/reactquestion_buttongroup.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionButtonGroup",function(){return v}),g.d(m,"SurveyButtonGroupItem",function(){return u});var y=g("./src/react/reactquestion_element.tsx"),P=g("react"),T=g.n(P),x=g("./src/react/components/svg-icon/svg-icon.tsx"),C=g("survey-core"),E=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),v=function(c){E(p,c);function p(o){return c.call(this,o)||this}return Object.defineProperty(p.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),p.prototype.getStateElement=function(){return this.question},p.prototype.renderElement=function(){var o=this.renderItems();return T.a.createElement("div",{className:this.question.cssClasses.root},o)},p.prototype.renderItems=function(){var o=this;return this.question.visibleChoices.map(function(a,d){return T.a.createElement(u,{key:o.question.inputId+"_"+d,item:a,question:o.question,index:d})})},p}(y.SurveyQuestionElementBase),u=function(c){E(p,c);function p(o){return c.call(this,o)||this}return Object.defineProperty(p.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),p.prototype.getStateElement=function(){return this.item},p.prototype.renderElement=function(){this.model=new C.ButtonGroupItemModel(this.question,this.item,this.index);var o=this.renderIcon(),a=this.renderInput(),d=this.renderCaption();return T.a.createElement("label",{role:"radio",className:this.model.css.label,title:this.model.caption.renderedHtml},a,T.a.createElement("div",{className:this.model.css.decorator},o,d))},p.prototype.renderIcon=function(){return this.model.iconName?T.a.createElement(x.SvgIcon,{className:this.model.css.icon,iconName:this.model.iconName,size:this.model.iconSize||24}):null},p.prototype.renderInput=function(){var o=this;return T.a.createElement("input",{className:this.model.css.control,id:this.model.id,type:"radio",name:this.model.name,checked:this.model.selected,value:this.model.value,disabled:this.model.readOnly,onChange:function(){o.model.onChange()},"aria-required":this.model.isRequired,"aria-label":this.model.caption.renderedHtml,"aria-invalid":this.model.hasErrors,"aria-describedby":this.model.describedBy,role:"radio"})},p.prototype.renderCaption=function(){if(!this.model.showCaption)return null;var o=this.renderLocString(this.model.caption);return T.a.createElement("span",{className:this.model.css.caption,title:this.model.caption.renderedHtml},o)},p}(y.SurveyElementBase)},"./src/react/reactquestion_checkbox.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionCheckbox",function(){return u}),g.d(m,"SurveyQuestionCheckboxItem",function(){return c});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_comment.tsx"),x=g("./src/react/reactquestion_factory.tsx"),C=g("./src/react/reactsurveymodel.tsx"),E=g("./src/react/element-factory.tsx"),v=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),u=function(p){v(o,p);function o(a){return p.call(this,a)||this}return Object.defineProperty(o.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),o.prototype.renderElement=function(){var a=this,d=this.question.cssClasses;return y.createElement("fieldset",{role:"presentation",className:this.question.getSelectBaseRootCss(),ref:function(h){return a.setControl(h)}},y.createElement("legend",{role:"presentation",className:"sv-hidden"}),this.getHeader(),this.question.hasColumns?this.getColumnedBody(d):this.getBody(d),this.getFooter(),this.question.isOtherSelected?this.renderOther():null)},o.prototype.getHeader=function(){var a=this;if(this.question.hasHeadItems)return this.question.headItems.map(function(d,h){return a.renderItem("item_h"+h,d,!1,a.question.cssClasses)})},o.prototype.getFooter=function(){var a=this;if(this.question.hasFootItems)return this.question.footItems.map(function(d,h){return a.renderItem("item_f"+h,d,!1,a.question.cssClasses)})},o.prototype.getColumnedBody=function(a){return y.createElement("div",{className:a.rootMultiColumn},this.getColumns(a))},o.prototype.getColumns=function(a){var d=this;return this.question.columns.map(function(h,f){var l=h.map(function(O,V){return d.renderItem("item"+V,O,f===0&&V===0,a,""+f+V)});return y.createElement("div",{key:"column"+f,className:d.question.getColumnClass(),role:"presentation"},l)})},o.prototype.getBody=function(a){return this.question.blockedRow?y.createElement("div",{className:a.rootRow},this.getItems(a,this.question.dataChoices)):y.createElement(y.Fragment,null,this.getItems(a,this.question.bodyItems))},o.prototype.getItems=function(a,d){for(var h=[],f=0;f<d.length;f++){var l=d[f],O="item"+f,V=this.renderItem(O,l,f==0,a,""+f);V&&h.push(V)}return h},Object.defineProperty(o.prototype,"textStyle",{get:function(){return null},enumerable:!1,configurable:!0}),o.prototype.renderOther=function(){var a=this.question.cssClasses;return y.createElement("div",{className:this.question.getCommentAreaCss(!0)},y.createElement(T.SurveyQuestionOtherValueItem,{question:this.question,otherCss:a.other,cssClasses:a,isDisplayMode:this.isDisplayMode}))},o.prototype.renderItem=function(a,d,h,f,l){var O=E.ReactElementFactory.Instance.createElement(this.question.itemComponent,{key:a,question:this.question,cssClasses:f,isDisplayMode:this.isDisplayMode,item:d,textStyle:this.textStyle,index:l,isFirst:h}),V=this.question.survey,A=null;return V&&O&&(A=C.ReactSurveyElementsWrapper.wrapItemValue(V,O,this.question,d)),A??O},o}(P.SurveyQuestionElementBase),c=function(p){v(o,p);function o(a){var d=p.call(this,a)||this;return d.handleOnChange=function(h){d.question.clickItemHandler(d.item,h.target.checked)},d.selectAllChanged=function(h){d.question.toggleSelectAll()},d}return o.prototype.getStateElement=function(){return this.item},Object.defineProperty(o.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textStyle",{get:function(){return this.props.textStyle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isFirst",{get:function(){return this.props.isFirst},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hideCaption",{get:function(){return this.props.hideCaption===!0},enumerable:!1,configurable:!0}),o.prototype.shouldComponentUpdate=function(a,d){return!p.prototype.shouldComponentUpdate.call(this,a,d)||!this.question?!1:!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render},o.prototype.canRender=function(){return!!this.item&&!!this.question},o.prototype.renderElement=function(){var a=this.question.isItemSelected(this.item);return this.renderCheckbox(a,null)},Object.defineProperty(o.prototype,"inputStyle",{get:function(){return null},enumerable:!1,configurable:!0}),o.prototype.renderCheckbox=function(a,d){var h=this.question.getItemId(this.item);this.hideCaption||this.renderLocString(this.item.locText);var f=this.question.getItemClass(this.item),l=this.question.getLabelClass(this.item),O=this.item==this.question.selectAllItem?this.selectAllChanged:this.handleOnChange,V=this.hideCaption?null:y.createElement("span",{className:this.cssClasses.controlLabel},this.renderLocString(this.item.locText,this.textStyle));return y.createElement("div",{className:f,role:"presentation"},y.createElement("label",{className:l,"aria-label":this.question.getAriaItemLabel(this.item)},y.createElement("input",{className:this.cssClasses.itemControl,role:"option",type:"checkbox",name:this.question.name,value:this.item.value!="selectall"?this.item.value:void 0,id:h,style:this.inputStyle,disabled:!this.question.getItemEnabled(this.item),checked:a,onChange:O,"aria-describedby":this.question.ariaDescribedBy}),this.cssClasses.materialDecorator?y.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?y.createElement("svg",{className:this.cssClasses.itemDecorator},y.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,V),d)},o}(P.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("survey-checkbox-item",function(p){return y.createElement(c,p)}),x.ReactQuestionFactory.Instance.registerQuestion("checkbox",function(p){return y.createElement(u,p)})},"./src/react/reactquestion_comment.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionComment",function(){return E}),g.d(m,"SurveyQuestionCommentItem",function(){return v}),g.d(m,"SurveyQuestionOtherValueItem",function(){return u});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/components/character-counter.tsx"),C=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),E=function(c){C(p,c);function p(o){return c.call(this,o)||this}return p.prototype.renderElement=function(){var o=this,a=this.question.isInputTextUpdate?void 0:this.updateValueOnEvent,d=function(l){o.question.isInputTextUpdate?o.updateValueOnEvent(l):o.question.updateElement();var O=l.target.value;o.question.updateRemainingCharacterCounter(O)},h=this.question.renderedPlaceholder;if(this.question.isReadOnlyRenderDiv())return y.createElement("div",null,this.question.value);var f=this.question.getMaxLength()?y.createElement(x.CharacterCounterComponent,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter}):null;return y.createElement(y.Fragment,null,y.createElement("textarea",{id:this.question.inputId,className:this.question.className,disabled:this.question.isInputReadOnly,readOnly:this.question.isInputReadOnly,ref:function(l){return o.setControl(l)},maxLength:this.question.getMaxLength(),placeholder:h,onBlur:a,onInput:d,onKeyDown:function(l){o.question.onKeyDown(l)},cols:this.question.cols,rows:this.question.rows,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,style:{resize:this.question.resizeStyle}}),f)},p}(P.SurveyQuestionUncontrolledElement),v=function(c){C(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return p.prototype.canRender=function(){return!!this.props.question},p.prototype.onCommentChange=function(o){this.props.question.onCommentChange(o)},p.prototype.onCommentInput=function(o){this.props.question.onCommentInput(o)},p.prototype.getComment=function(){return this.props.question.comment},p.prototype.getId=function(){return this.props.question.commentId},p.prototype.getPlaceholder=function(){return this.props.question.commentPlaceholder},p.prototype.renderElement=function(){var o=this,a=this.props.question,d=this.props.otherCss||this.cssClasses.comment,h=function(V){o.setState({comment:V.target.value}),o.onCommentChange(V)},f=this.getComment(),l=this.state?this.state.comment:void 0;l!==void 0&&l.trim()!==f&&(l=f);var O=l!==void 0?l:f||"";return a.isReadOnlyRenderDiv()?y.createElement("div",null,O):y.createElement("textarea",{id:this.getId(),className:d,value:O,disabled:this.isDisplayMode,maxLength:a.getOthersMaxLength(),placeholder:this.getPlaceholder(),onChange:h,onBlur:function(V){o.onCommentChange(V),h(V)},onInput:function(V){return o.onCommentInput(V)},"aria-required":a.isRequired,"aria-label":a.locTitle.renderedHtml,style:{resize:a.resizeStyle}})},p}(P.ReactSurveyElement),u=function(c){C(p,c);function p(){return c!==null&&c.apply(this,arguments)||this}return p.prototype.onCommentChange=function(o){this.props.question.onOtherValueChange(o)},p.prototype.onCommentInput=function(o){this.props.question.onOtherValueInput(o)},p.prototype.getComment=function(){return this.props.question.otherValue},p.prototype.getId=function(){return this.props.question.otherId},p.prototype.getPlaceholder=function(){return this.props.question.otherPlaceholder},p}(v);T.ReactQuestionFactory.Instance.registerQuestion("comment",function(c){return y.createElement(E,c)})},"./src/react/reactquestion_custom.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionCustom",function(){return v}),g.d(m,"SurveyQuestionComposite",function(){return u});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion.tsx"),x=g("./src/react/reactquestion_factory.tsx"),C=g("./src/react/panel.tsx"),E=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),v=function(c){E(p,c);function p(o){return c.call(this,o)||this}return p.prototype.getStateElements=function(){var o=c.prototype.getStateElements.call(this);return this.question.contentQuestion&&o.push(this.question.contentQuestion),o},p.prototype.renderElement=function(){return T.SurveyQuestion.renderQuestionBody(this.creator,this.question.contentQuestion)},p}(P.SurveyQuestionUncontrolledElement),u=function(c){E(p,c);function p(o){return c.call(this,o)||this}return p.prototype.canRender=function(){return!!this.question.contentPanel},p.prototype.renderElement=function(){return y.createElement(C.SurveyPanel,{element:this.question.contentPanel,creator:this.creator,survey:this.question.survey})},p}(P.SurveyQuestionUncontrolledElement);x.ReactQuestionFactory.Instance.registerQuestion("custom",function(c){return y.createElement(v,c)}),x.ReactQuestionFactory.Instance.registerQuestion("composite",function(c){return y.createElement(u,c)})},"./src/react/reactquestion_dropdown.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionDropdown",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_factory.tsx"),T=g("./src/react/dropdown-base.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return v.prototype.renderElement=function(){var u=this.question.cssClasses,c=this.question.isOtherSelected?this.renderOther(u):null,p=this.renderSelect(u);return y.createElement("div",{className:this.question.renderCssRoot},p,c)},v}(T.SurveyQuestionDropdownBase);P.ReactQuestionFactory.Instance.registerQuestion("dropdown",function(E){return y.createElement(C,E)})},"./src/react/reactquestion_element.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyElementBase",function(){return E}),g.d(m,"ReactSurveyElement",function(){return v}),g.d(m,"SurveyQuestionElementBase",function(){return u}),g.d(m,"SurveyQuestionUncontrolledElement",function(){return c});var y=g("react"),P=g("survey-core"),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactsurveymodel.tsx"),C=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),E=function(p){C(o,p);function o(a){var d=p.call(this,a)||this;return d._allowComponentUpdate=!0,d}return o.renderLocString=function(a,d,h){return d===void 0&&(d=null),T.ReactElementFactory.Instance.createElement(a.renderAs,{locStr:a.renderAsData,style:d,key:h})},o.renderQuestionDescription=function(a){var d=o.renderLocString(a.locDescription);return y.createElement("div",{style:a.isDescriptionVisible?void 0:{display:"none"},className:a.cssDescription},d)},o.prototype.componentDidMount=function(){this.makeBaseElementsReact()},o.prototype.componentWillUnmount=function(){this.unMakeBaseElementsReact()},o.prototype.componentDidUpdate=function(a,d){this.makeBaseElementsReact()},o.prototype.allowComponentUpdate=function(){this._allowComponentUpdate=!0,this.forceUpdate()},o.prototype.denyComponentUpdate=function(){this._allowComponentUpdate=!1},o.prototype.shouldComponentUpdate=function(a,d){return this._allowComponentUpdate&&this.unMakeBaseElementsReact(),this._allowComponentUpdate},o.prototype.render=function(){if(!this.canRender())return null;this.startEndRendering(1);var a=this.renderElement();return this.startEndRendering(-1),a&&(a=this.wrapElement(a)),this.changedStatePropNameValue=void 0,a},o.prototype.wrapElement=function(a){return a},Object.defineProperty(o.prototype,"isRendering",{get:function(){for(var a=this.getRenderedElements(),d=0,h=a;d<h.length;d++){var f=h[d];if(f.reactRendering>0)return!0}return!1},enumerable:!1,configurable:!0}),o.prototype.getRenderedElements=function(){return this.getStateElements()},o.prototype.startEndRendering=function(a){for(var d=this.getRenderedElements(),h=0,f=d;h<f.length;h++){var l=f[h];l.reactRendering||(l.reactRendering=0),l.reactRendering+=a}},o.prototype.canRender=function(){return!0},o.prototype.renderElement=function(){return null},Object.defineProperty(o.prototype,"changedStatePropName",{get:function(){return this.changedStatePropNameValue},enumerable:!1,configurable:!0}),o.prototype.makeBaseElementsReact=function(){for(var a=this.getStateElements(),d=0;d<a.length;d++)this.makeBaseElementReact(a[d])},o.prototype.unMakeBaseElementsReact=function(){for(var a=this.getStateElements(),d=0;d<a.length;d++)this.unMakeBaseElementReact(a[d])},o.prototype.getStateElements=function(){var a=this.getStateElement();return a?[a]:[]},o.prototype.getStateElement=function(){return null},Object.defineProperty(o.prototype,"isDisplayMode",{get:function(){var a=this.props;return a.isDisplayMode||!1},enumerable:!1,configurable:!0}),o.prototype.renderLocString=function(a,d,h){return d===void 0&&(d=null),o.renderLocString(a,d,h)},o.prototype.canMakeReact=function(a){return!!a&&!!a.iteratePropertiesHash},o.prototype.makeBaseElementReact=function(a){var d=this;this.canMakeReact(a)&&(a.iteratePropertiesHash(function(h,f){if(d.canUsePropInState(f)){var l=h[f];if(Array.isArray(l)){var l=l;l.onArrayChanged=function(V){d.isRendering||(d.changedStatePropNameValue=f,d.setState(function(A){var w={};return w[f]=l,w}))}}}}),a.setPropertyValueCoreHandler=function(h,f,l){if(h[f]!==l){if(h[f]=l,!d.canUsePropInState(f)||d.isRendering)return;d.changedStatePropNameValue=f,d.setState(function(O){var V={};return V[f]=l,V})}})},o.prototype.canUsePropInState=function(a){return!0},o.prototype.unMakeBaseElementReact=function(a){this.canMakeReact(a)&&(a.setPropertyValueCoreHandler=void 0,a.iteratePropertiesHash(function(d,h){var f=d[h];if(Array.isArray(f)){var f=f;f.onArrayChanged=function(){}}}))},o}(y.Component),v=function(p){C(o,p);function o(a){return p.call(this,a)||this}return Object.defineProperty(o.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),o}(E),u=function(p){C(o,p);function o(a){return p.call(this,a)||this}return o.prototype.componentDidUpdate=function(a,d){p.prototype.componentDidUpdate.call(this,a,d),this.updateDomElement()},o.prototype.componentDidMount=function(){p.prototype.componentDidMount.call(this),this.updateDomElement()},o.prototype.componentWillUnmount=function(){if(p.prototype.componentWillUnmount.call(this),this.questionBase){var a=this.control;this.questionBase.beforeDestroyQuestionElement(a),a&&a.removeAttribute("data-rendered")}},o.prototype.updateDomElement=function(){var a=this.control;a&&a.getAttribute("data-rendered")!=="r"&&(a.setAttribute("data-rendered","r"),this.questionBase.afterRenderQuestionElement(a))},Object.defineProperty(o.prototype,"questionBase",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),o.prototype.getRenderedElements=function(){return[this.questionBase]},Object.defineProperty(o.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),o.prototype.canRender=function(){return!!this.questionBase&&!!this.creator},o.prototype.shouldComponentUpdate=function(a,d){return p.prototype.shouldComponentUpdate.call(this,a,d)?!this.questionBase.customWidget||!!this.questionBase.customWidgetData.isNeedRender||!!this.questionBase.customWidget.widgetJson.isDefaultRender||!!this.questionBase.customWidget.widgetJson.render:!1},Object.defineProperty(o.prototype,"isDisplayMode",{get:function(){var a=this.props;return a.isDisplayMode||!!this.questionBase&&this.questionBase.isInputReadOnly||!1},enumerable:!1,configurable:!0}),o.prototype.wrapCell=function(a,d,h){if(!h)return d;var f=this.questionBase.survey,l=null;return f&&(l=x.ReactSurveyElementsWrapper.wrapMatrixCell(f,d,a,h)),l??d},o.prototype.setControl=function(a){a&&(this.control=a)},o}(E),c=function(p){C(o,p);function o(a){var d=p.call(this,a)||this;return d.updateValueOnEvent=function(h){P.Helpers.isTwoValueEquals(d.questionBase.value,h.target.value)||d.setValueCore(h.target.value)},d.updateValueOnEvent=d.updateValueOnEvent.bind(d),d}return Object.defineProperty(o.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),o.prototype.setValueCore=function(a){this.questionBase.value=a},o.prototype.getValueCore=function(){return this.questionBase.value},o.prototype.updateDomElement=function(){if(this.control){var a=this.control,d=this.getValueCore();P.Helpers.isTwoValueEquals(d,a.value)||(a.value=this.getValue(d))}p.prototype.updateDomElement.call(this)},o.prototype.getValue=function(a){return P.Helpers.isValueEmpty(a)?"":a},o}(u)},"./src/react/reactquestion_empty.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionEmpty",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){var c=E.call(this,u)||this;return c.state={value:c.question.value},c}return Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.renderElement=function(){return y.createElement("div",null)},v}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("empty",function(E){return y.createElement(C,E)})},"./src/react/reactquestion_expression.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionExpression",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.renderElement=function(){var u=this,c=this.question.cssClasses;return y.createElement("div",{id:this.question.inputId,className:c.root,ref:function(p){return u.setControl(p)}},this.question.formatedValue)},v}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("expression",function(E){return y.createElement(C,E)})},"./src/react/reactquestion_factory.tsx":function(s,m,g){g.r(m),g.d(m,"ReactQuestionFactory",function(){return y});var y=function(){function P(){this.creatorHash={}}return P.prototype.registerQuestion=function(T,x){this.creatorHash[T]=x},P.prototype.getAllTypes=function(){var T=new Array;for(var x in this.creatorHash)T.push(x);return T.sort()},P.prototype.createQuestion=function(T,x){var C=this.creatorHash[T];return C==null?null:C(x)},P.Instance=new P,P}()},"./src/react/reactquestion_file.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionFile",function(){return v});var y=g("react"),P=g("./src/react/components/action-bar/action-bar.tsx"),T=g("./src/react/components/svg-icon/svg-icon.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=g("./src/react/reactquestion_factory.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(p){return u.call(this,p)||this}return Object.defineProperty(c.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),c.prototype.renderElement=function(){var p=this,o=this.renderPreview(),a=null,d=this.renderFileDecorator(),h=this.renderClearButton(this.question.showRemoveButton),f=this.renderClearButton(this.question.showRemoveButtonBottom),l=this.question.mobileFileNavigatorVisible?y.createElement(P.SurveyActionBar,{model:this.question.mobileFileNavigator}):null;return a=this.isDisplayMode?y.createElement("input",{type:"file",disabled:this.isDisplayMode,className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:function(O){return p.setControl(O)},style:this.isDisplayMode?{color:"transparent"}:{},onChange:this.isDisplayMode?function(){}:this.question.doChange,multiple:this.question.allowMultiple,placeholder:this.question.title,accept:this.question.acceptedTypes}):y.createElement("input",{type:"file",disabled:this.isDisplayMode,tabIndex:-1,className:this.isDisplayMode?this.question.getReadOnlyFileCss():this.question.cssClasses.fileInput,id:this.question.inputId,ref:function(O){return p.setControl(O)},style:this.isDisplayMode?{color:"transparent"}:{},onChange:this.isDisplayMode?function(){}:this.question.doChange,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,multiple:this.question.allowMultiple,title:this.question.inputTitle,accept:this.question.acceptedTypes}),y.createElement("div",{className:this.question.fileRootCss},a,y.createElement("div",{className:this.question.cssClasses.dragArea,onDrop:this.question.onDrop,onDragOver:this.question.onDragOver,onDragLeave:this.question.onDragLeave,onDragEnter:this.question.onDragEnter},d,h,o,f,l))},c.prototype.renderFileDecorator=function(){this.question.cssClasses;var p=null,o=null;return o=y.createElement("label",{role:"button",tabIndex:0,className:this.question.getChooseFileCss(),htmlFor:this.question.inputId,"aria-label":this.question.chooseButtonCaption},y.createElement("span",null,this.question.chooseButtonCaption),this.question.cssClasses.chooseFileIconId?y.createElement(T.SvgIcon,{title:this.question.chooseButtonCaption,iconName:this.question.cssClasses.chooseFileIconId,size:"auto"}):null),this.question.isEmpty()&&(p=y.createElement("span",{className:this.question.cssClasses.noFileChosen},this.question.noFileChosenCaption)),y.createElement("div",{className:this.question.getFileDecoratorCss()},y.createElement("span",{className:this.question.cssClasses.dragAreaPlaceholder},this.question.dragAreaPlaceholder),y.createElement("div",{className:this.question.cssClasses.wrapper},o,p))},c.prototype.renderClearButton=function(p){return p?y.createElement("button",{type:"button",onClick:this.question.doClean,className:p},y.createElement("span",null,this.question.clearButtonCaption),this.question.cssClasses.removeButtonIconId?y.createElement(T.SvgIcon,{iconName:this.question.cssClasses.removeButtonIconId,size:"auto",title:this.question.clearButtonCaption}):null):null},c.prototype.renderFileSign=function(p,o){var a=this;return!p||!o.name?null:y.createElement("div",{className:p},y.createElement("a",{href:o.content,onClick:function(d){a.question.doDownloadFile(d,o)},title:o.name,download:o.name,style:{width:this.question.imageWidth}},o.name))},c.prototype.renderPreview=function(){var p=this;if(!this.question.previewValue||!this.question.previewValue.length)return null;var o=this.question.previewValue.map(function(a,d){return a?y.createElement("span",{key:p.question.inputId+"_"+d,className:p.question.cssClasses.preview,style:{display:p.question.isPreviewVisible(d)?void 0:"none"}},p.renderFileSign(p.question.cssClasses.fileSign,a),y.createElement("div",{className:p.question.cssClasses.imageWrapper},p.question.canPreviewImage(a)?y.createElement("img",{src:a.content,style:{height:p.question.imageHeight,width:p.question.imageWidth},alt:"File preview"}):p.question.cssClasses.defaultImage?y.createElement(T.SvgIcon,{iconName:p.question.cssClasses.defaultImageIconId,size:"auto",className:p.question.cssClasses.defaultImage}):null,a.name&&!p.question.isReadOnly?y.createElement("div",{className:p.question.cssClasses.removeFileButton,onClick:function(){return p.question.doRemoveFile(a)}},y.createElement("span",{className:p.question.cssClasses.removeFile},p.question.removeFileCaption),p.question.cssClasses.removeFileSvgIconId?y.createElement(T.SvgIcon,{title:p.question.removeFileCaption,iconName:p.question.cssClasses.removeFileSvgIconId,size:"auto",className:p.question.cssClasses.removeFileSvg}):null):null),p.renderFileSign(p.question.cssClasses.fileSignBottom,a)):null});return y.createElement("div",{className:this.question.cssClasses.fileList||void 0},o)},c}(x.SurveyQuestionElementBase);C.ReactQuestionFactory.Instance.registerQuestion("file",function(u){return y.createElement(v,u)})},"./src/react/reactquestion_html.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionHtml",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return Object.defineProperty(v.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),v.prototype.componentDidMount=function(){this.reactOnStrChanged()},v.prototype.componentWillUnmount=function(){this.question.locHtml.onChanged=function(){}},v.prototype.componentDidUpdate=function(u,c){this.reactOnStrChanged()},v.prototype.reactOnStrChanged=function(){var u=this;this.question.locHtml.onChanged=function(){u.setState({changed:u.state&&u.state.changed?u.state.changed+1:1})}},v.prototype.canRender=function(){return E.prototype.canRender.call(this)&&!!this.question.html},v.prototype.renderElement=function(){var u={__html:this.question.locHtml.renderedHtml};return y.createElement("div",{className:this.question.renderCssRoot,dangerouslySetInnerHTML:u})},v}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("html",function(E){return y.createElement(C,E)})},"./src/react/reactquestion_matrix.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrix",function(){return E}),g.d(m,"SurveyQuestionMatrixRow",function(){return v});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/reactsurveymodel.tsx"),C=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),E=function(u){C(c,u);function c(p){var o=u.call(this,p)||this;return o.state={rowsChanged:0},o}return Object.defineProperty(c.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),c.prototype.componentDidMount=function(){if(u.prototype.componentDidMount.call(this),this.question){var p=this;this.question.visibleRowsChangedCallback=function(){p.setState({rowsChanged:p.state.rowsChanged+1})}}},c.prototype.componentWillUnmount=function(){u.prototype.componentWillUnmount.call(this),this.question&&(this.question.visibleRowsChangedCallback=null)},c.prototype.renderElement=function(){for(var p=this,o=this.question.cssClasses,a=this.question.hasRows?y.createElement("td",null):null,d=[],h=0;h<this.question.visibleColumns.length;h++){var f=this.question.visibleColumns[h],l="column"+h,O=this.renderLocString(f.locText),V={};this.question.columnMinWidth&&(V.minWidth=this.question.columnMinWidth,V.width=this.question.columnMinWidth),d.push(y.createElement("th",{className:this.question.cssClasses.headerCell,style:V,key:l},this.wrapCell({column:f},O,"column-header")))}for(var A=[],w=this.question.visibleRows,h=0;h<w.length;h++){var S=w[h],l="row-"+S.name+"-"+h;A.push(y.createElement(v,{key:l,question:this.question,cssClasses:o,isDisplayMode:this.isDisplayMode,row:S,isFirst:h==0}))}var R=this.question.showHeader?y.createElement("thead",null,y.createElement("tr",null,a,d)):null;return y.createElement("div",{className:o.tableWrapper,ref:function(I){return p.setControl(I)}},y.createElement("fieldset",null,y.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),y.createElement("table",{className:this.question.getTableCss()},R,y.createElement("tbody",null,A))))},c}(P.SurveyQuestionElementBase),v=function(u){C(c,u);function c(p){var o=u.call(this,p)||this;return o.handleOnChange=o.handleOnChange.bind(o),o}return Object.defineProperty(c.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),c.prototype.handleOnChange=function(p){this.row.value=p.target.value,this.setState({value:this.row.value})},c.prototype.wrapCell=function(p,o,a){if(!a)return o;var d=this.question.survey,h=null;return d&&(h=x.ReactSurveyElementsWrapper.wrapMatrixCell(d,o,p,a)),h??o},c.prototype.canRender=function(){return!!this.row},c.prototype.renderElement=function(){var p=null;if(this.question.hasRows){var o=this.renderLocString(this.row.locText),a={};this.question.rowTitleWidth&&(a.minWidth=this.question.rowTitleWidth,a.width=this.question.rowTitleWidth),p=y.createElement("td",{style:a,className:this.question.cssClasses.rowTextCell},this.wrapCell({row:this.row},o,"row-header"))}var d=this.generateTds();return y.createElement("tr",{className:this.row.rowClasses||void 0},p,d)},c.prototype.generateTds=function(){for(var p=this,o=[],a=this.row,d=0;d<this.question.visibleColumns.length;d++){var h=null,f=this.question.visibleColumns[d],l="value"+d,O=a.value==f.value,V=this.question.getItemClass(a,f),A=this.question.inputId+"_"+a.name+"_"+d;if(this.question.hasCellText){var w=this.question.isInputReadOnly?null:function(S){return function(){return p.cellClick(a,S)}};h=y.createElement("td",{key:l,className:V,onClick:w?w(f):function(){}},this.renderLocString(this.question.getCellDisplayLocText(a.name,f)))}else h=y.createElement("td",{key:l,"data-responsive-title":f.locText.renderedHtml,className:this.question.cssClasses.cell},y.createElement("label",{className:V},y.createElement("input",{id:A,type:"radio",className:this.cssClasses.itemValue,name:a.fullName,value:f.value,disabled:this.isDisplayMode,checked:O,onChange:this.handleOnChange,"aria-required":this.question.ariaRequired,"aria-label":f.locText.renderedHtml,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),y.createElement("span",{className:this.question.cssClasses.materialDecorator},this.question.itemSvgIcon?y.createElement("svg",{className:this.cssClasses.itemDecorator},y.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null),y.createElement("span",{style:this.question.isMobile?void 0:{display:"none"},className:this.question.cssClasses.cellResponsiveTitle},this.renderLocString(f.locText))));o.push(h)}return o},c.prototype.cellClick=function(p,o){p.value=o.value,this.setState({value:this.row.value})},c}(P.ReactSurveyElement);T.ReactQuestionFactory.Instance.registerQuestion("matrix",function(u){return y.createElement(E,u)})},"./src/react/reactquestion_matrixdropdown.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrixDropdown",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_matrixdropdownbase.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return v}(P.SurveyQuestionMatrixDropdownBase);T.ReactQuestionFactory.Instance.registerQuestion("matrixdropdown",function(E){return y.createElement(C,E)})},"./src/react/reactquestion_matrixdropdownbase.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrixDropdownBase",function(){return d}),g.d(m,"SurveyQuestionMatrixDropdownCell",function(){return l});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion.tsx"),x=g("./src/react/reactquestion_checkbox.tsx"),C=g("./src/react/reactquestion_radiogroup.tsx"),E=g("./src/react/panel.tsx"),v=g("./src/react/components/action-bar/action-bar.tsx"),u=g("./src/react/components/matrix/row.tsx"),c=g("./src/react/components/matrix-actions/drag-drop-icon/drag-drop-icon.tsx"),p=g("./src/react/reactquestion_comment.tsx"),o=g("./src/react/element-factory.tsx"),a=function(){var O=function(V,A){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(w[R]=S[R])},O(V,A)};return function(V,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");O(V,A);function w(){this.constructor=V}V.prototype=A===null?Object.create(A):(w.prototype=A.prototype,new w)}}(),d=function(O){a(V,O);function V(A){var w=O.call(this,A)||this;return w.question.renderedTable,w.state=w.getState(),w}return Object.defineProperty(V.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),V.prototype.getState=function(A){return A===void 0&&(A=null),{rowCounter:A?A.rowCounter+1:0}},V.prototype.updateStateOnCallback=function(){this.isRendering||this.setState(this.getState(this.state))},V.prototype.componentDidMount=function(){var A=this;O.prototype.componentDidMount.call(this),this.question.visibleRowsChangedCallback=function(){A.updateStateOnCallback()},this.question.onRenderedTableResetCallback=function(){A.question.renderedTable.renderedRowsChangedCallback=function(){A.updateStateOnCallback()},A.updateStateOnCallback()},this.question.renderedTable.renderedRowsChangedCallback=function(){A.updateStateOnCallback()}},V.prototype.componentWillUnmount=function(){O.prototype.componentWillUnmount.call(this),this.question.visibleRowsChangedCallback=function(){},this.question.onRenderedTableResetCallback=function(){},this.question.renderedTable.renderedRowsChangedCallback=function(){}},V.prototype.renderElement=function(){return this.renderTableDiv()},V.prototype.renderTableDiv=function(){var A=this,w=this.renderHeader(),S=this.renderFooter(),R=this.renderRows(),I=this.question.showHorizontalScroll?{overflowX:"scroll"}:{};return y.createElement("div",{style:I,className:this.question.cssClasses.tableWrapper,ref:function(b){return A.setControl(b)}},y.createElement("table",{className:this.question.getTableCss()},w,R,S))},V.prototype.renderHeader=function(){var A=this.question.renderedTable;if(!A.showHeader)return null;for(var w=[],S=A.headerRow.cells,R=0;R<S.length;R++){var I=S[R],b="column"+R,D={};I.width&&(D.width=I.width),I.minWidth&&(D.minWidth=I.minWidth);var M=this.renderCellContent(I,"column-header",{}),L=I.hasTitle?y.createElement("th",{className:I.className,key:b,style:D}," ",M," "):y.createElement("td",{className:I.className,key:b,style:D});w.push(L)}return y.createElement("thead",null,y.createElement("tr",null,w))},V.prototype.renderFooter=function(){var A=this.question.renderedTable;if(!A.showFooter)return null;var w=this.renderRow("footer",A.footerRow,this.question.cssClasses,"row-footer");return y.createElement("tfoot",null,w)},V.prototype.renderRows=function(){for(var A=this.question.cssClasses,w=[],S=this.question.renderedTable.rows,R=0;R<S.length;R++)w.push(this.renderRow(S[R].id,S[R],A));return y.createElement("tbody",null,w)},V.prototype.renderRow=function(A,w,S,R){for(var I=[],b=w.cells,D=0;D<b.length;D++)I.push(this.renderCell(b[D],D,S,R));var M="row"+A;return y.createElement(y.Fragment,{key:M},y.createElement(u.MatrixRow,{model:w,parentMatrix:this.question},I))},V.prototype.renderCell=function(A,w,S,R){var I="cell"+w;if(A.hasQuestion)return y.createElement(l,{key:I,cssClasses:S,cell:A,creator:this.creator,reason:R});var b=R;b||(b=A.hasTitle?"row-header":"");var D=this.renderCellContent(A,b,S),M=null;return(A.width||A.minWidth)&&(M={},A.width&&(M.width=A.width),A.minWidth&&(M.minWidth=A.minWidth)),y.createElement("td",{className:A.className,key:I,style:M,colSpan:A.colSpans,"data-responsive-title":A.headers,title:A.getTitle()},D)},V.prototype.renderCellContent=function(A,w,S){var R=null,I=null;if((A.width||A.minWidth)&&(I={},A.width&&(I.width=A.width),A.minWidth&&(I.minWidth=A.minWidth)),A.hasTitle){w="row-header";var b=this.renderLocString(A.locTitle),D=A.column?y.createElement(f,{column:A.column,question:this.question}):null;R=y.createElement(y.Fragment,null,b,D)}if(A.isDragHandlerCell&&(R=y.createElement(y.Fragment,null,y.createElement(c.SurveyQuestionMatrixDynamicDragDropIcon,{item:{data:{row:A.row,question:this.question}}}))),A.isActionsCell&&(R=o.ReactElementFactory.Instance.createElement("sv-matrixdynamic-actions-cell",{question:this.question,cssClasses:S,cell:A,model:A.item.getData()})),A.hasPanel&&(R=y.createElement(E.SurveyPanel,{key:A.panel.id,element:A.panel,survey:this.question.survey,cssClasses:S,isDisplayMode:this.isDisplayMode,creator:this.creator})),!R)return null;var M=y.createElement(y.Fragment,null,R);return this.wrapCell(A,M,w)},V}(P.SurveyQuestionElementBase),h=function(O){a(V,O);function V(A){return O.call(this,A)||this}return Object.defineProperty(V.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),V.prototype.renderElement=function(){return y.createElement(v.SurveyActionBar,{model:this.model,handleClick:!1})},V}(P.ReactSurveyElement);o.ReactElementFactory.Instance.registerElement("sv-matrixdynamic-actions-cell",function(O){return y.createElement(h,O)});var f=function(O){a(V,O);function V(A){return O.call(this,A)||this}return Object.defineProperty(V.prototype,"column",{get:function(){return this.props.column},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),V.prototype.getStateElement=function(){return this.column},V.prototype.renderElement=function(){return this.column.isRenderedRequired?y.createElement(y.Fragment,null,y.createElement("span",{className:this.question.cssClasses.cellRequiredText},this.column.requiredText)):null},V}(P.ReactSurveyElement),l=function(O){a(V,O);function V(A){return O.call(this,A)||this}return Object.defineProperty(V.prototype,"cell",{get:function(){return this.props.cell},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"itemCss",{get:function(){return this.cell?this.cell.className:""},enumerable:!1,configurable:!0}),V.prototype.getQuestion=function(){var A=O.prototype.getQuestion.call(this);return A||(this.cell?this.cell.question:null)},V.prototype.doAfterRender=function(){var A=this.cellRef.current;if(A&&this.cell&&this.question&&this.question.survey&&A.getAttribute("data-rendered")!=="r"){A.setAttribute("data-rendered","r");var w={cell:this.cell,cellQuestion:this.question,htmlElement:A,row:this.cell.row,column:this.cell.cell.column};this.question.survey.matrixAfterCellRender(this.question,w)}},V.prototype.getShowErrors=function(){return this.question.isVisible&&(!this.cell.isChoice||this.cell.isFirstChoice)},V.prototype.getCellStyle=function(){var A=O.prototype.getCellStyle.call(this);return(this.cell.width||this.cell.minWidth)&&(A||(A={}),this.cell.width&&(A.width=this.cell.width),this.cell.minWidth&&(A.minWidth=this.cell.minWidth)),A},V.prototype.getHeaderText=function(){return this.cell.headers},V.prototype.renderQuestion=function(){return this.cell.isChoice?this.cell.isOtherChoice?this.renderOtherComment():this.cell.isCheckbox?this.renderCellCheckboxButton():this.renderCellRadiogroupButton():T.SurveyQuestion.renderQuestionBody(this.creator,this.question)},V.prototype.renderOtherComment=function(){var A=this.cell.question,w=A.cssClasses||{};return y.createElement(p.SurveyQuestionOtherValueItem,{question:A,cssClasses:w,otherCss:w.other,isDisplayMode:A.isInputReadOnly})},V.prototype.renderCellCheckboxButton=function(){var A=this.cell.question.id+"item"+this.cell.choiceIndex;return y.createElement(x.SurveyQuestionCheckboxItem,{key:A,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,isFirst:this.cell.isFirstChoice,index:this.cell.choiceIndex.toString(),hideCaption:!0})},V.prototype.renderCellRadiogroupButton=function(){var A=this.cell.question.id+"item"+this.cell.choiceIndex;return y.createElement(C.SurveyQuestionRadioItem,{key:A,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isInputReadOnly,item:this.cell.item,index:this.cell.choiceIndex.toString(),isChecked:this.cell.question.value===this.cell.item.value,isDisabled:this.cell.question.isReadOnly||!this.cell.item.isEnabled,hideCaption:!0})},V}(T.SurveyQuestionAndErrorsCell)},"./src/react/reactquestion_matrixdynamic.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMatrixDynamic",function(){return v}),g.d(m,"SurveyQuestionMatrixDynamicAddButton",function(){return u});var y=g("react"),P=g("./src/react/reactquestion_factory.tsx"),T=g("./src/react/reactquestion_matrixdropdownbase.tsx"),x=g("./src/react/element-factory.tsx"),C=g("./src/react/reactquestion_element.tsx"),E=function(){var c=function(p,o){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])},c(p,o)};return function(p,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");c(p,o);function a(){this.constructor=p}p.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),v=function(c){E(p,c);function p(o){var a=c.call(this,o)||this;return a.handleOnRowAddClick=a.handleOnRowAddClick.bind(a),a}return Object.defineProperty(p.prototype,"matrix",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),p.prototype.handleOnRowAddClick=function(o){this.matrix.addRowUI()},p.prototype.renderElement=function(){var o=this.question.cssClasses,a=this.question.renderedTable.showTable,d=a?this.renderTableDiv():this.renderNoRowsContent(o);return y.createElement("div",null,this.renderAddRowButtonOnTop(o),d,this.renderAddRowButtonOnBottom(o))},p.prototype.renderAddRowButtonOnTop=function(o){return this.matrix.renderedTable.showAddRowOnTop?this.renderAddRowButton(o):null},p.prototype.renderAddRowButtonOnBottom=function(o){return this.matrix.renderedTable.showAddRowOnBottom?this.renderAddRowButton(o):null},p.prototype.renderNoRowsContent=function(o){var a=this.renderLocString(this.matrix.locEmptyRowsText),d=y.createElement("div",{className:o.emptyRowsText},a),h=this.renderAddRowButton(o,!0);return y.createElement("div",{className:o.emptyRowsSection},d,h)},p.prototype.renderAddRowButton=function(o,a){return a===void 0&&(a=!1),x.ReactElementFactory.Instance.createElement("sv-matrixdynamic-add-btn",{question:this.question,cssClasses:o,isEmptySection:a})},p}(T.SurveyQuestionMatrixDropdownBase);P.ReactQuestionFactory.Instance.registerQuestion("matrixdynamic",function(c){return y.createElement(v,c)});var u=function(c){E(p,c);function p(o){var a=c.call(this,o)||this;return a.handleOnRowAddClick=a.handleOnRowAddClick.bind(a),a}return Object.defineProperty(p.prototype,"matrix",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),p.prototype.handleOnRowAddClick=function(o){this.matrix.addRowUI()},p.prototype.renderElement=function(){var o=this.renderLocString(this.matrix.locAddRowText),a=y.createElement("button",{className:this.matrix.getAddRowButtonCss(this.props.isEmptySection),type:"button",disabled:this.matrix.isInputReadOnly,onClick:this.matrix.isDesignMode?void 0:this.handleOnRowAddClick},o,y.createElement("span",{className:this.props.cssClasses.iconAdd}));return this.props.isEmptySection?a:y.createElement("div",{className:this.props.cssClasses.footer},a)},p}(C.ReactSurveyElement);x.ReactElementFactory.Instance.registerElement("sv-matrixdynamic-add-btn",function(c){return y.createElement(u,c)})},"./src/react/reactquestion_multipletext.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionMultipleText",function(){return v}),g.d(m,"SurveyMultipleTextItem",function(){return u}),g.d(m,"SurveyMultipleTextItemEditor",function(){return c});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion.tsx"),x=g("./src/react/reactquestion_factory.tsx"),C=g("./src/react/components/title/title-content.tsx"),E=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),v=function(p){E(o,p);function o(a){return p.call(this,a)||this}return Object.defineProperty(o.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),o.prototype.renderElement=function(){for(var a=this.question.cssClasses,d=this.question.getRows(),h=[],f=0;f<d.length;f++)h.push(this.renderRow(f,d[f],a));return y.createElement("table",{className:a.root},y.createElement("tbody",null,h))},o.prototype.renderRow=function(a,d,h){for(var f="item"+a,l=[],O=0;O<d.length;O++){var V=d[O];l.push(y.createElement("td",{key:"item"+O,className:this.question.cssClasses.cell},y.createElement(u,{question:this.question,item:V,creator:this.creator,cssClasses:h})))}return y.createElement("tr",{key:f,className:h.row},l)},o}(P.SurveyQuestionElementBase),u=function(p){E(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(o.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),o.prototype.getStateElements=function(){return[this.item,this.item.editor]},Object.defineProperty(o.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),o.prototype.renderElement=function(){var a=this.item,d=this.cssClasses;return y.createElement("label",{className:this.question.getItemLabelCss(a)},y.createElement("span",{className:d.itemTitle},y.createElement(C.TitleContent,{element:a.editor,cssClasses:a.editor.cssClasses})),y.createElement(c,{cssClasses:d,itemCss:this.question.getItemCss(),question:a.editor,creator:this.creator}),this.renderItemTooltipError(a,d))},o.prototype.renderItemTooltipError=function(a,d){return this.item.editor.isErrorsModeTooltip?y.createElement(T.SurveyElementErrors,{element:a.editor,cssClasses:d,creator:this.creator,location:"tooltip",id:a.editor.id+"_errors"}):null},o}(P.ReactSurveyElement),c=function(p){E(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.prototype.renderElement=function(){return y.createElement("div",{className:this.itemCss},this.renderContent())},o}(T.SurveyQuestionAndErrorsWrapped);x.ReactQuestionFactory.Instance.registerQuestion("multipletext",function(p){return y.createElement(v,p)})},"./src/react/reactquestion_paneldynamic.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionPanelDynamic",function(){return o}),g.d(m,"SurveyQuestionPanelDynamicItem",function(){return a});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/panel.tsx"),x=g("./src/react/reactquestion_factory.tsx"),C=g("./src/react/components/action-bar/action-bar.tsx"),E=g("./src/react/components/paneldynamic-actions/paneldynamic-next-btn.tsx"),v=g("./src/react/components/paneldynamic-actions/paneldynamic-prev-btn.tsx"),u=g("./src/react/components/paneldynamic-actions/paneldynamic-progress-text.tsx"),c=g("./src/react/element-factory.tsx"),p=function(){var d=function(h,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,O){l.__proto__=O}||function(l,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(l[V]=O[V])},d(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(h,f);function l(){this.constructor=h}h.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}}(),o=function(d){p(h,d);function h(f){return d.call(this,f)||this}return Object.defineProperty(h.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),h.prototype.componentDidMount=function(){d.prototype.componentDidMount.call(this),this.setState({panelCounter:0});var f=this;this.question.panelCountChangedCallback=function(){f.updateQuestionRendering()},this.question.currentIndexChangedCallback=function(){f.updateQuestionRendering()},this.question.renderModeChangedCallback=function(){f.updateQuestionRendering()}},h.prototype.componentWillUnmount=function(){d.prototype.componentWillUnmount.call(this),this.question.panelCountChangedCallback=function(){},this.question.currentIndexChangedCallback=function(){},this.question.renderModeChangedCallback=function(){}},h.prototype.updateQuestionRendering=function(){this.setState({panelCounter:this.state?this.state.panelCounter+1:1})},h.prototype.renderElement=function(){var f=[];if(this.question.isRenderModeList)for(var l=0;l<this.question.panels.length;l++){var O=this.question.panels[l];f.push(y.createElement(a,{key:O.id,element:O,question:this.question,index:l,cssClasses:this.question.cssClasses,isDisplayMode:this.isDisplayMode,creator:this.creator}))}else if(this.question.currentPanel!=null){var O=this.question.currentPanel;f.push(y.createElement(a,{key:this.question.currentIndex,element:O,question:this.question,index:this.question.currentIndex,cssClasses:this.question.cssClasses,isDisplayMode:this.isDisplayMode,creator:this.creator}))}var V=this.question.isRenderModeList&&this.question.showLegacyNavigation?this.renderAddRowButton():null,A=this.question.isProgressTopShowing?this.renderNavigator():null,w=this.question.isProgressBottomShowing?this.renderNavigator():null,S=this.renderNavigatorV2(),R=this.renderPlaceholder();return y.createElement("div",{className:this.question.cssClasses.root},R,A,f,w,V,S)},h.prototype.renderNavigator=function(){if(!this.question.showLegacyNavigation)return this.question.isRangeShowing&&this.question.isProgressTopShowing?this.renderRange():null;var f=this.question.isRangeShowing?this.renderRange():null,l=this.rendrerPrevButton(),O=this.rendrerNextButton(),V=this.renderAddRowButton(),A=this.question.isProgressTopShowing?this.question.cssClasses.progressTop:this.question.cssClasses.progressBottom;return y.createElement("div",{className:A},y.createElement("div",{style:{clear:"both"}},y.createElement("div",{className:this.question.cssClasses.progressContainer},l,f,O),V,this.renderProgressText()))},h.prototype.renderProgressText=function(){return y.createElement(u.SurveyQuestionPanelDynamicProgressText,{data:{question:this.question}})},h.prototype.rendrerPrevButton=function(){return y.createElement(v.SurveyQuestionPanelDynamicPrevButton,{data:{question:this.question}})},h.prototype.rendrerNextButton=function(){return y.createElement(E.SurveyQuestionPanelDynamicNextButton,{data:{question:this.question}})},h.prototype.renderRange=function(){return y.createElement("div",{className:this.question.cssClasses.progress},y.createElement("div",{className:this.question.cssClasses.progressBar,style:{width:this.question.progress},role:"progressbar"}))},h.prototype.renderAddRowButton=function(){return c.ReactElementFactory.Instance.createElement("sv-paneldynamic-add-btn",{data:{question:this.question}})},h.prototype.renderNavigatorV2=function(){if(this.question.panelCount===0||this.question.showLegacyNavigation||!this.question.cssClasses.footer)return null;var f=this.question.isRangeShowing&&this.question.isProgressBottomShowing?this.renderRange():null;return y.createElement("div",{className:this.question.cssClasses.footer},y.createElement("hr",{className:this.question.cssClasses.separator}),f,this.question.footerToolbar.visibleActions.length?y.createElement("div",{className:this.question.cssClasses.footerButtonsContainer},y.createElement(C.SurveyActionBar,{model:this.question.footerToolbar})):null)},h.prototype.renderPlaceholder=function(){return this.question.getShowNoEntriesPlaceholder()?y.createElement("div",{className:this.question.cssClasses.noEntriesPlaceholder},y.createElement("span",null,this.renderLocString(this.question.locNoEntriesText)),this.renderAddRowButton()):null},h}(P.SurveyQuestionElementBase),a=function(d){p(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(h.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),h.prototype.getSurvey=function(){return this.question?this.question.survey:null},h.prototype.getCss=function(){var f=this.getSurvey();return f?f.getCss():{}},h.prototype.render=function(){var f=d.prototype.render.call(this),l=this.renderButton(),O=this.question.isRenderModeList&&this.index<this.question.panelCount-1?y.createElement("hr",{className:this.question.cssClasses.separator}):null;return y.createElement(y.Fragment,null,y.createElement("div",{className:this.question.getPanelWrapperCss()},f,l),O)},h.prototype.renderButton=function(){return this.question.panelRemoveButtonLocation!=="right"||!this.question.canRemovePanel||this.question.isRenderModeList&&this.panel.isCollapsed?null:c.ReactElementFactory.Instance.createElement("sv-paneldynamic-remove-btn",{data:{question:this.question,panel:this.panel}})},h}(T.SurveyPanel);x.ReactQuestionFactory.Instance.registerQuestion("paneldynamic",function(d){return y.createElement(o,d)})},"./src/react/reactquestion_radiogroup.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionRadiogroup",function(){return u}),g.d(m,"SurveyQuestionRadioItem",function(){return c});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_comment.tsx"),x=g("./src/react/reactquestion_factory.tsx"),C=g("./src/react/reactsurveymodel.tsx"),E=g("./src/react/element-factory.tsx"),v=function(){var p=function(o,a){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f])},p(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");p(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),u=function(p){v(o,p);function o(a){return p.call(this,a)||this}return Object.defineProperty(o.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),o.prototype.renderElement=function(){var a=this,d=this.question.cssClasses,h=null;return this.question.showClearButtonInContent&&(h=y.createElement("div",null,y.createElement("input",{type:"button",className:this.question.cssClasses.clearButton,onClick:function(){return a.question.clearValue()},value:this.question.clearButtonCaption}))),y.createElement("fieldset",{className:this.question.getSelectBaseRootCss(),role:"presentation",ref:function(f){return a.setControl(f)}},this.question.hasColumns?this.getColumnedBody(d):this.getBody(d),this.getFooter(),this.question.isOtherSelected?this.renderOther(d):null,h)},o.prototype.getFooter=function(){var a=this;if(this.question.hasFootItems)return this.question.footItems.map(function(d,h){return a.renderItem("item_f"+h,d,!1,a.question.cssClasses)})},o.prototype.getColumnedBody=function(a){return y.createElement("div",{className:a.rootMultiColumn},this.getColumns(a))},o.prototype.getColumns=function(a){var d=this,h=this.getStateValue();return this.question.columns.map(function(f,l){var O=f.map(function(V,A){return d.renderItem("item"+l+A,V,h,a,""+l+A)});return y.createElement("div",{key:"column"+l,className:d.question.getColumnClass(),role:"presentation"},O)})},o.prototype.getBody=function(a){return this.question.blockedRow?y.createElement("div",{className:a.rootRow},this.getItems(a,this.question.dataChoices)):y.createElement(y.Fragment,null,this.getItems(a,this.question.bodyItems))},o.prototype.getItems=function(a,d){for(var h=[],f=this.getStateValue(),l=0;l<d.length;l++){var O=d[l],V=this.renderItem("item"+l,O,f,a,""+l);h.push(V)}return h},Object.defineProperty(o.prototype,"textStyle",{get:function(){return null},enumerable:!1,configurable:!0}),o.prototype.renderOther=function(a){return y.createElement("div",{className:this.question.getCommentAreaCss(!0)},y.createElement(T.SurveyQuestionOtherValueItem,{question:this.question,otherCss:a.other,cssClasses:a,isDisplayMode:this.isDisplayMode}))},o.prototype.renderItem=function(a,d,h,f,l){var O=E.ReactElementFactory.Instance.createElement(this.question.itemComponent,{key:a,question:this.question,cssClasses:f,isDisplayMode:this.isDisplayMode,item:d,textStyle:this.textStyle,index:l,isChecked:h===d.value}),V=this.question.survey,A=null;return V&&(A=C.ReactSurveyElementsWrapper.wrapItemValue(V,O,this.question,d)),A??O},o.prototype.getStateValue=function(){return this.question.isEmpty()?"":this.question.renderedValue},o}(P.SurveyQuestionElementBase),c=function(p){v(o,p);function o(a){var d=p.call(this,a)||this;return d.handleOnChange=d.handleOnChange.bind(d),d}return o.prototype.getStateElement=function(){return this.item},Object.defineProperty(o.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textStyle",{get:function(){return this.props.textStyle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isChecked",{get:function(){return this.props.isChecked},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hideCaption",{get:function(){return this.props.hideCaption===!0},enumerable:!1,configurable:!0}),o.prototype.shouldComponentUpdate=function(a,d){return!p.prototype.shouldComponentUpdate.call(this,a,d)||!this.question?!1:!this.question.customWidget||!!this.question.customWidgetData.isNeedRender||!!this.question.customWidget.widgetJson.isDefaultRender||!!this.question.customWidget.widgetJson.render},o.prototype.handleOnChange=function(a){this.question.clickItemHandler(this.item)},o.prototype.canRender=function(){return!!this.question&&!!this.item},o.prototype.renderElement=function(){var a=this.question.getItemClass(this.item),d=this.question.getLabelClass(this.item),h=this.question.getControlLabelClass(this.item),f=this.hideCaption?null:y.createElement("span",{className:h},this.renderLocString(this.item.locText,this.textStyle));return y.createElement("div",{className:a,role:"presentation"},y.createElement("label",{className:d,"aria-label":this.question.getAriaItemLabel(this.item)},y.createElement("input",{"aria-describedby":this.question.ariaDescribedBy,className:this.cssClasses.itemControl,id:this.question.getItemId(this.item),type:"radio",name:this.question.questionName,checked:this.isChecked,value:this.item.value,disabled:!this.question.getItemEnabled(this.item),onChange:this.handleOnChange}),this.cssClasses.materialDecorator?y.createElement("span",{className:this.cssClasses.materialDecorator},this.question.itemSvgIcon?y.createElement("svg",{className:this.cssClasses.itemDecorator},y.createElement("use",{xlinkHref:this.question.itemSvgIcon})):null):null,f))},o}(P.ReactSurveyElement);E.ReactElementFactory.Instance.registerElement("survey-radiogroup-item",function(p){return y.createElement(c,p)}),x.ReactQuestionFactory.Instance.registerQuestion("radiogroup",function(p){return y.createElement(u,p)})},"./src/react/reactquestion_ranking.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionRanking",function(){return E}),g.d(m,"SurveyQuestionRankingItem",function(){return v});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/reactsurveymodel.tsx"),C=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),E=function(u){C(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),c.prototype.renderElement=function(){var p=this;return y.createElement("div",{className:this.question.rootClass,ref:function(o){return p.setControl(o)}},this.getItems())},c.prototype.getItems=function(){for(var p=this,o=[],a=this.question.rankingChoices,d=function(l){var O=a[l];o.push(h.renderItem(O,l,function(V){p.question.handleKeydown.call(p.question,V,O)},function(V){V.persist(),p.question.handlePointerDown.call(p.question,V,O,V.currentTarget)},h.question.cssClasses,h.question.getItemClass(O),h.question))},h=this,f=0;f<a.length;f++)d(f);return o},c.prototype.renderItem=function(p,o,a,d,h,f,l){var O=p.value+"-"+o+"-item",V=this.renderLocString(p.locText),A=o,w=this.question.getNumberByIndex(o),S=this.question.getItemTabIndex(p),R=y.createElement(v,{key:O,text:V,index:A,indexText:w,itemTabIndex:S,handleKeydown:a,handlePointerDown:d,cssClasses:h,itemClass:f,question:l}),I=this.question.survey,b=null;return I&&(b=x.ReactSurveyElementsWrapper.wrapItemValue(I,R,this.question,p)),b??R},c}(P.SurveyQuestionElementBase),v=function(u){C(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"text",{get:function(){return this.props.text},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"indexText",{get:function(){return this.props.indexText},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"handleKeydown",{get:function(){return this.props.handleKeydown},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"handlePointerDown",{get:function(){return this.props.handlePointerDown},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"itemClass",{get:function(){return this.props.itemClass},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"itemTabIndex",{get:function(){return this.props.itemTabIndex},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),c.prototype.renderElement=function(){return y.createElement("div",{tabIndex:this.itemTabIndex,className:this.itemClass,onKeyDown:this.handleKeydown,onPointerDown:this.handlePointerDown,"data-sv-drop-target-ranking-item":this.index},y.createElement("div",{tabIndex:-1,style:{outline:"none"}},y.createElement("div",{className:this.cssClasses.itemGhostNode}),y.createElement("div",{className:this.cssClasses.itemContent},y.createElement("div",{className:this.cssClasses.itemIconContainer},y.createElement("svg",{width:"10",height:"16",viewBox:"0 0 10 16",className:this.question.getIconHoverCss(),xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"})),y.createElement("svg",{width:"10",height:"24",viewBox:"0 0 10 24",className:this.question.getIconFocusCss(),xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M10 5L5 0L0 5H4V9H6V5H10Z"}),y.createElement("path",{d:"M6 19V15H4V19H0L5 24L10 19H6Z"}))),y.createElement("div",{className:this.question.getItemIndexClasses()},this.indexText),y.createElement("div",{className:this.cssClasses.controlLabel},this.text))))},c}(P.ReactSurveyElement);T.ReactQuestionFactory.Instance.registerQuestion("ranking",function(u){return y.createElement(E,u)})},"./src/react/reactquestion_rating.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionRating",function(){return E});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/element-factory.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.handleOnClick=p.handleOnClick.bind(p),p}return Object.defineProperty(u.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),u.prototype.handleOnClick=function(c){this.question.setValueFromClick(c.target.value),this.setState({value:this.question.value})},u.prototype.renderItem=function(c,p){var o=x.ReactElementFactory.Instance.createElement(this.question.itemComponentName,{question:this.question,item:c,index:p,key:"value"+p,handleOnClick:this.handleOnClick,isDisplayMode:this.isDisplayMode});return o},u.prototype.renderElement=function(){var c=this,p=this.question.cssClasses,o=this.question.minRateDescription?this.renderLocString(this.question.locMinRateDescription):null,a=this.question.maxRateDescription?this.renderLocString(this.question.locMaxRateDescription):null;return y.createElement("div",{className:this.question.ratingRootCss,ref:function(d){return c.setControl(d)}},y.createElement("fieldset",{role:"radiogroup"},y.createElement("legend",{role:"presentation",className:"sv-hidden"}),this.question.hasMinLabel?y.createElement("span",{className:p.minText},o):null,this.question.renderedRateItems.map(function(d,h){return c.renderItem(d,h)}),this.question.hasMaxLabel?y.createElement("span",{className:p.maxText},a):null))},u}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("rating",function(v){return y.createElement(E,v)})},"./src/react/reactquestion_tagbox.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionTagbox",function(){return v});var y=g("react"),P=g("./src/react/reactquestion_factory.tsx"),T=g("./src/react/dropdown-base.tsx"),x=g("./src/react/tagbox-item.tsx"),C=g("./src/react/tagbox-filter.tsx"),E=function(){var u=function(c,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(o[d]=a[d])},u(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(c,p);function o(){this.constructor=c}c.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}(),v=function(u){E(c,u);function c(p){return u.call(this,p)||this}return c.prototype.renderItem=function(p,o){var a=y.createElement(x.SurveyQuestionTagboxItem,{key:p,question:this.question,item:o});return a},c.prototype.renderInput=function(p){var o=this,a=p,d=this.question.selectedChoices.map(function(h,f){return o.renderItem("item"+f,h)});return y.createElement("div",{id:this.question.inputId,className:this.question.getControlClass(),tabIndex:p.inputReadOnly?void 0:0,onClick:this.click,disabled:this.question.isInputReadOnly,required:this.question.isRequired,onKeyDown:this.keyhandler,onBlur:this.blur,role:this.question.ariaRole,"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy,"aria-expanded":this.question.ariaExpanded?"true":"false","aria-controls":p.listElementId,"aria-activedescendant":p.ariaActivedescendant},y.createElement("div",{className:this.question.cssClasses.controlValue},d,y.createElement(C.TagboxFilterString,{model:a,question:this.question})),this.createClearButton())},c.prototype.renderElement=function(){var p=this.question.cssClasses,o=this.question.isOtherSelected?this.renderOther(p):null,a=this.renderSelect(p);return y.createElement("div",{className:this.question.renderCssRoot},a,o)},c}(T.SurveyQuestionDropdownBase);P.ReactQuestionFactory.Instance.registerQuestion("tagbox",function(u){return y.createElement(v,u)})},"./src/react/reactquestion_text.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionText",function(){return E});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/components/character-counter.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return u.prototype.renderInput=function(){var c=this,p=this.question.getControlClass(),o=this.question.renderedPlaceholder;if(this.question.isReadOnlyRenderDiv())return y.createElement("div",null,this.question.value);var a=this.question.getMaxLength()?y.createElement(x.CharacterCounterComponent,{counter:this.question.characterCounter,remainingCharacterCounter:this.question.cssClasses.remainingCharacterCounter}):null;return y.createElement(y.Fragment,null,y.createElement("input",{id:this.question.inputId,disabled:this.isDisplayMode,className:p,type:this.question.inputType,ref:function(d){return c.setControl(d)},style:this.question.inputStyle,maxLength:this.question.getMaxLength(),min:this.question.renderedMin,max:this.question.renderedMax,step:this.question.renderedStep,size:this.question.inputSize,placeholder:o,list:this.question.dataListId,autoComplete:this.question.autocomplete,onBlur:this.question.onBlur,onFocus:this.question.onFocus,onChange:this.question.onChange,onKeyUp:this.question.onKeyUp,onKeyDown:this.question.onKeyDown,onCompositionUpdate:function(d){return c.question.onCompositionUpdate(d.nativeEvent)},"aria-required":this.question.ariaRequired,"aria-label":this.question.ariaLabel,"aria-invalid":this.question.ariaInvalid,"aria-describedby":this.question.ariaDescribedBy}),a)},u.prototype.renderElement=function(){return this.question.dataListId?y.createElement("div",null,this.renderInput(),this.renderDataList()):this.renderInput()},u.prototype.renderDataList=function(){if(!this.question.dataListId)return null;var c=this.question.dataList;if(c.length==0)return null;for(var p=[],o=0;o<c.length;o++)p.push(y.createElement("option",{key:"item"+o,value:c[o]}));return y.createElement("datalist",{id:this.question.dataListId},p)},u}(P.SurveyQuestionUncontrolledElement);T.ReactQuestionFactory.Instance.registerQuestion("text",function(v){return y.createElement(E,v)})},"./src/react/reactsurveymodel.tsx":function(s,m,g){g.r(m),g.d(m,"ReactSurveyElementsWrapper",function(){return T});var y=g("survey-core"),P=g("./src/react/element-factory.tsx"),T=function(){function x(){}return x.wrapRow=function(C,E,v){var u=C.getRowWrapperComponentName(v),c=C.getRowWrapperComponentData(v);return P.ReactElementFactory.Instance.createElement(u,{element:E,row:v,componentData:c})},x.wrapElement=function(C,E,v){var u=C.getElementWrapperComponentName(v),c=C.getElementWrapperComponentData(v);return P.ReactElementFactory.Instance.createElement(u,{element:E,question:v,componentData:c})},x.wrapQuestionContent=function(C,E,v){var u=C.getQuestionContentWrapperComponentName(v),c=C.getElementWrapperComponentData(v);return P.ReactElementFactory.Instance.createElement(u,{element:E,question:v,componentData:c})},x.wrapItemValue=function(C,E,v,u){var c=C.getItemValueWrapperComponentName(u,v),p=C.getItemValueWrapperComponentData(u,v);return P.ReactElementFactory.Instance.createElement(c,{key:E==null?void 0:E.key,element:E,question:v,item:u,componentData:p})},x.wrapMatrixCell=function(C,E,v,u){u===void 0&&(u="cell");var c=C.getElementWrapperComponentName(v,u),p=C.getElementWrapperComponentData(v,u);return P.ReactElementFactory.Instance.createElement(c,{element:E,cell:v,componentData:p})},x}();y.SurveyModel.platform="react"},"./src/react/reacttimerpanel.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyTimerPanel",function(){return E});var y=g("react"),P=g("./src/react/components/svg-icon/svg-icon.tsx"),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.circleLength=440,p}return u.prototype.getStateElement=function(){return this.timerModel},Object.defineProperty(u.prototype,"timerModel",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"progress",{get:function(){return-this.timerModel.progress*this.circleLength},enumerable:!1,configurable:!0}),u.prototype.render=function(){if(!this.timerModel.isRunning)return null;var c=y.createElement("div",{className:this.timerModel.survey.getCss().timerRoot},this.timerModel.text);if(this.timerModel.showTimerAsClock){var p={strokeDasharray:this.circleLength,strokeDashoffset:this.progress},o=this.timerModel.showProgress?y.createElement(P.SvgIcon,{className:this.timerModel.getProgressCss(),style:p,iconName:"icon-timercircle",size:"auto"}):null;c=y.createElement("div",{className:this.timerModel.rootCss},o,y.createElement("div",{className:this.timerModel.textContainerCss},y.createElement("span",{className:this.timerModel.majorTextCss},this.timerModel.clockMajorText),this.timerModel.clockMinorText?y.createElement("span",{className:this.timerModel.minorTextCss},this.timerModel.clockMinorText):null))}return c},u}(x.ReactSurveyElement);T.ReactElementFactory.Instance.registerElement("sv-timerpanel",function(v){return y.createElement(E,v)})},"./src/react/row.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyRow",function(){return E});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/element-factory.tsx"),x=g("./src/react/reactsurveymodel.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.rootRef=y.createRef(),p.recalculateCss(),p}return u.prototype.recalculateCss=function(){this.row.visibleElements.map(function(c){return c.cssClasses})},u.prototype.getStateElement=function(){return this.row},Object.defineProperty(u.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"css",{get:function(){return this.props.css},enumerable:!1,configurable:!0}),u.prototype.canRender=function(){return!!this.row&&!!this.survey&&!!this.creator&&this.row.visible},u.prototype.renderElementContent=function(){var c=this,p=this.row.visibleElements.map(function(o,a){var d=c.createElement(o,a),h=o.cssClassesValue,f=function(){var l=o;l&&!l.isDisposed&&l.isQuestion&&l.focusIn()};return y.createElement("div",{className:h.questionWrapper,style:o.rootStyle,"data-key":d.key,key:d.key,onFocus:f},c.row.isNeedRender?d:T.ReactElementFactory.Instance.createElement(o.skeletonComponentName,{element:o,css:c.css}))});return y.createElement("div",{ref:this.rootRef,className:this.row.getRowCss()},p)},u.prototype.renderElement=function(){var c=this.survey,p=this.renderElementContent(),o=x.ReactSurveyElementsWrapper.wrapRow(c,p,this.row);return o||p},u.prototype.componentDidMount=function(){var c=this;v.prototype.componentDidMount.call(this);var p=this.rootRef.current;if(p&&!this.row.isNeedRender){var o=p;setTimeout(function(){c.row.startLazyRendering(o)},10)}},u.prototype.shouldComponentUpdate=function(c,p){return v.prototype.shouldComponentUpdate.call(this,c,p)?(c.row!==this.row&&(c.row.isNeedRender=this.row.isNeedRender,this.stopLazyRendering()),this.recalculateCss(),!0):!1},u.prototype.stopLazyRendering=function(){this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()},u.prototype.componentWillUnmount=function(){v.prototype.componentWillUnmount.call(this),this.stopLazyRendering()},u.prototype.createElement=function(c,p){var o=p?"-"+p:0,a=c.getType();return T.ReactElementFactory.Instance.isElementRegistered(a)||(a="question"),T.ReactElementFactory.Instance.createElement(a,{key:c.name+o,element:c,creator:this.creator,survey:this.survey,css:this.css})},u}(P.SurveyElementBase)},"./src/react/signaturepad.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionSignaturePad",function(){return E});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/components/svg-icon/svg-icon.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.state={value:p.question.value},p}return Object.defineProperty(u.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),u.prototype.renderElement=function(){var c=this,p=this.question.cssClasses,o=this.renderCleanButton();return y.createElement("div",{className:p.root,ref:function(a){return c.setControl(a)},style:{height:this.question.signatureHeight,width:this.question.signatureWidth}},y.createElement("div",{className:p.placeholder,style:{display:this.question.needShowPlaceholder()?"":"none"}},this.question.placeHolderText),y.createElement("div",null,y.createElement("canvas",{tabIndex:0})),o)},u.prototype.renderCleanButton=function(){var c=this;if(!this.question.canShowClearButton)return null;var p=this.question.cssClasses;return y.createElement("div",{className:p.controls},y.createElement("button",{type:"button",className:p.clearButton,title:this.question.clearButtonCaption,onClick:function(){return c.question.clearValue()}},this.question.cssClasses.clearButtonIconId?y.createElement(x.SvgIcon,{iconName:this.question.cssClasses.clearButtonIconId,size:"auto"}):y.createElement("span",null,"✖")))},u}(P.SurveyQuestionElementBase);T.ReactQuestionFactory.Instance.registerQuestion("signaturepad",function(v){return y.createElement(E,v)})},"./src/react/string-editor.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyLocStringEditor",function(){return E});var y=g("react"),P=g.n(y),T=g("survey-core"),x=g("./src/react/element-factory.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.onInput=function(o){p.locStr.text=o.target.innerText},p.onClick=function(o){o.preventDefault(),o.stopPropagation()},p.state={changed:0},p}return Object.defineProperty(u.prototype,"locStr",{get:function(){return this.props.locStr},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"style",{get:function(){return this.props.style},enumerable:!1,configurable:!0}),u.prototype.componentDidMount=function(){if(this.locStr){var c=this;this.locStr.onChanged=function(){c.setState({changed:c.state.changed+1})}}},u.prototype.componentWillUnmount=function(){this.locStr&&(this.locStr.onChanged=function(){})},u.prototype.render=function(){if(!this.locStr)return null;if(this.locStr.hasHtml){var c={__html:this.locStr.renderedHtml};return P.a.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,dangerouslySetInnerHTML:c,onBlur:this.onInput,onClick:this.onClick})}return P.a.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,onBlur:this.onInput,onClick:this.onClick},this.locStr.renderedHtml)},u}(P.a.Component);x.ReactElementFactory.Instance.registerElement(T.LocalizableString.editableRenderer,function(v){return P.a.createElement(E,v)})},"./src/react/string-viewer.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyLocStringViewer",function(){return E});var y=g("react"),P=g.n(y),T=g("survey-core"),x=g("./src/react/element-factory.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){var p=v.call(this,c)||this;return p.onChangedHandler=function(o,a){p.isRendering||p.setState({changed:p.state&&p.state.changed?p.state.changed+1:1})},p.rootRef=P.a.createRef(),p}return Object.defineProperty(u.prototype,"locStr",{get:function(){return this.props.locStr},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"style",{get:function(){return this.props.style},enumerable:!1,configurable:!0}),u.prototype.componentDidMount=function(){this.reactOnStrChanged()},u.prototype.componentWillUnmount=function(){this.locStr&&this.locStr.onStringChanged.remove(this.onChangedHandler)},u.prototype.componentDidUpdate=function(c,p){c.locStr&&c.locStr.onStringChanged.remove(this.onChangedHandler),this.reactOnStrChanged()},u.prototype.reactOnStrChanged=function(){this.locStr&&this.locStr.onStringChanged.add(this.onChangedHandler)},u.prototype.render=function(){if(!this.locStr)return null;this.isRendering=!0;var c=this.renderString();return this.isRendering=!1,c},u.prototype.renderString=function(){if(this.locStr.hasHtml){var c={__html:this.locStr.renderedHtml};return P.a.createElement("span",{ref:this.rootRef,className:"sv-string-viewer",style:this.style,dangerouslySetInnerHTML:c})}return P.a.createElement("span",{ref:this.rootRef,className:"sv-string-viewer",style:this.style},this.locStr.renderedHtml)},u}(P.a.Component);x.ReactElementFactory.Instance.registerElement(T.LocalizableString.defaultRenderer,function(v){return P.a.createElement(E,v)})},"./src/react/tagbox-filter.tsx":function(s,m,g){g.r(m),g.d(m,"TagboxFilterString",function(){return E});var y=g("react"),P=g("survey-core"),T=g("./src/react/reactquestion_factory.tsx"),x=g("./src/react/reactquestion_element.tsx"),C=function(){var v=function(u,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(p[a]=o[a])},v(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(u,c);function p(){this.constructor=u}u.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),E=function(v){C(u,v);function u(c){return v.call(this,c)||this}return Object.defineProperty(u.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),u.prototype.componentDidUpdate=function(c,p){v.prototype.componentDidUpdate.call(this,c,p),this.updateDomElement()},u.prototype.componentDidMount=function(){v.prototype.componentDidMount.call(this),this.updateDomElement()},u.prototype.updateDomElement=function(){if(this.inputElement){var c=this.inputElement,p=this.model.inputStringRendered;P.Helpers.isTwoValueEquals(p,c.value)||(c.value=this.model.inputStringRendered)}},u.prototype.onChange=function(c){var p=P.settings.environment.root;c.target===p.activeElement&&(this.model.inputStringRendered=c.target.value)},u.prototype.keyhandler=function(c){this.model.inputKeyHandler(c)},u.prototype.onBlur=function(c){this.model.onBlur(c)},u.prototype.onFocus=function(c){this.model.onFocus(c)},u.prototype.getStateElement=function(){return this.model},u.prototype.render=function(){var c=this;return y.createElement("div",{className:this.question.cssClasses.hint},this.model.showHintPrefix?y.createElement("div",{className:this.question.cssClasses.hintPrefix},y.createElement("span",null,this.model.hintStringPrefix)):null,y.createElement("div",{className:this.question.cssClasses.hintSuffixWrapper},this.model.showHintString?y.createElement("div",{className:this.question.cssClasses.hintSuffix},y.createElement("span",{style:{visibility:"hidden"},"data-bind":"text: model.filterString"},this.model.inputStringRendered),y.createElement("span",null,this.model.hintStringSuffix)):null,y.createElement("input",{type:"text",autoComplete:"off",id:this.question.getInputId(),inputMode:this.model.inputMode,ref:function(p){return c.inputElement=p},className:this.question.cssClasses.filterStringInput,disabled:this.question.isInputReadOnly,readOnly:this.model.searchEnabled?void 0:!0,size:this.model.inputStringRendered?void 0:1,role:this.model.filterStringEnabled?this.question.ariaRole:void 0,"aria-label":this.question.placeholder,"aria-expanded":this.question.ariaExpanded?"true":"false","aria-controls":this.model.listElementId,"aria-activedescendant":this.model.ariaActivedescendant,placeholder:this.model.filterStringPlaceholder,onKeyDown:function(p){c.keyhandler(p)},onChange:function(p){c.onChange(p)},onBlur:function(p){c.onBlur(p)},onFocus:function(p){c.onFocus(p)}})))},u}(x.SurveyElementBase);T.ReactQuestionFactory.Instance.registerQuestion("sv-tagbox-filter",function(v){return y.createElement(E,v)})},"./src/react/tagbox-item.tsx":function(s,m,g){g.r(m),g.d(m,"SurveyQuestionTagboxItem",function(){return C});var y=g("react"),P=g("./src/react/reactquestion_element.tsx"),T=g("./src/react/components/svg-icon/svg-icon.tsx"),x=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),C=function(E){x(v,E);function v(u){return E.call(this,u)||this}return v.prototype.getStateElement=function(){return this.item},Object.defineProperty(v.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),v.prototype.canRender=function(){return!!this.item&&!!this.question},v.prototype.renderElement=function(){var u=this,c=this.renderLocString(this.item.locText),p=function(o){u.question.dropdownListModel.deselectItem(u.item.value),o.stopPropagation()};return y.createElement("div",{className:"sv-tagbox__item"},y.createElement("div",{className:"sv-tagbox__item-text"},c),y.createElement("div",{className:this.question.cssClasses.cleanItemButton,onClick:p},y.createElement(T.SvgIcon,{className:this.question.cssClasses.cleanItemButtonSvg,iconName:this.question.cssClasses.cleanItemButtonIconId,size:"auto"})))},v}(P.ReactSurveyElement)},"./src/settings.ts":function(s,m,g){g.r(m),function(y){g.d(m,"settings",function(){return C});var P=y.document,T=P?{root:P,_rootElement:P.body,get rootElement(){var E;return(E=this._rootElement)!==null&&E!==void 0?E:P.body},set rootElement(E){this._rootElement=E},_popupMountContainer:P.body,get popupMountContainer(){var E;return(E=this._popupMountContainer)!==null&&E!==void 0?E:P.body},set popupMountContainer(E){this._popupMountContainer=E},svgMountContainer:P.head,stylesSheetsMountContainer:P.head}:void 0,x={file:{minWidth:"240px"},comment:{minWidth:"200px"}},C={enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1},expressionDisableConversionChar:"#",useLocalTimeZone:!0,get commentPrefix(){return C.commentSuffix},set commentPrefix(E){C.commentSuffix=E},commentSuffix:"-Comment",webserviceEncodeParameters:!0,useCachingForChoicesRestful:!0,get useCachingForChoicesRestfull(){return C.useCachingForChoicesRestful},set useCachingForChoicesRestfull(E){C.useCachingForChoicesRestful=E},surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey",itemValueSeparator:"|",itemValueAlwaysSerializeAsObject:!1,itemValueAlwaysSerializeText:!1,defaultLocaleName:"default",storeDuplicatedTranslations:!1,matrixDefaultRowName:"default",matrixDefaultCellType:"dropdown",matrixTotalValuePostFix:"-total",matrixMaximumRowCount:1e3,matrixMaxRowCountInCondition:1,panelDynamicMaxPanelCountInCondition:1,matrixRenderRemoveAsIcon:!0,panelMaximumPanelCount:100,ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,disableOnGettingChoicesFromWeb:!1,serializeLocalizableStringAsObject:!1,allowShowEmptyTitleInDesignMode:!0,allowShowEmptyDescriptionInDesignMode:!0,executeCompleteTriggerOnValueChanged:!1,changeNavigationButtonsOnCompleteTrigger:!0,executeSkipTriggerOnValueChanged:!0,readOnlyCommentRenderMode:"textarea",readOnlyTextRenderMode:"input",confirmActionFunc:function(E){return confirm(E)},minWidth:"300px",maxWidth:"100%",maximumConditionRunCountOnValueChanged:10,setQuestionVisibleIndexForHiddenTitle:!1,setQuestionVisibleIndexForHiddenNumber:!1,lazyRowsRendering:!1,lazyRowsRenderingStartRow:3,notifications:{lifetime:2e3},showItemsInOrder:"default",noneItemValue:"none",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:T,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},matrix:{columnWidthsByType:x,rateSize:"small"}}}.call(this,g("./node_modules/webpack/buildin/global.js"))},"./src/utils/responsivity-manager.ts":function(s,m,g){g.r(m),g.d(m,"ResponsivityManager",function(){return x}),g.d(m,"VerticalResponsivityManager",function(){return C});var y=g("./node_modules/timers-browserify/main.js"),P=g("./src/utils/utils.ts"),T=function(){var E=function(v,u){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(c[o]=p[o])},E(v,u)};return function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");E(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),x=function(){function E(v,u,c,p){var o=this;p===void 0&&(p=null),this.container=v,this.model=u,this.itemsSelector=c,this.dotsItemSize=p,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(a){a?o.isInitialized=!1:Object(y.setTimeout)(function(){o.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(a){return o.process()}),this.resizeObserver.observe(this.container.parentElement))}return E.prototype.getDimensions=function(v){return{scroll:v.scrollWidth,offset:v.offsetWidth}},E.prototype.getAvailableSpace=function(){var v=this.getComputedStyle(this.container),u=this.container.offsetWidth;return v.boxSizing==="border-box"&&(u-=parseFloat(v.paddingLeft)+parseFloat(v.paddingRight)),u},E.prototype.calcItemSize=function(v){return v.offsetWidth},E.prototype.calcMinDimension=function(v){var u=this.minDimensionConst;return v.iconSize&&this.recalcMinDimensionConst&&(u=2*v.iconSize+this.paddingSizeConst),v.canShrink?u+(v.needSeparator?this.separatorSize:0):v.maxDimension},E.prototype.calcItemsSizes=function(){var v=this,u=this.model.actions;this.container.querySelectorAll(this.itemsSelector).forEach(function(c,p){var o=u[p];v.calcActionDimensions(o,c)})},E.prototype.calcActionDimensions=function(v,u){v.maxDimension=this.calcItemSize(u),v.minDimension=this.calcMinDimension(v)},Object.defineProperty(E.prototype,"isContainerVisible",{get:function(){return Object(P.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),E.prototype.process=function(){var v;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0);var u=this.dotsItemSize;if(!this.dotsItemSize){var c=(v=this.container)===null||v===void 0?void 0:v.querySelector(".sv-dots");u=c&&this.calcItemSize(c)||this.dotsSizeConst}this.model.fit(this.getAvailableSpace(),u)}},E.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},E}(),C=function(E){T(v,E);function v(u,c,p,o,a){a===void 0&&(a=40);var d=E.call(this,u,c,p,o)||this;return d.minDimensionConst=a,d.recalcMinDimensionConst=!1,d}return v.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},v.prototype.getAvailableSpace=function(){var u=this.getComputedStyle(this.container),c=this.container.offsetHeight;return u.boxSizing==="border-box"&&(c-=parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)),c},v.prototype.calcItemSize=function(u){return u.offsetHeight},v.prototype.calcActionDimensions=function(u,c){u.maxDimension=this.calcItemSize(c),u.minDimension=this.calcItemSize(c)},v}(x)},"./src/utils/utils.ts":function(s,m,g){g.r(m),g.d(m,"unwrap",function(){return l}),g.d(m,"getSize",function(){return O}),g.d(m,"doKey2ClickBlur",function(){return A}),g.d(m,"doKey2ClickUp",function(){return w}),g.d(m,"doKey2ClickDown",function(){return S}),g.d(m,"sanitizeEditableContent",function(){return N}),g.d(m,"Logger",function(){return z}),g.d(m,"mergeValues",function(){return W}),g.d(m,"getElementWidth",function(){return M}),g.d(m,"isContainerVisible",function(){return L}),g.d(m,"classesToSelector",function(){return D}),g.d(m,"compareVersions",function(){return P}),g.d(m,"confirmAction",function(){return T}),g.d(m,"detectIEOrEdge",function(){return C}),g.d(m,"detectIEBrowser",function(){return x}),g.d(m,"loadFileFromBase64",function(){return E}),g.d(m,"isMobile",function(){return v}),g.d(m,"isShadowDOM",function(){return u}),g.d(m,"getElement",function(){return c}),g.d(m,"isElementVisible",function(){return p}),g.d(m,"findScrollableParent",function(){return o}),g.d(m,"scrollElementByChildId",function(){return a}),g.d(m,"navigateToUrl",function(){return d}),g.d(m,"createSvg",function(){return f}),g.d(m,"getIconNameFromProxy",function(){return h}),g.d(m,"increaseHeightByContent",function(){return R}),g.d(m,"getOriginalEvent",function(){return I}),g.d(m,"preventDefaults",function(){return b}),g.d(m,"findParentByClassNames",function(){return U});var y=g("./src/settings.ts");function P(Q,$){for(var Y=/(\.0+)+$/,q=Q.replace(Y,"").split("."),se=$.replace(Y,"").split("."),Z=Math.min(q.length,se.length),Oe=0;Oe<Z;Oe++){var ve=parseInt(q[Oe],10)-parseInt(se[Oe],10);if(ve)return ve}return q.length-se.length}function T(Q){return y.settings&&y.settings.confirmActionFunc?y.settings.confirmActionFunc(Q):confirm(Q)}function x(){if(typeof window>"u")return!1;var Q=window.navigator.userAgent,$=Q.indexOf("MSIE "),Y=Q.indexOf("Trident/");return $>-1||Y>-1}function C(){if(typeof window>"u")return!1;if(typeof C.isIEOrEdge>"u"){var Q=window.navigator.userAgent,$=Q.indexOf("MSIE "),Y=Q.indexOf("Trident/"),q=Q.indexOf("Edge/");C.isIEOrEdge=q>0||Y>0||$>0}return C.isIEOrEdge}function E(Q,$){try{for(var Y=atob(Q.split(",")[1]),q=Q.split(",")[0].split(":")[1].split(";")[0],se=new ArrayBuffer(Y.length),Z=new Uint8Array(se),Oe=0;Oe<Y.length;Oe++)Z[Oe]=Y.charCodeAt(Oe);var ve=new Blob([se],{type:q});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(ve,$)}catch{}}function v(){return typeof window<"u"&&typeof window.orientation<"u"}var u=function(Q){return!!Q&&!!("host"in Q&&Q.host)},c=function(Q){var $=y.settings.environment.root;return typeof Q=="string"?$.getElementById(Q):Q};function p(Q,$){if($===void 0&&($=0),typeof y.settings.environment>"u")return!1;var Y=y.settings.environment.root,q=u(Y)?Y.host.clientHeight:Y.documentElement.clientHeight,se=Q.getBoundingClientRect(),Z=Math.max(q,window.innerHeight),Oe=-$,ve=Z+$,Ce=se.top,me=se.bottom,ze=Math.max(Oe,Ce),Xe=Math.min(ve,me);return ze<=Xe}function o(Q){var $=y.settings.environment.root;return Q?Q.scrollHeight>Q.clientHeight&&(getComputedStyle(Q).overflowY==="scroll"||getComputedStyle(Q).overflowY==="auto")||Q.scrollWidth>Q.clientWidth&&(getComputedStyle(Q).overflowX==="scroll"||getComputedStyle(Q).overflowX==="auto")?Q:o(Q.parentElement):u($)?$.host:$.documentElement}function a(Q){var $=y.settings.environment;if($){var Y=$.root,q=Y.getElementById(Q);if(q){var se=o(q);se&&se.dispatchEvent(new CustomEvent("scroll"))}}}function d(Q){!Q||typeof window>"u"||!window.location||(window.location.href=Q)}function h(Q){if(!Q)return Q;var $=y.settings.customIcons[Q];return $||Q}function f(Q,$,Y,q,se,Z){if(se){Q!=="auto"&&(se.style.width=(Q||$||16)+"px",se.style.height=(Q||Y||16)+"px");var Oe=se.childNodes[0],ve=h(q);Oe.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+ve);var Ce=se.getElementsByTagName("title")[0];if(Z)Ce||(Ce=document.createElementNS("http://www.w3.org/2000/svg","title"),se.appendChild(Ce));else{Ce&&se.removeChild(Ce);return}Ce.textContent=Z}}function l(Q){return typeof Q!="function"?Q:Q()}function O(Q){if(typeof Q=="number")return""+Q+"px";if(Q&&typeof Q=="string"&&Q.length>0){var $=Q[Q.length-1];if($>="0"&&$<="9"||$==".")try{var Y=parseFloat(Q);return""+Y+"px"}catch{}}return Q}var V="sv-focused--by-key";function A(Q){var $=Q.target;!$||!$.classList||$.classList.remove(V)}function w(Q,$){if(!(Q.target&&Q.target.contentEditable==="true")){var Y=Q.target;if(Y){var q=Q.which||Q.keyCode;q===9?Y.classList&&!Y.classList.contains(V)&&Y.classList.add(V):q===13||q===32?Y.click&&Y.click():(!$||$.processEsc)&&q===27&&Y.blur&&Y.blur()}}}function S(Q,$){if($===void 0&&($={processEsc:!0}),!(Q.target&&Q.target.contentEditable==="true")){var Y=Q.which||Q.keyCode,q=[13,32];$.processEsc&&q.push(27),q.indexOf(Y)!==-1&&Q.preventDefault()}}function R(Q,$){if(Q){$||($=function(q){return window.getComputedStyle(q)});var Y=$(Q);Q.style.height="auto",Q.style.height=Q.scrollHeight+parseFloat(Y.borderTopWidth)+parseFloat(Y.borderBottomWidth)+"px"}}function I(Q){return Q.originalEvent||Q}function b(Q){Q.preventDefault(),Q.stopPropagation()}function D(Q){var $=/\s*?([\w-]+)\s*?/g;return Q.replace($,".$1")}function M(Q){return getComputedStyle?Number.parseFloat(getComputedStyle(Q).width):Q.offsetWidth}function L(Q){return!!(Q.offsetWidth||Q.offsetHeight||Q.getClientRects().length)}function U(Q,$){if(Q)return $.every(function(Y){return!Y||Q.classList.contains(Y)})?Q:U(Q.parentElement,$)}function N(Q){if(window.getSelection&&document.createRange&&Q.childNodes.length>0){var $=document.getSelection(),Y=$.getRangeAt(0);Y.setStart(Y.endContainer,Y.endOffset),Y.setEndAfter(Q.lastChild),$.removeAllRanges(),$.addRange(Y);var q=$.toString().replace(/\n/g,"").length;Q.innerText=Q.innerText.replace(/\n/g,""),Y=document.createRange(),Y.setStart(Q.childNodes[0],Q.innerText.length-q),Y.collapse(!0),$.removeAllRanges(),$.addRange(Y)}}function W(Q,$){if(!(!$||!Q)&&typeof $=="object")for(var Y in Q){var q=Q[Y];q&&typeof q=="object"?((!$[Y]||typeof $[Y]!="object")&&($[Y]={}),W(q,$[Y])):$[Y]=q}}var z=function(){function Q(){this._result=""}return Q.prototype.log=function($){this._result+="->"+$},Object.defineProperty(Q.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),Q}()},react:function(s,m){s.exports=n},"react-dom":function(s,m){s.exports=r},"survey-core":function(s,m){s.exports=i}})})})(Jx);var Oy=Jx.exports;const Q4={elements:[{type:"checkbox",name:"multiselect",title:"How are you feeling? Pick 3 options",isRequired:!0,colCount:3,itemComponent:"custom-choice-item",showOtherItem:!1,validators:[{type:"answercount",minCount:3,maxCount:3}],choices:["angry","wonderful","uptight","bored","inert","sad","excited","content","calm","cheerful","mad","fine","anxious","relaxed","defeated","hopeful","worried","depressed"],maxSelectedChoices:3}],showQuestionNumbers:!1};class W4 extends Oy.ReactSurveyElement{constructor(){super(...arguments);gv(this,"isChecked")}renderElement(){const n=this.props,r=n.question,i=n.item,s="item-label"+(r.isItemSelected(i)?" item-label--selected":""),m="item-text"+(r.isItemSelected(i)?" item-text--selected":""),g=y=>{r.clickItemHandler(i,y.currentTarget.checked)};return K.jsx("div",{role:"presentation",className:"item-root",children:K.jsxs("label",{className:s,children:[K.jsx("input",{role:"option",className:"item-input",id:r.getItemId(i),type:"checkbox",name:r.questionName,checked:this.isChecked,value:i.value,onChange:g}),K.jsx("span",{className:"item-image"}),K.jsx("span",{className:m,children:i.text})]})})}}Oy.ReactElementFactory.Instance.registerElement("custom-choice-item",t=>ei.createElement(W4,t));function z4(){const[t,e]=X.useState(!1),n=ns(),r=new U4.Model(Q4);return r.onComplete.add(i=>{console.log(JSON.stringify(i.data,null,3)),e(!0)}),t?K.jsxs(K.Fragment,{children:[K.jsx("h1",{children:"Do you want to go through Let's Feel Better?"}),K.jsx("button",{onClick:()=>n("/feelbetter"),children:"Yes"}),K.jsx("button",{onClick:()=>n("/home"),children:"No, return to home"})]}):K.jsx(Oy.Survey,{model:r})}const H4=k.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  background: #ffffff;
  box-shadow: 20px 25px 35px rgba(0, 0, 0, 0.2);
  border-radius: 20px;
  padding: 50px 100px;
  width: 807px;
  height: 298px;
  margin: 0 auto;
  gap: 20px;
`,$4=k.div`
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 45px;
  color: #797bec;
`,K4=k.button`
  background: rgba(179, 180, 239, 0.27);
  border-radius: 50px;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 30px;
  color: #797bec;
  border: transparent;
  padding: 5px 25px;
`,q4=k.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
`,G4=k.button`
  background: rgba(179, 180, 239, 0.27);
  border-radius: 50px;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  color: #797bec;
  border: transparent;
  padding: 3px 15px;
  width: 100px;
  text-align: center;
  margin: 0 auto;
`,J4=k.span`
  position: relative;
  top: -200px;
  right: 210px;
  color: #ffffff;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 64px;
`;function Y4(){const t=ii();X.useEffect(()=>{t($i("bgQuiz"))},[t]);const e=[{questionText:"Rate your physical effort today?",answerOptions:[{answerText:"Low",worth:1},{answerText:"Average",worth:2},{answerText:"High",worth:3}]},{questionText:"Do you feel hungry?",answerOptions:[{answerText:"Yes",worth:1},{answerText:"No",worth:2}]},{questionText:"Does your job require you to spend more than 6 hours in a sitting position?",answerOptions:[{answerText:"Yes",worth:1},{answerText:"No",worth:2}]},{questionText:"How many cups of coffee have you drunk today?",answerOptions:[{answerText:"0 cups",worth:1},{answerText:"1-2 cups",worth:2},{answerText:"3-4 cups",worth:3},{answerText:"5-6 cups",worth:4}]},{questionText:"How many liters of water have you drunk today?",answerOptions:[{answerText:"Less than 8 cups",worth:1},{answerText:"8 cups (1.7 liters)",worth:2},{answerText:"12 cups (2.7 Liters)",worth:3},{answerText:"16 cups (3.7 Liters)",worth:4}]},{questionText:"How many hours of sleep did you get today?",answerOptions:[{answerText:"4 hours or less",worth:1},{answerText:"Between 4 and 8 hours",worth:2},{answerText:"More than 8 hours",worth:3}]},{questionText:"Do you use stimulants (smoking, drinking alcohol)?",answerOptions:[{answerText:"Yes",worth:1},{answerText:"No",worth:2}]},{questionText:"Finished",answerOptions:[{answerText:"Next",worth:0}]}],[n,r]=X.useState(0),[i,s]=X.useState(!1),[m,g]=X.useState(0),[y,P]=X.useState(0),[T,x]=X.useState(0),[C,E]=X.useState(0),[v,u]=X.useState(0),[c,p]=X.useState(0),[o,a]=X.useState(0),[d,h]=X.useState(0),f=()=>{switch(n){default:break;case 0:break;case 1:g(m-y),r(n-1),console.log(m);break;case 2:g(m-T),r(n-1),console.log(m);break;case 3:g(m-C),r(n-1),console.log(m);break;case 4:g(m-v),r(n-1),console.log(m);break;case 5:g(m-c),r(n-1),console.log(m);break;case 6:g(m-o),r(n-1),console.log(m);break;case 7:g(m-d),r(n-1),console.log(m);break}},l=O=>{switch(n){default:break;case 0:P(O);break;case 1:x(O);break;case 2:E(O);break;case 3:u(O);break;case 4:p(O);break;case 5:a(O);break;case 6:h(O);break;case 7:const A=y+T+C+v+c+o+d;g(A),console.log(A),console.log(y+" q0"),console.log(T+" q1"),console.log(C+" q2"),console.log(v+" q3"),console.log(c+" q4"),console.log(o+" q5"),console.log(d+" q6");break}const V=n+1;V<e.length?r(V):s(!0)};return K.jsx(K.Fragment,{children:i?K.jsx(z4,{}):K.jsxs(H4,{className:"app",children:[K.jsxs("div",{className:"question-section",children:[K.jsx(J4,{children:"How are you feeling today?"}),K.jsx($4,{className:"question-text",children:e[n].questionText})]}),K.jsx(q4,{className:"answer-section",children:e[n].answerOptions.map((O,V)=>K.jsx(K4,{onClick:()=>l(O.worth),children:O.answerText},V))}),K.jsx(G4,{onClick:f,children:"Back"})]})})}const X4="/assets/logo-white-e61e871d.png",k4=k.div`
  height: 100vh;
  width: 100vw;
  background: linear-gradient(
    150.25deg,
    #f6c59c 5.67%,
    #e3b4ab 33.27%,
    #b3b4ef 73.04%
  );
  background: url(/src/assets/vectorXd.png) 100% 100% / cover no-repeat;
  display: flex;
  justify-content: center;
  align-items: center;
`,Z4=k.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,_4=k.div`
  max-width: 30%;
  display: flex;
  flex-direction: column;
  margin-left: 80px;
`,eQ=k.div`
  max-width: 45%;
  display: flex;
  flex-direction: column;
  margin-right: 220px;
`,tQ=k.img`
  max-width: 480px;
`,nQ=k.p`
  text-align: left;
  color: white;
  font-weight: 400;
  font-size: 22px;
  line-height: 30px;
`,rQ=k.p`
  font-weight: 600;
  font-size: 54px;
  color: white;
  text-align: left;
  margin-bottom: 0;
`,TP=k.input`
  margin-bottom: 12px;
  border: none;
  border-radius: 10px;
  padding: 16px;
  &::placeholder {
    color: hsla(239, 65%, 82%, 1);
    font-weight: 400;
    font-size: 16px;
  }
`,iQ=k.textarea`
max-width: 400px;
max-height: 180px;
min-width: 360px;
min-height: 160px;
border: none;
border-radius: 10px;
padding: 16px;
margin-bottom: 24px;

&::placeholder{
font-family: 'Outfit';
color: hsla(239, 65%, 82%, 1);
font-weight: 300;
font-size: 16px;
`,oQ=k.button`
  background-color: #797bec;
  border: none;
  color: white;
  border-radius: 24px;
  padding: 14px;
  font-size: 20px;
  font-weight: 600;
  &:hover {
    background-color: #7072d8;
  }
`,sQ=k.hr`
  border: solid 5px white;
  width: 135px;
  margin: -8px 0 75px 0;
`;function aQ(){return K.jsx(k4,{children:K.jsxs(Z4,{children:[K.jsxs(_4,{children:[K.jsx(tQ,{src:X4}),K.jsx(nQ,{children:"was created by a group of beginner programmers: Ania, Marietta, Nikoletta, Sylwia, Bartek and Dawid"})]}),K.jsxs(eQ,{children:[K.jsx(rQ,{children:"Get in touch"}),K.jsx(sQ,{}),K.jsx(TP,{placeholder:"Name"}),K.jsx(TP,{placeholder:"Email"}),K.jsx(iQ,{placeholder:"Tell us more about your feelings and observations and what we can do to improve Calmly"}),K.jsx(oQ,{children:"SUBMIT"})]})]})})}const Sy=j0({name:"authUser",initialState:{fullName:null,uid:null},reducers:{updateAuthStateChanged:(t,e)=>{const{fullName:n,id:r}=e.payload;t.fullName=n,t.uid=r,console.log(t.fullName)},signOut:t=>{t.fullName=null,t.uid=null,console.log(t.fullName)}}}),{updateAuthStateChanged:lQ,signOut:uQ}=Sy.actions;console.log(Sy);const cQ=Sy.reducer,fQ=k.p`
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 36px;
  line-height: 45px;
  text-align: center;
  margin-top: 90px;
  color: #797bec;
`,dQ=k.p`
  font-family: "Outfit";
  font-style: normal;
  font-weight: 300;
  font-size: 18px;
  line-height: 23px;
  text-align: center;
  color: #797bec;
`,hQ=k.form`
  font-family: "Outfit";
  display: flex;
  flex-direction: column;
  margin-top: 50px;
`,pQ=k.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,gQ=k.input`
  height: 50px;

  background: #ffffff;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
  border-radius: 12px;
  border: 0;

  color: #797bec;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-size: 20px;

  ::placeholder {
    color: #797bec;
    font-family: "Outfit";
    font-style: normal;
    font-weight: 400;
    font-size: 20px;
    line-height: 25px;
    padding-left: 10px;
  }
`,mQ=k.button`
  cursor: pointer;
  width: 299px;
  height: 67px;
  background: #e3b4ab;
  border-radius: 50px;
  border: 0;
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-size: 25px;
  margin: 50px auto 0 auto;
  text-align: center;
  text-transform: uppercase;
  color: #ffffff;
`,yQ=()=>{const t=e=>{e.preventDefault();const n=e.target,r=n.email.value;wj(Ol,r).then(()=>{n.reset(),console.log("udalo sie!!!!!!!!")}).catch(i=>{console.dir(i),alert(by[i.code])})};return K.jsxs(K.Fragment,{children:[K.jsx(fQ,{children:"Forgotten password?"}),K.jsx(dQ,{children:"We will send you a password reset link to your e-mail address"}),K.jsxs(hQ,{onSubmit:t,children:[K.jsx(pQ,{children:K.jsx(gQ,{type:"email",name:"email",id:"email",placeholder:"Email"})}),K.jsx(mQ,{children:"Send"})]})]})},vQ=k.div`
  font-family: "Outfit";
  display: flex;
  justify-content: center;
`,CQ=k.div`
  max-width: 301px;
  height: 688px;
  margin: 15px;
  padding: 0px 60px;
  background: rgba(255, 255, 255, 0.6);
  box-shadow: 15px 25px 25px rgba(0, 0, 0, 0.2);
  border-radius: 30px;
`,EQ=k.div`
  display: flex;
  justify-content: flex-end;
  gap: 20px;
  margin-top: 120px;
`,PQ=k.p`
  font-style: normal;
  font-weight: 400;
  font-size: 16px;
  color: #797bec;
  margin: 0;
`,bQ=k(Yg)`
color: #797BEC;
text-decoration: none;
font-family: 'Outfit';
font-style: normal;
font-weight: 700;
font-size: 16px;

&:hover,
&:focus{
   color: blue; 
}
&:active{
   color: blue; 
`,OQ=()=>K.jsxs(vQ,{children:[K.jsxs(CQ,{children:[K.jsx(yQ,{}),K.jsxs(EQ,{children:[K.jsx(PQ,{children:"Do not have an account?"}),K.jsx(bQ,{to:"/register",children:"Sign up"})]})]}),K.jsx(qx,{})]});function SQ(){const t=lV(m=>m),e=ii(),[n,r]=X.useState(!0),i=ns(),s=BM`
  body {
    background: ${({bg:m})=>m==="bgDefault"?"linear-gradient(141.59deg, #f6c59c 11.57%, #e3b4ab 53.27%, #b3b4ef 123.37%);":m==="bgHome"?"linear-gradient(153.92deg, #F6C59C 9.05%, #E3B4AB 37.88%, #B3B4EF 79.44%)":m==="bgQuiz"?"linear-gradient(180deg, #B3B4EF 5.3%, #797BEC 106.76%);":m==="bgCircle"?`radial-gradient(
          circle,
          rgba(246, 197, 156, 1) 0%,
          rgba(227, 180, 171, 1) 45%,
          rgba(179, 180, 239, 1) 100%
        )`:"white"};
        ${({bg:m})=>m==="bgCircle"&&"animation: anim 8s 14 0.1s alternate backwards;animation-play-state: paused;"}
        ${({animation:m})=>m?"animation-play-state: running;":"animation-play-state: paused;"}

        
  
  }
`;return console.log(t.bg.text),X.useEffect(()=>{Bj(Ol,m=>{if(m){const g=m.uid,y=Mx(Kx,`users/${g}`);Z3(y).then(P=>{const T=P.data();console.log(T),e(lQ(T)),i("/home"),r(!1)}).catch(P=>console.error(P))}else e(uQ()),i("/"),r(!1)})},[]),K.jsxs(K.Fragment,{children:[K.jsx(s,{bg:t.bg.text,animation:t.bg.breathingAnimation}),n?K.jsx(F0,{}):K.jsxs(Rw,{children:[K.jsx(Jn,{path:"/home",element:K.jsx(r4,{})}),K.jsx(Jn,{path:"/register",element:K.jsx(E4,{})}),K.jsx(Jn,{path:"/login",element:K.jsx(F4,{})}),K.jsx(Jn,{path:"/forgotPassword",element:K.jsx(OQ,{})}),K.jsx(Jn,{path:"/quiz",element:K.jsx(Y4,{})}),K.jsx(Jn,{path:"/feelbetter",element:K.jsx(YA,{})}),K.jsx(Jn,{path:"/",element:K.jsx(nL,{})}),K.jsx(Jn,{path:"/about",element:K.jsx(aQ,{})})]})]})}const TQ=M0({bg:iA,authUser:cQ}),xQ=GV({reducer:TQ});yh.createRoot(document.getElementById("root")).render(K.jsx(ei.StrictMode,{children:K.jsx(hV,{store:xQ,children:K.jsx(Aw,{children:K.jsx(SQ,{})})})}));
